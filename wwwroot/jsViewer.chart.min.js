(()=>{var t={91522:function(t,e){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){"use strict";var t,e,n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],l=0,a=r.length;l<a;l++,o++)i[o]=r[l];return i},i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,l=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(l=(r<3?o(l):r>3?o(e,n,l):o(e,n))||l);return r>3&&l&&Object.defineProperty(e,n,l),l};return function(t){var e=function(){function t(){}return t.Precision=.01,t.LabelPadding=2,t.TooltipThreshold=15,t.BarLineStroke="#000000",t.MiterSize=4,t.MajorTick=4,t.MinorTick=2,t.LogBase=10,t.AxisOrigin=0,t.BarWidth=.7,t.TextOffset=0,t.ViewSize=1,t.AnimationStay=200,t.SymbolValue=15,t.NeedleEndOffset=10,t.AnimationDuration=200,t.AnimationStartDelay=0,t.AnimationEndDelay=0,t.Padding=0,t.Margin=0,t.StrokeWidth=0,t.DataPointTextScope="DataPoint",t.ClusterTextScope="Cluster",t.ZoomInAcceleratedSpeed=1.1,t.ZoomOutAcceleratedSpeed=.9,t.AxisMaxWidthOrHeight=.75,t.AxisSetValueMaxWidthOrHeight=.5,t.MaxMajorTickCount=1e3,t.MaxMinorTickCount=2e3,t}();t._Constants=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isBoolean=function(t){return"boolean"==typeof t},e._isDate=function(t){return t instanceof Date&&!isNaN(t.getTime())},e._isNumber=function(t){return"number"==typeof t},e._isString=function(t){return"string"==typeof t},e._toNumber=function(n,i){if(void 0===i&&(i=!1),null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.NumberRequired,n);if(i&&n<0)throw new t.RuntimeError(t.ErrorCode.PositiveNumberExpected);return n},e._toNumberOrNull=function(t,n){return void 0===n&&(n=!1),null==t?null:e._toNumber(t,n)},e._toString=function(e,n){if(void 0===n&&(n=!0),"string"==typeof e)return e;if(n&&null==e)return null;throw new t.RuntimeError(t.ErrorCode.StringRequired,e)},e._toDate=function(n,i){if(void 0===i&&(i=!1),e._isDate(n))return n;if(i&&null==n)return null;throw new t.RuntimeError(t.ErrorCode.DateRequired,n)},e._toEnumValueOrNull=function(t,e){if("string"==typeof t){var n=e[t];if(null!=n)return n}else if("number"==typeof t&&null!=e[t])return t;return null},e._enumValueToString=function(t,e){return e[t]},e._enumValueToEnum=function(t,e){return null!=e[t]?t:null},e._and=function(t,e){return!!t&&!!e},e._or=function(t,e){return!!t||!!e},e._equal=function(t,e){return t instanceof Date&&e instanceof Date?t.valueOf()==e.valueOf():t==e},e._notEqual=function(t,e){return!this._equal(t,e)},e._greaterThan=function(t,e){return t>e},e._greaterThanOrEqual=function(t,e){return t>=e},e._lessThan=function(t,e){return t<e},e._lessThanOrEqual=function(t,e){return t<=e},e._add=function(t,e){return t+e},e._subtract=function(t,e){return t-e},e._multiply=function(t,e){return t*e},e._divide=function(t,e){return t/e},e._modulo=function(t,e){return t%e},e._not=function(t){return!t},e._negative=function(t){return-t},e._positive=function(t){return+t},e}();t._AnyTypeUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._assignValueToArray=function(e,n,i,o){var r=e.length;if(n<0)throw new t.RuntimeError(t.ErrorCode.UnexpectedNegativeValue,n);if(n>=r){for(var l=r;l<n;l++)e.push(o);e.push(i)}else e[n]=i},e.defaultArrayUtil=new e,e}();t._ArrayUtility=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){this.__callbacks=[],this.__loadingResources=[]}return Object.defineProperty(t.prototype,"completed",{get:function(){return this.__loadingResources.length<=0},enumerable:!0,configurable:!0}),t.prototype.load=function(t){var e=this;if(!t._isCompleted()){this.__loadingResources.push(t);var n=this;t._load((function(t){var i=e.__loadingResources.indexOf(t);if(i>=0&&e.__loadingResources.splice(i,1),e.__loadingResources.length<=0){for(var o=0,r=e.__callbacks;o<r.length;o++)(0,r[o])(n);e.__callbacks=[]}}))}},t.prototype.wait=function(t){this.__loadingResources.length<=0?t(this):this.__callbacks.push(t)},t}();t._AsyncResourcePool=e}(t||(t={})),t||(t={}),function(t){!function(t){t[t.NotLoad=0]="NotLoad",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded"}(t.AsyncResourceState||(t.AsyncResourceState={}))}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._paths=this._splitPath(t)}return e.prototype._getValueFromPath=function(e,n){if(null==e)return this._getValueFromUnsupportedPath(e,n);if("object"==typeof e){if(Array.isArray(e)){if("length"==n)return t._NativeExtension.getPropertyValue(e,n);n.length>2&&"["==n[0]&&"]"==n[n.length-1]&&(n=n.substring(1,n.length-1));var i=parseInt(n,10);if(isNaN(i))return this._getValueFromUnsupportedPath(e,n);var o=e;return 0<=i&&i<o.length?o[i]:null}return t._NativeExtension.hasProperty(e,n,!0)?t._NativeExtension.getPropertyValue(e,n):this._getValueFromUnsupportedPath(e,n)}return this._getValueFromUnsupportedPath(e,n)},e.prototype._createUnknownPropertyObject=function(t,e){return null},e.prototype._setUnknownPropertyValue=function(e,n,i){t._NativeExtension.setPropertyValue(e,n,i)},e.prototype._getValue=function(t){if(this._paths.length>0)for(var e=0,n=this._paths.length;e<n;e++){var i=this._paths[e];t=this._getValueFromPath(t,i)}return this._convert(t)},e.prototype._setValue=function(e,n){if(this._paths.length>0)for(var i=0,o=this._paths.length-1;i<o;i++){var r=this._paths[i];if("object"==typeof e){if(Array.isArray(e)){r.length>2&&"["==r[0]&&"]"==r[r.length-1]&&(r=r.substring(1,r.length-1));var l=parseInt(r,10);if(isNaN(l)){if(null==(e=this._createUnknownPropertyObject(e,r)))return}else e=e[l]}else if(t._NativeExtension.hasProperty(e,r,!0))e=this._getValueFromPath(e,r);else if(null==(e=this._createUnknownPropertyObject(e,r)))return}else if(null==(e=this._createUnknownPropertyObject(e,r)))return}"object"==typeof e&&(r=this._paths[this._paths.length-1],t._NativeExtension.hasProperty(e,r,!0)?t._NativeExtension.setPropertyValue(e,r,n):this._setUnknownPropertyValue(e,r,n))},e}();t._Binding=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.isIE=function(){return window.navigator.userAgent.indexOf("MSIE ")>0||window.navigator.userAgent.indexOf("Trident/")>0||"Microsoft Internet Explorer"==navigator.appName},t.isEdge=function(){return"Netscape"==navigator.appName&&navigator.appVersion.indexOf("Edge")>-1},t.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},t.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},t}();t._BrowserUtility=e}(t||(t={})),function(t){var e=function(){function t(t){this.__comparer=t}return t.prototype._equalsWith=function(t,e){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(!this.__comparer._equalsWith(t[n],e[n]))return!1;return!0},t}();t._ArrayEqualityComparerWithComparer=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(!t[n].equalsWith(e[n]))return!1;return!0},t}();t._NullableArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equalsWith(e)},t}();t._NullableObjectEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return"number"==typeof t&&"number"==typeof e?!(!isNaN(t)||!isNaN(e))||t===e:null==t&&null==e},t._numberTypeEqualityComparer=new t,t}();t._NumberTypeEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return"string"==typeof t&&"string"==typeof e?t===e:null==t&&null==e},t._defaultStringEqualityComparer=new t,t}();t._StringEqualityComparer=e}(t||(t={})),function(t){var e=function(t,e,n,i){this._decimals=t,this._symbol=e,this._pattern=n,this._groupSizes=i},n=function(t,e,n,i,o){this._currency=t,this._decimals=e,this._symbol=n,this._pattern=i,this._groupSizes=o},i=function(t,e,n){this._decimals=t,this._negativePattern=e,this._groupSizes=n},o=function(t,e,n,i,o,r,l,a){this._percent=t,this._currency=e,this._decimalSeparator=n,this._groupSeparator=i,this._positiveSign=o,this._negativeSign=r,this._permilleSymbol=l,this._number=a},r=function(t,e,n,i,o,r,l,a,s,u,_,p){this._firstDay=t,this._days=e,this._daysAbbr=n,this._months=i,this._monthsAbbr=o,this._am=r,this._pm=l,this._eras=a,this._patterns=s,this._twoDigitYearMax=u,this._dateSeparator=_,this._timeSeparator=p},l=function(){function t(t,e,n){this._name=t,this._numberFormat=e,this._calendar=n}return t._currentCulture=function(){return t._usCulture()},t._usCulture=function(){return null==this.__usCulture&&(this.__usCulture=new t("en-US",new o(new e(2,"%",["-n %","n %"],[3]),new n("USD",2,"$",["($n)","$n"],[3]),".",",","+","-","‰",new i(2,["(n)","-n","- n","n-","n -"],[3])),new r(0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["January","February","March","April","May","June","July","August","September","October","November","December"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["AM","A"],["PM","P"],["A.D.","B.C."],{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},null,"/",":"))),this.__usCulture},t}();t._CultureInfo=l}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._parseStringValue=function(t){var e=t.split("T");if(2!==e.length)return null;var n=e[1];if(3!==(e=e[0].split("-")).length)return null;var i=e[0],o=e[1],r=e[2];return null!=i.match(/[\d]{4}|[\+\-]\d{6}/)&&null!=o.match(/0\d|1[0-2]/)&&null!=r.match(/[0-2]\d|3[0-1]/)&&null!=n.match(/[0-1]\d:[0-5][0-9]:[0-5][0-9]\.[\d]{3}Z|2[0-4]:[0-5][0-9]:[0-5][0-9]\.[\d]{3}Z/)?new Date(t):null},t.prototype.parse=function(t,e){return"o"===e||"O"===e?this._parseStringValue(t):null},t}();t.ISO8601DateParser=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._parseStringValue=function(t){var e=t.match(/\b[a-zA-Z]+,\s([0-9]{2})\s([a-zA-Z]+)\s([0-9]{4})\s([0-9]{2}):([0-9]{2}):([0-9]{2})\sGMT\b/);return null!=e&&7==e.length?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(e[2])<0?null:new Date(Date.parse(t)):null},t.prototype.parse=function(t,e){return"r"===e||"R"===e?this._parseStringValue(t):null},t}();t.RFC1123DateParser=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._parseStringValue=function(t){var e=t.match(/\b([0-9]{4})-([0-9]{2})-([0-9]{2})\s([0-9]{2}):([0-9]{2}):([0-9]{2})Z\b/i);return null!=e&&7==e.length?new Date(Date.parse(t)):null},t.prototype.parse=function(t,e){return"u"===e?this._parseStringValue(t):null},t}();t.UniversalDateParser=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.__isNegative=t,this.__place=e,this.__num=n.slice()}return t._from=function(e){var n=!1,i=0,o=[];(e<0||0==e&&1/e<0)&&(n=!0,e=-e);var r=e.toExponential(17);i=1;var l=r.split("e");i+=parseInt(l[1]),r=l[0];for(var a=0;a<r.length;++a)"."!=r[a]&&o.push(r.charCodeAt(a)-48);for(var s=o.length-1;s>=0&&0==o[s];)o.pop(),s--;for(;0!=o.length&&0==o[0];)o.shift(),i--;0==o.length&&(o.push(0),i=1);var u=new t(n,i,o);return u.__place=0,u._round(17),u.__place+=i,u},t.prototype._toExponential=function(t,e,n,i,o,r){var l=this._clone(),a=l.__place-1;l.__place=1,l._round(t),2==l.__place&&(l.__place=1,l.__num.pop(),a++);var s="";if(l.__isNegative&&(s+=o),s+=l.__num[0].toString(),0!=t){s+=r;for(var u=1;u<l.__num.length;++u)s+=l.__num[u].toString();l.__num.length<=t&&(s+="0".repeat(t-l.__num.length+1))}s+=a<0?n:n+i;var _=a.toString(),p=!1;return"-"==_[0]&&(p=!0,_=_.substr(1)),(s+=p?o:"")+(_.length>=e?_:"0".repeat(e-_.length)+_)},t.prototype._toGeneral=function(t,e,n,i,o){var r=this._clone();if(r.__place=0,r._round(t),r.__place+=this.__place,r._removeTrailingZero(),r._isZero())return r._zero(0,i,o);var l=r._toExponential(t,2,"E",n,i,o),a=parseFloat(l.split("E")[1]);if(a>-5&&a<t)return r._toString(i,o);for(var s=l.split("E"),u=s[0],_=u.length-1;_>=0&&("0"==u[_]||"."==u[_]);)u=u.substr(0,u.length-1),_--;return u+("G"==e?"E":"e")+s[1]},t.prototype._toPercent=function(t,e,n,i,o){var r=this._clone();return r._isZero()?r._zero(t,n,i):(r.__place+=2,r._round(t),r._isZero()?r._zero(t,n,i):r._toGroup(t,e,n,i,o))},t.prototype._toGroup=function(t,e,n,i,o){var r=this._toFixed(t,n,i).split(i),l=r[0],a=!1;l[0]==n&&(l=l.substr(1),a=!0);for(var s=[],u=0,_=e;u<_.length;u++){var p=_[u];if(!((c=l.length-p)>=0)){0!=l.length&&(s.unshift(l),l="");break}s.unshift(l.substr(c,p)),l=l.substr(0,c)}if(0!=l.length)for(p=e[e.length-1];0!=l.length;){var c;(c=l.length-p)<0&&(c=0),s.unshift(l.substr(c,p)),l=l.substr(0,c)}return 1==r.length?(a?n:"")+s.join(o):(a?n:"")+s.join(o)+i+r[1]},t.prototype._toFixed=function(t,e,n){var i=this._clone();if(i._round(t),i._isZero())return i._zero(t,e,n);var o=i.__isNegative?e:"";if(i.__place<=0){o+="0"+n+"0".repeat(-i.__place);for(var r=0;r<i.__num.length;++r)o+=i.__num[r].toString();return-i.__place+i.__num.length<t&&(o+="0".repeat(t+i.__place-i.__num.length)),o}if(i.__place<i.__num.length){for(r=0;r<i.__place;++r)o+=i.__num[r].toString();for(o+=n,r=i.__place;r<i.__num.length;++r)o+=i.__num[r].toString();return i.__num.length-i.__place<t&&(o+="0".repeat(t-(i.__num.length-i.__place))),o}for(r=0;r<i.__num.length;++r)o+=i.__num[r].toString();return o+="0".repeat(i.__place-i.__num.length),t>0&&(o+=n+"0".repeat(t)),o},t.prototype._toNumber=function(t){return void 0===t&&(t=15),parseFloat(this._toFixed(t,"-","."))},t.prototype._toString=function(t,e){var n=this.__isNegative?t:"";if(this.__place<=0)if(this._isZero())n+="0";else{n+="0"+e+"0".repeat(-this.__place);for(var i=0,o=this.__num;i<o.length;i++)n+=o[i]}else if(this.__place<this.__num.length){for(var r=0;r<this.__place;++r)n+=this.__num[r];for(n+=e,r=this.__place;r<this.__num.length;++r)n+=this.__num[r]}else{for(r=0;r<this.__num.length;++r)n+=this.__num[r];this.__place!=this.__num.length&&(n+="0".repeat(this.__place-this.__num.length))}return n},t.prototype._round=function(t){var e=this.__place+t;if(e<0)this.__num=[0],this.__place=1-t;else if(0==e)this.__num[e]>=5?(this.__num=[1],this.__place++):this.__num=[0];else if(e<this.__num.length){this.__num[e]>=5&&(this.__num[e-1]+=1),this.__num=this.__num.slice(0,e);for(var n=e-1;n>=0&&10==this.__num[n];--n)this.__num[n]=0,n-1>=0?this.__num[n-1]+=1:(this.__num.unshift(1),this.__place++)}},t.prototype._clone=function(){return new t(this.__isNegative,this.__place,this.__num)},t.prototype._removeTrailingZero=function(){for(var t=this.__num.length-1;t>=0&&0==this.__num[t];)this.__num.pop(),t--;0==this.__num.length&&(this.__num.push(0),this.__place=1)},t.prototype._isZero=function(){return 0==parseInt(this.__num.join(""))},t.prototype._zero=function(t,e,n){var i=this.__isNegative?e:"";return 0==t?i+"0":i+"0"+n+"0".repeat(t)},t}();t._Decimal=e}(t||(t={})),function(t){var e=function(){function e(){}return e._format=function(t,n,i,o){return void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!1),e._formatDate(t,null==n?"d":n)},e._formatNumber=function(n,i,o,r){t._AnyTypeUtility._toNumber(n),t._AnyTypeUtility._toString(i,!0);var l=null!=i&&""!=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,a=t._CultureInfo._currentCulture()._numberFormat,s=null!=l?l[1].toLowerCase():"n",u=null!=l&&null!=l[2]&&""!=l[2]?parseInt(l[2],10):"c"==s?a._currency._decimals:n==Math.round(n)?0:2,_=null!=l&&null!=l[3]&&""!=l[3]?3*l[3].length:0,p=null!=l&&null!=l[4]&&""!=l[4]?l[4]:a._currency._symbol,c=a._decimalSeparator,h=a._groupSeparator;if(0!=_&&(n/=Math.pow(10,_)),"d"==s||"x"==s){for(var f=Math.round(Math.abs(n)).toString("d"==s?10:16);f.length<u;)f="0"+f;return n<0&&(f="-"+f),null!=i&&""!=i&&"X"==i[0]&&(f=f.toUpperCase()),f}"p"==s&&(n=e._mul100(n)),r&&(n=t._Utility._toFixed(n,u,!0));var d="c"==s||"p"==s?Math.abs(n).toFixed(u):n.toFixed(u);if((o||"g"==s)&&d.indexOf(".")>-1&&(d=(d=d.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=c&&(d=d.replace(".",c)),null!=h&&""!=h&&("n"==s||"c"==s||"p"==s)){var y=d.indexOf(c),g=/\B(?=(\d\d\d)+(?!\d))/g;d=y>-1?d.substr(0,y).replace(g,h)+d.substr(y):d.replace(g,h)}return"c"==s&&(d=a._currency._pattern[n<0?0:1].replace("n",d).replace("$",p)),"p"==s&&(d=a._percent._pattern[n<0?0:1].replace("n",d)),d},e._formatDate=function(t,n){if("r"==n||"R"==n)return t.toUTCString();if("u"==n)return t.toISOString().replace(/\.\d{3}/,"");n=e._expandFormat(n);for(var i=e._parseDateFormat(n),o="",r=0;r<i.length;r++)o+=e._formatDatePart(t,n,i[r]);return o},e._parseDate=function(n,i){if(null==(n=t._AnyTypeUtility._toString(n,!0))||""==n)return null;var o;if("u"==i)return(new t.UniversalDateParser).parse(n,i);if("R"==i||"r"==i){var r=n.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return null!=r[1]&&""!=r[1]||null!=r[5]&&""!=r[5]?(o=null!=r[1]&&""!=r[1]?new Date(parseInt(r[2],10),parseInt(r[3],10)-1,parseInt(r[4],10)):new Date,null!=r[5]&&""!=r[5]&&(o.setHours(parseInt(r[6],10)),o.setMinutes(parseInt(r[7],10)),o.setSeconds(null!=r[8]&&""!=r[8]?parseInt(r[9],10):0)),o.setMilliseconds(0)):o=new Date(n),isNaN(o.getTime())?null:o}i=e._expandFormat(null!=i&&""!=i?i:"d");var l=t._CultureInfo._currentCulture()._calendar,a=e.__CJK,s=new RegExp("(\\"+l._dateSeparator+")|(\\"+l._timeSeparator+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),u=n.match(s),_=e._parseDateFormat(i),p=0,c=-1,h=0,f=1,d=0,y=0,g=0,m=0,v=-1,w=!1,b=!1,S=!1,P=!1,C=null;if(null==u||0==u.length||null==_||0==_.length)return null;for(var x=0;x<_.length&&null!=u;x++){var V=x-p,D=V>-1&&V<u.length?u[V]:"",A=_[x].length,O=_[x];if("EEEE"==O||"EEE"==O||"EE"==O||"E"==O||"eeee"==O||"eee"==O||"ee"==O||"e"==O)C=_[x];else if("yyyy"==O||"yyy"==O||"yy"==O||"y"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),c=parseInt(D,10);else if("MMMM"==O||"MMM"==O){P=!0;var L=D.toLowerCase();h=-1;for(var T=0;T<12;T++)if(0==l._months[T].toLowerCase().indexOf(L)){h=T;break}if(h>-1)continue}else if("MM"==O||"M"==O)P=!0,A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),h=parseInt(D,10)-1;else if("dddd"==O||"ddd"==O)w=!0;else if("dd"==O||"d"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),f=parseInt(D,10),b=!0;else if("hh"==O||"h"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),d=12==(d=parseInt(D,10))?0:d;else if("HH"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),d=parseInt(D,10);else if("H"==O)d=parseInt(D,10);else if("mm"==O||"m"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),y=parseInt(D,10);else if("ss"==O||"s"==O)A>1&&D.length>A&&(u[V]=D.substr(A),D=D.substr(0,A),p++),g=parseInt(D,10);else if("fffffff"==O||"FFFFFFF"==O||"ffffff"==O||"FFFFFF"==O||"fffff"==O||"FFFFF"==O||"ffff"==O||"FFFF"==O||"fff"==O||"FFF"==O||"ff"==O||"FF"==O||"f"==O||"F"==O)m=parseInt(D,10)/Math.pow(10,A-3);else if("tt"==O||"t"==O)D=D.toUpperCase(),(null!=l._pm[0]&&""!=l._pm[0]&&D==l._pm[0]&&d<12||null!=l._pm[1]&&""!=l._pm[1]&&D==l._pm[1]&&d<12)&&(d+=12);else if("q"==O||"Q"==O||"u"==O||"U"==O)S=!0;else if("ggg"==O||"gg"==O||"g"==O)v=l._eras.length>1?e._getEraByNameOrSymbol(D,l):-1;else if(O==l._dateSeparator||O==l._timeSeparator){if(null!=D&&""!=D&&D!=_[x])return null}else"K"==O||e._unquote(_[x])!=D&&p++}if(P&&b&&(isNaN(d)&&(d=0),isNaN(y)&&(y=0),isNaN(g)&&(g=0)),h<0||h>11||isNaN(h)||f<0||f>31||isNaN(f)||d<0||d>24||isNaN(d)||y<0||y>60||isNaN(y)||g<0||g>60||isNaN(g))return null;if(null!=C&&""!=C){if(!P)return null;o=new Date(c,h),c=(o=e._fromFiscal(o,"E"==C[0])).getFullYear(),h=o.getMonth()}return w&&!b||S&&!P?null:(c<0&&(c=(new Date).getFullYear()),v>-1||c<100&&(c+=c+2e3<(t._AnyTypeUtility._isNumber(l._twoDigitYearMax)?l._twoDigitYearMax:2029)?2e3:1900),o=new Date(c,h,f,d,y+0,g,m),isNaN(o.getTime())?null:o)},e._parsePlatformDate=function(t){return new Date(t)},e._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},e._parseDateFormat=function(n){if(t._NativeExtension.hasProperty(e.__dateFomatParts,n,!0))return e.__dateFomatParts[n];for(var i,o=[],r=0;r>-1&&r<n.length;r++){var l=n[r];if(("'"==l||'"'==l)&&(i=n.indexOf(l,r+1))>-1)o.push(n.substring(r,i+1)),r=i;else{for(i=r+1;i<n.length&&n[i]==l;i++);o.push(n.substring(r,i)),r=i-1}}return e.__dateFomatParts[n]=o,o},e._formatDatePart=function(n,i,o){var r,l=t._CultureInfo._currentCulture()._calendar,a=0,s=0,u=o.length;if("yyyy"==o||"yyy"==o||"yy"==o||"y"==o||"EEEE"==o||"EEE"==o||"EE"==o||"E"==o||"eeee"==o||"eee"==o||"ee"==o||"e"==o)return a=(r="E"==o[0]?e._toFiscal(n,!0):"e"==o[0]?e._toFiscal(n,!1):n).getFullYear(),l._eras.length>1&&i.indexOf("g")>-1&&e._getEra(n,l),e._zeroPad(a,4).substr(4-o.length);if("MMMM"==o)return l._months[n.getMonth()];if("MMM"==o)return l._monthsAbbr[n.getMonth()];if("MM"==o||"M"==o)return e._zeroPad(n.getMonth()+1,u);if("dddd"==o)return l._days[n.getDay()];if("ddd"==o)return l._daysAbbr[n.getDay()];if("dd"==o)return e._zeroPad(n.getDate(),2);if("d"==o)return n.getDate().toString();if("hh"==o||"h"==o)return e._zeroPad(e._h12(n),u);if("HH"==o||"H"==o)return e._zeroPad(n.getHours(),u);if("mm"==o||"m"==o)return e._zeroPad(n.getMinutes(),u);if("ss"==o||"s"==o)return e._zeroPad(n.getSeconds(),u);if("fffffff"==o||"FFFFFFF"==o||"ffffff"==o||"FFFFFF"==o||"fffff"==o||"FFFFF"==o||"ffff"==o||"FFFF"==o||"fff"==o||"FFF"==o||"ff"==o||"FF"==o||"f"==o||"F"==o)return s=n.getMilliseconds()*Math.pow(10,u-3),"f"==o[0]?e._zeroPad(s,u):s.toFixed(0);if("tt"==o)return n.getHours()<12?l._am[0]:l._pm[0];if("t"==o)return n.getHours()<12?l._am[1]:l._pm[1];if("q"==o||"Q"==o)return(Math.floor(n.getMonth()/3)+1).toString();if("u"==o||"U"==o)return r=e._toFiscal(n,"U"==o),(Math.floor(r.getMonth()/3)+1).toString();if("ggg"==o||"gg"==o||"g"==o)return l._eras.length>1&&e._getEra(n,l),l._eras[0];if("/"==o)return l._dateSeparator;if(":"==o)return l._timeSeparator;if("K"==o){var _=n.toString().match(/(\+|\-)(\d{2})(\d{2})/);return null!=_?_[1]+_[2]+_[3]:""}return u>1&&o[0]==o[u-1]&&('"'==o[0]||"'"==o[0])?o.substr(1,u-2):o},e._getEra=function(t,e){return-1},e._getEraByNameOrSymbol=function(t,e){return-1},e._expandFormat=function(e){var n=t._CultureInfo._currentCulture()._calendar._patterns[e];return null!=n&&""!=n?n:e},e._zeroPad=function(t,e){var n=t.toFixed(0),i=e-n.length+1;if(i>0){for(var o=[],r=0;r<i-1;r++)o.push("0");return o.join("")+n}return n},e._h12=function(e){var n=t._CultureInfo._currentCulture()._calendar,i=e.getHours();return null!=n._am&&null!=n._am[0]&&""!=n._am[0]&&0==(i%=12)&&(i=12),i},e._mul100=function(t){var e=t.toString(),n=e.indexOf(".");return n<0?e+="00":(n+=2,e=(e=e.replace(".","")+"00").substr(0,n)+"."+e.substr(n)),parseFloat(e)},e._toFiscal=function(t,e){return t},e._fromFiscal=function(t,e){return t},e.__CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e.__dateFomatParts={},e}();t._Globalize=e}(t||(t={})),function(t){var e=function(){function t(t){this.__digits=t.slice()}return t._from=function(e){var n=(e=Math.round(e))<0;n&&(e=-e);var i=[];if(0==e)i.push(e);else for(;0!=e;)i.unshift(e%16),e=Math.floor(e/16);if(n){for(var o=[],r=0;r<16;++r)o.push(15);r=i.length-1;for(var l=o.length-1;r>=0;--r)o[l]=o[l]-i[r],l-=1;o[o.length-1]+=1;for(var a=o.length-1;a>=0&&16==o[a];)o[a]=0,o[--a]+=1;return o.length=16,new t(o)}return new t(i)},t.prototype._toString=function(t,e){void 0===e&&(e=!1);for(var n="",i=0,o=this.__digits;i<o.length;i++){var r=o[i];n+=this._toChar(r)}return n.length<t&&(n="0".repeat(t-n.length)+n),e?n.toUpperCase():n},t.prototype._toChar=function(t){return t>=0&&t<=9?String.fromCharCode(48+t):String.fromCharCode(97+t-10)},t}();t._Hexadecimal=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t,e){this._type=t,this._formatChar=e},n=function(){this._decimalFound=!1,this._leftZeros=0,this._rightZeros=0,this._needGroup=!1,this._scaleCount=0,this._digitLeftCount=0,this._digitRightCount=0,this._minimumExponentDigits=0,this._useSignForPositiveExponent=!1,this._useExponentialNotation=!1,this._exponentSymbol=null,this._multiplier=1,this._allInLiteral=!1,this._prefix="",this._noFormatPattern=!1,this._formatInfo=[[],[]]},i=function(){function t(t){this.__current=null,this.__nextIndex=0,this.__source=t,this.__length=t.length}return Object.defineProperty(t.prototype,"_current",{get:function(){return this.__current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_peek",{get:function(){return this.__nextIndex>=this.__length?null:this.__source[this.__nextIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_previous",{get:function(){return this.__nextIndex>1?this.__source[this.__nextIndex-2]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_remainder",{get:function(){return this.__source.substr(this.__nextIndex)},enumerable:!0,configurable:!0}),t.prototype._moveNext=function(){return this.__nextIndex>=this.__length?(this.__current=null,!1):(this.__current=this.__source[this.__nextIndex++],!0)},t}(),o=function(){function o(e,n){void 0===n&&(n=null),this.__inQuote=!1,this.__buffer=[],this.__formatContexts=[null,null],this.__format=e,this.__provider=null==n?t._CultureInfo._currentCulture()._numberFormat:n;var r=e.match(o.__regStandardPattern);if(null!=r){this.__isStandardFormat=!0,this.__standardFormatSpecifier=r[1];var l=r[2];this.__standardPrecision=0==l.length?-1:parseInt(l,10),this.__pattern=null}else this.__pattern=new i(e),this.__pattern._moveNext(),this._parse(),this.__isStandardFormat=!1,this.__standardFormatSpecifier=null,this.__standardPrecision=-1}return o._format=function(t,e,n){if(null==e||""==e.trim())return t.toString();var i=o.__formatCache[e];return null==i&&(i=new o(e),o.__formatCache[e]=i),null!=i?i._getFormatString(t,n):t.toString()},o.prototype._getFormatString=function(t,e){return this.__isStandardFormat?this._getStandardFormatString(t,e):this._getCustomFormatString(t)},o.prototype._getCustomFormatString=function(t){if(isNaN(t))return"NaN";if(!isFinite(t))return t>0?"Infinity":"-Infinity";if(0==t&&null!=this.__zeroLiterals)return this.__zeroLiterals;var e,n;if(this.__roundZero=!1,t<0?null==(n=this.__formatContexts[1])?(n=this.__formatContexts[0],e=this._getNegativeSign(this.__provider)+n._prefix):e=n._prefix:e=(n=this.__formatContexts[0])._prefix,n._allInLiteral||n._noFormatPattern)return e;var i=this.__buffer=[],o=n._scaleCount;o>0&&(t/=Math.pow(10,3*o));var r=n._multiplier;r>1&&(t*=r),i.push(e),this._formatNumber(Math.abs(t),n);var l=i.join("");if(i.length=0,this.__roundZero){if(null!=this.__zeroLiterals)return this.__zeroLiterals;t<0&&(null!=this.__formatContexts[1]&&(n=this.__formatContexts[0]),e=n._prefix,i.push(e),this._formatNumber(0,n),l=i.join(""),i.length=0)}return l},o.prototype._formatNumber=function(t,e){e._useExponentialNotation?this._formatExponential(t,e):this._formatNormal(t,e)},o.prototype._formatExponential=function(t,e){var n=t.toExponential(),i=n.indexOf("e"),o=n.substr(0,i),r=o.length,l=parseInt(n.substr(i+1),10),a=e._digitLeftCount,s=o[0],u="";r>1&&"."==o[1]&&(r--,u=o.substr(2),o=s+u),a>1&&(l-=a-1,s=o.substr(0,a),r<a?(s+="0".repeat(a-r),u=""):u=o.substr(a)),this._formatBySections(s,u,e,l)},o.prototype._getFormatExponentSection=function(t,e){var n=[];n.push(e._exponentSymbol),t>0&&e._useSignForPositiveExponent?n.push(this._getPositiveSign(this.__provider)):t<0&&(n.push(this._getNegativeSign(this.__provider)),t*=-1);var i=t.toString(),o=e._minimumExponentDigits-i.length;return o>0&&(i="0".repeat(o)+i),n.push(i),n.join("")},o.prototype._formatNormal=function(t,e){var n,i,o,r,l=0,a=t.toString();if(-1==(o=a.indexOf("e"))){var s=e._digitRightCount;if(a=t.toFixed(s),0==parseFloat(a))return void(this.__roundZero=!0);-1==(o=a.indexOf("."))?(n=a,i=""):(n=a.substr(0,o),i=a.substr(o+1))}else{l=parseInt(a.substr(o+1),10);var u=a.substr(0,o);r=o,"."==u[1]&&(u=u[0]+u.substr(2),r--),l+1>r?(n=u+"0".repeat(l+1-r),i=""):l>0?(n=u.substr(0,l+1),i=u.substr(l+1)):(n="",i="0".repeat(-l-1)+u)}this._formatBySections(n,i,e)},o.prototype._formatBySections=function(t,e,n,i){void 0===i&&(i=null);var o=n._needGroup,r=n._formatInfo[0],l=r.length,a=t.length,s=n._leftZeros;s>a?(t="0".repeat(s-a)+t,a=s):0==s&&1==a&&"0"==t[0]&&(t="",a=0);var u=[],_="",p=[],c=0;if(l>0&&a>0){for(var h=a-1,f=l-1,d=0,y=n._digitLeftCount;f>=0;)if(0==(b=(w=r[f--])._type)?h>=0&&(p.push(t[h--]),c++,d++):1==b?p.push(w._formatChar):2==b&&p.push(this._getFormatExponentSection(i,n)),3==c&&(u.push(p.reverse().join("")),p=[],c=0),d>=y)for(;h>=0;)p.push(t[h--]),3==++c&&(u.push(p.reverse().join("")),p=[],c=0);for(;h>=0;)p.push(t[h--]),3==++c&&(u.push(p.reverse().join("")),p=[],c=0);c>0&&u.push(p.reverse().join("")),_=u.reverse().join(o?this.__provider._groupSeparator:"")}else if(o){s=0;for(var g=a%3;s<a;)u.push(t.substr(s,g)),s+=g,g=3;_=u.join(this.__provider._groupSeparator)}else _=t;var m=n._rightZeros;a=e.length;var v=n._digitRightCount;if(a>v?(e=parseFloat("0."+e).toFixed(v).substr(2),a=v):a<m&&(e+="0".repeat(m-a),a=m),null==i)for(;a>m&&"0"==e[a-1];)a--;if(p=[],(l=(r=n._formatInfo[1]).length)>0){for(f=0,h=0;f<l;){var w,b;0==(b=(w=r[f++])._type)?h<a&&p.push(e[h++]):1==b?p.push(w._formatChar):2==b&&p.push(this._getFormatExponentSection(i,n))}h<a&&p.push(e.substr(h)),e=p.join("")}e.length>0?this.__buffer.push([_,e].join(a>0?this.__provider._decimalSeparator:"")):this.__buffer.push(_)},o.prototype._getStandardFormatString=function(e,n){if(!isFinite(e))return e.toString();var i=this.__standardFormatSpecifier.toUpperCase();if("C"==i)return this._getCurrencyString(e);if("D"==i)return this._getDecimalString(e);if("E"==i)return this._getExponentialString(e);if("F"==i)return this._getFixedPointString(e);if("G"==i)return this._getGeneralString(e);if("N"==i)return this._getNumberString(e,n);if("P"==i)return this._getPercentString(e,n);if("R"==i)return this._getRoundTripString(e);if("X"==i)return this._getHexadecimalString(e);throw new t.RuntimeError(t.ErrorCode.FormatInvalid)},o.prototype._getHexadecimalString=function(e){var n="X"==this.__standardFormatSpecifier;return t._Hexadecimal._from(e)._toString(this.__standardPrecision,n)},o.prototype._getRoundTripString=function(t){var e=t.toString(),n=e.split("e");if(1==n.length)return e;var i="R"==this.__standardFormatSpecifier?"E":"e",o=n[1],r=!1;return"-"==o[0]&&(r=!0,o=o.substr(1)),1==o.length&&(o="0"+o),o=(r?this._getNegativeSign(this.__provider):"")+o,n[0]+i+o},o.prototype._getPercentString=function(e,n){var i=this.__standardPrecision,o=this.__provider;-1==i&&(i=n?e%1==0?0:2:o._percent._decimals);var r=o._percent._groupSizes,l=this._getNegativeSign(this.__provider),a=t._Decimal._from(e)._toPercent(i,r,l,this.__provider._decimalSeparator,this.__provider._groupSeparator);return a[0]!=l?o._percent._pattern[1].replace("n",a):o._percent._pattern[0].replace("n",a.substr(1))},o.prototype._getNumberString=function(e,n){var i=this.__standardPrecision,o=this.__provider;-1==i&&(i=n?e%1==0?0:2:o._number._decimals);var r=o._number._groupSizes,l=this._getNegativeSign(this.__provider),a=t._Decimal._from(e)._toGroup(i,r,l,this.__provider._decimalSeparator,this.__provider._groupSeparator),s=a[0]==l;return s&&(a=a.substr(1)),s?o._number._negativePattern[1].replace("n",a):a},o.prototype._getGeneralString=function(e){var n=this.__standardPrecision;return-1!=n&&0!=n||(n=15),t._Decimal._from(e)._toGeneral(n,this.__standardFormatSpecifier,this._getPositiveSign(this.__provider),this._getNegativeSign(this.__provider),this.__provider._decimalSeparator)},o.prototype._getFixedPointString=function(e){var n=this.__standardPrecision;return-1==n&&(n=2),t._Decimal._from(e)._toFixed(n,this._getNegativeSign(this.__provider),this.__provider._decimalSeparator)},o.prototype._getExponentialString=function(e){var n=this.__standardPrecision;return-1==n&&(n=6),t._Decimal._from(e)._toExponential(n,3,this.__standardFormatSpecifier,this._getPositiveSign(this.__provider),this._getNegativeSign(this.__provider),this.__provider._decimalSeparator)},o.prototype._getDecimalString=function(t){var e=t<0,n=Math.floor(Math.abs(t)).toString(),i=this.__standardPrecision,o=n.length;return i>o&&(n="0".repeat(i-o)+n),e&&(n=this._getNegativeSign(this.__provider)+n),n},o.prototype._getNegativeSign=function(t){var e=t._negativeSign;return null==e&&(e="-"),e},o.prototype._getPositiveSign=function(t){var e=t._positiveSign;return null==e&&(e="+"),e},o.prototype._getCurrencyString=function(e){var n=this.__standardPrecision,i=this.__provider;-1==n&&(n=i._currency._decimals);var o=i._currency._groupSizes,r=this._getNegativeSign(i),l=t._Decimal._from(e)._toGroup(n,o,r,i._decimalSeparator,i._groupSeparator);return l[0]!=r?i._currency._pattern[1].replace("n",l):i._currency._pattern[0].replace("n",l.substr(1))},o.prototype._parse=function(){var t=this._getFormatContext();this.__formatContexts[0]=t;var e,n=this._parsePrefix(t),r=[],l=null;if(t._allInLiteral||this._parseTrunk(t),t._allInLiteral?(r=this._parseAsLiterals(this.__format,o.__sectionSeparator),t._prefix=r[0],(e=r[1]).length>0&&(l=new i(e))._moveNext()):(t._prefix=n,l=this.__pattern),null!=l&&l._current==o.__sectionSeparator){var a=l._remainder;if(l._moveNext()){if(l._current!=o.__sectionSeparator&&(t=this._getFormatContext(),this.__formatContexts[1]=t,n=this._parsePrefix(t),t._allInLiteral||(t._prefix=n,this._parseTrunk(t)),t._allInLiteral&&(r=this._parseAsLiterals(a,o.__sectionSeparator),t._prefix=r[0],(a=r[1]).length>0)))return r=this._parseAsLiterals(a),void(this.__zeroLiterals=r[0]);if(l._current==o.__sectionSeparator){var s=l._remainder;r=this._parseAsLiterals(s),this.__zeroLiterals=r[0]}}}},o.prototype._parseAsLiterals=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,r=t.length;i<r;i++){var l=t[i];if(null!=e&&l==e)break;if("\\"==l||l==o.__quote){if(++i>=r)break;l=t[i]}n.push(l)}return[n.join(""),i<t.length?t.substr(i):""]},o.prototype._parsePrefix=function(t){var e=[];for(this.__inQuote=!1;this._parseLiterals(e,t)&&this.__pattern._moveNext(););return e.join("")},o.prototype._parseLiterals=function(e,n){var i=this.__pattern,r=i._current;if(null==r)return!1;if("\\"==r)return i._moveNext(),e.push(i._current),!0;if(r==o.__quote)return this.__inQuote=!this.__inQuote,!0;if(this.__inQuote)e.push(r);else{var l=r.toUpperCase();if(l==o.__patternGroupingSeparator)return!0;if(l==o.__patternDigit||l==o.__patternZeroDigit||l==o.__patternDecimalSeparator)return!1;if(l==o.__sectionSeparator)return!0;if(l==o.__patternPercent){if(1!=n._multiplier&&n._multiplier!=o.__percentScale)throw new t.RuntimeError(t.ErrorCode.TooManyPercent);n._multiplier=o.__percentScale,e.push(this.__provider._percent._symbol)}else if(l==o.__patternPerMille){if(1!=n._multiplier&&n._multiplier!=o.__perMilleScale)throw new t.RuntimeError(t.ErrorCode.TooManyPermill);n._multiplier=o.__perMilleScale,e.push(this.__provider._permilleSymbol)}else if(l==o.__patternExponent){if(/^[+-]?0+/.test(i._remainder))return n._allInLiteral=!0,!1;e.push(r)}else e.push(r)}return!0},o.prototype._getFormatContext=function(){return new n},o.prototype._parseTrunk=function(t){if(null==this.__pattern._current)t._noFormatPattern=!0;else for(;this._parseTrunkCharacter(t););},o.prototype._parseTrunkCharacter=function(e){var n,i=this.__pattern,r=i._current;if(null==r)return!1;if("\\"==r)return i._moveNext(),r=i._current,this._addLiteralItem(r,e),i._moveNext();if(r==o.__quote)return this.__inQuote=!this.__inQuote,i._moveNext();if(this.__inQuote)return this._addLiteralItem(r,e),i._moveNext();var l=r.toUpperCase();if(l==o.__sectionSeparator)return!1;if(l==o.__patternDigit)e._decimalFound?e._digitRightCount+=1:(e._digitLeftCount+=1,e._leftZeros>0&&(e._leftZeros+=1)),this._addPlaceHolder(e);else if(l==o.__patternZeroDigit)e._decimalFound?(e._digitRightCount+=1,e._rightZeros=e._digitRightCount):(e._digitLeftCount+=1,e._leftZeros+=1),this._addPlaceHolder(e);else if(l==o.__patternGroupingSeparator)if(e._decimalFound)e._scaleCount+=1;else{var a=i._previous;n=i._peek,a!=o.__patternDigit&&a!=o.__patternZeroDigit||n!=o.__patternDigit&&n!=o.__patternZeroDigit?e._scaleCount+=1:(e._needGroup=!0,e._scaleCount=0)}else if(l==o.__patternDecimalSeparator)e._decimalFound||(e._decimalFound=!0,e._scaleCount>0&&(e._needGroup=!0),e._scaleCount=0);else if(l==o.__patternExponent)if(e._useExponentialNotation)this._addLiteralItem(r,e);else{if(/^[+-]?0+/.test(i._remainder)){if(0==e._digitLeftCount&&0==e._digitRightCount)return e._allInLiteral=!0,!1;var s=0;for(i._moveNext(),(n=i._current)!=o.__patternPlus&&n!=o.__patternMinus||(i._moveNext(),e._useSignForPositiveExponent=n==o.__patternPlus);i._current==o.__patternZeroDigit;)i._moveNext(),s++;return e._minimumExponentDigits=s,e._useExponentialNotation=!0,e._exponentSymbol=r,this._addExponentItem(e),!0}this._addLiteralItem(r,e)}else if(l==o.__patternPercent){if(1!=e._multiplier&&e._multiplier!=o.__percentScale)throw new t.RuntimeError(t.ErrorCode.TooManyPercent);e._multiplier=o.__percentScale,this._addLiteralItem(this.__provider._percent._symbol,e)}else if(l==o.__patternPerMille){if(1!=e._multiplier&&e._multiplier!=o.__perMilleScale)throw new t.RuntimeError(t.ErrorCode.TooManyPermill);e._multiplier=o.__perMilleScale,this._addLiteralItem(this.__provider._permilleSymbol,e)}else this._addLiteralItem(r,e);return i._moveNext()},o.prototype._addLiteralItem=function(t,n){var i=n._decimalFound?1:0;n._formatInfo[i].push(new e(1,t))},o.prototype._addPlaceHolder=function(t){var n=t._decimalFound?1:0;t._formatInfo[n].push(new e(0))},o.prototype._addExponentItem=function(t){var n=t._decimalFound?1:0;t._formatInfo[n].push(new e(2))},o.__regStandardPattern=/^([a-zA-Z])(\d{0,2})$/,o.__formatCache={},o.__sectionSeparator=";",o.__quote="'",o.__patternDigit="#",o.__patternZeroDigit="0",o.__patternGroupingSeparator=",",o.__patternDecimalSeparator=".",o.__patternPerMille="‰",o.__perMilleScale=1e3,o.__patternPercent="%",o.__percentScale=100,o.__patternExponent="E",o.__patternPlus="+",o.__patternMinus="-",o}();t._NumberFormat=o}(t||(t={})),function(t){var e=function(){function t(){}return t._addDays=function(t,e){var n=new Date(t.valueOf());return n.setDate(n.getDate()+e),n},t._addMonths=function(t,e){var n=new Date(t.valueOf());return n.setMonth(n.getMonth()+e),n},t._addYears=function(t,e){var n=new Date(t.valueOf());return n.setFullYear(n.getFullYear()+e),n},t._addHours=function(t,e){var n=new Date(t.valueOf());return n.setHours(n.getHours()+e),n},t._addMinutes=function(t,e){var n=new Date(t.valueOf());return n.setMinutes(n.getMinutes()+e),n},t._addSeconds=function(t,e){var n=new Date(t.valueOf());return n.setSeconds(n.getSeconds()+e),n},t._isMonthLastDay=function(t){var e=new Date(t.valueOf());return e.setDate(e.getDate()+1),e.getMonth()!=t.getMonth()},t}();t._DateTimeUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._deprecated=function(e,n){t._NativeExtension._ConsoleWarning('"'+e+'" has been deprecated; please use "'+n+'" instead.')},e}();t._Debug=e}(t||(t={})),function(t){t.deprecated=function(e,n){return function(i,o,r){var l=function(){n?t._NativeExtension._ConsoleWarning('The "'+e+'" has been deprecated; please use "'+n+'" instead.'):t._NativeExtension._ConsoleWarning('The "'+e+'" has been deprecated.')};if(null!=r){var a=r.value;null!=a&&(r.value=function(){return l(),a.apply(this,arguments)});var s=r.get;null!=s&&(r.get=function(){return l(),s.call(this)});var u=r.set;null!=u&&(r.set=function(){l(),u.apply(this,arguments)})}}}}(t||(t={})),function(t){t.JsonIgnoreAttribute=function(){return function(t,e,n){}}}(t||(t={})),function(t){t.ValidatorAttribute=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(i,o,r){var l=r.set;null!=l&&(r.set=function(i,r){1==r&&(null==e&&(e=[]),e[0]=r);var a=(new(t.bind.apply(t,n([void 0],e)))).validate(i,o,this);l.call(this,a)})}}}(t||(t={})),function(t){var e=function(e){function o(i,o){for(var r=[],l=2;l<arguments.length;l++)r[l-2]=arguments[l];var a=e.call(this,t._NativeExtension._format.apply(t._NativeExtension,n([i+t.ExceptionLocalization._errorMessage(o)],r)))||this;return a._errorCode=o,a}return i(o,e),o}(Error);t.BaseError=e}(t||(t={})),function(t){var e=function(e){function o(i){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,n([t.ExceptionLocalization._errorMessage(t.ErrorCode.AssertPrompt),i],o))||this}return i(o,e),o}(t.BaseError);t.AssertError=e}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.AssertPrompt=1]="AssertPrompt",t[t.OptionPrompt=2]="OptionPrompt",t[t.PluginPrompt=3]="PluginPrompt",t[t.RuntimePrompt=4]="RuntimePrompt",t[t.InvalidArgument=5]="InvalidArgument",t[t.LegalNumberValueRequired=6]="LegalNumberValueRequired",t[t.IntegerValueRequired=7]="IntegerValueRequired",t[t.LowerThanOrEqualToNumberValueRequired=8]="LowerThanOrEqualToNumberValueRequired",t[t.GreaterThanOrEqualToNumberValueRequired=9]="GreaterThanOrEqualToNumberValueRequired",t[t.Unknown=10]="Unknown",t[t.CoreBegin=2e3]="CoreBegin",t[t.CoreUnexpectedValue=2001]="CoreUnexpectedValue",t[t.NumberRequired=2002]="NumberRequired",t[t.BooleanRequired=2003]="BooleanRequired",t[t.StringRequired=2004]="StringRequired",t[t.DateRequired=2005]="DateRequired",t[t.UnexpectedValueType=2006]="UnexpectedValueType",t[t.ParsingXMLError=2007]="ParsingXMLError",t[t.FormatInvalid=2008]="FormatInvalid",t[t.TooManyPercent=2009]="TooManyPercent",t[t.TooManyPermill=2010]="TooManyPermill",t[t.MethodNotImplemented=2011]="MethodNotImplemented",t[t.InvalidRectangle=2012]="InvalidRectangle",t[t.InvalidRefParameter=2013]="InvalidRefParameter",t[t.MissingTemplatePart=2014]="MissingTemplatePart",t[t.CreateControlFailed=2015]="CreateControlFailed",t[t.FunctionExpected=2016]="FunctionExpected",t[t.CoordinateSystemTypeNotFound=2017]="CoordinateSystemTypeNotFound",t[t.OptionBegin=3e3]="OptionBegin",t[t.UnexpectedValue=3001]="UnexpectedValue",t[t.UnexpectedNullValue=3002]="UnexpectedNullValue",t[t.UnexpectedNaNValue=3003]="UnexpectedNaNValue",t[t.DuplicatedRowColumn=3004]="DuplicatedRowColumn",t[t.PositiveOrZeroExpected=3005]="PositiveOrZeroExpected",t[t.MaxLessThanMin=3006]="MaxLessThanMin",t[t.UnexpectedNegativeValue=3007]="UnexpectedNegativeValue",t[t.UnitIntervalExpected=3008]="UnitIntervalExpected",t[t.PositiveIntegerExpected=3009]="PositiveIntegerExpected",t[t.PositiveNumberExpected=3010]="PositiveNumberExpected",t[t.UnexpectedLogBaseValue=3011]="UnexpectedLogBaseValue",t[t.WrongLegendMerge=3012]="WrongLegendMerge",t[t.WrongGraphJson=3013]="WrongGraphJson",t[t.TextStyleRequired=3014]="TextStyleRequired",t[t.OverlayStyleRequired=3015]="OverlayStyleRequired",t[t.StyleRequired=3016]="StyleRequired",t[t.PathAnnotationRequired=3017]="PathAnnotationRequired",t[t.WrongGradientPosition=3018]="WrongGradientPosition",t[t.UnexpectedEmptyString=3019]="UnexpectedEmptyString",t[t.PluginBegin=4e3]="PluginBegin",t[t.PluginNullType=4001]="PluginNullType",t[t.PluginInvalidType=4002]="PluginInvalidType",t[t.PluginNull=4003]="PluginNull",t[t.PluginTypeExist=4004]="PluginTypeExist",t[t.PluginNullName=4005]="PluginNullName",t[t.AssertBegin=5e3]="AssertBegin",t[t.HslColorRequired=5001]="HslColorRequired",t[t.WrongDimensionMerge=5002]="WrongDimensionMerge",t[t.NoMatchedPlace=5003]="NoMatchedPlace",t[t.UnexpectedEmptyArray=5004]="UnexpectedEmptyArray",t[t.NotEqual=5005]="NotEqual",t[t.OperationIsNotPermitted=5006]="OperationIsNotPermitted",t[t.CyclicDataExisted=6001]="CyclicDataExisted"}(t.ErrorCode||(t.ErrorCode={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._errorMessage=function(n){var i=e._errorMessages[t.ErrorCode[n]];return null!=i?i:"Unknown Error!"},e._errorMessages={None:"",AssertPrompt:"Assert Error: ",OptionPrompt:"Option Error: ",PluginPrompt:"Plugin Error: ",RuntimePrompt:"Runtime Error: ",InvalidArgument:"{0} is an invalid argument.",LegalNumberValueRequired:"{0} is an unexptectd value. A legal number value (not NaN) is required.",IntegerValueRequired:"{0} is an unexptectd value. A integer vaue is required.",LowerThanOrEqualToNumberValueRequired:"{0} is an unexptectd value. A number value lower than or equal to {1} is required .",GreaterThanOrEqualToNumberValueRequired:"{0} is an unexptectd value. A number value greater than or equal to {1} is required.",NumberRequired:"{0} is an unexptectd value. Number type is required.",BooleanRequired:"{0} is an unexptectd value. Boolean type is required.",StringRequired:"{0} is an unexptectd value. String type is required.",UnexpectedValueType:"Unexpected value type, the {0} type is required.",ParsingXMLError:"Error parsing XML string.",FormatInvalid:"{0} is invalid format value.",TooManyPercent:"Too many percent/permill",TooManyPermill:"Too many percent/permill",MethodNotImplemented:"Method not implemented.",InvalidRectangle:"Invalid source rectangle.",InvalidRefParameter:"Invalid ref parameter.",MissingTemplatePart:"Missing template part.",CreateControlFailed:"Create control failed.",FunctionExpected:"Function expected.",UnexpectedNullValue:"Unexpected null value.",UnexpectedNaNValue:"Unexpected NaN value.",UnexpectedValue:"{0} is an unexptectd value.",DuplicatedRowColumn:"Unexpected duplicated row and column value.",PositiveOrZeroExpected:"{0} is an unexpected value. A positive integer or zero was expected.",MaxLessThanMin:"The axis range max value {0} less than min value {1}!",UnexpectedNegativeValue:"{0} is an unexpected negative value.",UnitIntervalExpected:"{0} is an unexpected value. An unit interval value was expected.",PositiveIntegerExpected:"{0} is an unexpected value. A positive integer was expected.",PositiveNumberExpected:"{0} is an unexpected value. A positive number was expected.",UnexpectedLogBaseValue:"{0} is an unexpected negative value, 0 or 1.",WrongGraphJson:"{0} is an unexptectd value. A graph json is required.",StyleRequired:"{0} is an unexptectd value. A style option is required.",TextStyleRequired:"{0} is an unexptectd value. A TextStyle option is required.",OverlayStyleRequired:"{0} is an unexptectd value. An OverlayStyle option is required.",PathAnnotationRequired:"{0} is an unexptectd value. A string or array type is required.",UnexpectedEmptyArray:"The array is empty.",WrongLegendMerge:"Wrong Legend format.",WrongGradientPosition:"{0} is an unexpected vaue. Other direction keyword is required.",UnexpectedEmptyString:"Unexpected empty string.",PluginNullType:"Unexpected null type.",PluginInvalidType:"Unexpected plugin type.",PluginNull:"Unexpected plugin null.",PluginTypeExist:"Plugin type is exist.",PluginNullName:"Unexpected null plugin name.",OptionGraphViewport:"{0} is an unexptectd value. A viewport value (like [left, top, width, height]) is required.",NoMatchedPlace:"{0} is not equal {1}, no matched place holder pairs",NotEqual:"{0} is not equal {1}",HslColorRequired:"hsl({0}, {1}, {2}) is unexpected, HSL Color is required",OperationIsNotPermitted:"The operation {0} is not permitted.",CyclicDataExisted:"Sankey is a DAG, the original data has cycle."},e}();t.ExceptionLocalization=e}(t||(t={})),function(t){var e=function(e){function o(i){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,n([t.ExceptionLocalization._errorMessage(t.ErrorCode.RuntimePrompt),i],o))||this}return i(o,e),o}(t.BaseError);t.RuntimeError=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDisposable=function(t){return null!=t&&"function"==typeof t.dispose}}(t||(t={})),t||(t={}),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isQueryInterface=function(t){return null!=t.queryInterface}}(t||(t={})),function(t){var e=function(){function t(){this.__entry={}}return t.prototype._hashCode=function(t){return null==t?null:t instanceof Date?"Date"+t.valueOf().toString():typeof t+t.toString()},t.prototype._get=function(t){return this.__entry[this._hashCode(t)]},t.prototype._set=function(t,e){this.__entry[this._hashCode(t)]=e},t}();t._Map=e}(t||(t={})),function(t){var e=function(){function t(){}return t.min=function(t){for(var e=t.length,n=1/0,i=0;i<e;i++)t[i]<n&&(n=t[i]);return n},t.max=function(t){for(var e=t.length,n=-1/0,i=0;i<e;i++)t[i]>n&&(n=t[i]);return n},t.clamp=function(t,e,n){return null!=t&&(null!=n&&t>n&&(t=n),null!=e&&t<e&&(t=e)),t},t}();t._MathExtension=e}(t||(t={})),function(t){var e=function(){function t(){}return t._isMacOS=function(){var t=navigator.platform;return null!=t&&t.indexOf("Mac")>-1},t._isNullOrEmptyString=function(t){return null==t||t.length<=0},t._isNullOrWhiteSpace=function(t){return null==t||t.trim().length<=0},t._isNullOrNaN=function(t){return null==t||"number"==typeof t&&isNaN(t)},t._equalWithEnum=function(t,e){return t==e},t.findIndex=function(t,e){if(null!=t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},t._toNonNullBoolean=function(t,e){return null==t?e:t},t._toNonNullNumber=function(t,e){return null==t?e:t},t._toNonNullEnum=function(t,e){return null==t?e:t},t.properties=function(t,e){if(!e)return Object.getOwnPropertyNames(t);var n=[];for(var i in t)n.push(i);return n},t.hasProperty=function(t,e,n){return n?e in t:t.hasOwnProperty(e)},t.getPropertyValue=function(t,e){return t[e]},t.setPropertyValue=function(t,e,n){t[e]=n},t._ConsoleWarning=function(t){console.warn("WARNING: "+t)},t._format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(e.length<=0)return t;var i=e.map((function(t){return null===t?"null":void 0===t?"undefined":"function"==typeof t?"function":"symbol"==typeof t||"bigint"==typeof t||"number"==typeof t?t.toString():"string"==typeof t?'"'+t+'"':"boolean"==typeof t?t?"true":"false":t instanceof Date?t.toString():JSON.stringify(t)}));return t.replace(/{(\d+)}/g,(function(t,e){return void 0!==i[e]?i[e]:t}))},t.Undefined=void 0,t}();t._NativeExtension=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(){}return t._validateOptionValue=function(t,e,n){return t},t}();t._ReflectorUtility=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._strictMode=t}return e.prototype.canConvert=function(t,e,n){return!0},e.prototype.toJson=function(t){return null},e.prototype._processError=function(e,n){if(void 0===n&&(n=t.ErrorCode.UnexpectedValue),this._strictMode)throw new t.OptionError(n,e)},e}();t.JsonConverter=e}(t||(t={})),function(t){t.JsonConverterAttribute=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return function(o,r,l){var a=l.set;l.set=function(r,l){null==l&&(l=new t.JsonSerializerSettings);var s=l.strictMode;null!=s&&(null==i&&(i=[]),i[0]=s);var u=new(e.bind.apply(e,n([void 0],i)));if(u.canConvert(o,r,l)){var _=u.fromJson(r,l);a.call(this,_,s)}else a.call(this,r,s)}}}}(t||(t={})),function(t){var e=function(){function e(){}return e._isBoolean=function(t){return"boolean"==typeof t},e._isNumber=function(t){return"number"==typeof t},e._isString=function(t){return"string"==typeof t},e._isDate=function(t){return t instanceof Date},e._isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)},e._isArray=function(t){return Array.isArray(t)},e._isNull=function(t){return null==t},e._isEmpty=function(t){return null!=t&&0==Object.getOwnPropertyNames(t).length},e._getAsDouble=function(n){if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsInt=function(n){if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return parseInt(n)},e._getAsString=function(n){if(!e._isString(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsBoolean=function(n){if(!e._isBoolean(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsDate=function(n){if(!e._isDate(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsArray=function(n){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getLength=function(n){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n.length},e._getAt=function(n,i){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n[i]},e._getProperty=function(n,i){if(!e._hasProperty(n,i))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n[i]},e._hasProperty=function(t,n){return!!e._isObject(t)&&t.hasOwnProperty(n)},e._enumerateArray=function(n,i){if(!e._isArray(n)||null==i)throw new t.RuntimeError(t.ErrorCode.InvalidArgument);for(var o=0;o<n.length;o++)i(n[o],o)},e._enumerateObject=function(n,i){if(!e._isObject(n)||null!=i)throw new t.RuntimeError(t.ErrorCode.InvalidArgument);for(var o in n)i(n[o],o)},e}();t._JsonElementUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.deserialize=function(n,i,o){if(void 0===o&&(o=null),null==n||null==i)return n;for(var r in null==o&&(o=new t.JsonSerializerSettings),i)if(r in n){var l=e._getPropertyDescriptor(n,r);null!=l&&null!=l.set&&l.set.call(n,i[r],o)}return n},e._getPropertyDescriptor=function(t,e){for(var n=Object.getPrototypeOf(t),i=Object.getOwnPropertyDescriptor(n,e);null==i&&null!=(n=Object.getPrototypeOf(n))&&n!=Object.prototype;)i=Object.getOwnPropertyDescriptor(n,e);return i},e.serialize=function(t){throw new Error("Method not implemented.")},e}();t.JsonSerializer=e}(t||(t={})),function(t){var e=function(){this.strictMode=null};t.JsonSerializerSettings=e}(t||(t={})),function(t){var e=function(){function e(){}return e.DefaultFontFamily=function(){return t._NativeExtension._isMacOS()?"Helvetica Neue, Arial, sans-serif":"Helvetica"},e}();t._SystemUtility=e}(t||(t={})),function(t){var e=function(){function t(){}return t._toFixed=function(t,e,n){if(n){var i=(o=t.toString()).indexOf(".");i>-1&&(o=o.substr(0,i+1+e),t=parseFloat(o))}else{var o=t.toFixed(e);t=parseFloat(o)}return t},t._isInteger=function(t){return t%1==0},t._PI2=2*Math.PI,t}();t._Utility=e}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=!0),this._strictMode=t}return e.prototype._processError=function(e,i){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(this._strictMode){var l=[];l.push(e);for(var a=0,s=o;a<s.length;a++){var u=s[a];l.push(u)}throw new(t.OptionError.bind.apply(t.OptionError,n([void 0,i],l)))}return e},e}();t._BaseValidator=e}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(t.FontStyle||(t.FontStyle={}))}(t||(t={})),function(t){!function(t){t[t.Butt=0]="Butt",t[t.Round=1]="Round",t[t.Square=2]="Square"}(t.LineCap||(t.LineCap={}))}(t||(t={})),function(t){!function(t){t[t.Miter=0]="Miter",t[t.Bevel=1]="Bevel",t[t.Round=2]="Round"}(t.LineJoin||(t.LineJoin={}))}(t||(t={})),function(t){!function(t){t[t.Nonzero=0]="Nonzero",t[t.Evenodd=1]="Evenodd"}(t.PathFillType||(t.PathFillType={}))}(t||(t={})),function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.TextWritingMode||(t.TextWritingMode={}))}(t||(t={})),function(t){!function(t){t[t.List=0]="List",t[t.Sum=1]="Sum",t[t.Count=2]="Count",t[t.Average=3]="Average",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Range=6]="Range",t[t.StandardDeviation=7]="StandardDeviation",t[t.Variance=8]="Variance",t[t.PopulationStandardDeviation=9]="PopulationStandardDeviation",t[t.PopulationVariance=10]="PopulationVariance",t[t.CountOfAll=11]="CountOfAll"}(t.Aggregate||(t.Aggregate={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Near=1]="Near",t[t.Far=2]="Far"}(t.AxisPosition||(t.AxisPosition={}))}(t||(t={})),function(t){!function(t){t[t.Control=0]="Control",t[t.Header=1]="Header",t[t.Footter=2]="Footter",t[t.PlotArea=3]="PlotArea",t[t.Legend=4]="Legend",t[t.LegendItem=260]="LegendItem",t[t.LegendTitle=516]="LegendTitle",t[t.LegendItemSymbol=772]="LegendItemSymbol",t[t.LegendItemLabel=1028]="LegendItemLabel",t[t.PlotsPane=5]="PlotsPane",t[t.Plot=6]="Plot",t[t.DataPoint=7]="DataPoint",t[t.DataPointLabel=263]="DataPointLabel",t[t.Series=8]="Series",t[t.Axis=9]="Axis",t[t.AxisLabel=265]="AxisLabel",t[t.AxisTitle=521]="AxisTitle",t[t.AxisUnitLabel=777]="AxisUnitLabel",t[t.GridLine=10]="GridLine",t[t.Trellis=16]="Trellis",t[t.TrellisRowHeader=272]="TrellisRowHeader",t[t.TrellisColumnHeader=528]="TrellisColumnHeader",t[t.TrellisRow=784]="TrellisRow",t[t.TrellisColumn=1040]="TrellisColumn",t[t.TrellisCell=1296]="TrellisCell",t[t.TrellisCorner=1552]="TrellisCorner",t[t.OverlayItem=17]="OverlayItem",t[t.TextOverlayItem=273]="TextOverlayItem",t[t.RectangleOverlayItem=529]="RectangleOverlayItem",t[t.EllipseOverlayItem=785]="EllipseOverlayItem",t[t.ImageOverlayItem=1041]="ImageOverlayItem",t[t.LineOverlayItem=1297]="LineOverlayItem",t[t.NeedleOverlayItem=1553]="NeedleOverlayItem",t[t.TrendLineOverlayItem=1809]="TrendLineOverlayItem",t[t.ReferenceLineOverlayItem=2065]="ReferenceLineOverlayItem",t[t.ErrorBarOverlayItem=2321]="ErrorBarOverlayItem",t[t.Overlay=18]="Overlay",t[t.Node=19]="Node",t[t.Flow=20]="Flow",t[t.DataScaleBar=21]="DataScaleBar",t[t.DataScaleThumbHandler=277]="DataScaleThumbHandler",t[t.DataScaleStartScaleHandler=533]="DataScaleStartScaleHandler",t[t.DataScaleEndScaleHandler=789]="DataScaleEndScaleHandler"}(t.ElementType||(t.ElementType={}))}(t||(t={})),function(t){!function(t){t[t.Front=0]="Front",t[t.Back=1]="Back",t[t.FrontOfPlot=2]="FrontOfPlot",t[t.BackOfPlot=3]="BackOfPlot"}(t.OverlayDisplay||(t.OverlayDisplay={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Object=1]="Object",t[t.String=2]="String",t[t.Number=3]="Number",t[t.Boolean=4]="Boolean",t[t.Date=5]="Date",t[t.Array=6]="Array"}(t.DataType||(t.DataType={}))}(t.core||(t.core={}))}(t||(t={})),function(t){!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(t.AxisType||(t.AxisType={}))}(t||(t={})),function(t){!function(t){t[t.Aggregate=0]="Aggregate",t[t.Bin=1]="Bin",t[t.Calculate=2]="Calculate",t[t.Unpivot=3]="Unpivot"}(t.TransformType||(t.TransformType={}))}(t||(t={})),function(t){!function(t){t[t.Linear=0]="Linear",t[t.Swing=1]="Swing",t[t.EaseInQuad=2]="EaseInQuad",t[t.EaseOutQuad=3]="EaseOutQuad",t[t.EaseInOutQuad=4]="EaseInOutQuad",t[t.EaseInCubic=5]="EaseInCubic",t[t.EaseOutCubic=6]="EaseOutCubic",t[t.EaseInOutCubic=7]="EaseInOutCubic",t[t.EaseInQuart=8]="EaseInQuart",t[t.EaseOutQuart=9]="EaseOutQuart",t[t.EaseInOutQuart=10]="EaseInOutQuart",t[t.EaseInQuint=11]="EaseInQuint",t[t.EaseOutQuint=12]="EaseOutQuint",t[t.EaseInOutQuint=13]="EaseInOutQuint",t[t.EaseInSine=14]="EaseInSine",t[t.EaseOutSine=15]="EaseOutSine",t[t.EaseInOutSine=16]="EaseInOutSine",t[t.EaseInExpo=17]="EaseInExpo",t[t.EaseOutExpo=18]="EaseOutExpo",t[t.EaseInOutExpo=19]="EaseInOutExpo",t[t.EaseInCirc=20]="EaseInCirc",t[t.EaseOutCirc=21]="EaseOutCirc",t[t.EaseInOutCirc=22]="EaseInOutCirc",t[t.EaseInBack=23]="EaseInBack",t[t.EaseOutBack=24]="EaseOutBack",t[t.EaseInOutBack=25]="EaseInOutBack",t[t.EaseInBounce=26]="EaseInBounce",t[t.EaseOutBounce=27]="EaseOutBounce",t[t.EaseInOutBounce=28]="EaseInOutBounce",t[t.EaseInElastic=29]="EaseInElastic",t[t.EaseOutElastic=30]="EaseOutElastic",t[t.EaseInOutElastic=31]="EaseInOutElastic"}(t.AnimationEasing||(t.AnimationEasing={}))}(t||(t={})),function(t){!function(t){t[t.All=0]="All",t[t.Point=1]="Point",t[t.Group=2]="Group"}(t.AnimationMode||(t.AnimationMode={}))}(t||(t={})),function(t){!function(t){t[t.Highlight=0]="Highlight",t[t.Loading=1]="Loading",t[t.Update=2]="Update",t[t.Hover=3]="Hover",t[t.Effect=4]="Effect"}(t.AnimationType||(t.AnimationType={}))}(t||(t={})),function(t){!function(t){t[t.Cartesian=0]="Cartesian",t[t.Radial=1]="Radial",t[t.Polygonal=2]="Polygonal"}(t.AxisMode||(t.AxisMode={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Fit=1]="Fit",t[t.Clip=2]="Clip"}(t.ClippingMode||(t.ClippingMode={}))}(t||(t={})),function(t){!function(t){t[t.Linear=0]="Linear",t[t.Radial=1]="Radial",t[t.CssColor=2]="CssColor",t[t.Pattern=3]="Pattern"}(t.ColorOptionType||(t.ColorOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Start=0]="Start",t[t.End=1]="End",t[t.GroupStart=2]="GroupStart",t[t.GroupEnd=3]="GroupEnd",t[t.Custom=4]="Custom"}(t.ConcatType||(t.ConcatType={}))}(t||(t={})),function(t){!function(t){t[t.MilliSecond=0]="MilliSecond",t[t.Second=1]="Second",t[t.Minute=2]="Minute",t[t.Hour=3]="Hour",t[t.Day=4]="Day",t[t.Week=5]="Week",t[t.Month=6]="Month",t[t.Year=7]="Year"}(t.DateMode||(t.DateMode={}))}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Bold=1]="Bold",t[t.Bolder=2]="Bolder",t[t.Lighter=3]="Lighter"}(t.FontWeight||(t.FontWeight={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.EqualBar=1]="EqualBar",t[t.Bar=2]="Bar"}(t.FunnelType||(t.FunnelType={}))}(t||(t={})),function(t){!function(t){t[t.ClosestSide=0]="ClosestSide",t[t.ClosestCorner=1]="ClosestCorner",t[t.FarthestSide=2]="FarthestSide",t[t.FarthestCorner=3]="FarthestCorner"}(t.GradientExtentKeyword||(t.GradientExtentKeyword={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.Radius=1]="Radius",t[t.InnerRadius=2]="InnerRadius"}(t.GradientFillDirection||(t.GradientFillDirection={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom"}(t.GradientPositionKeyword||(t.GradientPositionKeyword={}))}(t||(t={})),function(t){!function(t){t[t.ToLeft=65536]="ToLeft",t[t.ToRight=65537]="ToRight",t[t.ToTop=65538]="ToTop",t[t.ToBottom=65539]="ToBottom",t[t.ToLeftTop=65540]="ToLeftTop",t[t.ToRightTop=65541]="ToRightTop",t[t.ToLeftBottom=65542]="ToLeftBottom",t[t.ToRightBottom=65543]="ToRightBottom"}(t.GradientSideOrCorner||(t.GradientSideOrCorner={}))}(t||(t={})),function(t){!function(t){t[t.Cluster=0]="Cluster",t[t.Stack=1]="Stack",t[t.Mirror=2]="Mirror"}(t.Group||(t.Group={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(t.HAlign||(t.HAlign={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto"}(t.HeaderFooterWidthOptionType||(t.HeaderFooterWidthOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None",t[t.Floating=5]="Floating"}(t.LegendPosition||(t.LegendPosition={}))}(t||(t={})),function(t){!function(t){t[t.Color=0]="Color",t[t.Size=1]="Size",t[t.Shape=2]="Shape",t[t.Overlay=3]="Overlay",t[t.BackgroundColor=4]="BackgroundColor",t[t.Lightness=5]="Lightness"}(t.LegendType||(t.LegendType={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.Spline=1]="Spline",t[t.StepLeft=2]="StepLeft",t[t.StepRight=3]="StepRight",t[t.StepCenter=4]="StepCenter"}(t.LineAspect||(t.LineAspect={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Center=1]="Center"}(t.LinePosition||(t.LinePosition={}))}(t||(t={})),function(t){!function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending",t[t.None=2]="None"}(t.OrderType||(t.OrderType={}))}(t||(t={})),function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.Orientation||(t.Orientation={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Show=1]="Show",t[t.Hide=2]="Hide",t[t.HideAll=3]="HideAll",t[t.Smart=4]="Smart"}(t.OverlappingLabels||(t.OverlappingLabels={}))}(t||(t={})),function(t){!function(t){t[t.TopLeft=0]="TopLeft",t[t.TopCenter=1]="TopCenter",t[t.TopRight=2]="TopRight",t[t.BottomLeft=3]="BottomLeft",t[t.BottomCenter=4]="BottomCenter",t[t.BottomRight=5]="BottomRight",t[t.MiddleLeft=6]="MiddleLeft",t[t.MiddleRight=7]="MiddleRight",t[t.MiddleCenter=8]="MiddleCenter"}(t.OverlayLabelPosition||(t.OverlayLabelPosition={}))}(t||(t={})),function(t){!function(t){t[t.Standard=0]="Standard",t[t.Cocoa=1]="Cocoa",t[t.Coral=2]="Coral",t[t.Dark=3]="Dark",t[t.HighContrast=4]="HighContrast",t[t.Light=5]="Light",t[t.Midnight=6]="Midnight",t[t.Modern=7]="Modern",t[t.Organic=8]="Organic",t[t.Slate=9]="Slate",t[t.Zen=10]="Zen",t[t.Cyborg=11]="Cyborg",t[t.Superhero=12]="Superhero",t[t.Flatly=13]="Flatly",t[t.Darkly=14]="Darkly",t[t.Cerulan=15]="Cerulan",t[t.Office=16]="Office",t[t.Office2010=17]="Office2010",t[t.Grayscale=18]="Grayscale",t[t.BlueWarm=19]="BlueWarm",t[t.Blue=20]="Blue",t[t.Blue2=21]="Blue2",t[t.BlueGreen=22]="BlueGreen",t[t.Green=23]="Green",t[t.GreenYellow=24]="GreenYellow",t[t.Yellow=25]="Yellow",t[t.YellowOrange=26]="YellowOrange",t[t.Orange=27]="Orange",t[t.OrangeRed=28]="OrangeRed",t[t.RedOrange=29]="RedOrange",t[t.Red=30]="Red",t[t.RedViolet=31]="RedViolet",t[t.Violet=32]="Violet",t[t.Violet2=33]="Violet2",t[t.Median=34]="Median",t[t.Paper=35]="Paper",t[t.Marquee=36]="Marquee",t[t.Slipstream=37]="Slipstream",t[t.Aspect=38]="Aspect"}(t.Palette||(t.Palette={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Index=0]="Index",t[t.Data=1]="Data"}(t.PaletteItemType||(t.PaletteItemType={}))}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t[t.Exclusive=0]="Exclusive",t[t.Inclusive=1]="Inclusive"}(t.PercentileType||(t.PercentileType={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom"}(t.Placement||(t.Placement={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None"}(t.Position||(t.Position={}))}(t||(t={})),function(t){!function(t){t[t.Sum=1]="Sum",t[t.Count=2]="Count",t[t.Average=3]="Average",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Median=6]="Median",t[t.Percentile=7]="Percentile"}(t.ReferenceLineAggregate||(t.ReferenceLineAggregate={}))}(t||(t={})),function(t){!function(t){t[t.SVG=0]="SVG",t[t.Canvas=1]="Canvas"}(t.RenderMethod||(t.RenderMethod={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Point=1]="Point",t[t.Points=2]="Points",t[t.Group=3]="Group",t[t.Color=4]="Color",t[t.Shape=5]="Shape",t[t.Size=6]="Size",t[t.LegendSingle=7]="LegendSingle",t[t.LegendMultiple=8]="LegendMultiple",t[t.Category=9]="Category",t[t.Custom=10]="Custom",t[t.Trellis=11]="Trellis",t[t.Node=12]="Node"}(t.SelectionMode||(t.SelectionMode={}))}(t||(t={})),function(t){!function(t){t[t.Gaps=0]="Gaps",t[t.Zeros=1]="Zeros",t[t.Connected=2]="Connected"}(t.ShowNulls||(t.ShowNulls={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Reversed=1]="Reversed",t[t.Ascending=2]="Ascending",t[t.Descending=3]="Descending"}(t.SortOrder||(t.SortOrder={}))}(t||(t={})),function(t){!function(t){t[t.Index=0]="Index",t[t.Data=1]="Data"}(t.SymbolItemType||(t.SymbolItemType={}))}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Overline=1]="Overline",t[t.LineThrough=2]="LineThrough",t[t.Underline=4]="Underline"}(t.TextDecoration||(t.TextDecoration={}))}(t||(t={})),function(t){!function(t){t[t.Clip=0]="Clip",t[t.Ellipsis=1]="Ellipsis",t[t.Wrap=2]="Wrap"}(t.TextOverflow||(t.TextOverflow={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Outside=1]="Outside",t[t.Center=2]="Center",t[t.Inside=3]="Inside",t[t.Smart=4]="Smart"}(t.TextPosition||(t.TextPosition={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}))}(t||(t={})),function(t){!function(t){t[t.CrossX=0]="CrossX",t[t.CrossY=1]="CrossY",t[t.Area=2]="Area"}(t.TrackerType||(t.TrackerType={}))}(t||(t={})),function(t){!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(t.VAlign||(t.VAlign={}))}(t||(t={})),function(t){!function(t){t[t.Number=0]="Number",t[t.Date=1]="Date",t[t.Percentage=2]="Percentage",t[t.Pixel=3]="Pixel",t[t.Enum=4]="Enum",t[t.Available=5]="Available"}(t.ValueOptionType||(t.ValueOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Ordinal=0]="Ordinal",t[t.Linear=1]="Linear",t[t.Logarithmic=2]="Logarithmic",t[t.Percentage=3]="Percentage",t[t.Date=4]="Date"}(t.ValueScaleType||(t.ValueScaleType={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Middle=3]="Middle",t[t.Top=4]="Top",t[t.Bottom=5]="Bottom"}(t.AnnotationAlign||(t.AnnotationAlign={}))}(t||(t={})),function(t){!function(t){t[t.DataPoint=0]="DataPoint",t[t.PlotCoordinate=1]="PlotCoordinate",t[t.ClientCoordinate=2]="ClientCoordinate"}(t.AnnotationAttachment||(t.AnnotationAttachment={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Inside=1]="Inside",t[t.Outside=2]="Outside"}(t.AnnotationPosition||(t.AnnotationPosition={}))}(t||(t={})),function(t){!function(t){t[t.Rectangle=0]="Rectangle",t[t.Ellipse=1]="Ellipse",t[t.Line=2]="Line",t[t.Image=3]="Image",t[t.Text=4]="Text",t[t.Polygon=5]="Polygon",t[t.Path=6]="Path"}(t.AnnotationType||(t.AnnotationType={}))}(t||(t={})),function(t){!function(t){t[t.Group=0]="Group",t[t.Total=1]="Total",t[t.Trellis=2]="Trellis"}(t.DetailLevel||(t.DetailLevel={}))}(t||(t={})),function(t){!function(t){t[t.Start=0]="Start",t[t.End=1]="End",t[t.Center=2]="Center"}(t.LinePlacement||(t.LinePlacement={}))}(t||(t={})),function(t){!function(t){t[t.Bubble=0]="Bubble",t[t.Balloon=1]="Balloon"}(t.DataLabelShapeType||(t.DataLabelShapeType={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(e,n,i){var o=n;if(t._JsonElementUtility._isArray(n))for(var r=0,l=t._JsonElementUtility._getAsArray(n);r<l.length;r++){var a=l[r];if(!t._JsonElementUtility._isNull(a)){o=a;break}}return!(!t._JsonElementUtility._isNull(o)&&t.OptionSerializer._isOptionObject(o))},n}(t.JsonConverter);t._BaseOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?new t.options._OverlayOption(e,null!=n.strictMode&&0!=n.strictMode):null},n}(t._BaseOptionConverter);t._OverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e)?new t.options._AnimationOption(null,null!=n.strictMode&&0!=n.strictMode):null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._AnimationOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._AnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){void 0===i&&(i=!0),void 0===o&&(o=!0);var r=e.call(this,t)||this;return r.__itemType=n,r.__castAsArray=i,r.__skipNotMatchedItem=o,r}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]),"string"==this.__itemType)return this._toStringArray(i,this.__skipNotMatchedItem);if("number"==this.__itemType)return this._toNumberArray(i,this.__skipNotMatchedItem);if("boolean"==this.__itemType)return this._toBooleanArray(i,this.__skipNotMatchedItem);if("object"==this.__itemType)return this._toObjectArray(i);throw new t.AssertError(t.ErrorCode.AssertPrompt)},n.prototype._toStringArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isString(l)){var a=t._JsonElementUtility._getAsString(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.StringRequired)}return i},n.prototype._toNumberArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNumber(l)){var a=t._JsonElementUtility._getAsDouble(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.NumberRequired)}return i},n.prototype._toBooleanArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isBoolean(l)){var a=t._JsonElementUtility._getAsBoolean(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.BooleanRequired)}return i},n.prototype._toObjectArray=function(e){return t.OptionSerializer._toObjectArray(e)},n._toArrayOption=function(e,n,i,o,r){if(void 0===r&&(r=!0),t._JsonElementUtility._isNull(e))return i;for(var l=[],a=0,s=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];a<s.length;a++){var u=o(s[a],n);null==u&&r||l.push(u)}return l.length>0?l:i},n}(t.JsonConverter);t._ArrayConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=!0);var o=e.call(this,t)||this;return o.__optionType=n,o.__castAsArray=i,o}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]);for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],s=new t._OptionConverter(this._strictMode,this.__optionType).fromJson(a,n);null==s||o.push(s)}return o},n}(t._BaseOptionConverter);t._ArrayOptionConverter=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNumber(e)){var i=new t.options._AxisUnitOption(null,null!=n.strictMode&&0!=n.strictMode);return i.value=t._JsonElementUtility._getAsDouble(e),i.dateMode=null,i}return t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._AxisUnitOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._AxisUnitOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"BarLine"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BarLineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._BarLineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._BinOption(null,null!=n.strictMode&&0!=n.strictMode);return i.steps=[],i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BinOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._BinOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n){void 0===n&&(n=null);var i=e.call(this,t)||this;return i.__defaultValue=n,i}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?this.__defaultValue:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e):(this._processError(e,t.ErrorCode.BooleanRequired),this.__defaultValue)},n}(t.JsonConverter);t._BooleanConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e).split("/",2);if(1==i.length)return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t._BorderRadiusValueOptionConverter._parse(i[0],n),o.verticalRadius=t._BorderRadiusValueOptionConverter._parse(i[0],n),o;if(2==i.length)return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t._BorderRadiusValueOptionConverter._parse(i[0],n),o.verticalRadius=t._BorderRadiusValueOptionConverter._parse(i[1],n),o}if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t._BorderRadiusValueOptionConverter._convertNumber(r,n),o.verticalRadius=t._BorderRadiusValueOptionConverter._convertNumber(r,n),o}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BorderRadiusOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._BorderRadiusOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,i){return t._JsonElementUtility._isString(e)?n._parse(t._JsonElementUtility._getAsString(e),i):t._JsonElementUtility._isNumber(e)?n._convertNumber(t._JsonElementUtility._getAsDouble(e),i):t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._BorderRadiusValueOption,e,i):(this._processError(e),null)},n._parse=function(e,n){var i=new t.options._BorderRadiusValueOption(null,null!=n.strictMode&&0!=n.strictMode),o=e.split(" ",4),r="",l="",a="",s="";return null!=o&&(4==o.length?(r=o[0],l=o[1],a=o[2],s=o[3]):3==o.length?(r=o[0],l=s=o[1],a=o[2]):2==o.length?(r=a=o[0],l=s=o[1]):1==o.length&&(r=l=a=s=o[0]),i.topLeft=this._parseString(r,n),i.topRight=this._parseString(l,n),i.bottomRight=this._parseString(a,n),i.bottomLeft=this._parseString(s,n)),i},n._parseString=function(e,n){var i=t._ValueOptionWithPixelPercentageConverter._parseCssPixel(e);if(!isNaN(i))return(o=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,o.value=i,o;var o,r=t._ValueOptionWithPixelPercentageConverter._parseCssPercentage(e);return isNaN(r)?null:((o=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Percentage,o.value=r<0?1:r,o)},n._convertNumber=function(e,n){var i=new t.options._BorderRadiusValueOption(null,null!=n.strictMode&&0!=n.strictMode),o=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);o.type=t.ValueOptionType.Percentage,o.value=e,i.topLeft=o;var r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);r.type=t.ValueOptionType.Percentage,r.value=e,i.topRight=r;var l=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);l.type=t.ValueOptionType.Percentage,l.value=e,i.bottomRight=l;var a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);return a.type=t.ValueOptionType.Percentage,a.value=e,i.bottomLeft=a,i},n}(t._BaseOptionConverter);t._BorderRadiusValueOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,i){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(o))return null;if(null!=(r=n._toColorOptionFromString(o,i)))return r}var r;return t._JsonElementUtility._isObject(e)&&null!=(r=n._toColorOptionFromObject(e,i))?r:(this._processError(e),null)},n._toColorOption=function(e,i){if(void 0===i&&(i=null),null==i&&(i=new t.JsonSerializerSettings),t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(o))return null;if(null!=(r=n._toColorOptionFromString(o,i)))return r}var r;if(t._JsonElementUtility._isObject(e)&&null!=(r=n._toColorOptionFromObject(e,i)))return r;if(null!=i.strictMode&&0!=i.strictMode)throw new t.OptionError(t.ErrorCode.UnexpectedValue,e);return null},n._toColorOptionFromString=function(e,i){void 0===i&&(i=null),null==i&&(i=new t.JsonSerializerSettings),e=e.trim();var o=n._toCssColorOptionFromCss(e,i);if(null!=o)return o;var r=n._toLinearGradientOptionFromCss(e,i);if(null!=r)return r;var l=n._toRadialGradientOptionFromCss(e,i);return null!=l?l:null},n._toColorOptionFromObject=function(e,n){if(void 0===n&&(n=null),null==n&&(n=new t.JsonSerializerSettings),t._JsonElementUtility._hasProperty(e,"type")){var i=t._AnyTypeUtility._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"type"),t.ColorOptionType);if(null!=i){var o=t._AnyTypeUtility._enumValueToEnum(i,t.ColorOptionType);if(o==t.ColorOptionType.Linear){var r=t.OptionSerializer.deserialize(new t.options._LinearGradientOption,e,n);return r.colorStops.length<=0?null:r}if(o==t.ColorOptionType.Radial){var l=t.OptionSerializer.deserialize(new t.options._RadialGradientOption,e,n);return l.colorStops.length<=0?null:l}if(o==t.ColorOptionType.Pattern)return t.OptionSerializer.deserialize(new t.options._PatternOption,e,n);if(o==t.ColorOptionType.CssColor)return t.OptionSerializer.deserialize(new t.options._CssColorOption,e,n)}throw new t.OptionError(t.ErrorCode.UnexpectedValue,t._JsonElementUtility._getProperty(e,"type"))}return t._JsonElementUtility._hasProperty(e,"pattern")?t.OptionSerializer.deserialize(new t.options._PatternOption,e,n):t._JsonElementUtility._hasProperty(e,"color")?t.OptionSerializer.deserialize(new t.options._CssColorOption,e,n):null},n._toCssColorOptionFromCss=function(e,n){var i=t._OptionUtility._toStringColorFromString(e);if(null==i)return null;var o=new t.options._CssColorOption(null,null!=n.strictMode&&0!=n.strictMode);return o.color=i,o},n._toLinearGradientOptionFromCss=function(t,e){var i=t.match(/^\s*(\w*-\w*)\((.*)\)/);return null==i||"linear-gradient"!=i[1]?null:n._toLinearGradientOptionFromExpression(i[2],e)},n._toRadialGradientOptionFromCss=function(t,e){var i=t.match(/^\s*(\w*-\w*)\((.*)\)/);return null==i||"radial-gradient"!=i[1]?null:n._toRadialGradientOptionFromExpression(i[2],e)},n._toRadialGradientOptionFromExpression=function(e,i){var o=new t.options._RadialGradientOption(null,null!=i.strictMode&&0!=i.strictMode),r=e.split(new RegExp(",(?![^()]*\\))")),l=e.match(new RegExp("\\s*((closest-side|closest-corner|farthest-side|farthest-corner)\\s+)?(at(((\\s+([\\d.]+%|center|((left|right)(?!\\s+(left|right)))|((top|bottom)(?!\\s+(top|bottom))))){1,2})|((\\s+(((left|right)(?!\\s+[\\d.]+%\\s+(left|right))\\s+[\\d.]+%)|((top|bottom)(?!\\s+[\\d.]+%\\s+(top|bottom))\\s+[\\d.]+%))){2}))(?=\\s*\\,))?"));null==l||null==l[2]&&null==l[4]||r.shift();for(var a=[],s=0;s<r.length;s++){var u=t._ColorStopOptionConverter._toColorStopOptionFromString(r[s],i);null!=u&&a.push(u)}return o.colorStops=a,null!=l&&null!=l[2]&&("closest-side"==l[2]?o.extentKeyword=t.GradientExtentKeyword.ClosestSide:"closest-corner"==l[2]?o.extentKeyword=t.GradientExtentKeyword.ClosestCorner:"farthest-side"==l[2]?o.extentKeyword=t.GradientExtentKeyword.FarthestSide:"farthest-corner"==l[2]&&(o.extentKeyword=t.GradientExtentKeyword.FarthestCorner)),null!=l&&null!=l[4]&&(o.position=n._toRadialGradientOptionPositionFromExpression(l[4].trim(),i)),o},n._toRadialGradientOptionPositionFromExpression=function(e,n){var i=new t.options._GradientPositionOption(null,null!=n.strictMode&&0!=n.strictMode);i.keyword=t.GradientPositionKeyword.Left,i.offset=.5;var o=new t.options._GradientPositionOption(null,null!=n.strictMode&&0!=n.strictMode);o.keyword=t.GradientPositionKeyword.Top,o.offset=.5;for(var r=e.split(/\s+/),l=r.length,a=0;a<l;a++){var s=r[a];if(s.search("%")==s.length-1){s=s.slice(0,s.length-1);var u=Number(s)/100;isNaN(u)||(1==l||0==a?(i.keyword=t.GradientPositionKeyword.Left,i.offset=u):2==l&&1==a?"top"==r[a-1]||"bottom"==r[a-1]?i.offset=u:o.offset=u:4==l&&("left"!=r[a-1]&&"right"!=r[a-1]||(i.offset=u),"top"!=r[a-1]&&"bottom"!=r[a-1]||(o.offset=u)))}"top"==s?(o.keyword=t.GradientPositionKeyword.Top,o.offset=0):"bottom"==s?(o.keyword=t.GradientPositionKeyword.Bottom,o.offset=0):"left"==s?(i.keyword=t.GradientPositionKeyword.Left,i.offset=0):"right"==s&&(i.keyword=t.GradientPositionKeyword.Right,i.offset=0)}return[i,o]},n._toLinearGradientOptionFromExpression=function(e,n){var i=new t.options._LinearGradientOption(null,null!=n.strictMode&&0!=n.strictMode),o=e.split(new RegExp(",(?![^()]*\\))")),r=o;if("to"==o[0].slice(0,2)){for(var l=o[0].toLowerCase().split(" "),a="",s=0;s<l.length;s++)a+=l[s].substring(0,1).toUpperCase()+l[s].substring(1);o[0]=a}if("To"==o[0].slice(0,2)){var u=t._AnyTypeUtility._toEnumValueOrNull(o[0],t.GradientSideOrCorner);i.angle=null==u?0:t._LinearGradientAngleOptionConverter._toAngleFromGradientSideOrCorner(t._AnyTypeUtility._enumValueToEnum(u,t.GradientSideOrCorner)),r=o.slice(1)}if(o[0].search("deg")==o[0].length-3){var _=Number(o[0].slice(0,o[0].length-3));isNaN(_)||(i.angle=_),r=o.slice(1)}var p=[];for(s=0;s<r.length;s++)p.push(t._ColorStopOptionConverter._toColorStopOptionFromString(r[s],n));return i.colorStops=p,i},n}(t._BaseOptionConverter);t._ColorOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;var o=null;if(t._JsonElementUtility._isArray(e)?o=t._JsonElementUtility._getAsArray(e):t._JsonElementUtility._isObject(e)&&(o=[e]),null!=o){for(var r=0,l=o;r<l.length;r++){var a=l[r],s=this._toColorStopOption(a,n);null!=s&&i.push(s)}return i}return this._processError(e),i},n.prototype._toColorStopOption=function(e,i){return t._JsonElementUtility._isString(e)?n._toColorStopOptionFromString(t._JsonElementUtility._getAsString(e),i):t._JsonElementUtility._isObject(e)&&!t._JsonElementUtility._isEmpty(e)?t.OptionSerializer.deserialize(new t.options._ColorStopOption,e,i):(this._processError(e),null)},n._toColorStopOptionFromString=function(e,n){var i,o=(e=e.trim()).lastIndexOf(" ");if(-1==o){if(null!=(i=t._NativeColorBuilder._colorBuilder._build(e)))return(s=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i._toCss(),s.stop=null,s}else if(null!=(i=t._NativeColorBuilder._colorBuilder._build(e.slice(0,o).trim()))){var r=e.slice(o+1);if("%"===r)return(s=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i._toCss(),s.stop=null,s;if("%"==r[r.length-1]){var l=r.slice(0,r.length-1),a=parseFloat(l);if(!isNaN(a))return(s=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i._toCss(),s.stop=a/100,s}else{var s,u=parseFloat(r);if(!isNaN(u))return(s=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i._toCss(),s.stop=u,s}}return null},n}(t._BaseOptionConverter);t._ColorStopOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)||t._JsonElementUtility._isNumber(e)){var i=t._AnyTypeUtility._toEnumValueOrNull(e,t.ConcatType);if(null!=i){var o=t._AnyTypeUtility._enumValueToEnum(i,t.ConcatType);return(r=new t.options._ConcatOption(null,null!=n.strictMode&&0!=n.strictMode)).type=o,r}}if(t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isArray(e)){if(t._JsonElementUtility._isArray(e)){var r,l=[];return t._JsonElementUtility._enumerateArray(e,(function(e,n){if(!t._JsonElementUtility._isNumber(e))throw new t.OptionError(t.ErrorCode.LegalNumberValueRequired,e);l.push(t._JsonElementUtility._getAsDouble(e))})),(r=new t.options._ConcatOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ConcatType.Custom,r.customArray=l,r}return t.OptionSerializer.deserialize(new t.options._ConcatOption,e,n)}return this._processError(e),null},n}(t._BaseOptionConverter);t._ConcatOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ConfigPluginOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._ConfigPluginOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"CumulativeMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._CumulativeMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._CumulativeMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;if(t._JsonElementUtility._isObject(e)){var o=t.OptionSerializer.deserialize(new t.options._DataOption,e,n);return i.push(o),i}if(t._JsonElementUtility._isArray(e)){for(var r=0,l=t._JsonElementUtility._getAsArray(e);r<l.length;r++){var a=l[r];t._JsonElementUtility._isObject(a)?(o=t.OptionSerializer.deserialize(new t.options._DataOption,a,n),i.push(o)):this._processError(a)}return i}return this._processError(e),i},n}(t.JsonConverter);t._DataOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsBoolean(e)):t._JsonElementUtility._isNumber(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsDouble(e)):t._JsonElementUtility._isString(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isDate(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsDate(e)):(this._processError(e),null)},n}(t.JsonConverter);t._DataValueTypeConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;return t._JsonElementUtility._isNull(e)?[null]:t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._DataValueTypeConverter(i._strictMode).fromJson(e,n)}),!1)},n}(t.JsonConverter);t._DataValueTypesConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e))return t._JsonElementUtility._getAsBoolean(e)?null:[];if(t._JsonElementUtility._isString(e))return[t._JsonElementUtility._getAsString(e)];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isString(l)){var a=t._JsonElementUtility._getAsString(l);a.trim().length>0&&i.push(a)}}return i}return this._processError(e),null},n}(t.JsonConverter);t._DateFormatsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=new t._FieldNameConverter(this._strictMode).fromJson(e,n);if(null!=i){for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],s=t._DataValueTypeExtension._toDataValueType(a);o.push(s)}return o}return null},n}(t.JsonConverter);t._DetailKeyFieldNameConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Ellipse"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._EllipseOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._EllipseOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__enumType=n,o.__defaultValue=i,o}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this.__defaultValue;if(t._JsonElementUtility._isString(e)||t._JsonElementUtility._isNumber(e)){var i=t._AnyTypeUtility._toEnumValueOrNull(e,this.__enumType);if(null!=i)return i}return this._processError(e),null},n}(t.JsonConverter);t._EnumConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ErrorBar"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ErrorBarOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ErrorBarOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ExponentialMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ExponentialMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ExponentialMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ExponentialTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ExponentialTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ExponentialTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];t._JsonElementUtility._isString(l)?i.push(t._JsonElementUtility._getAsString(l)):this._processError(l)}return i}return t._JsonElementUtility._isString(e)?this._fromStr(t._JsonElementUtility._getAsString(e)):(this._processError(e),null)},n.prototype._fromStr=function(e){for(var n=[],i=0,o=t._EscapedCharacterStringUtility._split(e,",");i<o.length;i++){var r=o[i],l=t._EscapedCharacterStringUtility._normalize(t._EscapedCharacterStringUtility._trim(r));n.push(l)}return n},n}(t.JsonConverter);t._FieldNameConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e);if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(!isNaN(i))return i.toString()}return this._processError(e),null},n}(t.JsonConverter);t._FontSizeConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e);if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(!isNaN(i))return i.toString()+"_NumberFlag_"}return this._processError(e),null},n}(t.JsonConverter);t._FontWeightConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=new t.options._FormatOption(null,null!=n.strictMode&&0!=n.strictMode);return i.value=t._JsonElementUtility._getAsString(e),i}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._FormatOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._FormatOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"FourierTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._FourierTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._FourierTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e)?new t.options._HoverAnimationOption(null,null!=n.strictMode&&0!=n.strictMode):null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._HoverAnimationOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._HoverAnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Image"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ImageOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ImageOverlayOptionConverter=e}(t||(t={})),function(t){!function(t){t[t.NullCreateDefault=0]="NullCreateDefault",t[t.NullReturnNull=1]="NullReturnNull",t[t.NullThrowError=2]="NullThrowError",t[t.EmptyReturnNull=3]="EmptyReturnNull"}(t._JsonNullOrEmptyPolicy||(t._JsonNullOrEmptyPolicy={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNumber(e))i.push(t._JsonElementUtility._getAsDouble(e));else if(t._JsonElementUtility._isString(e))for(var o=0,r=t._JsonElementUtility._getAsString(e).split(",");o<r.length;o++)null!=(s=r[o])&&""!=s.trim()?i.push(parseInt(s.trim(),10)):i.push(null);else if(t._JsonElementUtility._isArray(e))for(var l=0,a=t._JsonElementUtility._getAsArray(e);l<a.length;l++){var s=a[l];i.push(new t._NumberConverter(this._strictMode).fromJson(s,n))}else t._JsonElementUtility._isBoolean(e)&&this._processError(e,t.ErrorCode.UnexpectedValue);return i},n}(t.JsonConverter);t._LabelAngleConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return i(n,e),n.prototype.fromJson=function(n,i){return t._JsonElementUtility._isBoolean(n)?t._JsonElementUtility._getAsBoolean(n)?null:t.AxisPosition.None:e.prototype.fromJson.call(this,n,i)},n}(t._EnumConverter);t._LabelsPositionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isBoolean(e)){var i=t._JsonElementUtility._getAsBoolean(e),o=new t.options._LegendGradientOption(null,null!=n.strictMode&&0!=n.strictMode);return o.enabled=i,o}return t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._LegendGradientOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._LegendGradientOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;for(var i=[],o=0,r=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNull(l))break;var a=t.OptionSerializer.deserialize(new t.options._LegendRangeOption,l,n);i.push(a)}return i},n}(t.JsonConverter);t._LegendRangeOptionsOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._defaultValue=n,i}return i(n,e),n.prototype.fromJson=function(e,i){if(t._JsonElementUtility._isNull(e))return this._defaultValue;var o=t._AnyTypeUtility._toEnumValueOrNull(e,t.GradientSideOrCorner);if(null!=o)return n._toAngleFromGradientSideOrCorner(t._AnyTypeUtility._enumValueToEnum(o,t.GradientSideOrCorner));var r=this._toNumberValue(e);return isNaN(r)?(this._processError(e),this._defaultValue):r},n._toAngleFromGradientSideOrCorner=function(e){switch(e){case t.GradientSideOrCorner.ToLeft:return 270;case t.GradientSideOrCorner.ToRight:return 90;case t.GradientSideOrCorner.ToTop:return 360;case t.GradientSideOrCorner.ToBottom:return 180;case t.GradientSideOrCorner.ToLeftTop:return 315;case t.GradientSideOrCorner.ToRightTop:return 45;case t.GradientSideOrCorner.ToLeftBottom:return 225;case t.GradientSideOrCorner.ToRightBottom:return 135;default:return 0}},n.prototype._toNumberValue=function(e){return t._JsonElementUtility._isString(e)?parseFloat(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):NaN},n}(t.JsonConverter);t._LinearGradientAngleOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"LinearTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LinearTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._LinearTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Line"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._LineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._LineStyleOption(null,null!=n.strictMode&&0!=n.strictMode);return i.stroke=null,i.strokeWidth=1,i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LineStyleOption,e,n):null},n}(t._BaseOptionConverter);t._LineStyleOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._AnimationOption(null,null!=n.strictMode&&0!=n.strictMode);return i.mode=t.AnimationMode.Point,i.duration=1e3,i.easing=t.AnimationEasing.Linear,i.startDelay=1e3,i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._AnimationOption,e,n):null},n}(t.JsonConverter);t._LoadingAnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"LogarithmicTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LogarithmicTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._LogarithmicTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,i){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=n._parse(t._JsonElementUtility._getAsString(e),i);if(null!=o)return o}if(t._JsonElementUtility._isNumber(e)){var r=t._JsonElementUtility._getAsDouble(e),l=new t.options._MarginOption(null,null!=i.strictMode&&0!=i.strictMode);return l.left=r,l.right=r,l.top=r,l.bottom=r,l}return t._JsonElementUtility._isObject(e)?t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer.deserialize(new t.options._MarginOption,e,i):(this._processError(e),null)},n._parse=function(e,n){if(0==e.length)return null;var i=e.split(",",4),o=NaN,r=NaN,l=NaN,a=NaN;if(4==i.length?(o=parseFloat(i[0]),a=parseFloat(i[1]),r=parseFloat(i[2]),l=parseFloat(i[3])):3==i.length?(o=parseFloat(i[0]),l=a=parseFloat(i[1]),r=parseFloat(i[2])):2==i.length?(o=r=parseFloat(i[0]),l=a=parseFloat(i[1])):1==i.length&&(o=r=l=a=parseFloat(i[0])),!(isNaN(o)||isNaN(r)||isNaN(l)||isNaN(a))){var s=new t.options._MarginOption(null,null!=n.strictMode&&0!=n.strictMode);return s.top=o,s.bottom=r,s.left=l,s.right=a,s}return null},n}(t.JsonConverter);t._MarginOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isString(e))for(var o=0,r=t._JsonElementUtility._getAsString(e).split(",");o<r.length;o++){var l=r[o];null!=(u=this._convertFromString(l,n,e))&&i.push(u)}else if(t._JsonElementUtility._isArray(e))for(var a=0,s=t._JsonElementUtility._getAsArray(e);a<s.length;a++){var u,_=s[a];null!=(u=this._toMergeLegendType(_,n))&&i.push(u)}return i},n.prototype._toMergeLegendType=function(e,n){return t._JsonElementUtility._isString(e)?this._convertFromString(t._JsonElementUtility._getAsString(e),n,e):t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._MergeLegendTypeOption,e,n):(this._processError(e,t.ErrorCode.StringRequired),null)},n.prototype._convertFromString=function(e,n,i){var o=e.split(".").map((function(t){return t.trim()}));if(2!=o.length||null==o[0]||null==o[1])throw new t.OptionError(t.ErrorCode.WrongLegendMerge,o);var r=t._AnyTypeUtility._toEnumValueOrNull(o[1],t.LegendType);if(null!=r){var l=new t.options._MergeLegendTypeOption(null,null!=n.strictMode&&0!=n.strictMode);return l.plotName=o[0],l.type=t._AnyTypeUtility._enumValueToEnum(r,t.LegendType),l}return this._processError(i),null},n}(t.JsonConverter);t._MergeLegendTypeOptionArrayConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"MovingAnnualTotalTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._MovingAnnualTotalTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._MovingAnnualTotalTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isArray(e)){var o=t._JsonElementUtility._getAsArray(e);i=this._stringConverter(o,n)}else{if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e).split(",");o=[e],i=this._stringConverter(o,n)}return i},n.prototype._stringConverter=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=new t._StringConverter(this._strictMode).fromJson(l,n);i.push(a)}return i},n}(t.JsonConverter);t._NameArrayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Needle"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._NeedleOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._NeedleOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._NumberConverter(i._strictMode).fromJson(e,n)}))},n}(t.JsonConverter);t._NumberArrayConverter=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=t.ErrorCode.LegalNumberValueRequired);var l=e.call(this,n)||this;return l.__defaultValue=i,l.__errorCode=r,l.__isInteger=o,l}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this.__defaultValue;if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(this.__isInteger&&!t._Utility._isInteger(i)&&this._processError(e,t.ErrorCode.IntegerValueRequired),!isNaN(i))return i}return this._processError(e,this.__errorCode),this.__defaultValue},n}(t.JsonConverter);t._NumberConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):!t._JsonElementUtility._isString(e)||"auto"!=t._JsonElementUtility._getAsString(e)&&"Auto"!==t._JsonElementUtility._getAsString(e)?(this._processError(e),null):null},n}(t.JsonConverter);t._NumberOrNullOrAutoNumberConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=!1);var o=e.call(this,t)||this;return o.__optionType=n,o.__emptyReturnNull=i,o}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)||this.__emptyReturnNull&&t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer._createOption(this.__optionType,e,n)},n}(t._BaseOptionConverter);t._OptionConverter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.deserialize=function(e,n,i){return void 0===i&&(i=null),t.options._isOption(n)&&(n=this._serialize(n)),e._setOption(n),t.JsonSerializer.deserialize(e,n,i)},e._serialize=function(e){var n={};for(var i in e){var o=e[i];i.startsWith("_")||"function"==typeof e[i]||(t.options._isOption(o)&&(o=this._serialize(o)),n[i]=o)}return n},e._deserializeToDerivedType=function(e,n,i,o,r){var l=this._keys.indexOf(i);if(l<0){for(var a=[],s=0,u=Object.getOwnPropertyNames(t);s<u.length;s++){var _=u[s];null!=(h=t[_])&&Object.getPrototypeOf(h)==i&&a.push(h)}this._keys.push(i),this._values.push(a),l=this._keys.length-1}for(var p=0,c=this._values[l];p<c.length;p++){var h,f=new(h=c[p])(o);if(f.canConvert(r,e,n))return f.fromJson(e,n)}return this.deserialize(new r(o),e,n)},e._isOptionObject=function(e){return t.options._isOption(e)},e._createOption=function(n,i,o){var r=t.options[n];if(null==r&&null!=t.financial&&(r=t.financial.options[n]),null==r)throw new t.AssertError(t.ErrorCode.InvalidArgument,n);if(t.options._isOption(i))return i;var l=new r(null,null==o?null:null!=o.strictMode&&0!=o.strictMode);return l._setOption(i),e.deserialize(l,i,o)},e._toObjectArray=function(t){return t},e._keys=[],e._values=[],e}();t.OptionSerializer=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e))return t.OptionSerializer.deserialize(new t.options._ReferenceLineLabelOption,e,n);if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e),o=new t.options._ReferenceLineLabelOption(null,null!=n.strictMode&&0!=n.strictMode);return o.text=i,o}return this._processError(e),null},n}(t._BaseOptionConverter);t._OverlayLabelOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__castAsArray=n,i}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]);for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],s=t.OptionSerializer._deserializeToDerivedType(a,n,t._OverlayOptionConverter,this._strictMode,t.options._OverlayOption);null!=s&&o.push(s)}return o},n}(t.JsonConverter);t._OverlayOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._MarginOptionConverter._parse(t._JsonElementUtility._getAsString(e),n);if(null!=i)return(o=new t.options._PaddingOption(null,null!=n.strictMode&&0!=n.strictMode)).left=i.left,o.right=i.right,o.top=i.top,o.bottom=i.bottom,o}if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);return(o=new t.options._PaddingOption(null,null!=n.strictMode&&0!=n.strictMode)).left=r,o.right=r,o.top=r,o.bottom=r,o}return t._JsonElementUtility._isObject(e)?t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer.deserialize(new t.options._PaddingOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._PaddingOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNull(l))i.push(null);else{if(!t._JsonElementUtility._isString(l))return null;i.push(t._JsonElementUtility._getAsString(l))}}return i}return t._JsonElementUtility._isString(e)?t._JsonElementUtility._getAsString(e).split(","):[]},n}(t.JsonConverter);t._PaletteConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=t._AnyTypeUtility._toEnumValueOrNull(e,t.Palette);if(null!=i){var o=t._AnyTypeUtility._enumValueToString(i,t.Palette);return t._NativeExtension.getPropertyValue(t.models._Palettes,o).map((function(e){var i=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode);i.type=t.options.PaletteItemType.Index;var o=new t.options._CssColorOption(null,null!=n.strictMode&&0!=n.strictMode);return o.color=e,i.color=o,i}))}for(var r=[],l=0,a=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];l<a.length;l++){var s=a[l];r.push(this._createPaletteItemOption(s,n))}return r},n.prototype._createPaletteItemOption=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){if(t._JsonElementUtility._hasProperty(e,"type")&&!t._JsonElementUtility._isNull(t._JsonElementUtility._getProperty(e,"type"))){var i=t._AnyTypeUtility._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"type"),t.options.PaletteItemType),o=null==i?null:t._AnyTypeUtility._enumValueToEnum(i,t.options.PaletteItemType);if(o==t.options.PaletteItemType.Data){if(t._JsonElementUtility._hasProperty(e,"color")&&t._JsonElementUtility._hasProperty(e,"data")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n)))return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Data,a.data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(e,"data"),n),a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a}else if(o==t.options.PaletteItemType.Index&&t._JsonElementUtility._hasProperty(e,"color")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n)))return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a;var r=new t._ColorOptionConverter(this._strictMode).fromJson(e,n);if(null!=r)return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=r,a}else if(t._JsonElementUtility._hasProperty(e,"data")){if(t._JsonElementUtility._hasProperty(e,"color")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n)))return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Data,a.data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(e,"data"),n),a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a}else if(t._JsonElementUtility._hasProperty(e,"color")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n)))return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a}else if(t._JsonElementUtility._isString(e)){var l,a;if(null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(e,n)))return(a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=l,a}return this._processError(e,t.ErrorCode.UnexpectedValue),null},n}(t.JsonConverter);t._PaletteItemOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")&&!t._JsonElementUtility._hasProperty(i,"location")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Path"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PathAnnotationOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._PathAnnotationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;if(t._JsonElementUtility._isNumber(e)){var o=t._JsonElementUtility._getAsDouble(e),r=this._createValueOptionByNumber(o,n);return i.push(r),i}if(t._JsonElementUtility._isString(e)){for(var l=t._JsonElementUtility._getAsString(e).split(","),a=0;a<l.length&&!(a>1);a++)o=parseFloat(l[a]),r=this._createValueOptionByNumber(o,n),i.push(r);return i}if(t._JsonElementUtility._isArray(e)){var s=t._JsonElementUtility._getAsArray(e);for(a=0;a<s.length&&!(a>1);a++)r=this._createValueOptionByJson(s[a],n,a),i.push(r);return i}return t._JsonElementUtility._isObject(e)?(r=this._createValueOptionByJson(e,n,0),i.push(r),i):(this._processError(e),i)},n.prototype._createValueOptionByNumber=function(e,n){if(isNaN(e))return null;var i=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);return i.value=e,i.type=e>=-1&&e<=1?t.ValueOptionType.Percentage:t.ValueOptionType.Pixel,i},n.prototype._createValueOptionByJson=function(e,n,i){if(t._JsonElementUtility._hasProperty(e,"type")&&t._JsonElementUtility._hasProperty(e,"value")){var o=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n),r=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=o&&null!=r&&!isNaN(r)){var l,a=t._AnyTypeUtility._enumValueToEnum(o,t.ValueOptionType);if(0==i&&a==t.ValueOptionType.Percentage)return(l=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,l.value=r,l;if(1==i&&a==t.ValueOptionType.Pixel)return(l=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,l.value=r,l}}return null},n}(t._BaseOptionConverter);t._PlotConfigOffsetArrayConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?new t.options._PlotConfigOption(e,null!=n.strictMode&&0!=n.strictMode):null},n}(t._BaseOptionConverter);t._PlotConfigOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer._deserializeToDerivedType(e,n,t._PlotConfigOptionConverter,this._strictMode,t.options._PlotConfigOption):null},n}(t._BaseOptionConverter);t._PlotConfigOptionDerivedTypeConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isArray(e))for(var o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];t._JsonElementUtility._isNull(l)||i.push(t.OptionSerializer.deserialize(new t.options._PlotConfigTextOption,l,n))}else i.push(t.OptionSerializer.deserialize(new t.options._PlotConfigTextOption,e,n));return i},n}(t.JsonConverter);t._PlotConfigTextConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"PolynomialTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PolynomialTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._PolynomialTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"PowerTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PowerTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._PowerTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Rectangle"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._RectangleOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._RectangleOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ReferenceBand"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ReferenceBandOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ReferenceBandOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ReferenceLine"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ReferenceLineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._ReferenceLineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=new t._ValueOptionWithPixelPercentageConverter(this._strictMode).fromJson(e,n);return null!=i&&i.type==t.ValueOptionType.Percentage&&i.value>=1?i:new t._ValueOptionWithPixelConverter(this._strictMode).fromJson(e,n)},n}(t._BaseOptionConverter);t._RippleScaleConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"MovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._SimpleMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._SimpleMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e))return t.OptionSerializer.deserialize(new t.options._SortEncodingOption,e,n);var i=t._AnyTypeUtility._toEnumValueOrNull(e,t.OrderType);if(null!=i){var o=t._AnyTypeUtility._enumValueToEnum(i,t.OrderType),r=new t.options._SortEncodingOption(null,null!=n.strictMode&&0!=n.strictMode);return r.order=o,r}return this._processError(e),null},n}(t._BaseOptionConverter);t._SortEncodingOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,[],(function(e,n){return new t._SortEncodingOptionConverter(i._strictMode).fromJson(e,n)}))},n}(t._BaseOptionConverter);t._SortEncodingOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;return t._JsonElementUtility._isNull(e)?null:t._ArrayConverter._toArrayOption(e,n,[],(function(e,n){return new t._StringConverter(i._strictMode).fromJson(e,n)}),!1)},n}(t.JsonConverter);t._StringArrayConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isString(e)?t._JsonElementUtility._getAsString(e):(this._processError(e,t.ErrorCode.UnexpectedValue),null)},n}(t.JsonConverter);t._StringConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._MarginOptionConverter._parse(t._JsonElementUtility._getAsString(e),n);if(null!=i)return(o=new t.options._StrokeWidthOption(null,null!=n.strictMode&&0!=n.strictMode)).left=i.left,o.right=i.right,o.top=i.top,o.bottom=i.bottom,o}if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);return(o=new t.options._StrokeWidthOption(null,null!=n.strictMode&&0!=n.strictMode)).top=r,o.bottom=r,o.left=r,o.right=r,o}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._StrokeWidthOption,e,n):(this._processError(e),null)},n}(t._BaseOptionConverter);t._StrokeWidthOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;if(t._JsonElementUtility._isNull(e))return[];var o=[];return t._JsonElementUtility._isArray(e)&&t._JsonElementUtility._enumerateArray(e,(function(e,r){var l=e,a=null;if(t._JsonElementUtility._isObject(l))if(t._JsonElementUtility._hasProperty(l,"shape")){var s=null;t._JsonElementUtility._hasProperty(l,"type")&&(s=new t._EnumConverter(i._strictMode,t.SymbolItemType,null).fromJson(t._JsonElementUtility._getProperty(l,"type"),n));var u=i._fromSymbolShapeOption(t._JsonElementUtility._getProperty(l,"shape"),n),_=null==s?null:t._AnyTypeUtility._enumValueToEnum(s,t.SymbolItemType);null!=_&&_==t.SymbolItemType.Index||!t._JsonElementUtility._hasProperty(l,"data")||null!=_&&_!=t.SymbolItemType.Data?((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=u,a.type=t.SymbolItemType.Index):(null!=u.content||t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(l,"shape")))&&((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(l,"data"),n),a.shape=u,a.type=t.SymbolItemType.Data)}else t._JsonElementUtility._hasProperty(l,"name")&&((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=i._fromSymbolShapeOption(l,n),a.type=t.SymbolItemType.Index);else t._JsonElementUtility._isString(l)?((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=i._fromSymbolShapeOption(l,n),a.type=t.SymbolItemType.Index):i._processError(l,t.ErrorCode.UnexpectedValue);null!=a&&o.push(a)})),o},n.prototype._fromSymbolShapeOption=function(e,n){if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e),o=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode);return o.name=i,o.content="",o}if(t._JsonElementUtility._isObject(e)){var r=t._JsonElementUtility._hasProperty(e,"name")?t._JsonElementUtility._getProperty(e,"name"):null,l=t._JsonElementUtility._hasProperty(e,"content")?t._JsonElementUtility._getProperty(e,"content"):null;if(!t._JsonElementUtility._isNull(r)&&t._JsonElementUtility._isString(r)&&(t._JsonElementUtility._isNull(l)||t._JsonElementUtility._isString(l))){var a=null;if(t._JsonElementUtility._isNull(l))(a=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode)).name=t._JsonElementUtility._getAsString(r),a.content=null;else{var s=t._JsonElementUtility._getAsString(l);(a=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode)).name=t._JsonElementUtility._getAsString(r),a.content=s}return a}t._JsonElementUtility._isNull(r)||t._JsonElementUtility._isString(r)||this._processError(r,t.ErrorCode.UnexpectedValue),t._JsonElementUtility._isNull(l)||t._JsonElementUtility._isString(l)||this._processError(l,t.ErrorCode.UnexpectedValue)}return this._processError(e,t.ErrorCode.UnexpectedValue),null},n}(t.JsonConverter);t._SymbolShapesConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isNumber(e)&&!isNaN(e))i.push(t._JsonElementUtility._getAsDouble(e));else if(t._JsonElementUtility._isString(e))for(var o=t._JsonElementUtility._getAsString(e).split(","),r=0,l=o.length;r<l;r++){var a=o[r].trim();if(null==a)i.push(null);else if("Auto"==a)i.push(null);else{var s=parseInt(a,10);if(isNaN(s))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);i.push(s)}}else t._JsonElementUtility._isArray(e)&&(i=t._JsonElementUtility._getAsArray(e).map((function(n){if(null==n)return null;if(t._JsonElementUtility._isNumber(n)&&!isNaN(n))return t._JsonElementUtility._getAsDouble(n);if("Auto"==n)return null;if(!t._JsonElementUtility._isString(n))throw new t.OptionError(t.ErrorCode.UnexpectedValue,e);var o=parseInt(t._JsonElementUtility._getAsString(n),10);if(isNaN(o))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);throw i.push(o),new t.OptionError(t.ErrorCode.UnexpectedValue,e)})));r=0;for(var u=i.length;r<u;r++)s=i[r],t._JsonElementUtility._isNumber(s)&&(null!=s&&s<-90?i[r]=-90:null!=s&&s>90&&(i[r]=90));return i},n}(t.JsonConverter);t._TextAnglesConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return this._parse(t._JsonElementUtility._getAsString(e),n);if(t._JsonElementUtility._isNumber(e)){var i=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.Overline),o=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.LineThrough),r=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.Underline),l=new t.options._TextDecorationOption(null,null!=n.strictMode&&0!=n.strictMode);return l.overline=i,l.lineThrough=o,l.underline=r,l}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._TextDecorationOption,e,n):(this._processError(e),null)},n.prototype._parse=function(e,n){for(var i=null,o=null,r=null,l=0,a=e.split(",",3);l<a.length;l++){var s=a[l].trim();"Overline"==s?i=!0:"LineThrough"==s?o=!0:"Underline"==s&&(r=!0)}var u=new t.options._TextDecorationOption(null,null!=n.strictMode&&0!=n.strictMode);return u.overline=i,u.lineThrough=o,u.underline=r,u},n}(t._BaseOptionConverter);t._TextDecorationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Text"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._TextGroupOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._TextGroupOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){var i=t.OptionSerializer.deserialize(new t.options._PlotConfigTooltipOption,e,n);return t._JsonElementUtility._hasProperty(e,"scope")&&(i.scope=new t._StringConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"scope"),n)),i}return null},n}(t._BaseOptionConverter);t._ToolTipConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,[],(function(t,e){return i._fromJsonImp(t,e)}))},n.prototype._fromJsonImp=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var i=new t._EnumConverter(this._strictMode,t.TrackerType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=i){var o=t._AnyTypeUtility._enumValueToEnum(i,t.TrackerType);if(o==t.TrackerType.CrossY||o==t.TrackerType.CrossX)return t.OptionSerializer.deserialize(new t.options._TrackLineOption,e,n);if(o==t.TrackerType.Area)return t.OptionSerializer.deserialize(new t.options._TrackAreaOption,e,n)}}return this._processError(e),null},n}(t._BaseOptionConverter);t._TrackerOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];for(var i=[],o=0,r=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];o<r.length;o++){var l=r[o],a=this._toTransformOptionOrNull(l,n);null!=a&&i.push(a)}return i},n.prototype._toTransformOptionOrNull=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){var i,o=t._JsonElementUtility._hasProperty(e,"type")?new t._EnumConverter(this._strictMode,t.TransformType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n):null,r=null==o?null:t._AnyTypeUtility._enumValueToEnum(o,t.TransformType);if(null==r)return t._JsonElementUtility._hasProperty(e,"aggregate")?((i=t.OptionSerializer.deserialize(new t.options._AggregateTransformOption,e,n)).type=t.TransformType.Aggregate,i):t._JsonElementUtility._hasProperty(e,"bin")&&t._JsonElementUtility._hasProperty(e,"field")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._BinTransformOption,e,n)).type=t.TransformType.Bin,i):t._JsonElementUtility._hasProperty(e,"calculate")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._CalculateTransformOption,e,n)).type=t.TransformType.Calculate,i):t._JsonElementUtility._hasProperty(e,"category")&&t._JsonElementUtility._hasProperty(e,"valueFieldAs")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._UnpivotTransformOption,e,n)).type=t.TransformType.Unpivot,i):null;switch(r){case t.TransformType.Aggregate:return t.OptionSerializer.deserialize(new t.options._AggregateTransformOption,e,n);case t.TransformType.Bin:return t.OptionSerializer.deserialize(new t.options._BinTransformOption,e,n);case t.TransformType.Calculate:return t.OptionSerializer.deserialize(new t.options._CalculateTransformOption,e,n);case t.TransformType.Unpivot:return t.OptionSerializer.deserialize(new t.options._UnpivotTransformOption,e,n)}}return this._processError(e),null},n}(t.JsonConverter);t._TransformOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];null!=(a=this._toValueEncodingOption(l,n))&&i.push(a)}return i}var a;return null!=(a=this._toValueEncodingOption(e,n))?[a]:[]},n.prototype._toValueEncodingOption=function(e,n){return t._JsonElementUtility._isNull(e)?null:!t._JsonElementUtility._isObject(e)||!t._JsonElementUtility._hasProperty(e,"label")||t._JsonElementUtility._isNull(t._JsonElementUtility._getProperty(e,"label"))||t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(e,"label"))||t._JsonElementUtility._isObject(t._JsonElementUtility._getProperty(e,"label"))?t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"field")&&t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(e,"field"))?null!=(i=t.OptionSerializer.deserialize(new t.options._FieldsValueEncodingOption,e,n)).field?i:null:t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"field")&&t._JsonElementUtility._isObject(t._JsonElementUtility._getProperty(e,"field"))?null!=(i=t.OptionSerializer.deserialize(new t.options._RangeFieldValueEncodingOption,e,n)).field?i:t.OptionSerializer.deserialize(new t.options._ValueEncodingOption,e,n):null:(this._processError(t._JsonElementUtility._getProperty(e,"label")),null);var i},n}(t._BaseOptionConverter);t._ValueEncodingOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];var i=[];i=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];for(var o=[],r=0;r<i.length;r++){var l=i[r],a=null,s=this._toValueOptionWithPixelStar(l,n);null!=(a=null!=s&&this._isValid(s.value.toString())?this._toValueOptionWithPixelStar(l,n):this._toStringValueOptionWithPixelStar("*",n))&&o.push(a)}return o},n.prototype._toStringValueOptionWithPixelStar=function(e,n){var i=this._parseCssStar(e);if(!isNaN(i))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Available,r.value=i,r;var o=this._parseCssPixel(e);if(!isNaN(o))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,r.value=o,r;var r,l=this._parseCssNumber(e);return isNaN(l)?null:((r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,r.value=l,r)},n.prototype._toValueOptionWithPixelStar=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=this._parseCssStar(t._JsonElementUtility._getAsString(e));if(!isNaN(i))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Available,s.value=i,s;var o=this._parseCssPixel(t._JsonElementUtility._getAsString(e));if(!isNaN(o))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,s.value=o,s;var r=this._parseCssNumber(t._JsonElementUtility._getAsString(e));if(!isNaN(r))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,s.value=r,s}else{if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e)))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,s.value=t._JsonElementUtility._getAsDouble(e),s;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var l=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=l){var a=t._AnyTypeUtility._enumValueToEnum(l,t.ValueOptionType);if((a==t.ValueOptionType.Available||a==t.ValueOptionType.Pixel)&&t._JsonElementUtility._hasProperty(e,"value")){var s,u=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=u&&!isNaN(u))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,s.value=u,s}}}}return null},n.prototype._isValid=function(t){if(null===t)return!1;var e=t.match(/\-?\d+/);return null===e||e===[]||!(parseFloat(e[0])<=0)},n.prototype._parseCssPixel=function(t){return(t=t.trim()).toLowerCase().indexOf("px")==t.length-2?parseFloat(t.substr(0,t.length-2)):NaN},n.prototype._parseCssStar=function(t){var e=(t=t.trim()).toLowerCase().match(/.*(?=\*)/);return null!==e?""===e[0]?1:parseFloat(e[0]):NaN},n.prototype._parseCssNumber=function(t){return t=t.trim(),parseFloat(t)},n}(t.JsonConverter);t._ValueOptionPixelStarConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e)))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Number,r.value=t._JsonElementUtility._getAsDouble(e),r;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var i=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=i){var o=t._AnyTypeUtility._enumValueToEnum(i,t.ValueOptionType);if((o===t.ValueOptionType.Number||o===t.ValueOptionType.Date)&&t._JsonElementUtility._hasProperty(e,"value")){var r,l=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=l&&!isNaN(l))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=o,r.value=l,r}}}return null},n}(t._BaseOptionConverter);t._ValueOptionWithNumberDateConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=this._parseCssPixel(t._JsonElementUtility._getAsString(e));if(!isNaN(i))return(a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,a.value=i,a}else{if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e))){var o=t._JsonElementUtility._getAsDouble(e);return(a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,a.value=o,a}if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var r=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=r){var l=t._AnyTypeUtility._enumValueToEnum(r,t.ValueOptionType);if(l==t.ValueOptionType.Pixel&&t._JsonElementUtility._hasProperty(e,"value")){var a,s=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=s&&!isNaN(s))return(a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=l,a.value=s,a}}}}return null},n.prototype._parseCssPixel=function(t){return(t=t.trim()).toLowerCase().indexOf("px")==t.length-2?parseFloat(t.substr(0,t.length-2)):NaN},n}(t._BaseOptionConverter);t._ValueOptionWithPixelConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){if("Auto"==t._JsonElementUtility._getAsString(e))return(u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Enum,u.value=0,u;if(t._NativeExtension._isNullOrEmptyString(t._JsonElementUtility._getAsString(e)))return null;var i=this._toPixelValueFromCss(t._JsonElementUtility._getAsString(e));if(!isNaN(i))return(u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,u.value=i,u;var o=this._toPercentageValueFromCss(t._JsonElementUtility._getAsString(e));if(!isNaN(o))return(u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Percentage,u.value=o,u}else{if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e))){var r=t._JsonElementUtility._getAsDouble(e);return t._JsonElementUtility._getAsDouble(e)<=1?((u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Percentage,u.value=r,u):((u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,u.value=r,u)}if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var l=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=l){var a=t._AnyTypeUtility._enumValueToEnum(l,t.ValueOptionType);if(a==t.ValueOptionType.Percentage||a==t.ValueOptionType.Pixel){if(t._JsonElementUtility._hasProperty(e,"value")){var s=this._toNumberValue(t._JsonElementUtility._getProperty(e,"value"));if(!isNaN(s))return(u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,u.value=s,u;this._processError(t._JsonElementUtility._getProperty(e,"value"))}}else if(a==t.ValueOptionType.Enum&&t._JsonElementUtility._hasProperty(e,"value")){var u;if(null!=t._AnyTypeUtility._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"value"),t.HeaderFooterWidthOptionType))return(u=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Enum,u.value=0,u;this._processError(t._JsonElementUtility._getProperty(e,"value"))}}}}return this._processError(e),null},n.prototype._toPixelValueFromCss=function(t){return(t=t.trim()).toLowerCase().indexOf("px")==t.length-2?parseFloat(t.substr(0,t.length-2)):NaN},n.prototype._toPercentageValueFromCss=function(t){return(t=t.trim()).toLowerCase().indexOf("%")==t.length-1?parseFloat(t.substr(0,t.length-1)):NaN},n.prototype._toNumberValue=function(e){return t._JsonElementUtility._isString(e)?parseFloat(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):NaN},n}(t._BaseOptionConverter);t._ValueOptionWithPixelPercentageAutoOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,i){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=n._parseCssPixel(t._JsonElementUtility._getAsString(e));if(!isNaN(o))return(_=new t.options._ValueOption(null,null!=i.strictMode&&0!=i.strictMode)).type=t.ValueOptionType.Pixel,_.value=o,_;var r=n._parseCssPercentage(t._JsonElementUtility._getAsString(e));if(!isNaN(r)){r<0&&(r=1);var l=r;return(_=new t.options._ValueOption(null,null!=i.strictMode&&0!=i.strictMode)).type=t.ValueOptionType.Percentage,_.value=l,_}}else{if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e))){var a=t._JsonElementUtility._getAsDouble(e);return a<0&&(a=1),(_=new t.options._ValueOption(null,null!=i.strictMode&&0!=i.strictMode)).type=t.ValueOptionType.Percentage,_.value=a,_}if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var s=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),i);if(null!=s){var u=t._AnyTypeUtility._enumValueToEnum(s,t.ValueOptionType);if((u==t.ValueOptionType.Percentage||u==t.ValueOptionType.Pixel)&&t._JsonElementUtility._hasProperty(e,"value")){var _,p=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),i);if(null!=p&&!isNaN(p))return p<0&&u==t.ValueOptionType.Percentage&&(p=1),(_=new t.options._ValueOption(null,null!=i.strictMode&&0!=i.strictMode)).type=u,_.value=p,_}}}}return null},n._parseCssPixel=function(t){return(t=t.trim()).toLowerCase().indexOf("px")==t.length-2?parseFloat(t.substr(0,t.length-2)):NaN},n._parseCssPercentage=function(t){return(t=t.trim()).toLowerCase().indexOf("%")==t.length-1?parseFloat(t.substr(0,t.length-1)):NaN},n}(t._BaseOptionConverter);t._ValueOptionWithPixelPercentageConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];null==l?i.push(null):t._JsonElementUtility._isNumber(l)?i.push(t._JsonElementUtility._getAsDouble(l)):this._processError(e)}return i}return this._processError(e),null},n}(t.JsonConverter);t._ViewportOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"WeightedMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._WeightedMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._WeightedMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e||this._processError(e,t.ErrorCode.UnexpectedNullValue),e},n}(t._BaseValidator);t._AggregateOptionValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__isMaxValue=n,i}return i(n,e),n.prototype.validate=function(e,n,i){var o=i,r=this.__isMaxValue?e:o.max,l=this.__isMaxValue?o.min:e;return null!=r&&null!=l&&r.value<l.value&&this._processError(r.value,t.ErrorCode.MaxLessThanMin,l.value),e},n}(t._BaseValidator);t._AxisOptionMaxMinValueValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n){void 0===n&&(n=!1);var i=e.call(this,t)||this;return i.__openPercentage=n,i}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return null;if(e.type==t.ValueOptionType.Percentage){if(!this.__openPercentage&&e.value>=0&&e.value<=1)return e;if(this.__openPercentage&&e.value>0&&e.value<1)return e}else if(e.type==t.ValueOptionType.Pixel)return e.value<0&&(e.value=0),e;return this._processError(e,t.ErrorCode.UnexpectedValue),null},n}(t._BaseValidator);t._AxisSizeValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>0||this._processError(e,t.ErrorCode.PositiveNumberExpected),e)},n}(t._BaseValidator);t._AxisUnitValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:(null!=e.match(/xx-small|x-small|small|medium|large|x-large|xx-large|[\d.]+px|[\d.]+pt|[\d.]+pc|[\d.]+in|[\d.]+cm|[\d.]+mm|[\d.]+%|[\d.]+em|[\d.]+ex|[\d.]+ch|[\d.]+rem|[\d.]+q|[\d.]+/)||this._processError(e,t.ErrorCode.UnexpectedValue),e)},n}(t._BaseValidator);t._FontSizeValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,i,o){if(null==e)return null;var r=!1,l=e.match(/_NumberFlag_$/);null!=l&&(e=e.substring(0,l.index),r=!0);var a=parseFloat(e);if(isNaN(a)){if(null!=(s=t._AnyTypeUtility._toEnumValueOrNull(e,t.FontWeight)))return e}else{var s;if(null!=(s=t._AnyTypeUtility._toEnumValueOrNull(a,t.FontWeight)))return t._AnyTypeUtility._enumValueToString(s,t.FontWeight);if(n.__minFontWeight<=a&&a<=n.__maxFontWeight)return e}return r?this._processError(a,t.ErrorCode.UnexpectedValue):this._processError(e,t.ErrorCode.UnexpectedValue),e},n.__minFontWeight=1,n.__maxFontWeight=1e3,n}(t._BaseValidator);t._FontWeightValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e||0==e.length){var o=[],r=new t.options._GradientPositionOption,l=new t.options._GradientPositionOption;return o.push(r,l),o}var a=e;if(1===a.length){var s=new t.options._GradientPositionOption;switch(a[0].keyword){case t.GradientPositionKeyword.Left:case t.GradientPositionKeyword.Right:s.keyword=t.GradientPositionKeyword.Top,s.offset=.5;break;case t.GradientPositionKeyword.Top:case t.GradientPositionKeyword.Bottom:s.keyword=t.GradientPositionKeyword.Left,s.offset=.5}a.push(s)}if(2===a.length){if(!(a[0].keyword!==t.GradientPositionKeyword.Left&&a[0].keyword!==t.GradientPositionKeyword.Right||a[1].keyword!==t.GradientPositionKeyword.Left&&a[1].keyword!==t.GradientPositionKeyword.Right)){var u=t._AnyTypeUtility._enumValueToString(e[1].keyword,t.GradientPositionKeyword);throw new t.OptionError(t.ErrorCode.WrongGradientPosition,u)}if(a[0].keyword===t.GradientPositionKeyword.Top||a[0].keyword===t.GradientPositionKeyword.Bottom){if(a[1].keyword===t.GradientPositionKeyword.Top||a[1].keyword===t.GradientPositionKeyword.Bottom)throw u=t._AnyTypeUtility._enumValueToString(e[1].keyword,t.GradientPositionKeyword),new t.OptionError(t.ErrorCode.WrongGradientPosition,u);a.reverse()}return a}return this._processError(e,t.ErrorCode.UnexpectedValue),e},n}(t._BaseValidator);t._GradientPositionsValidator=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.validate=function(t,e,n){return null!=t&&t.duration>0?t:null},e}(t._BaseValidator);t._HoverAnimationOptionValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null!=e&&!isNaN(e)){if(0<=e&&e<1)return e;if(e<0)return 0}return this._processError(e,t.ErrorCode.UnexpectedValue),e},n}(t._BaseValidator);t._InnerRadiusValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:isNaN(e)||0==e?(this._processError(e,t.ErrorCode.PositiveNumberExpected),e):e},n}(t._BaseValidator);t._InterceptValidator=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.validate=function(t,e,n){if(null==t)return[];for(var i=0;i<t.length;i++){var o=t[i];null!=o&&(o<-90?t[i]=-90:o>90&&(t[i]=90))}return t},e}(t._BaseValidator);t._LabelAngleValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e&&!isNaN(e)&&e>0&&1!=e||this._processError(null,t.ErrorCode.UnexpectedLogBaseValue),e},n}(t._BaseValidator);t._LogBaseValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e||this._processError(e,t.ErrorCode.UnexpectedValue),e},n}(t._BaseValidator);t._MergeLegendTypeValidator=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.validate=function(t,e,n){return null==t?[]:(t=t.map((function(t){return null==t?null:t.trim()}))).filter((function(t){return null!=t&&""!=t}))},e}(t._BaseValidator);t._NameArrayOptionValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var l=e.call(this,t)||this;return l.__min=n,l.__max=i,l.__autoCorrect=o,l.__isInteger=r,l}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:isNaN(e)?(this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),null):(this.__isInteger&&!t._Utility._isInteger(e)&&this._processError(e,t.ErrorCode.IntegerValueRequired),null!=this.__min&&e<this.__min&&(this.__autoCorrect?e=this.__min:this._processError(e,t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,this.__min)),null!=this.__max&&e>this.__max&&(this.__autoCorrect?e=this.__max:this._processError(e,t.ErrorCode.LowerThanOrEqualToNumberValueRequired,this.__max)),e)},n}(t._BaseValidator);t._NumberValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__nullCreateDefault=n,i}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return this.__nullCreateDefault?this._createDefaultPaletteItemOpions():null;for(var o=[],r=!1,l=0,a=e;l<a.length;l++){var s=a[l];null==s||(s.type==t.options.PaletteItemType.Index&&(r=!0),this._isDuplicatedInPalettes(s,o)||o.push(s))}return r||o.push.apply(o,this._createDefaultPaletteItemOpions()),o},n.prototype._createDefaultPaletteItemOpions=function(){for(var e=[],n=0,i=t.models._Palettes.Office;n<i.length;n++){var o=i[n],r=new t.options._PaletteItemOption;r.type=t.options.PaletteItemType.Index,r.color=t._ColorOptionConverter._toColorOptionFromString(o),e.push(r)}return e},n.prototype._isDuplicatedInPalettes=function(e,n){if(e.type==t.options.PaletteItemType.Index)return!1;for(var i=0,o=n;i<o.length;i++){var r=o[i];if(r.type==t.options.PaletteItemType.Data&&t._DataValueTypeEqualityComparer._comparer._equalsWith(r.data,e.data))return!0}return!1},n}(t._BaseValidator);t._PaletteItemOptionsValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return[];for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],s=null==a?null:a.trim();null!=s&&""!=s&&("none"==s?o.push("none"):null==t._NativeColorBuilder._colorBuilder._build(s)?this._processError(s,t.ErrorCode.UnexpectedNullValue):o.push(s))}return o},n}(t._BaseValidator);t._PaletteValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return this._defaultPath();var o=e.split(":");if(2==o.length){var r=o[0],l=o[1];if("path"==r&&null!=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(l))return e}else{var a=t._ExcelNamedPatternList.defaultExcelPattern.pattern[e];if(null!=a)return"path:"+a.join(" ")}return this._processError(e,t.ErrorCode.UnexpectedValue),e},n.prototype._defaultPath=function(){return"path:"+t._ExcelNamedPatternList.defaultExcelPattern.pattern["Dotted-5%"].join(" ")},n}(t._BaseValidator);t._PathWithStyleOptionContentValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:((null!=e.fill&&t.options._isPatternOption(e.fill)||null!=e.stroke&&t.options._isPatternOption(e.stroke))&&this._processError(e,t.ErrorCode.UnexpectedValue),null==e.fill&&(e.fill=t.options._CssColorOption._buildColorOption("#000000")),null==e.strokeWidth&&(e.strokeWidth=0),null==e.stroke&&(e.stroke=t.options._CssColorOption._buildColorOption("none")),e)},n}(t._BaseValidator);t._PathWithStyleOptionStyleValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){var o=[];if(null==e||0==e.length)return o;for(var r=0;r<e.length;r++){var l=e[r];null==l.row&&(l.row=r),null==l.column&&(l.column=0);for(var a=0,s=o;a<s.length;a++){var u=s[a];u.row==l.row&&u.column==l.column&&this._processError(o,t.ErrorCode.DuplicatedRowColumn)}o.push(l)}return o},n}(t._BaseValidator);t._PlotAreasValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return null;if(!isNaN(e)){var o=this._normalizeAngle(e);return o<=-90&&(o+=180),o>90&&(o-=180),o}return this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),null},n.prototype._normalizeAngle=function(t){for(;t<-180||t>180;)t<-180&&(t+=360),t>180&&(t-=360);return t},n}(t._BaseValidator);t._PlotConfigTextAngleValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(0==e.length)e.push(new t.options._PlotConfigTextOption);else{for(var o=!1,r=0,l=e;r<l.length;r++)if(l[r].scope==t._Constants.DataPointTextScope){o=!0;break}o||e.push(new t.options._PlotConfigTextOption)}return e},n}(t._BaseValidator);t._PlotConfigTextValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)e=[new t.options._PlotConfigTooltipOption];else if(0==e.length)e.push(new t.options._PlotConfigTooltipOption);else{for(var o=!1,r=0,l=e;r<l.length;r++)if("DataPoint"===l[r].scope){o=!0;break}o||e.push(new t.options._PlotConfigTooltipOption)}return e},n}(t._BaseValidator);t._PlotConfigTooltipArrayValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e&&e.type==t.ValueOptionType.Percentage&&e.value>=1||null!=e&&e.type==t.ValueOptionType.Pixel&&e.value>=0?e:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:10})},n}(t._BaseValidator);t._RippleScaleValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===r&&(r=null);var l=e.call(this,t)||this;return l.__empytAsNull=n,l.__nullAsEmpty=i,l.__filterOutNullItem=o,l.__expectedCount=r,l}return i(n,e),n.prototype.validate=function(e,n,i){var o=e;return this.__filterOutNullItem&&null!=o&&(o=o.filter((function(t){return null!=t}))),this.__empytAsNull&&null!=o&&0==o.length?o=null:this.__nullAsEmpty&&null==o&&(o=[]),null!=this.__expectedCount&&null!=o&&o.length!=this.__expectedCount&&this._processError(o,t.ErrorCode.UnexpectedValue),o},n}(t._BaseValidator);t._StringArrayValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var o=e.call(this,t)||this;return o.__empytAsNull=n,o.__nullAsError=i,o}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e&&!this.__nullAsError)return null;if(this.__empytAsNull&&null!=e&&0==e.length&&!this.__nullAsError)return null;if(null!=e){var o=t._OptionUtility._toStringColorFromString(e);if(null!=o)return o}return this._processError(e,t.ErrorCode.UnexpectedValue)},n}(t._BaseValidator);t._StringColorValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);var o=e.call(this,t)||this;return o.__acceptNull=n,o.__acceptEmpty=i,o}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e||this.__acceptNull||this._processError(e,t.ErrorCode.UnexpectedNullValue),""!=e||this.__acceptEmpty||this._processError(e,t.ErrorCode.UnexpectedValue),e},n}(t._BaseValidator);t._StringValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){for(var o=e.map((function(t){var e=t.shape.content;return null!=e&&""!==e?t.shape.name:null})),r=0;r<o.length;r++){var l=o[r],a=o.slice(r+1);null!=l&&a.indexOf(l)>-1&&this._processError(l,t.ErrorCode.UnexpectedValue)}return e},n}(t._BaseValidator);t._SymbolShapesValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){for(var o=0,r=e;o<r.length;o++){var l=r[o];l instanceof t.options._UnpivotTransformOption?this._validateUnpivotTransformOption(l):l instanceof t.options._CalculateTransformOption?this._validateCalculateTransformOption(l):l instanceof t.options._AggregateTransformOption&&this._validateAggregateTransformOption(l)}return e},n.prototype._validateUnpivotTransformOption=function(e){null!=e.names&&1!=e.names.length&&this._processError(e.names,t.ErrorCode.UnexpectedValue),null==e.category&&this._processError(e.category,t.ErrorCode.UnexpectedNullValue),null==e.valueFieldAs&&this._processError(e.valueFieldAs,t.ErrorCode.UnexpectedNullValue),null==e.outputAs&&this._processError(e.outputAs,t.ErrorCode.UnexpectedNullValue)},n.prototype._validateCalculateTransformOption=function(e){null==e.calculate&&this._processError(e.calculate,t.ErrorCode.UnexpectedNullValue),null==e.outputAs&&this._processError(e.outputAs,t.ErrorCode.UnexpectedNullValue)},n.prototype._validateAggregateTransformOption=function(e){null!=e.aggregate&&0!=e.aggregate.length||this._processError(e.aggregate,t.ErrorCode.UnexpectedNullValue)},n}(t._BaseValidator);t._TransformOptionsValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>=0&&e<=1||this._processError(e,t.ErrorCode.UnitIntervalExpected),e)},n}(t._BaseValidator);t._UnitIntervalValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null!=e&&null!=e.fieldAs||this._processError(e,t.ErrorCode.UnexpectedNullValue),e},n}(t._BaseValidator);t._UnpivotCategoryOptionValidator=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e.call(this,t)||this;return o.__leftClosed=n,o.__rightClosed=i,o}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return null;if(e.type==t.ValueOptionType.Percentage){var o=this.__leftClosed?e.value>=0:e.value>0,r=this.__rightClosed?e.value<=1:e.value<1;return o&&r?e:t._NativeExtension.getPropertyValue(i,n)}return e},n}(t._BaseValidator);t._ValueOptionWithPixelPercentageValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:e.type==t.ValueOptionType.Pixel&&e.value>=0?e:t._NativeExtension.getPropertyValue(i,n)},n}(t._BaseValidator);t._ValueOptionWithPixelValidator=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return null;4!=e.length&&this._processError(e,t.ErrorCode.UnexpectedValue);for(var o=0;o<e.length;o++){var r=e[o];null==r&&this._processError(r,t.ErrorCode.UnexpectedNullValue),isNaN(r)&&this._processError(r,t.ErrorCode.LegalNumberValueRequired),(2==o||3==o)&&r<0&&this._processError(r,t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,0)}return e},n}(t._BaseValidator);t._ViewportOptionValidator=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>0&&e<=1||this._processError(e,t.ErrorCode.UnexpectedValue),e)},n}(t._BaseValidator);t._ViewSizeValidator=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__x=e,this.__y=n,this.__action=t}return Object.defineProperty(e.prototype,"action",{get:function(){return this.__action},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},set:function(t){this.__x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},set:function(t){this.__y=t},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return null!=e&&e.contains(new t.core.Point(this.x,this.y))},e.ACTION_DOWN=0,e.ACTION_UP=1,e.ACTION_MOVE=2,e.ACTION_CANCEL=3,e.ACTION_OUTSIDE=4,e.ACTION_MOUSE_DOWN=5,e.ACTION_MOUSE_MOVE=6,e.ACTION_MOUSE_UP=7,e.ACTION_MOUSE_OVER=8,e.ACTION_MOUSE_OUT=9,e.ACTION_CLICK=10,e.ACTION_MOUSE_ENTER=11,e.ACTION_MOUSE_LEAVE=12,e.ACTION_WHEEL=13,e.ACTION_DOUBLE_CLICK=14,e}();t.MotionEvent=e}(t||(t={})),function(t){!function(t){t._isOption=function(t){return null!=t&&"function"==typeof t.option}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isOptionStrictMode=function(e){return!!t._isOption(e)&&void 0!==e._strictMode}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.__strictMode=n,this._setOption(e),this.init(),null!=e&&t.OptionSerializer.deserialize(this,e)}return e.prototype._setOption=function(t){this.__option=t},e.prototype.option=function(){return this.__option},Object.defineProperty(e.prototype,"_strictMode",{get:function(){return this.__strictMode},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.validate=function(e){return t._ReflectorUtility._validateOptionValue(e,this,this.__strictMode)},o([t.JsonIgnoreAttribute()],e.prototype,"_strictMode",null),e}(),e._Option=n}(t||(t={})),function(t){var e=function(e){function o(i){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,n([t.ExceptionLocalization._errorMessage(t.ErrorCode.OptionPrompt),i],o))||this}return i(o,e),o}(t.BaseError);t.OptionError=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__objects=t,this.__type=e}return e.prototype._objects=function(t,e){return void 0===e&&(e=null),this._buildInObjects(this.__objects,e,t,this.__type)},e.prototype._buildInObjects=function(e,n,i,o){e=e.slice();var r=[];null!=i&&(r=i.filter((function(t){return t.type===o})));for(var l=r.map((function(t){return t.name})),a=0,s=this._plugins(n,o,l);a<s.length;a++){var u=s[a];e.indexOf(u)<0&&e.push(u)}for(var _=0,p=this._plugins(t.plugins.PluginCollection.defaultPluginCollection,o,l);_<p.length;_++)u=p[_],e.indexOf(u)<0&&e.push(u);for(var c=[],h=0;h<e.length;h++){var f=e[h];if(t.plugins._isPlugin(f)){var d=(u=f).priority,y=!1;if(r.length>0)for(var g=0;g<r.length;g++)if(r[g].name===u.name){c.push(new t._BuildInObjectInfo(f,h,d,g,r[g])),y=!0;break}y||c.push(new t._BuildInObjectInfo(f,h,d,-1,null))}else c.push(new t._BuildInObjectInfo(f,h,-1,-1,null))}return c.sort((function(t,e){return t.priority!==e.priority?e.priority-t.priority:t.optionIndex!==e.optionIndex?t.optionIndex-e.optionIndex:t.index-e.index})),c},e.prototype._plugins=function(t,e,n){var i=[];if(null==t)return i;for(var o=0,r=t._pluginModelsFromType(e);o<r.length;o++){var l=r[o];if(l._withoutOption||n.indexOf(l._plugin.name)>=0){var a=this._convert(l._plugin);null!=a&&i.push(a)}}return i},e}();t._BuildInObjectCollection=e}(t||(t={})),function(t){var e=function(t,e,n,i,o){this.item=t,this.index=e,this.priority=n,this.optionIndex=i,this.option=o};t._BuildInObjectInfo=e}(t||(t={})),function(t){!function(t){t._isPlugin=function(t){var e=t;return void 0!==e.name&&void 0!==e.type&&void 0!==e.priority}}(t.plugins||(t.plugins={}))}(t||(t={})),function(t){t.plugins||(t.plugins={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(t,e){this._plugin=t,this._withoutOption=e},i=function(){function e(){this.__pluginModels=[]}return e.prototype.register=function(e,i){if(void 0===i&&(i=null),null==e)throw new t.PluginError(t.ErrorCode.PluginNull);if(null==e.type)throw new t.PluginError(t.ErrorCode.PluginNullType);if(null==e.name)throw new t.PluginError(t.ErrorCode.PluginNullName);this.__pluginModels.map((function(t){return t._plugin})).indexOf(e)<0&&this.__pluginModels.push(new n(e,t._NativeExtension._toNonNullBoolean(i,!0)))},e.prototype.unregister=function(e){if(null==e)throw new t.PluginError(t.ErrorCode.PluginNull);var n=this.__pluginModels.map((function(t){return t._plugin})).indexOf(e);n>=0&&this.__pluginModels.splice(n,1)},e.prototype.plugin=function(t,n){void 0===n&&(n=null),null==n&&(n=e.defaultPluginName);for(var i=[],o=0,r=this.__pluginModels;o<r.length;o++){var l=r[o];l._plugin.type==t&&l._plugin.name==n&&i.push(l._plugin)}return i},e.prototype._pluginModelsFromType=function(t){for(var e=[],n=0,i=this.__pluginModels;n<i.length;n++){var o=i[n];o._plugin.type==t&&e.push(o)}return e},e.defaultPluginName="Default",e.defaultPluginCollection=new e,e}(),e.PluginCollection=i}(t||(t={})),function(t){var e=function(e){function o(i){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,n([t.ExceptionLocalization._errorMessage(t.ErrorCode.PluginPrompt),i],o))||this}return i(o,e),o}(t.BaseError);t.PluginError=e}(t||(t={})),function(t){var e=function(){function t(t){this._transform=null,this._visible=!0,this._zLevel=0,this._zIndex=0,this._ownerView=t}return t.prototype._className=function(){return null},t.prototype._drawView=function(t,e){},t.prototype._drawChildren=function(t,e){},t.prototype._getOwnerView=function(){return this._ownerView},t.prototype._isVisible=function(){return this._visible},t.prototype._render=function(t,e){var n=this;this._isVisible()&&(this._zLevel>0&&-1==e._zLevels.indexOf(this._zLevel)&&e._zLevels.push(this._zLevel),this._zLevel==e._currentZLevel?t.drawGroup(this._className(),null,this._transform,(function(i){n._drawView(i,e),n._drawChildren(t,e)})):this._drawChildren(t,e))},t.prototype._hitTest=function(t,e,n){return null},t.prototype.queryInterface=function(t){return null},t}();t._BaseView=e}(t||(t={})),function(t){var e=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.__list=[],null!=t)for(var n=0,i=t;n<i.length;n++){var o=i[n];this._push(o)}}return t.prototype._push=function(t){null!=t&&this.__list.push(t)},t.prototype._unshift=function(t){null!=t&&this.__list.unshift(t)},t.prototype._shift=function(){return this.__list.length>0?this.__list.shift():null},t.prototype._pop=function(){return this.__list.length>0?this.__list.pop():null},t.prototype._delete=function(t){for(var e=0;e<this.__list.length;++e)if(this.__list[e]==t){this.__list.splice(e,1);break}},t.prototype._indexOf=function(t){return this.__list.indexOf(t)},t.prototype._flush=function(t,e){for(var n=0,i=this.__list;n<i.length;n++){var o=i[n],r=o._cutOff();if(o._draw(t,e),r)break}},t.prototype.contains=function(t){for(var e=0,n=this.__list;e<n.length;e++){var i=n[e],o=i._cutOff(),r=i._contains(t);if(o)return r;if(r)return!0}return!1},t.prototype._filter=function(t){return this.__list.filter((function(e){return t(e)}))},t.prototype.queryInterface=function(t){return null},t}();t.DisplayablePipeLine=e}(t||(t={})),t||(t={}),function(t){t._isHoverView=function(t){return null!=t&&void 0!==t._hover}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isIdentityModel=function(t){return"function"==typeof t._id}}(t||(t={})),t||(t={}),function(t){t._isScrollableView=function(t){var e=t;return null!=e&&void 0!==e._scrollX&&void 0!==e._scrollY&&"function"==typeof e._scrollTo}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.__rectangle=t.core.Rect.ReadOnlyRect,i}return i(n,e),n.prototype._paddings=function(){return null},n.prototype._layoutContent=function(t,e,n){t.beginTransform(),this._applyBorderStyle(t);var i=this._calculateInnerRectangle(t,this._getRectangle());t.restoreTransform(),this._layoutInnerContent(t,i,n)},n.prototype._measure=function(e,n){null==n&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE)),n=n.clone();var i=new t.core.Size(0,0);if(e.beginTransform(),this._applyBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;i.width+=2*o,i.height+=2*o,n.width-=2*o,n.height-=2*o}var r=this._paddings();null!=r&&(i.width+=r.left+r.right,i.height+=r.top+r.bottom,n.width-=r.left+r.right,n.height-=r.top+r.bottom),e.restoreTransform();var l=this._measureInnerContent(e,n);return i.width+=l._size.width,i.height+=l._size.height,new t._RectangleViewMetricsResult(i)},n.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform();var r=this._paddings();null!=r&&(i=new t.core.Rect(i.left+r.left,i.top+r.top,i.width-r.left-r.right,i.height-r.top-r.bottom)),this._renderInnerContent(e,i,n)},n.prototype._layoutInnerContent=function(t,e,n){},n.prototype._renderInnerContent=function(t,e,n){},n.prototype._measureInnerContent=function(e,n){return new t._RectangleViewMetricsResult(new t.core.Size(0,0))},n.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle())},n.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none())},n.prototype._calculateInnerRectangle=function(e,n){var i=n.clone();if(null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;i.inflate(-o,-o)}var r=this._paddings();return null!=r&&(i=new t.core.Rect(i.left+r.left,i.top+r.top,i.width-r.left-r.right,i.height-r.top-r.bottom)),i},n.prototype._getRectangle=function(){return this.__rectangle},n.prototype._layout=function(t,e,n){this._updateRectangle(n),this._layoutContent(t,n,e)},n.prototype._updateRectangle=function(t){this.__rectangle=t.clone()},n.prototype._render=function(t,n){var i=this._getRectangle();i.width<=0||i.height<=0||e.prototype._render.call(this,t,n)},n}(t._BaseView);t._RectangleView=e}(t||(t={})),function(t){var e=function(t){this._size=t.clone()};t._RectangleViewMetricsResult=e}(t||(t={})),function(t){var e=function(){function t(){this.__customContexts=new Array,this._labels=[],this._axisLabels=[],this._legendsLabels=[],this._headerLabels=[],this._footerLabels=[],this._tmpAxisLabels=[],this._tmpGroupGridLinePositions=[],this.apiSelectedStyle=null,this._dataLabelClipRectangle=null,this._innerPlotAreaRect=null,this._marginRectangle=null,this._textAnnotationSymbolRect=null,this._originalLegendSize=null,this._legendSymbolSize=null,this._lineCartesianCoordinateSystemContent=null,this._otherSideRect=null,this._areaBaseLine=null,this._radialAngle=null,this._renderLabel=!1,this.hasSelectionInPlotArea=!1,this._checkOverlap=!1,this._hovered=!1,this.selected=!1,this._altStyle=!1,this._fTextOverlay=!1,this._ignoreWrap=!1,this._scrollableViewZIndex=0,this._ignored=!1,this._currentZLevel=0,this._zLevels=[]}return t.prototype._pushContext=function(t){this.__customContexts.push(t)},t.prototype._popContext=function(){return this.__customContexts.pop()},t.prototype.queryInterface=function(t){for(var e=0,n=this.__customContexts.reverse();e<n.length;e++){var i=n[e];if(null!=i.queryInterface(t))return i}return null},t}();t._RenderContext=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.__scrollX=0,n.__scrollY=0,n}return i(n,e),n.prototype._canScroll=function(){return!0},n.prototype._redraw=function(){null!=this.__scrollableGroupElement&&(this.__scrollableGroupElement.offsetX=this.__scrollX,this.__scrollableGroupElement.offsetY=this.__scrollY,this.__scrollableGroupElement.flush())},n.prototype._getViewport=function(){return this._getRectangle()},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__scrollX=0,this.__scrollY=0},n.prototype._renderScrollableContent=function(t,e){var n=this,i=this._getLogicSize(),o=this._getViewport();this.__scrollableGroupElement=t.createGroup("scroll-content",null,this._transform,o,i.width,i.height,this.__scrollX,this.__scrollY,(function(t){n._invokeBaseRenderContent(t,e)})),null==this.__scrollableGroupElement&&t.drawGroup("scroll-content",null,this._transform,(function(t){n._invokeBaseRenderContent(t,e)}))},n.prototype._renderNonScrollableContent=function(t,e){this._invokeBaseRenderContent(t,e)},n.prototype._invokeBaseRenderContent=function(t,n){e.prototype._drawView.call(this,t,n)},n.prototype._drawView=function(e,n){var i=this;if(this._canScroll()){var o=this._getRectangle(),r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup("scroll-viewport",r,null,(function(t){i._renderScrollableContent(t,n)}))}else this._renderNonScrollableContent(e,n)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();return null!=r&&r.contains(n)?this._hitTestContent(new t.core.Point(this.__scrollX+n.x,this.__scrollY+n.y),i,o):e.prototype._hitTest.call(this,n,i,o)},n.prototype._hitTestContent=function(t,n,i){return e.prototype._hitTest.call(this,t,n,i)},Object.defineProperty(n.prototype,"_scrollX",{get:function(){return this.__scrollX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_scrollY",{get:function(){return this.__scrollY},enumerable:!0,configurable:!0}),n.prototype._scrollTo=function(t,e){this._canScroll()&&(this.__scrollX=t,this.__scrollY=e,this._redraw())},n}(t._RectangleView);t._ScrollableView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n){return t._isSelectingView(e)?t._isSelectingView(n)?0:1:t._isSelectingView(n)?-1:0},e}(),n=function(){function t(){this._visualViewOrderComparer=new e}return t._defaultSelectingBehaviorPolicy=new t,t}();t._DefaultSelectingBehaviorPolicy=n}(t||(t={})),t||(t={}),function(t){t._isSelectingView=function(t){return null!=t&&"function"==typeof t._isSelected}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t,e,n){this.width=t,this.overflow=e,this.metrics=n},n=function(){function n(){this.__caches={}}return n.prototype.measureMultiLineString=function(n,i,o,r){if(n.fontSize==this.__fontSize&&n.fontFamily==this.__fontFamily&&n.fontWeight==this.__fontWeight&&n.fontStyle==this.__fontStyle){if(t._Util.hasKey(this.__caches,i)){var l=this.__caches[i];if(l.overflow===r){if(l.width===o)return l.metrics;if(o==l.metrics.size.width)return l.metrics;if(r==t.TextOverflow.Clip)return l.metrics}}var a=n.measureMultiLineString(i,o,r);return this.__caches[i]=new e(o,r,a),a}return this.__fontSize=n.fontSize,this.__fontFamily=n.fontFamily,this.__fontWeight=n.fontWeight,this.__fontStyle=n.fontStyle,this.__caches={},a=n.measureMultiLineString(i,o,r),this.__caches[i]=new e(o,r,a),a},n}();t._TextMetricsResult=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a,s,u,_){void 0===o&&(o=t.TextOverflow.Clip),void 0===r&&(r=null),void 0===l&&(l=t.HAlign.Center),void 0===a&&(a=t.VAlign.Middle),void 0===s&&(s=null),void 0===u&&(u=null),void 0===_&&(_=null);var p=e.call(this,n)||this;return p.__textInlines=[],p.__cachedMetricsResult=null,p.__cachedTextMetricsResult=null,p._hover=!1,p.text=i,p._externalStyle=null,p.__textOverflow=o,p.__style=s,p.__hoverStyle=u,p.__textPadding=r,p.__hAlign=l,p.__vAlign=a,p.__textAlignment=_,p}return i(n,e),n.prototype._getMeasureInfo=function(){return this.__cachedMetricsResult},n.prototype._measure=function(n,i){this.__textInlines=[],null==this.text||0==this.text.length?this.__cachedMetricsResult=new t._RectangleViewMetricsResult(new t.core.Size(0,0)):this.__cachedMetricsResult=e.prototype._measure.call(this,n,i);var o=this.__cachedMetricsResult._size.clone();if(null!=i){var r=i.width>=0?i.width:0;o.width>r&&(o.width=r);var l=i.height>=0?i.height:0;o.height>l&&(o.height=l)}return new t._RectangleViewMetricsResult(o)},n.prototype._paddings=function(){return null!=this.__textPadding?this.__textPadding:null},n.prototype._textOverflow=function(){return this.__textOverflow},n.prototype._writingMode=function(){return null!=this.__style&&null!=this.__style.textWritingMode?t._NativeExtension._toNonNullEnum(this.__style.textWritingMode,t.TextWritingMode.Horizontal):t.TextWritingMode.Horizontal},n.prototype._hAlign=function(){return this.__hAlign},n.prototype._vAlign=function(){return this.__vAlign},n.prototype._textAlignment=function(){return this.__textAlignment},n.prototype._className=function(){return t._CssClassName._label},n.prototype._measureInnerContent=function(e,n){e.beginTransform(),this._applyStyle(e),null==n&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE));for(var i=this._measureMultiLineString(e,this.text,this._writingMode()==t.TextWritingMode.Vertical?n.height:n.width,this._textOverflow()),o=i.size,r=0,l=i.lineMetricsResults;r<l.length;r++){var a=l[r];this.__textInlines.push(new t._TextInline(a.text,a.size))}return e.restoreTransform(),new t._RectangleViewMetricsResult(o)},n.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},n.prototype._layoutInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e);for(var o=new t.core.Size(0,0),r=0,l=this.__textInlines;r<l.length;r++){var a=l[r];this._writingMode()==t.TextWritingMode.Horizontal?(o.height+=a.size.height,o.width=Math.max(o.width,a.size.width)):(o.height=Math.max(o.height,a.size.height),o.width+=a.size.width)}var s=new t.core.Point(n.center.x-n.size.width/2,n.center.y-n.size.height/2);if(this._writingMode()==t.TextWritingMode.Horizontal)switch(this._vAlign()){case t.VAlign.Top:break;case t.VAlign.Bottom:s.y+=n.size.height-o.height;break;default:s.y+=(n.size.height-o.height)/2}else switch(this._hAlign()){case t.HAlign.Left:s.x+=o.width;break;case t.HAlign.Right:s.x+=n.size.width;break;default:s.x+=(n.size.width+o.width)/2}for(var u=null!=this._textAlignment()?this._textAlignment():this._hAlign(),_=0,p=this.__textInlines;_<p.length;_++)a=p[_],this._writingMode()==t.TextWritingMode.Horizontal?(s.y+=a.size.height,u==t.HAlign.Left?a.location=new t.core.Point(s.x,s.y):u==t.HAlign.Center?a.location=new t.core.Point(s.x+(n.size.width-a.size.width)/2,s.y):u==t.HAlign.Right&&(a.location=new t.core.Point(s.x+n.size.width-a.size.width,s.y))):(s.x-=a.size.width,this._vAlign()==t.VAlign.Top?a.location=new t.core.Point(s.x,s.y):this._vAlign()==t.VAlign.Middle?a.location=new t.core.Point(s.x,s.y+(n.size.height-a.size.height)/2):this._vAlign()==t.VAlign.Bottom&&(a.location=new t.core.Point(s.x,s.y+n.size.height-a.size.height)));e.restoreTransform()},n.prototype._renderInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e);for(var o=0,r=this.__textInlines;o<r.length;o++){var l=r[o];if(null!=l.location){var a=null;this._textOverflow()==t.TextOverflow.Clip&&l.size.width-n.size.width>.001&&(a=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width>0?n.width:0,n.height>0?n.height:0)),e.drawSingleLineString(l.text,l.location.x,l.location.y,a,null)}}e.restoreTransform()},n.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),null!=this.__style&&t._StyleUtility._applyStrokeStyle(n,this.__style),null!=this._externalStyle&&t._StyleUtility._applyStrokeStyle(n,this._externalStyle),this._hover&&null!=this.__hoverStyle&&t._StyleUtility._applyStrokeStyle(n,this.__hoverStyle)},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),null!=this.__style&&t._StyleUtility._applyFillStyle(n,this.__style),null!=this._externalStyle&&t._StyleUtility._applyFillStyle(n,this._externalStyle),this._hover&&null!=this.__hoverStyle&&t._StyleUtility._applyFillStyle(n,this.__hoverStyle)},n.prototype._applyStyle=function(e){null!=this.__style&&t._StyleUtility._applyAllStyle(e,this.__style),null!=this._externalStyle&&t._StyleUtility._applyAllStyle(e,this._externalStyle),this._hover&&null!=this.__hoverStyle&&t._StyleUtility._applyAllStyle(e,this.__hoverStyle)},n}(t._RectangleView);t._TextView=e}(t||(t={})),function(t){t._isRectangleViewUpdater=function(t){return null!=t&&"function"==typeof t._update}}(t||(t={})),t||(t={}),function(t){var e=function(t,e,n,i,o){void 0===o&&(o=null),this.point=t,this.model=e,this.addition=o};t.HitTestResult=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._splitPath=function(e){return null==e?[]:t._EscapedCharacterStringUtility.slicePathArray(e)},n.prototype._convert=function(t){return t},n.prototype._getValueFromUnsupportedPath=function(e,n){return t._NativeExtension.Undefined},n}(t._Binding);t._AnyValueBinding=e}(t||(t={})),function(t){var e=function(){function e(n,i){if(void 0===i&&(i=!1),this.__focus=!1,this.__updating=0,this.gotFocus=new t.core.DvEvent,this.lostFocus=new t.core.DvEvent,null!=e.getControl(n))throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);var o=t._DomElementExtension._element(n);if(null==o)throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);if(this.__original=this._backupElement(o),("INPUT"==o.tagName||"SELECT"==o.tagName)&&null==(o=this._replaceElementWithDivElement(o)))throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);this.__hostElement=o,o[e.__dataKey]=this,i&&(this.__controlSize=new t.core.Size(o.offsetWidth,o.offsetHeight),this._addEventListener(window,"resize",this._handleResize.bind(this))),this._addEventListener(o,"focus",this._handleFocus.bind(this),!0),this._addEventListener(o,"blur",this._handleBlur.bind(this),!0);var r=this._handleDisabled.bind(this);if(this._addEventListener(o,"mousedown",r,!0),this._addEventListener(o,"mouseup",r,!0),this._addEventListener(o,"click",r,!0),this._addEventListener(o,"dblclick",r,!0),this._addEventListener(o,"keydown",r,!0),this._addEventListener(o,"wheel",r,!0),null==e.__touching&&(e.__touching=!1,t._NativeExtension.hasProperty(window,"ontouchstart",!0)||t._NativeExtension.hasProperty(window,"onpointerdown",!0))){var l=document.body,a=this._handleTouchStart,s=this._handleTouchEnd;t._NativeExtension.hasProperty(window,"ontouchstart",!0)?(l.addEventListener("touchstart",a),l.addEventListener("touchend",s),l.addEventListener("touchcancel",s),l.addEventListener("touchleave",s)):t._NativeExtension.hasProperty(window,"onpointerdown",!0)&&(l.addEventListener("pointerdown",a),l.addEventListener("pointerup",s),l.addEventListener("pointerout",s),l.addEventListener("pointercancel",s),l.addEventListener("pointerleave",s))}}return e.getControl=function(n){var i=t._DomElementExtension._element(n);if(null!=i){var o=i[e.__dataKey];if(o instanceof e)return o}return null},e.invalidateAll=function(n){null==n&&(n=document.body);var i=t._DomElementExtension._element(n);if(null!=i){if(null!=i.children)for(var o=0,r=i.children.length;o<r;o++)e.invalidateAll(i.children[o]);var l=e.getControl(i);null!=l&&l.invalidate()}},e.refreshAll=function(n){null==n&&(n=document.body);var i=t._DomElementExtension._element(n);if(null!=i){if(null!=i.children)for(var o=0,r=i.children.length;o<r;o++)e.refreshAll(i.children[o]);var l=e.getControl(i);null!=l&&l.refresh()}},e.disposeAll=function(n){var i=e.getControl(n);if(null!=i)i.dispose();else{var o=t._DomElementExtension._element(n);if(null!=o&&null!=o.children)for(var r=0,l=o.children.length;r<l;r++)e.disposeAll(o.children[r])}},e.prototype.dispose=function(){null!=this.__invalidateTimer&&(clearTimeout(this.__invalidateTimer),this.__invalidateTimer=null),this.lostFocus.removeAllHandlers(),this.gotFocus.removeAllHandlers(),this._removeEventListener();var n=document.body,i=this._handleTouchStart,o=this._handleTouchEnd;if(t._NativeExtension.hasProperty(window,"ontouchstart",!0)?(n.removeEventListener("touchstart",i),n.removeEventListener("touchend",o),n.removeEventListener("touchcancel",o),n.removeEventListener("touchleave",o)):t._NativeExtension.hasProperty(window,"onpointerdown",!0)&&(n.removeEventListener("pointerdown",i),n.removeEventListener("pointerup",o),n.removeEventListener("pointerout",o),n.removeEventListener("pointercancel",o),n.removeEventListener("pointerleave",o)),null!=this.__hostElement){var r=this.__hostElement;this.__hostElement=null,r[e.__dataKey]=null,null!=this.__original&&(this._restoreElement(r,this.__original),this.__original=null)}},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this.__hostElement},enumerable:!0,configurable:!0}),e.prototype._getHostSize=function(){var e=new t.core.Size(0,0);if(null!=this.__hostElement){var n=t._DomElementExtension._getComputedStyle(this.__hostElement);if(null!=n){var i=this.__hostElement;e=new t.core.Size(i.clientWidth,i.clientHeight);var o=parseFloat(n.paddingLeft.replace("px","")),r=parseFloat(n.paddingRight.replace("px","")),l=parseFloat(n.paddingTop.replace("px","")),a=parseFloat(n.paddingBottom.replace("px",""));isNaN(o)||(e.width-=o),isNaN(r)||(e.width-=r),isNaN(l)||(e.height-=l),isNaN(a)||(e.height-=a)}}return e},e.prototype._getHostMatrix=function(){return null!=this.__hostElement?t._DomElementExtension._getCombinedMatrix(this.__hostElement):null},e.prototype._isInDomTree=function(){for(var t=this.__hostElement;null!=t;){if(t==document.documentElement)return!0;t=t.parentElement}return!1},e.prototype._updateState=function(){var e=this.hostElement;null!=e&&(this.containsFocus()?t._DomElementExtension._addClass(e,"gcdv-state-focused"):t._DomElementExtension._removeClass(e,"gcdv-state-focused"))},e.prototype._backupElement=function(t){var e={tagName:"",attributes:{},innerHTML:""};e.tagName=t.tagName;for(var n=0,i=t.attributes.length;n<i;n++){var o=t.attributes[n];e.attributes[o.name]=o.value}return e.innerHTML=t.innerHTML,e},e.prototype._restoreElement=function(t,e){var n=t.parentElement;if(null!=n){if(t.tagName!=e.tagName){var i=document.createElement(e.tagName);n.replaceChild(i,t),t=i}t.innerHTML=e.innerHTML;for(var o=t.attributes.length-1;o>=0;o--)t.removeAttribute(t.attributes[o].name);for(var r=0,l=Object.getOwnPropertyNames(e.attributes);r<l.length;r++){var a=l[r];t.setAttribute(a,e.attributes[a])}}return t},e.prototype._replaceElementWithDivElement=function(t){var e=t.parentElement;if(null!=e){var n=document.createElement("div");e.replaceChild(n,t);for(var i=0,o=t.attributes.length;i<o;i++){var r=t.attributes[i];r.name.match(/id|style|class/i)&&n.setAttribute(r.name,r.value)}return n.innerHTML=t.innerHTML,n}return null},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this.__updating>0},enumerable:!0,configurable:!0}),e.prototype.beginUpdate=function(){this.__updating++},e.prototype.endUpdate=function(){this.__updating--,this.__updating<=0&&this.refresh()},e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.refresh=function(t,e){var n=this;void 0===t&&(t=!0),void 0===e&&(e=0),e>0?(null!=this.__invalidateTimer&&(clearTimeout(this.__invalidateTimer),this.__invalidateTimer=null),this.__invalidateTimer=window.setTimeout((function(){n.invalidate()}),e)):this.invalidate()},e.prototype.invalidate=function(){this._render()},e.prototype.draw=function(){this.invalidate()},e.prototype._render=function(){},e.prototype.containsFocus=function(){if(null==this.__hostElement)return!1;var e=t._DomElementExtension._getActiveElement();return null!=e&&t._DomElementExtension._contains(this.__hostElement,e)},e.prototype.focus=function(){null!=this.__hostElement&&this.__hostElement.focus()},e.prototype._handleFocus=function(){var t=this;setTimeout((function(){t._updateFocusState()}))},e.prototype._handleBlur=function(){var t=this;setTimeout((function(){t._updateFocusState()}),20)},e.prototype._updateFocusState=function(){var t=this;setTimeout((function(){for(var n=t.__hostElement;null!=n;){var i=e.getControl(n);if(null!=i){var o=i.containsFocus();o!=i.__focus&&(i.__focus=o,o?i._onGotFocus():i._onLostFocus(),i._updateState())}n=n.parentElement}}))},e.prototype._handleResize=function(){if(null!=this.__hostElement&&this.__hostElement.parentElement){var e=new t.core.Size(this.__hostElement.offsetWidth,this.__hostElement.offsetHeight);e.equalsWith(this.__controlSize)||(this.__controlSize=e,this._controlResize())}},e.prototype._controlResize=function(){this.refresh(),this.invalidate()},e.prototype._onGotFocus=function(t){void 0===t&&(t=null),this.gotFocus.raise(this,t)},e.prototype._onLostFocus=function(t){void 0===t&&(t=null),this.lostFocus.raise(this,t)},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e.__touching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return null!=this.__hostElement&&null!=this.__hostElement.getAttribute("disabled")},set:function(e){if(null!=this.__hostElement){if("boolean"!=typeof e)throw new t.RuntimeError(t.ErrorCode.BooleanRequired,e);this.isDisabled!=e&&t._DomElementExtension._enable(this.__hostElement,!e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return t._Debug._deprecated("disabled","isDisabled"),this.isDisabled},set:function(e){t._Debug._deprecated("disabled","isDisabled"),this.isDisabled=e},enumerable:!0,configurable:!0}),e.prototype._addEventListener=function(t,e,n,i){void 0===i&&(i=!1),t&&(t.addEventListener(e,n,i),null==this.__listeners&&(this.__listeners=[]),this.__listeners.push({target:t,type:e,fn:n,capture:i}))},e.prototype._removeEventListener=function(t,e,n,i){var o=0;if(this.__listeners)for(var r=0;r<this.__listeners.length;r++){var l=this.__listeners[r];null!=t&&t!=l.target||null!=e&&e!=l.type||null!=n&&n!=l.fn||null!=i&&i!=l.capture||(l.target.removeEventListener(l.type,l.fn,l.capture),this.__listeners.splice(r,1),r--,o++)}return o},e.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(e.__touching=!0)},e.prototype._handleTouchEnd=function(t){null!=t.pointerType&&"touch"!=t.pointerType||setTimeout((function(){e.__touching=!1}),400)},e.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.__dataKey="gcdv-control",o([t.deprecated("draw","invalidate")],e.prototype,"draw",null),e}();t.Control=e}(t||(t={})),function(t){var e=function(){function e(){}return e._element=function(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):t&&t.jquery?t[0]:null},e._getCombinedMatrix=function(n){for(var i=new t.Matrix,o=n;null!=o;)i.transform(e._getElementMatrix(o)),o=o.parentElement;return i},e._getElementMatrix=function(n){var i=[1,0,0,1,0,0],o=e._getComputedStyle(n);if(null!=o&&null!=o.transform&&o.transform.indexOf("matrix")>=0)for(var r=o.transform.slice(7,-1).split(","),l=0;l<r.length&&l<6;l++)i[l]=parseFloat(r[l]);return new t.Matrix(i)},e._getActiveElement=function(){var t=document.activeElement;return null!=t&&null!=t.shadowRoot&&(t=t.shadowRoot.activeElement),t},e._getComputedStyle=function(t){return null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t):null},e._getElementRect=function(e){var n=e.getBoundingClientRect();return new t.core.Rect(n.left+pageXOffset,n.top+pageYOffset,n.width,n.height)},e._contains=function(t,e){for(var n=e;null!=n;){if(n===t)return!0;n=null==n.parentNode?n instanceof Element&&null!=n.shadowRoot?n.shadowRoot.host:null:n.parentNode}return!1},e._remove=function(t){null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)},e._empty=function(t){if(null!=t)for(t.innerHTML="";null!=t.firstChild;)t.removeChild(t.firstChild)},e._hasClass=function(e,n){if(t._NativeExtension._isNullOrWhiteSpace(n))return!1;var i=e.getAttribute("class");return null!=i&&new RegExp("(\\s|^)"+n.trim()+"(\\s|$)").test(i)},e._addClass=function(n,i){if(!t._NativeExtension._isNullOrWhiteSpace(i)&&(i=i.trim(),!e._hasClass(n,i))){var o=n.getAttribute("class");n.setAttribute("class",null!=o?o+" "+i:i)}},e._removeClass=function(n,i){if(!t._NativeExtension._isNullOrWhiteSpace(i)&&(i=i.trim(),e._hasClass(n,i))){var o=n.getAttribute("class");if(null!=o){var r=new RegExp("((\\s|^)"+i+"(\\s|$))","g");o=o.replace(r," ").replace(/ +/g," ").trim(),n.setAttribute("class",o)}}},e._setCss=function(e,n){for(var i=e.style,o=0,r=t._NativeExtension.properties(n,!0);o<r.length;o++){var l=r[o],a=n[l];"number"==typeof a&&l.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(a+="px"),i[l]!=a&&(i[l]=a.toString())}},e._enable=function(t,n){n?(t.removeAttribute("disabled"),e._removeClass(t,"gcdv-state-focused")):(t.setAttribute("disabled","true"),e._addClass(t,"gcdv-state-focused"));for(var i=t.querySelectorAll("input"),o=0,r=i.length;o<r;o++){var l=i[o];n?l.removeAttribute("disabled"):l.setAttribute("disabled","true")}},e}();t._DomElementExtension=e}(t||(t={})),function(t){var e=function(){function e(e){this.__hostElement=e,this.__domElements=[],this.__motionEventProvider=new t._MotionEventProvider(e)}return e.prototype._createZoomButtons=function(e,n){var i=this.__hostElement;return new t._ZoomButtons(i,e,n)},e.prototype._createZoomInButton=function(e,n){return new t._ZoomInButton(e,n)},e.prototype._createZoomOutButton=function(e,n){return new t._ZoomOutButton(e,n)},e.prototype._createZoomResetButton=function(e,n){return new t._ZoomResetButton(e,n)},e.prototype._createScrollbar=function(e,n,i,o,r){var l=this.__hostElement;return new t._Scrollbar(l,e,n,i,o,r)},e.prototype._subscribeEvents=function(t,e){for(var n=this.__hostElement,i={},o=0,r=t;o<r.length;o++){var l=r[o];i[l]=this._eventListener.bind(this,e),n.addEventListener(l,i[l],!1)}return i},e.prototype._unsubscribeEvents=function(e){for(var n=this.__hostElement,i=0,o=t._NativeExtension.properties(e,!0);i<o.length;i++){var r=o[i];n.removeEventListener(r,e[r],!1)}},e.prototype._eventListener=function(t,e){t(this.__motionEventProvider._fromEvent(e))},e.prototype.dispose=function(){for(var t=0,e=this.__domElements;t<e.length;t++)e[t].dispose();this.__domElements=[]},e}();t._DomElementManager=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l){this._orientation=n,this._value=i,this._visibleAmount=o,this._minimum=r,this._maximum=l,this._isActive=!1,this._bounds=null,this.__host=e,this.__event=new t._EventManager,this.__touchIntervalId=0,this.__observer=null,this.__scrollTimeoutId=0,this._initElements(),this._initEvents()}return e.prototype._initElements=function(){var e=this._orientation==t.Orientation.Horizontal?"gcdv-scrollbar-x":"gcdv-scrollbar-y";this.__scrollbar=this._createElement("div",e,{width:0,height:0,position:"relative"}),this.__track=this._createElement("div","gcdv-scrollbar-track",{position:"absolute"}),this.__thumb=this._createElement("div","gcdv-scrollbar-thumb"),this.__track.appendChild(this.__thumb),this.__scrollbar.appendChild(this.__track)},e.prototype._active=function(t){this.__scrollbar.classList.contains("gcdv-scrolling")||(t&&null==this.__scrollbar.parentNode&&this.__host.insertBefore(this.__scrollbar,this.__host.firstChild),t||null==this.__scrollbar.parentNode||this.__host.removeChild(this.__scrollbar))},e.prototype._draw=function(){if(null!=this.__scrollbar.parentNode){var e=this.__host,n=this._bounds,i=this._computeTrackLength(this._orientation,n),o=this._computeThumbLength(i,this._visibleAmount,this._minimum,this._maximum);this._setCss(this.__scrollbar,{left:e.scrollLeft+n.left,top:e.scrollTop+n.top}),this._setCss(this.__track,{left:0,top:0,width:n.width,height:n.height}),this._orientation==t.Orientation.Horizontal?this._setCss(this.__thumb,{left:this._distanceFromValue(this._value,i,this._minimum,this._maximum),width:o}):this._setCss(this.__thumb,{top:this._distanceFromValue(this._value,i,this._minimum,this._maximum),height:o})}},e.prototype._createElement=function(t,e,n){var i=document.createElement(t);return i.className=e,n&&this._setCss(i,n),i},e.prototype._setCss=function(e,n){for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++){var r=o[i],l=n[r];"number"==typeof l&&(l+="px"),e.style[r]=l}},e.prototype._initEvents=function(){var t=this,e=this.__event;e.element(window).on("resize",(function(e){return t._onWindowResize(e)})),e.element(this.__host.ownerDocument).on("keydown",(function(e){return t._onDocumentKeyDown(e)}));var n=null;window.MutationObserver?n=window.MutationObserver:window.WebKitMutationObserver?n=window.WebKitMutationObserver:window.MozMutationObserver&&(n=window.MozMutationObserver),n&&(this.__observer=new n((function(e){return t._onHostChildrenChange(e)})),this.__observer.observe(this.__host,{subtree:!0,childList:!0}));var i=e.element(this.__host);i.on("scroll",(function(e){return t._onHostScroll(e)})),i.on("wheel",(function(e){return t._onHostMouseWheel(e)}));var o=window.navigator.pointerEnabled?"pointerdown":"touchstart";i.on(o,(function(e){return t._onHostTouchStart(e)})),e.element(this.__track).on("mousedown",(function(e){return t._onTrackMouseDown(e)})),e.element(this.__thumb).on("mousedown",(function(e){return t._onThumbMouseDown(e)})),e.element(this.__scrollbar).on("click mousemove",(function(e){return t._cancelEvent(e)}))},e.prototype.on=function(t,e){this.__event.object(this).on(t,e)},e.prototype.once=function(t,e){this.__event.object(this).once(t,e)},e.prototype.off=function(t){this.__event.object(this).off(t)},e.prototype._fire=function(t,e){this.__event.object(this).fire(t,e)},e.prototype._onHostChildrenChange=function(t){this._isActive&&this._draw()},e.prototype._onWindowResize=function(t){this._isActive&&this._draw()},e.prototype._onDocumentKeyDown=function(e){if(this._isActive&&!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)){var n=null;Element&&(Element.prototype.matches?n=Element.prototype.matches:Element.prototype.webkitMatchesSelector?n=Element.prototype.webkitMatchesSelector:Element.prototype.msMatchesSelector&&(n=Element.prototype.msMatchesSelector));var i=document.activeElement?document.activeElement:this.__host.ownerDocument.activeElement;if(!(i&&("IFRAME"===i.tagName&&(i=i.contentDocument.activeElement),n.call(i,"input,[contenteditable]")||n.call(i,"select,[contenteditable]")||n.call(i,"textarea,[contenteditable]")||n.call(i,"button,[contenteditable]")))){var o=0,r=0;switch(e.which){case 37:o=-40;break;case 39:o=40;break;case 38:r=40;break;case 40:r=-40;break;case 33:r=this._visibleAmount;break;case 34:r=-this._visibleAmount;break;case 36:r=this._maximum-this._minimum;break;case 35:r=-this._maximum-this._minimum;break;default:return}if(0!=o&&this._orientation==t.Orientation.Horizontal){var l=this._value+o;this._processScrolled(l),this._cancelEvent(e)}else 0!=r&&this._orientation==t.Orientation.Vertical&&(l=this._value-r,this._processScrolled(l),this._cancelEvent(e))}}},e.prototype._onHostScroll=function(t){this._isActive&&this._draw()},e.prototype._onHostMouseWheel=function(e){if(this._isActive){var n=this._getWheelDelte(e),i=n.deltaX,o=n.deltaY,r=this._computeTrackLength(this._orientation,this._bounds);if(this._orientation==t.Orientation.Vertical&&0!==o){var l=this._value-this._valueFromDistance(o,r,this._minimum,this._maximum);this._processScrolled(l),this._cancelEvent(e)}else this._orientation==t.Orientation.Horizontal&&0!==i&&(l=this._value+this._valueFromDistance(i,r,this._minimum,this._maximum),this._processScrolled(l),this._cancelEvent(e))}},e.prototype._getWheelDelte=function(e){var n=0,i=0;return t._NativeExtension.hasProperty(e,"deltaY",!0)&&(i=-1*e.deltaY),t._NativeExtension.hasProperty(e,"deltaX",!0)&&(n=e.deltaX),1===e.deltaMode?(n*=10,i*=10):e.deltaMode,{deltaX:n,deltaY:i}},e.prototype._onHostTouchStart=function(e){if(this.__touchIntervalId&&(clearInterval(this.__touchIntervalId),this.__touchIntervalId=0),this._isActive&&this._shouldHandleTouch(e)){this._cancelEvent(e);var n=e.targetTouches?e.targetTouches[0]:e,i={},o=(new Date).getTime(),r={x:0,y:0};i.pageX=n.pageX,i.pageY=n.pageY;var l=this,a=l.__event.element(l.__host),s=l._computeTrackLength(l._orientation,l._bounds),u=window.navigator.pointerEnabled?"pointermove":"touchmove";a.off(u),a.on(u,(function(e){if(l._shouldHandleTouch(e)){l._cancelEvent(e);var n=e.targetTouches?e.targetTouches[0]:e,a={pageX:n.pageX,pageY:n.pageY},u=a.pageX-i.pageX,_=a.pageY-i.pageY;if(0!=_&&l._orientation==t.Orientation.Vertical){var p=l._value-l._valueFromDistance(_,s,l._minimum,l._maximum);l._processScrolled(p)}else 0!=u&&l._orientation==t.Orientation.Horizontal&&(p=l._value-l._valueFromDistance(u,s,l._minimum,l._maximum),l._processScrolled(p));i=a;var c=(new Date).getTime(),h=c-o;h>0&&(r.x=u/h,r.y=_/h,o=c)}}));var _=window.navigator.pointerEnabled?"pointerup":"touchend";a.off(_),a.on(_,(function(e){a.off(u),a.off(_),l.__touchIntervalId=window.setInterval((function(){if(Math.abs(r.x)<.01&&l._orientation==t.Orientation.Horizontal||Math.abs(r.y)<.01&&l._orientation==t.Orientation.Vertical)return clearInterval(l.__touchIntervalId),l.__touchIntervalId=0,void l._active(!1);if(l._orientation==t.Orientation.Vertical){var e=l._value-l._valueFromDistance(30*r.y,s,l._minimum,l._maximum);l._processScrolled(e)}else l._orientation==t.Orientation.Horizontal&&(e=l._value-l._valueFromDistance(30*r.x,s,l._minimum,l._maximum),l._processScrolled(e));r.x*=.8,r.y*=.8}),10)}))}},e.prototype._shouldHandleTouch=function(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))},e.prototype._onTrackMouseDown=function(e){var n,i=this.__thumb.getBoundingClientRect();if(this._orientation==t.Orientation.Horizontal){var o=e.pageX-window.pageXOffset<i.left?-1:1;n=this._value+o*this._visibleAmount}else o=e.pageY-window.pageYOffset<i.top?-1:1,n=this._value+o*this._visibleAmount;this._processScrolled(n),this._cancelEvent(e)},e.prototype._onThumbMouseDown=function(e){var n=this,i=n._value,o=e.pageX,r=e.pageY,l=n._computeTrackLength(n._orientation,n._bounds),a=n.__host.ownerDocument,s=n.__event.element(a);s.on("mousemove",(function(e){var a;a=n._orientation==t.Orientation.Horizontal?i+n._valueFromDistance(e.pageX-o,l,n._minimum,n._maximum):i+n._valueFromDistance(e.pageY-r,l,n._minimum,n._maximum),n._processScrolled(a),n.__scrollbar.classList.add("gcdv-scrolling"),n._cancelEvent(e)}),!0),s.on("mouseup",(function(){n.__event.off(a),n.__scrollbar.classList.remove("gcdv-scrolling"),n._draw()}),!0),n._cancelEvent(e)},e.prototype._cancelEvent=function(t){t.cancelable&&(t.preventDefault(),t.stopPropagation())},e.prototype._processScrolled=function(e,n){void 0===n&&(n=10);var i=this;function o(){if(e=Math.max(i._minimum,Math.min(e,i._maximum-i._visibleAmount)),0!=i._value-e){var n=i._value;i._value=e,i._fire("Scrolled",{orientation:t.Orientation.Horizontal,newValue:i._value,oldValue:n}),null!=i._scrollCallback&&i._scrollCallback(i._value,n)}i._draw(),i.__scrollTimeoutId=0}i.__scrollTimeoutId&&window.clearTimeout(i.__scrollTimeoutId),0==n?o():i.__scrollTimeoutId=window.setTimeout((function(){o()}),n)},e.prototype._computeTrackLength=function(e,n){return null==n?0:e==t.Orientation.Horizontal?n.width:n.height},e.prototype._computeThumbLength=function(t,e,n,i){return t*e/(i-n)},e.prototype._valueFromDistance=function(t,e,n,i){return t*((i-n)/e)},e.prototype._distanceFromValue=function(t,e,n,i){return t*(e/(i-n))},e.prototype._refresh=function(){var t=!(this._maximum-this._minimum<=this._visibleAmount+.5)&&this._isActive;this._active(t),this._draw()},e.prototype.dispose=function(){this._scrollCallback=null,this.__observer&&this.__observer.disconnect(),this.__event.off(),null!=this.__scrollbar.parentNode&&this.__host.removeChild(this.__scrollbar)},e}();t._Scrollbar=e}(t||(t={})),function(t){var e=function(){function e(e,n){var i=this;this._zoomView=e,null!=n&&(this._backgroundColor=n.backgroundColor,this._fill=n.fill,this._stroke=n.stroke,this._strokeWidth=n.strokeWidth),this.__button=document.createElement("div"),this.__event=new t._EventManager,this.__event.element(this.__button).on("dblclick",(function(t){t.preventDefault(),t.stopPropagation()})),this.__event.element(this.__button).on("click",(function(e){i._onClicked();var n=t._ViewUtility._dvView(i._zoomView);if(null!=n){var o=t._DvViewUtility._control(n);null!=o&&o.invalidate()}e.preventDefault(),e.stopPropagation()}));var o=document.createElement("i");o.className="gcdv-icon",this.__button.appendChild(o)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.__button},enumerable:!0,configurable:!0}),e.prototype._refresh=function(){this.__button.className=this._className();var e=t._Util.getCssColorString(this._fill);null!=e&&(this.__button.style.color=e);var n=t._Util.getCssColorString(this._backgroundColor);null!=n&&(this.__button.style.backgroundColor=n);var i=this._strokeWidth,o=t._Util.getCssColorString(this._stroke);null!=i&&null!=o&&(this.__button.style.borderColor=o,this.__button.style.borderWidth=i+"px")},e.prototype.dispose=function(){null!=this.__event&&(this.__event.off(),this.__event=null),this.__button=null},e}();t._BaseZoomButton=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){if(this.__hostElement=e,this._vAlign=i.vAlign,this._hAlign=i.hAlign,this._orientation=i.orientation,this._margin=i.margin,this._space=i.space,this._buttons=[],this._bounds=n._zoomView._zoomBounds,this._isActive=!1,i.showButtons){var o=this._creatZoomButtons(n._zoomView,i);if(this._buttons=o,o.length>0){this.__container=this._createContainer();for(var r=0;r<o.length;r++){var l=o[r].element;null!=this._space&&r>0&&(this._orientation===t.Orientation.Vertical?l.style.marginTop=this._space+"px":l.style.marginLeft=this._space+"px"),this.__container.appendChild(l)}}}}return e.prototype._createContainer=function(){var n=document.createElement("div");return this._setCss(n,{position:"absolute",display:"flex",flexDirection:this._orientation===t.Orientation.Vertical?"column":"row",alignItems:"center"}),n.className=e.__constClassName,n},e.prototype._creatZoomButtons=function(e,n){var i=[],o=t._ViewUtility._dvView(e);if(null!=o){var r=t._DvViewUtility._domManager(o);if(null!=r){var l=n.style;if(n.showZoomResetButton){var a=r._createZoomResetButton(e,l);null!=a&&i.push(a)}if(n.showZoomInButton){var s=r._createZoomInButton(e,l);null!=s&&i.push(s)}if(n.showZoomOutButton){var u=r._createZoomOutButton(e,l);null!=u&&i.push(u)}return i}}return i},e.prototype._calcContainerBBox=function(e,n){var i=e.getBoundingClientRect(),o=new t.core.Rect(0,0,i.width,i.height);return null!=n&&(o.left-=n.left,o.top-=n.top,o.width+=n.left+n.right,o.height+=n.top+n.bottom),o},e.prototype._setCss=function(e,n){for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++){var r=o[i],l=n[r];"number"==typeof l&&(l+="px"),e.style[r]=l}},e.prototype._refresh=function(){if(null!=this.__container)if(this._isActive){null==this.__container.parentNode&&this.__hostElement.insertBefore(this.__container,this.__hostElement.firstChild);for(var e=0,n=this._buttons;e<n.length;e++)n[e]._refresh();var i=this._calcContainerBBox(this.__container,this._margin),o=null==this._hAlign?t.HAlign.Right:this._hAlign,r=null==this._vAlign?t.VAlign.Bottom:this._vAlign,l=new t.core.Point(i.right,i.bottom),a=new t.core.Point(this._bounds.right,this._bounds.bottom);switch(o){case t.HAlign.Left:l.x=i.left,a.x=this._bounds.left;break;case t.HAlign.Center:l.x=i.left+i.width/2,a.x=this._bounds.left+this._bounds.width/2}switch(r){case t.VAlign.Top:l.y=i.top,a.y=this._bounds.top;break;case t.VAlign.Middle:l.y=i.top+i.height/2,a.y=this._bounds.top+this._bounds.height/2}var s=a.x-l.x,u=a.y-l.y;this._setCss(this.__container,{left:s,top:u})}else null!=this.__container.parentNode&&this.__hostElement.removeChild(this.__container)},e.prototype.dispose=function(){for(var t=0,e=this._buttons;t<e.length;t++)e[t].dispose();this._buttons.splice(0,this._buttons.length),null!=this.__container&&this.__container.remove()},e.__constClassName="gcdv-zoom-buttons",e}();t._ZoomButtons=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._className=function(){return n.__constClassName},n.prototype._onClicked=function(){var e=this._zoomView._zoomBounds.center,n=this._zoomView._zoomFactor*t._Constants.ZoomInAcceleratedSpeed;this._zoomView._zoomAt(n,e.x,e.y)},n.__constClassName="gcdv-zoom-button-zoomin",n}(t._BaseZoomButton);t._ZoomInButton=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._className=function(){return n.__constClassName},n.prototype._onClicked=function(){var e=this._zoomView._zoomBounds.center,n=this._zoomView._zoomFactor*t._Constants.ZoomOutAcceleratedSpeed;this._zoomView._zoomAt(n,e.x,e.y)},n.__constClassName="gcdv-zoom-button-zoomout",n}(t._BaseZoomButton);t._ZoomOutButton=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._className=function(){return e.__constClassName},e.prototype._onClicked=function(){this._zoomView._reset()},e.__constClassName="gcdv-zoom-button-reset",e}(t._BaseZoomButton);t._ZoomResetButton=e}(t||(t={})),function(t){var e=function(){function e(t){this.__element=t,this.__events={}}return e.prototype.context=function(){return this.__element},e.prototype.on=function(t,e,n){if("string"==typeof t&&"function"==typeof e){n=!!n;for(var i=t.split(" ").filter((function(t){return""!==t})),o=0;o<i.length;o++){var r=i[o];this.__events[r]||(this.__events[r]=[]),this.__events[r].push({fn:e,capture:n}),this.__element.addEventListener(r,e,n)}}},e.prototype.off=function(e){var n=this.__events;if(e){if("string"==typeof e)for(var i=0,o=e.split(" ").filter((function(t){return""!==t}));i<o.length;i++){var r=o[i];for(p=n[r]?n[r]:[],c=0;c<p.length;c++)this.__element.removeEventListener(r,p[c].fn,p[c].capture);delete n[r]}else if("function"==typeof e)for(var l=0,a=t._NativeExtension.properties(n,!1);l<a.length;l++)for(p=n[_=a[l]]?n[_]:[],c=0;c<p.length;c++)p[c]===e&&(this.__element.removeEventListener(_,p[c].fn,p[c].capture),p.splice(c--,1))}else{for(var s=0,u=t._NativeExtension.properties(n,!1);s<u.length;s++)for(var _,p=n[_=u[s]]?n[_]:[],c=0;c<p.length;c++)this.__element.removeEventListener(_,p[c].fn,p[c].capture);this.__events={}}},e}();t._EventElement=e}(t||(t={})),function(t){var e=function(){function e(){this.__events=[]}return e.prototype.element=function(e){var n=this.__events.filter((function(t){return t.context()===e}))[0];return n||(n=new t._EventElement(e),this.__events.push(n)),n},e.prototype.object=function(e){var n=this.__events.filter((function(t){return t.context()===e}))[0];return n||(n=new t._EventObject(e),this.__events.push(n)),n},e.prototype.off=function(t){var e=this.__events;if(t)for(var n=0;n<e.length;n++)e[n].context()===t&&(e[n].off(),e.splice(n--,1));else{for(n=0;n<e.length;n++)e[n].off();this.__events=[]}},e}();t._EventManager=e}(t||(t={})),function(t){var e=function(){function e(t){this.__context=t,this.__events={}}return e.prototype.context=function(){return this.__context},e.prototype.on=function(t,e){this._bind(t,e,!1)},e.prototype.once=function(t,e){this._bind(t,e,!0)},e.prototype.off=function(e){var n=this.__events;if(e){if("string"==typeof e)delete n[e];else if("function"==typeof e)for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++)for(var r=o[i],l=n[r]?n[r]:[],a=0;a<l.length;a++)l[a][0]===e&&l.splice(a--,1)}else this.__events={}},e.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.__events[t];if(i&&0!==i.length)for(var o=0;o<i.length;o++){var r=i[o];r[0].apply(this.__context,e),r[1]&&i.splice(o--,o)}},e.prototype._bind=function(t,e,n){"string"==typeof t&&"function"==typeof e&&(this.__events[t]||(this.__events[t]=[]),this.__events[t].push([e,n]))},e}();t._EventObject=e}(t||(t={})),function(t){t._isDomElement=function(t){return null!=t&&"function"==typeof t._element}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this.__hostElement=t}return e.prototype._toControl=function(e,n){var i=new t.core.Point(0,0);n instanceof MouseEvent?i=new t.core.Point(n.pageX,n.pageY):n instanceof TouchEvent&&(i="touchend"==n.type?new t.core.Point(n.changedTouches[0].pageX,n.changedTouches[0].pageY):new t.core.Point(n.targetTouches[0].pageX,n.targetTouches[0].pageY));var o=i.clone(),r=t._DomElementExtension._getElementRect(e);o.x-=r.left,o.y-=r.top;var l=null;if(null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView&&(l=e.ownerDocument.defaultView.getComputedStyle(e)),null!=l){var a=parseInt(l.paddingLeft.replace("px",""),10);null==a||isNaN(a)||(o.x-=a);var s=parseInt(l.paddingTop.replace("px",""),10);null==s||isNaN(s)||(o.y-=s)}return o},e.prototype._fromEvent=function(e){var n=this.__hostElement,i=e||window.event,o=new t.MotionEvent(0,0,0);switch(i.type){case"touchstart":o=new t.MotionEvent(t.MotionEvent.ACTION_DOWN);break;case"touchend":o=new t.MotionEvent(t.MotionEvent.ACTION_UP);break;case"touchcancel":o=new t.MotionEvent(t.MotionEvent.ACTION_CANCEL);break;case"touchmove":o=new t.MotionEvent(t.MotionEvent.ACTION_MOVE);break;case"mousedown":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_DOWN);break;case"mousemove":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_MOVE);break;case"mouseup":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_UP);break;case"mouseout":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_OUT);break;case"mouseover":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_OVER);break;case"click":o=new t.MotionEvent(t.MotionEvent.ACTION_CLICK);break;case"mouseenter":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_ENTER);break;case"mouseleave":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_LEAVE);break;case"wheel":o=new t.MotionEvent(t.MotionEvent.ACTION_WHEEL);break;case"dblclick":o=new t.MotionEvent(t.MotionEvent.ACTION_DOUBLE_CLICK)}var r=this._toControl(n,i);return o.x=r.x,o.y=r.y,o.originalEvent=i,o},e}();t._MotionEventProvider=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this.__motionProvider=e,this.__callback=n,this.__eventMsg=new t._EventElement(document)}return e.prototype._startCapturing=function(){var t=this;this.__eventMsg.on("mousemove mouseup touchmove touchend touchcancel",(function(e){var n=t.__motionProvider._fromEvent(e);t.__callback(n)}))},e.prototype._endCapturing=function(){this.__eventMsg.off()},e.prototype.dispose=function(){this._endCapturing(),this.__motionProvider=null,this.__callback=null,this.__eventMsg=null},e}();t._MouseCaptureProvider=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isTransparent=function(e){if(null==e)return!0;if(e instanceof t._CssColor){var n=e.color;return"transparent"==n||"none"==n||"#00000000"==n||"rgba(0,0,0,0)"==n||""==n}if(e instanceof t._LinearGradientColor||e instanceof t._RadialGradientColor||e instanceof t._PatternColor)return!1;throw new t.RuntimeError(t.ErrorCode.InvalidArgument)},e._isStringColorTransparent=function(e){if(null==e)return!0;if("string"==typeof e)return"transparent"==e||"none"==e||"#00000000"==e||"rgba(0,0,0,0)"==e||""==e;throw new t.RuntimeError(t.ErrorCode.InvalidArgument)},e._tint=function(e,n){if(null==e)return null;if(t.models._isCssColor(e)){var i=e,o=t._NativeColorBuilder._colorBuilder._build(i.color);if(null!=o){var r=t._NativeColorUtility._tint(o,n)._toCss();return new t._CssColor(r)}}else{if(t.models._isLinearGradientColor(e)){for(var l=e,a=[],s=0,u=l.colorStops;s<u.length;s++){var _=u[s];if(null==(f=t._NativeColorBuilder._colorBuilder._build(_.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);r=t._NativeColorUtility._tint(f,f._alpha*n),a.push(new t._ColorStop(r._toCss(),_.stop))}return new t._LinearGradientColor(l.degree,a)}if(t.models._isRadialGradientColor(e)){for(var p=e,c=(a=[],0),h=p.colorStops;c<h.length;c++){var f;if(_=h[c],null==(f=t._NativeColorBuilder._colorBuilder._build(_.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);r=t._NativeColorUtility._tint(f,f._alpha*n),a.push(new t._ColorStop(r._toCss(),_.stop))}return new t._RadialGradientColor(p.center,p.radius,p.focus,p.focusRadius,a)}if(t.models._isPatternColor(e))return null}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._alpha=function(e,n){if(null==e)return null;if(t.models._isCssColor(e)){var i=e;if(null!=(c=t._NativeColorBuilder._colorBuilder._build(i.color)))return c._alpha*=n,new t._CssColor(c._toCss())}else{if(t.models._isLinearGradientColor(e)){for(var o=e,r=[],l=0,a=o.colorStops;l<a.length;l++){var s=a[l];if(null==(c=t._NativeColorBuilder._colorBuilder._build(s.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);c._alpha*=n,r.push(new t._ColorStop(c._toCss(),s.stop))}return new t._LinearGradientColor(o.degree,r)}if(t.models._isRadialGradientColor(e)){for(var u=e,_=(r=[],0),p=u.colorStops;_<p.length;_++){var c;if(s=p[_],null==(c=t._NativeColorBuilder._colorBuilder._build(s.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);c._alpha*=n,r.push(new t._ColorStop(c._toCss(),s.stop))}return new t._RadialGradientColor(u.center,u.radius,u.focus,u.focusRadius,r)}if(t.models._isPatternColor(e))return null}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e}();t._ColorUtility=e}(t||(t={})),function(t){var e=function(){function e(e){this.type=t.models.ColorType.CssColor,this.color=null!=e?e:"none"}return e._none=function(){return null==this.__none&&(this.__none=new e("none")),this.__none},e._defaultStyleColor=function(){return null==this.__defaultStyleColor&&(this.__defaultStyleColor=new e("#666666")),this.__defaultStyleColor},e._defaultBarLineStroke=function(){return null==this.__defaultBarLineStroke&&(this.__defaultBarLineStroke=new e("#000000")),this.__defaultBarLineStroke},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.color===t.color)},e}();t._CssColor=e}(t||(t={})),function(t){!function(t){!function(t){t[t.LinearGradient=0]="LinearGradient",t[t.RadialGradient=1]="RadialGradient",t[t.CssColor=2]="CssColor",t[t.Pattern=3]="Pattern"}(t.ColorType||(t.ColorType={}))}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t,e){this.color=t,this.stop=e}return t.prototype.equalsWith=function(t){return null!=t&&(this==t||this.color===t.color&&this.stop===t.stop)},t}();t._ColorStop=e}(t||(t={})),function(t){var e=function(){function e(){}return e._calcColorStopWithRadius=function(e,n,i){for(var o=0!=i?n/i:0,r=[],l=0,a=e;l<a.length;l++){var s=a[l];r.push(new t._ColorStop(s.color,o+s.stop*(1-o)))}return r},e}();t._ColorStopUtility=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.degree=e,this.type=t.models.ColorType.LinearGradient;var i=n.length;if(!(i>0))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);for(var o=n[0].stop,r=1;r<i;r++){var l=n[r].stop;if(o>l)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);o=l}this.colorStops=n}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.degree===n.degree&&t._NullableColorStopArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.colorStops,n.colorStops))},e}();t._LinearGradientColor=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){if(this.type=t.models.ColorType.RadialGradient,this.center=e,this.radius=n,this.focus=i,this.focusRadius=o,this.colorStops=r,0==n&&0==o&&"transparent"!=r[r.length-1].color){var l=new t._ColorStop("transparent",1);this.colorStops.push(l)}}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.center.equalsWith(n.center)&&this.focus.equalsWith(n.focus)&&this.radius===n.radius&&this.focusRadius===n.focusRadius&&t._NullableColorStopArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.colorStops,n.colorStops))},e}();t._RadialGradientColor=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCssColor=function(e){var n=e;return null!=n&&n.type===t.ColorType.CssColor&&null!=n.color}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isLinearGradientColor=function(e){var n=e;return n.type===t.ColorType.LinearGradient&&null!=n.equalsWith&&null!=n.degree&&null!=n.colorStops}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPathWithStyle=function(t){var e=t;return null!=e.equalsWith&&null!=e.style&&null!=e.content}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPatternColor=function(e){var n=e;return n.type===t.ColorType.Pattern&&null!=n.equalsWith&&null!=n.backgroundColor&&null!=n.pattern}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isRadialGradientColor=function(e){var n=e;return n.type===t.ColorType.RadialGradient&&null!=n.equalsWith&&null!=n.center&&null!=n.radius&&null!=n.focus&&null!=n.focusRadius&&null!=n.colorStops}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableObjectEqualityComparer);t._NullableColorEqualityComparer=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableArrayEqualityComparer);t._NullableColorStopArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableArrayEqualityComparer);t._NullablePatternWithStyleArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){this.pattern={},this._defaultPatterns()}return t.prototype._defaultPatterns=function(){this.pattern["Dotted-5%"]=["M 6 6 L 8 6 L 8 8 L 6 8 Z","M 14 14 L 16 14 L 16 16 L 14 16 Z"],this.pattern["Dotted-10%"]=["M 6 2 L 8 2 L 8 4 L 6 4 Z","M 14 6 L 16 6 L 16 8 L 14 8 Z","M 6 10 L 8 10 L 8 12 L 6 12 Z","M 14 14 L 16 14 L 16 16 L 14 16 Z"],this.pattern["Dotted-20%"]=["M 1 1 L 2 1 L 2 2 L 1 2 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Dotted-25%"]=["M 1 0 L 2 0 L 2 1 L 1 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["Dotted-30%"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 2 0 L 3 0 L 3 1 L 2 1 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 6 0 L 7 0 L 7 1 L 6 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 0 2 L 1 2 L 1 3 L 0 3 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Dotted-40%"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 2 0 L 3 0 L 3 1 L 2 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 5 3 L 6 3 L 6 4 L 5 4 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 6 0 L 7 0 L 7 1 L 6 1 Z","M 0 2 L 1 2 L 1 3 L 0 3 Z","M 1 3 L 2 3 L 2 4 L 1 4 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern["Dotted-50%"]=["M 1 0 L 2 0 L 2 1 L 1 1 Z","M 3 0 L 4 0 L 4 1 L 3 1 Z","M 5 0 L 6 0 L 6 1 L 5 1 Z","M 7 0 L 8 0 L 8 1 L 7 1 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 3 2 L 4 2 L 4 3 L 3 3 Z","M 5 2 L 6 2 L 6 3 L 5 3 Z","M 7 2 L 8 2 L 8 3 L 7 3 Z","M 1 4 L 2 4 L 2 5 L 1 5 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 5 4 L 6 4 L 6 5 L 5 5 Z","M 7 4 L 8 4 L 8 5 L 7 5 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 3 6 L 4 6 L 4 7 L 3 7 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z","M 0 1 L 1 1 L 1 2 L 0 2 Z","M 2 1 L 3 1 L 3 2 L 2 2 Z","M 4 1 L 5 1 L 5 2 L 4 2 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 2 3 L 3 3 L 3 4 L 2 4 Z","M 4 3 L 5 3 L 5 4 L 4 4 Z","M 6 3 L 7 3 L 7 4 L 6 4 Z","M 0 5 L 1 5 L 1 6 L 0 6 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 0 7 L 1 7 L 1 8 L 0 8 Z","M 2 7 L 3 7 L 3 8 L 2 8 Z","M 4 7 L 5 7 L 5 8 L 4 8 Z","M 6 7 L 7 7 L 7 8 L 6 8 Z"],this.pattern["Dotted-60%"]=["M 3 0 L 4 0 L 4 1 L 3 1 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 3 2 L 4 2 L 4 4 L 2 4 L 2 3 L 3 3 Z","M 1 0 L 2 0 L 2 1 L 3 1 L 3 2 L 2 2 L 2 3 L 1 3 L 1 2 L 0 2 L 0 1 L 1 1 Z"],this.pattern["Dotted-70%"]=["M 0 0 L 3 0 L 3 1 L 4 1 L 4 2 L 2 2 L 2 1 L 1 1 L 1 2 L 0 2 Z","M 0 2 L 3 2 L 3 3 L 4 3 L 4 4 L 2 4 L 2 3 L 1 3 1 4 L 0 4 Z"],this.pattern["Dotted-75%"]=["M 1 0 L 4 0 L 4 2 L 0 2 L 0 1 L 1 1 Z","M 0 2 L 2 2 L 2 3 L 3 3 L 3 2 L 4 2 L 4 4 L 0 4 Z"],this.pattern["Dotted-80%"]=["M 1 0 L 4 0 L 4 8 L 0 8 L 0 5 L 1 5 L 1 4 L 0 4 L 0 1 L 1 1 Z","M 4 0 L 4 2 L 5 2 L 5 3 L 4 3 L 4 6 L 5 6 L 5 7 L 4 7 L 4 8 L 8 8 L 8 0 Z"],this.pattern["Dotted-90%"]=["M 1 0 L 4 0 L 4 8 L 0 8 L 0 1 L 1 1 Z","M 4 0 L 4 4 L 5 4 L 5 5 L 4 5 L 4 8 L 8 8 L 8 0 Z"],this.pattern["DiagonalStripes-LightDownward"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["DiagonalStripes-LightUpward"]=["M 3 0 L 4 0 L 4 1 L 3 1 Z","M 2 1 L 3 1 L 3 2 L 2 2 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z"],this.pattern["DiagonalStripes-DarkDownward"]=["M 0 0 L 2 0 L 2 1 L 3 1 L 3 2 L 4 2 L 4 4 L 3 4 L 3 3 L 2 3 L 2 2 L 1 2 L 1 1 L 0 1 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z"],this.pattern["DiagonalStripes-DarkUpward"]=["M 4 0 L 2 0 L 2 1 L 1 1 L 1 2 L 0 2 L 0 4 L 1 4 L 1 3 L 2 3 L 2 2 L 3 2 L 3 1 L 4 1 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["DiagonalStripes-WideDownward"]=["M 0 0 L 3 0 L 3 1 L 4 1 L 4 2 L 5 2 L 5 3 L 6 3 L 6 4 L 7 4 L 7 5 L 8 5 L 8 8 L 7 8 L 7 7 L 6 7 L 6 6 L 5 6 L 5 5 L 4 5 L 4 4 L 3 4 L 3 3 L 2 3 L 2 2 L 1 2 L 1 1 L 0 1 Z","M 0 6 L 1 6 L 1 7 L 2 7 L 2 8 L 0 8 Z"],this.pattern["DiagonalStripes-WideUpward"]=["M 8 0 L 5 0 L 5 1 L 4 1 L 4 2 L 3 2 L 3 3 L 2 3 L 2 4 L 1 4 L 1 5 L 0 5 L 0 8 L 1 8 L 1 7 L 2 7 L 2 6 L 3 6 L 3 5 L 4 5 L 4 4 L 5 4 L 5 3 L 6 3 L 6 2 L 7 2 L 7 1 L 8 1 Z","M 7 6 L 8 6 L 8 8 L 6 8 L 6 7 L 7 7 Z"],this.pattern["VerticalStripes-Light"]=["M 3 0 L 4 0 L 4 16 L 3 16 Z","M 7 0 L 8 0 L 8 16 L 7 16 Z","M 11 0 L 12 0 L 12 16 L 11 16 Z","M 15 0 L 16 0 L 16 16 L 15 16 Z"],this.pattern["HorizontalStripes-Light"]=["M 0 3 L 4 3 L 4 4 L 0 4"],this.pattern["VerticalStripes-Narrow"]=["M 1 0 L 2 0 L 2 4 L 1 4 Z","M 3 0 L 4 0 L 4 4 L 3 4 Z"],this.pattern["HorizontalStripes-Narrow"]=["M 0 1 L 4 1 L 4 2 L 0 2 Z","M 0 3 L 4 3 L 4 4 L 0 4 Z"],this.pattern["VerticalStripes-Dark"]=["M 2 0 L 4 0 L 4 4 L 2 4 Z"],this.pattern["HorizontalStripes-Dark"]=["M 0 2 L 4 2 L 4 4 L 0 4 Z"],this.pattern["VerticalStripes-AlternatingVerticalLines"]=["M 3 0 L 4 0 L 4 4 L 3 4 Z","M 7 4 L 8 4 L 8 8 L 7 8 Z"],this.pattern["HorizontalStripes-AlternatingHorizontalLines"]=["M 0 3 L 4 3 L 4 4 L 0 4 Z","M 4 7 L 8 7 L 8 8 L 4 8 Z"],this.pattern["Stripes-Backslashes"]=["M 0 4 L 1 4 L 1 5 L 0 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Stripes-Slashes"]=["M 0 7 L 1 7 L 1 8 L 0 8 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 4 7 L 5 7 L 5 8 L 4 8 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 7 4 L 8 4 L 8 5 L 7 5 Z"],this.pattern.SmallConfetti=["M 2 0 L 3 0 L 3 1 L 2 1 Z","M 3 2 L 4 2 L 4 3 L 3 3 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 5 4 L 6 4 L 6 5 L 5 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z"],this.pattern.LargeConfetti=["M 0 0 L 2 0 L 2 2 L 0 2 Z","M 2 2 L 4 2 L 4 4 L 2 4 Z","M 5 1 L 7 1 L 7 3 L 5 3 Z","M 1 5 L 3 5 L 3 7 L 1 7 Z","M 4 6 L 6 6 L 6 8 L 4 8 Z","M 6 4 L 8 4 L 8 6 L 6 6 Z"],this.pattern.ZigZag=["M 0 2 L 1 2 L 1 3 L 0 3 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 4 1 L 5 1 L 5 2 L 4 2 Z","M 5 2 L 6 2 L 6 3 L 5 3 Z","M 2 0 L 4 0 L 4 1 L 2 1 Z","M 6 3 L 8 3 L 8 4 L 6 4 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 2 4 L 4 4 L 4 5 L 2 5 Z","M 6 7 L 8 7 L 8 8 L 6 8 Z"],this.pattern.Wave=["M 5 1 L 7 1 L 7 2 L 5 2 Z","M 2 3 L 4 3 L 4 4 L 2 4 Z","M 2 7 L 4 7 L 4 8 L 2 8 Z","M 5 5 L 7 5 L 7 6 L 5 6 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 7 2 L 8 2 L 8 3 L 7 3 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z"],this.pattern.HorizontalBrick=["M 6 0 L 6 3 L 0 3 L 0 4 L 2 4 L 2 7 L 0 7 L 0 8 L 8 8 L 8 7 L 3 7 L 3 4 L 8 4 L 8 3 L 7 3 L 7 0 Z"],this.pattern.DiagonalBrick=["M 7 0 L 8 0 L 8 1 L 7 1 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 5 2 L 6 2 L 6 4 L 4 4 L 4 3 L 5 3 Z","M 0 6 L 2 6 L 2 7 L 1 7 L 1 8 L 0 8 Z"],this.pattern.Weave=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 1 3 L 2 3 L 2 4 L 1 4 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern.Plaid=["M 0 0 L 4 0 L 4 4 L 0 4 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern.Divot=["M 3 1 L 4 1 L 4 2 L 3 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z","M 6 7 L 7 7 L 7 8 L 6 8 Z"],this.pattern.DottedGrid=["M 7 1 L 8 1 L 8 2 L 7 2 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z"],this.pattern.DottedDiamondGrid=["M 1 1 L 2 1 L 2 2 L 1 2 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z"],this.pattern.Shingle=["M 2 1 L 3 1 L 3 2 L 2 2 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 0 0 L 2 0 L 2 1 L 0 1 Z","M 6 7 L 8 7 L 8 8 L 6 8 Z","M 3 2 L 4 2 L 4 5 L 2 5 L 2 4 L 3 4 Z"],this.pattern.Trellis=["M 0 0 L 4 0 L 4 3 L 2 3 L 2 4 L 0 4 L 0 2 L 2 2 L 2 1 L 0 1 Z"],this.pattern.Sphere=["M 1 0 L 4 0 L 4 1 L 5 1 L 5 4 L 4 4 L 4 5 L 1 5 L 1 4 L 0 4 L 0 1 L 1 1 L 1 2 L 3 2 L 3 1 L 1 1 Z","M 0 5 L 1 5 L 1 8 L 0 8 Z","M 5 0 L 5 1 L 8 1 L 8 0 Z","M 5 4 L 8 4 L 8 8 L 4 8 L 4 5 L 5 5 L 5 6 L 7 6 L 7 5 L 5 5 Z"],this.pattern.SmallGrid=["M 0 0 L 4 0 L 4 1 L 1 1 L 1 4 L 0 4 Z"],this.pattern.LargeGrid=["M 0 0 L 8 0 L 8 1 L 1 1 L 1 8 L 0 8 Z"],this.pattern.SmallCheckerBoard=["M 0 0 L 0 2 L 2 2 L 2 0 Z","M 2 2 L 2 4 L 4 4 L 4 2 Z"],this.pattern.LargeCheckerBoard=["M 0 0 L 0 8 L 8 8 L 8 0 Z","M 8 8 L 8 16 L 16 16 L 16 8 Z"],this.pattern.OutlinedDiamondGrid=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 7 1 L 8 1 L 8 2 L 7 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 5 3 L 6 3 L 6 4 L 5 4 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern.SolidDiamondGrid=["M 4 1 L 5 1 L 5 2 L 6 2 L 6 3 L 7 3 L 7 4 L 8 4 L 8 5 L 7 5 L 7 6 L 6 6 L 6 7 L 5 7 L 5 8 L 4 8 L 4 7 L 3 7 L 3 6 L 2 6 L 2 5 L 1 5 L 1 4 L 2 4 L 2 3 L 3 3 L 3 2 L 4 2 Z"]},t.defaultExcelPattern=new t,t}();t._ExcelNamedPatternList=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.style=t,this.content=e}return e.prototype.equalsWith=function(e){return null!=e&&(this==e||!!t.models._isPathWithStyle(e)&&(new t._StyleEqualityComparer)._equalsWith(this.style,e.style)&&this.content===e.content)},e}();t._PathWithStyle=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.type=t.models.ColorType.Pattern,this.backgroundColor=e,this.pattern=n}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&t._NullableColorEqualityComparer._defaultEqualityComparer._equalsWith(this.backgroundColor,n.backgroundColor)&&t._NullablePatternWithStyleArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.pattern,n.pattern))},e}();t._PatternColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e._unionOfRectangles=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);for(var i=e[0].left,o=e[0].top,r=e[0].right,l=e[0].bottom,a=1;a<e.length;a++){var s=e[a];i=Math.min(i,s.left),o=Math.min(o,s.top),r=Math.max(r,s.right),l=Math.max(l,s.bottom)}return new t.core.Rect(i,o,r-i,l-o)},e._intersectionOfRectangle=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);for(var i=e[0].left,o=e[0].top,r=e[0].right,l=e[0].bottom,a=1;a<e.length;a++){var s=e[a];i=Math.max(i,s.left),o=Math.max(o,s.top),r=Math.min(r,s.right),l=Math.min(l,s.bottom)}return r>=i&&l>=o?new t.core.Rect(i,o,r-i,l-o):new t.core.Rect(0,0,0,0)},e._inflateRectangle=function(t,e,n){return(t=t.clone()).inflate(e,n),t},e._scaleRectangle=function(t,e){if(t=t.clone(),e>0){var n=t.width*e,i=t.height*e;t.left-=(n-t.width)/2,t.top-=(i-t.height)/2,t.width=n,t.height=i}return t},e._scaleVisualValue=function(t,n){var i=parseFloat(t),o=e._getSuffix(t);return isNaN(i)?t:(i*n).toString()+o},e._getSuffix=function(t){var e=/[^\d+-\.]/g.exec(t);return null!=e?t.substring(e.index):""},e}();t._DrawingUtility=e}(t||(t={})),function(t){t._isHtmlImageInfo=function(t){return void 0!==t._imageElement}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e){this.src=e,this.__imageElement=null,this.__state=t.AsyncResourceState.NotLoad,this.__callbacks=[]}return Object.defineProperty(e.prototype,"_imageElement",{get:function(){return this.__imageElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__state==t.AsyncResourceState.Loaded&&null!=this.__imageElement?this.__imageElement.width:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__state==t.AsyncResourceState.Loaded&&null!=this.__imageElement?this.__imageElement.height:null},enumerable:!0,configurable:!0}),e.prototype._isCompleted=function(){return this.__state==t.AsyncResourceState.Loaded},e.prototype._load=function(e){var n=this;this.__state==t.AsyncResourceState.Loaded?e(this):this.__state==t.AsyncResourceState.Loading?this.__callbacks.push(e):(this.__state=t.AsyncResourceState.Loading,this.__callbacks.push(e),this.__imageElement=new Image,this.__imageElement.onload=function(){n.__state=t.AsyncResourceState.Loaded;for(var e=0,i=n.__callbacks;e<i.length;e++)(0,i[e])(n);n.__callbacks=[]},this.__imageElement.src=this.src)},e}();t._ImageInfo=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildImageInfo=function(e,n){var i=new t._ImageInfo(e);return null!=n&&n.load(i),i},e._imageInfoBuilder=new e,e}();t._ImageInfoBuilder=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(e){if(void 0===e&&(e=null),null==e)this.values=[1,0,0,1,0,0];else{if(6!=e.length)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);this.values=e.slice()}}return e.prototype._multiply=function(t,e,n,i,o,r){var l=this.values[0],a=this.values[1],s=this.values[2],u=this.values[3],_=this.values[4],p=this.values[5];this.values[0]=l*t+s*e,this.values[1]=a*t+u*e,this.values[2]=l*n+s*i,this.values[3]=a*n+u*i,this.values[4]=l*o+s*r+_,this.values[5]=a*o+u*r+p},e.prototype.clone=function(){return new e(this.values)},e.prototype.reset=function(){this.values[0]=1,this.values[1]=0,this.values[2]=0,this.values[3]=1,this.values[4]=0,this.values[5]=0},e.prototype.invert=function(){var t=this.values[0],n=this.values[2],i=this.values[4],o=this.values[1],r=this.values[3],l=this.values[5],a=t*r-o*n;if(0==a)return null;a=1/a;var s=[];return s.push(r*a),s.push(-o*a),s.push(-n*a),s.push(t*a),s.push((n*l-r*i)*a),s.push((o*i-t*l)*a),new e(s)},e.prototype.transform=function(t){if(null!=t){var e=t.values;this._multiply(e[0],e[1],e[2],e[3],e[4],e[5])}},e.prototype.translate=function(e,n){void 0===n&&(n=null);var i=t._NativeExtension._toNonNullNumber(n,0);if(isNaN(e)||isNaN(i))throw new t.AssertError(t.ErrorCode.InvalidArgument,e,n);this._multiply(1,0,0,1,e,i)},e.prototype.rotate=function(e,n){if(void 0===n&&(n=null),isNaN(e))throw new t.AssertError(t.ErrorCode.InvalidArgument,e);var i=null==n?0:n.x,o=null==n?0:n.y,r=Math.cos(e),l=Math.sin(e);this._multiply(r,l,-l,r,(1-r)*i+o*l,(1-r)*o-i*l)},e.prototype.scale=function(e,n){void 0===n&&(n=null);var i=t._NativeExtension._toNonNullNumber(n,e);if(isNaN(e)||isNaN(i))throw new t.AssertError(t.ErrorCode.InvalidArgument,e,n);this._multiply(e,0,0,i,0,0)},e.prototype.skew=function(t,e){isNaN(t)||isNaN(t)||this._multiply(1,Math.tan(e),Math.tan(t),1,0,0)},e.prototype.skewX=function(t){this.skew(t,0)},e.prototype.skewY=function(t){this.skew(0,t)},e.prototype.shear=function(t,e){isNaN(t)||isNaN(e)||this._multiply(1,e,t,1,0,0)},e.prototype.transformPoint=function(e,n,i){return void 0===i&&(i=null),null==i&&(i=new t.core.Point(0,0)),i.x=this.values[0]*e+this.values[2]*n+this.values[4],i.y=this.values[1]*e+this.values[3]*n+this.values[5],i},e}();t.Matrix=e}(t||(t={})),function(t){var e=function(e){void 0===e&&(e=1),this._alpha=t._MathExtension.clamp(e,0,1)};t._BaseNativeColor=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===r&&(r=1);var l=e.call(this,r)||this;return n%=360,l._hue=t._MathExtension.clamp(n,0,360),l._saturation=t._MathExtension.clamp(i,0,1),l._lightness=t._MathExtension.clamp(o,0,1),l}return i(n,e),n.prototype._toCss=function(){var t=Math.round(100*this._alpha);return t>99?"hsl("+this._hue+","+Math.round(100*this._saturation)+"%,"+Math.round(100*this._lightness)+"%)":"hsla("+this._hue+","+Math.round(100*this._saturation)+"%,"+Math.round(100*this._lightness)+"%,"+t/100+")"},n}(t._BaseNativeColor);t._HslaNativeColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(t){return this._buildFromCss(t)},e.prototype._buildFromCss=function(e){if(0==e.indexOf("hsla(")&&e.indexOf(")")==e.length-1){var n=e.substring(5,e.length-1).split(",");return 4==n.length?new t._HslaNativeColor(parseFloat(n[0]),this._parsePercent(n[1]),this._parsePercent(n[2]),parseFloat(n[3])):null}if(0==e.indexOf("hsl(")&&e.indexOf(")")==e.length-1){var i=e.substring(4,e.length-1).split(",");return 3==i.length?new t._HslaNativeColor(parseFloat(i[0]),this._parsePercent(i[1]),this._parsePercent(i[2])):null}return null},e.prototype._parsePercent=function(t){return t.lastIndexOf("%")==t.length-1?parseFloat(t.slice(0,t.length-1))/100:NaN},e._hslaColorBuilder=new e,e}();t._HslaNativeColorBuilder=e}(t||(t={})),function(t){t._isHslaColor=function(t){var e=t;return"number"==typeof e._hue&&"number"==typeof e._saturation&&"number"==typeof e._lightness}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._build=function(e){var n=t._RgbaNativeColorBuilder._rgbaColorBuilder._build(e);if(null!=n)return n;var i=t._HslaNativeColorBuilder._hslaColorBuilder._build(e);return null!=i?i:null},e._colorBuilder=new e,e}();t._NativeColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toRgba=function(n){if(t._isRgbaColor(n))return n;if(t._isHslaColor(n))return e._toRgbaFromHsla(n);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._toHsla=function(n){if(t._isHslaColor(n))return n;if(t._isRgbaColor(n))return e._toHslaFromRgba(n);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._toHslaFromRgba=function(e){var n=e._red/255,i=e._green/255,o=e._blue/255,r=Math.max(n,i,o),l=Math.min(n,i,o),a=0,s=0,u=(r+l)/2;if(r==l)a=s=0;else{var _=r-l;s=u>.5?_/(2-r-l):_/(r+l),r==n?a=(i-o)/_+(i<o?6:0):r==i?a=(o-n)/_+2:r==o&&(a=(n-i)/_+4),a/=6}return new t._HslaNativeColor(360*a,s,u,e._alpha)},e._toRgbaFromHsla=function(n){var i=e._hslToRgb(n._hue/360,n._saturation,n._lightness);return new t._RgbaNativeColor(i[0],i[1],i[2],n._alpha)},e._tint=function(n,i){if(t._isRgbaColor(n)){var o=n,r=e._toHslaFromRgba(o);return e._toRgbaFromHsla(e._tintHslaNativeColor(r,i))}if(t._isHslaColor(n)){var l=n;return e._tintHslaNativeColor(l,i)}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._tintHslaNativeColor=function(e,n){var i;return i=n>=0?e._lightness+(1-e._lightness)*n:e._lightness*(1+n),new t._HslaNativeColor(e._hue,e._saturation,i,e._alpha)},e._hslToRgb=function(n,i,o){if(n<0||n>1||i<0||i>1||o<0||o>1)throw new t.AssertError(t.ErrorCode.HslColorRequired,n,i,o);var r,l,a;if(0==i)r=l=a=o;else{var s=o<.5?o*(1+i):o+i-o*i,u=2*o-s;r=e._hue2rgb(u,s,n+1/3),l=e._hue2rgb(u,s,n),a=e._hue2rgb(u,s,n-1/3)}return[Math.round(255*r),Math.round(255*l),Math.round(255*a)]},e._hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},e}();t._NativeColorUtility=e}(t||(t={})),function(t){t._isRgbaColor=function(t){var e=t;return"number"==typeof e._red&&"number"==typeof e._green&&"number"==typeof e._blue}}(t||(t={})),function(t){var e=function(){function t(){this.__namedColors={},this.__namedColors.aliceblue="rgb(240, 248, 255)",this.__namedColors.antiquewhite="rgb(250, 235, 215)",this.__namedColors.aqua="rgb( 0, 255, 255)",this.__namedColors.aquamarine="rgb(127, 255, 212)",this.__namedColors.azure="rgb(240, 255, 255)",this.__namedColors.beige="rgb(245, 245, 220)",this.__namedColors.bisque="rgb(255, 228, 196)",this.__namedColors.black="rgb( 0, 0, 0)",this.__namedColors.blanchedalmond="rgb(255, 235, 205)",this.__namedColors.blue="rgb( 0, 0, 255)",this.__namedColors.blueviolet="rgb(138, 43, 226)",this.__namedColors.brown="rgb(165, 42, 42)",this.__namedColors.burlywood="rgb(222, 184, 135)",this.__namedColors.cadetblue="rgb( 95, 158, 160)",this.__namedColors.chartreuse="rgb(127, 255, 0)",this.__namedColors.chocolate="rgb(210, 105, 30)",this.__namedColors.coral="rgb(255, 127, 80)",this.__namedColors.cornflowerblue="rgb(100, 149, 237)",this.__namedColors.cornsilk="rgb(255, 248, 220)",this.__namedColors.crimson="rgb(220, 20, 60)",this.__namedColors.cyan="rgb( 0, 255, 255)",this.__namedColors.darkblue="rgb( 0, 0, 139)",this.__namedColors.darkcyan="rgb( 0, 139, 139)",this.__namedColors.darkgoldenrod="rgb(184, 134, 11)",this.__namedColors.darkgray="rgb(169, 169, 169)",this.__namedColors.darkgreen="rgb( 0, 100, 0)",this.__namedColors.darkgrey="rgb(169, 169, 169)",this.__namedColors.darkkhaki="rgb(189, 183, 107)",this.__namedColors.darkmagenta="rgb(139, 0, 139)",this.__namedColors.darkolivegreen="rgb( 85, 107, 47)",this.__namedColors.darkorange="rgb(255, 140, 0)",this.__namedColors.darkorchid="rgb(153, 50, 204)",this.__namedColors.darkred="rgb(139, 0, 0)",this.__namedColors.darksalmon="rgb(233, 150, 122)",this.__namedColors.darkseagreen="rgb(143, 188, 143)",this.__namedColors.darkslateblue="rgb( 72, 61, 139)",this.__namedColors.darkslategray="rgb( 47, 79, 79)",this.__namedColors.darkslategrey="rgb( 47, 79, 79)",this.__namedColors.darkturquoise="rgb( 0, 206, 209)",this.__namedColors.darkviolet="rgb(148, 0, 211)",this.__namedColors.deeppink="rgb(255, 20, 147)",this.__namedColors.deepskyblue="rgb( 0, 191, 255)",this.__namedColors.dimgray="rgb(105, 105, 105)",this.__namedColors.dimgrey="rgb(105, 105, 105)",this.__namedColors.dodgerblue="rgb( 30, 144, 255)",this.__namedColors.firebrick="rgb(178, 34, 34)",this.__namedColors.floralwhite="rgb(255, 250, 240)",this.__namedColors.forestgreen="rgb( 34, 139, 34)",this.__namedColors.fuchsia="rgb(255, 0, 255)",this.__namedColors.gainsboro="rgb(220, 220, 220)",this.__namedColors.ghostwhite="rgb(248, 248, 255)",this.__namedColors.gold="rgb(255, 215, 0)",this.__namedColors.goldenrod="rgb(218, 165, 32)",this.__namedColors.gray="rgb(128, 128, 128)",this.__namedColors.grey="rgb(128, 128, 128)",this.__namedColors.green="rgb( 0, 128, 0)",this.__namedColors.greenyellow="rgb(173, 255, 47)",this.__namedColors.honeydew="rgb(240, 255, 240)",this.__namedColors.hotpink="rgb(255, 105, 180)",this.__namedColors.indianred="rgb(205, 92, 92)",this.__namedColors.indigo="rgb( 75, 0, 130)",this.__namedColors.ivory="rgb(255, 255, 240)",this.__namedColors.khaki="rgb(240, 230, 140)",this.__namedColors.lavender="rgb(230, 230, 250)",this.__namedColors.lavenderblush="rgb(255, 240, 245)",this.__namedColors.lawngreen="rgb(124, 252, 0)",this.__namedColors.lemonchiffon="rgb(255, 250, 205)",this.__namedColors.lightblue="rgb(173, 216, 230)",this.__namedColors.lightcoral="rgb(240, 128, 128)",this.__namedColors.lightcyan="rgb(224, 255, 255)",this.__namedColors.lightgoldenrodyellow="rgb(250, 250, 210)",this.__namedColors.lightgray="rgb(211, 211, 211)",this.__namedColors.lightgreen="rgb(144, 238, 144)",this.__namedColors.lightgrey="rgb(211, 211, 211)",this.__namedColors.lightpink="rgb(255, 182, 193)",this.__namedColors.lightsalmon="rgb(255, 160, 122)",this.__namedColors.lightseagreen="rgb( 32, 178, 170)",this.__namedColors.lightskyblue="rgb(135, 206, 250)",this.__namedColors.lightslategray="rgb(119, 136, 153)",this.__namedColors.lightslategrey="rgb(119, 136, 153)",this.__namedColors.lightsteelblue="rgb(176, 196, 222)",this.__namedColors.lightyellow="rgb(255, 255, 224)",this.__namedColors.lime="rgb( 0, 255, 0)",this.__namedColors.limegreen="rgb( 50, 205, 50)",this.__namedColors.linen="rgb(250, 240, 230)",this.__namedColors.magenta="rgb(255, 0, 255)",this.__namedColors.maroon="rgb(128, 0, 0)",this.__namedColors.mediumaquamarine="rgb(102, 205, 170)",this.__namedColors.mediumblue="rgb( 0, 0, 205)",this.__namedColors.mediumorchid="rgb(186, 85, 211)",this.__namedColors.mediumpurple="rgb(147, 112, 219)",this.__namedColors.mediumseagreen="rgb( 60, 179, 113)",this.__namedColors.mediumslateblue="rgb(123, 104, 238)",this.__namedColors.mediumspringgreen="rgb( 0, 250, 154)",this.__namedColors.mediumturquoise="rgb( 72, 209, 204)",this.__namedColors.mediumvioletred="rgb(199, 21, 133)",this.__namedColors.midnightblue="rgb( 25, 25, 112)",this.__namedColors.mintcream="rgb(245, 255, 250)",this.__namedColors.mistyrose="rgb(255, 228, 225)",this.__namedColors.moccasin="rgb(255, 228, 181)",this.__namedColors.navajowhite="rgb(255, 222, 173)",this.__namedColors.navy="rgb( 0, 0, 128)",this.__namedColors.oldlace="rgb(253, 245, 230)",this.__namedColors.olive="rgb(128, 128, 0)",this.__namedColors.olivedrab="rgb(107, 142, 35)",this.__namedColors.orange="rgb(255, 165, 0)",this.__namedColors.orangered="rgb(255, 69, 0)",this.__namedColors.orchid="rgb(218, 112, 214)",this.__namedColors.palegoldenrod="rgb(238, 232, 170)",this.__namedColors.palegreen="rgb(152, 251, 152)",this.__namedColors.paleturquoise="rgb(175, 238, 238)",this.__namedColors.palevioletred="rgb(219, 112, 147)",this.__namedColors.papayawhip="rgb(255, 239, 213)",this.__namedColors.peachpuff="rgb(255, 218, 185)",this.__namedColors.peru="rgb(205, 133, 63)",this.__namedColors.pink="rgb(255, 192, 203)",this.__namedColors.plum="rgb(221, 160, 221)",this.__namedColors.powderblue="rgb(176, 224, 230)",this.__namedColors.purple="rgb(128, 0, 128)",this.__namedColors.red="rgb(255, 0, 0)",this.__namedColors.rosybrown="rgb(188, 143, 143)",this.__namedColors.royalblue="rgb( 65, 105, 225)",this.__namedColors.saddlebrown="rgb(139, 69, 19)",this.__namedColors.salmon="rgb(250, 128, 114)",this.__namedColors.sandybrown="rgb(244, 164, 96)",this.__namedColors.seagreen="rgb( 46, 139, 87)",this.__namedColors.seashell="rgb(255, 245, 238)",this.__namedColors.sienna="rgb(160, 82, 45)",this.__namedColors.silver="rgb(192, 192, 192)",this.__namedColors.skyblue="rgb(135, 206, 235)",this.__namedColors.slateblue="rgb(106, 90, 205)",this.__namedColors.slategray="rgb(112, 128, 144)",this.__namedColors.slategrey="rgb(112, 128, 144)",this.__namedColors.snow="rgb(255, 250, 250)",this.__namedColors.springgreen="rgb( 0, 255, 127)",this.__namedColors.steelblue="rgb( 70, 130, 180)",this.__namedColors.tan="rgb(210, 180, 140)",this.__namedColors.teal="rgb( 0, 128, 128)",this.__namedColors.thistle="rgb(216, 191, 216)",this.__namedColors.tomato="rgb(255, 99, 71)",this.__namedColors.turquoise="rgb( 64, 224, 208)",this.__namedColors.violet="rgb(238, 130, 238)",this.__namedColors.wheat="rgb(245, 222, 179)",this.__namedColors.white="rgb(255, 255, 255)",this.__namedColors.whitesmoke="rgb(245, 245, 245)",this.__namedColors.yellow="rgb(255, 255, 0)",this.__namedColors.yellowgreen="rgb(154, 205, 50)"}return t.prototype._toCssRgbaColor=function(t){return this.__namedColors[t.toLowerCase()]},t._namedNativeColor=new t,t}();t._NamedNativeColor=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===r&&(r=1);var l=e.call(this,r)||this;return l._red=t._MathExtension.clamp(n,0,255),l._green=t._MathExtension.clamp(i,0,255),l._blue=t._MathExtension.clamp(o,0,255),l}return i(n,e),n.prototype._toCss=function(){var t=Math.round(100*this._alpha);return t>99?"#"+((1<<24)+(this._red<<16)+(this._green<<8)+this._blue).toString(16).slice(1):"rgba("+this._red+","+this._green+","+this._blue+","+t/100+")"},n}(t._BaseNativeColor);t._RgbaNativeColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(t){return this._buildFromCssColor(t)},e.prototype._buildFromCssColor=function(e){var n,i=t._NamedNativeColor._namedNativeColor._toCssRgbaColor(e);return null==i&&(i=e),"transparent"==i.toLowerCase()||"none"==i.toLowerCase()?new t._RgbaNativeColor(0,0,0,0):0==i.indexOf("#")?4==i.length?new t._RgbaNativeColor(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)):i.length>=7?new t._RgbaNativeColor(parseInt(i.substr(1,2),16),parseInt(i.substr(3,2),16),parseInt(i.substr(5,2),16)):null:0==i.indexOf("rgba(")&&i.indexOf(")")==i.length-1?4==(n=i.substring(5,i.length-1).split(",")).length?new t._RgbaNativeColor(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseFloat(n[3])):null:0==i.indexOf("rgb(")&&i.indexOf(")")==i.length-1&&3==(n=i.substring(4,i.length-1).split(",")).length?new t._RgbaNativeColor(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)):null},e._rgbaColorBuilder=new e,e}();t._RgbaNativeColorBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableArrayEqualityComparer);t._NullablePointArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l,a){this.__type=t.PathCommandType.Arc,this.__rx=e,this.__ry=n,this.__xAxisRotation=i,this.__largeArcFlag=o,this.__sweepFlag=r,this.__ex=l,this.__ey=a}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_rx",{get:function(){return this.__rx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ry",{get:function(){return this.__ry},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_xAxisRotation",{get:function(){return this.__xAxisRotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_largeArcFlag",{get:function(){return this.__largeArcFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_sweepFlag",{get:function(){return this.__sweepFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ex",{get:function(){return this.__ex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ey",{get:function(){return this.__ey},enumerable:!0,configurable:!0}),e.prototype._toCircularArcPathCommand=function(e,n){if(null!=this.__circularArcPathCommand)return this.__circularArcPathCommand;var i=this.__rx,o=this.__ry,r=this.__xAxisRotation,l=this.__largeArcFlag,a=this.__sweepFlag,s=this.__ex,u=this.__ey,_=Math.cos(r)*(e-s)/2+Math.sin(r)*(n-u)/2,p=-Math.sin(r)*(e-s)/2+Math.cos(r)*(n-u)/2,c=Math.pow(_,2)/Math.pow(i,2)+Math.pow(p,2)/Math.pow(o,2);c>1&&(i*=Math.sqrt(c),o*=Math.sqrt(c));var h=(l==a?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(o,2)-Math.pow(i,2)*Math.pow(p,2)-Math.pow(o,2)*Math.pow(_,2))/(Math.pow(i,2)*Math.pow(p,2)+Math.pow(o,2)*Math.pow(_,2)));isNaN(h)&&(h=0);var f=h*i*p/o,d=h*-o*_/i,y=(e+s)/2+Math.cos(r)*f-Math.sin(r)*d,g=(n+u)/2+Math.sin(r)*f+Math.cos(r)*d,m=this._a([1,0],[(_-f)/i,(p-d)/o]),v=[(_-f)/i,(p-d)/o],w=[(-_-f)/i,(-p-d)/o],b=this._a(v,w);this._r(v,w)<=-1&&(b=Math.PI),this._r(v,w)>=1&&(b=0);var S=i>o?i:o;return this.__circularArcPathCommand=new t._CircularArcPathCommand(y,g,S,m,m+b,1-a),this.__circularArcPathCommand},e.prototype._a=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(this._r(t,e))},e.prototype._r=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(this._m(t)*this._m(e))},e.prototype._m=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},e.prototype.clone=function(){return new e(this._rx,this._ry,this._xAxisRotation,this._largeArcFlag,this._sweepFlag,this._ex,this._ey)},e}();t._ArcPathCommand=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o,r){this.__x=t,this.__y=e,this.__radius=n,this.__startAngle=i,this.__endAngle=o,this.__anticlockwise=r}return Object.defineProperty(t.prototype,"_x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_radius",{get:function(){return this.__radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_startAngle",{get:function(){return this.__startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_endAngle",{get:function(){return this.__endAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_anticlockwise",{get:function(){return this.__anticlockwise},enumerable:!0,configurable:!0}),t}();t._CircularArcPathCommand=e}(t||(t={})),function(t){t._isArcPathCommand=function(e){var n=e;return n._type===t.PathCommandType.Arc&&null!=n._rx&&null!=n._ry&&null!=n._xAxisRotation&&null!=n._largeArcFlag&&null!=n._sweepFlag&&null!=n._ex&&null!=n._ey}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.__type=t.PathCommandType.Close}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e},e}();t._ClosePathCommand=e}(t||(t={})),function(t){t._isClosePathCommand=function(e){return e._type===t.PathCommandType.Close}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l){this.__type=t.PathCommandType.CurveTo,this.__cpx1=e,this.__cpy1=n,this.__cpx2=i,this.__cpy2=o,this.__x=r,this.__y=l}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpx1",{get:function(){return this.__cpx1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpy1",{get:function(){return this.__cpy1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpx2",{get:function(){return this.__cpx2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpy2",{get:function(){return this.__cpy2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._cpx1,this._cpy1,this._cpx2,this._cpy2,this._x,this._y)},e}();t._CurveToPathCommand=e}(t||(t={})),function(t){t._isCurveToPathCommand=function(e){var n=e;return n._type===t.PathCommandType.CurveTo&&null!=n._cpx1&&null!=n._cpy1&&null!=n._cpx2&&null!=n._cpy2&&null!=n._x&&null!=n._y}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isLineToPathCommand=function(e){var n=e;return n._type===t.PathCommandType.LineTo&&null!=n._x&&null!=n._y}}(t||(t={})),function(t){var e=function(){function e(e,n){this.__type=t.PathCommandType.LineTo,this.__x=e,this.__y=n}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._x,this._y)},e}();t._LineToPathCommand=e}(t||(t={})),function(t){t._isMoveToPathCommand=function(e){var n=e;return n._type===t.PathCommandType.MoveTo&&null!=n._x&&null!=n._y}}(t||(t={})),function(t){var e=function(){function e(e,n){this.__type=t.PathCommandType.MoveTo,this.__x=e,this.__y=n}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._x,this._y)},e}();t._MoveToPathCommand=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildClosePathCommand=function(){return new t._ClosePathCommand},e.prototype._buildMoveToPathCommand=function(e,n,i,o,r){if("m"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var l=parseFloat(n),a=parseFloat(i);if(isNaN(l)||isNaN(a))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var s=new t.core.Point(l,a);if("m"===e){var u=this._transformCoordinateToAbsolute(e,l,a,o,r);s.x=u.x,s.y=u.y}return new t._MoveToPathCommand(s.x,s.y)},e.prototype._buildLineToPathCommandByLCommand=function(e,n,i,o,r){if("l"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var l=parseFloat(n),a=parseFloat(i);if(isNaN(l)||isNaN(a))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var s=new t.core.Point(l,a);if("l"===e){var u=this._transformCoordinateToAbsolute(e,l,a,o,r);s.x=u.x,s.y=u.y}return new t._LineToPathCommand(s.x,s.y)},e.prototype._buildLineToPathCommandByHCommand=function(e,n,i,o){if("h"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var r,l=parseFloat(n);if(isNaN(l))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);return r="h"===e?this._transformCoordinateToAbsolute(e,l,null,i,o):null==i?new t.core.Point(l,o.y):new t.core.Point(l,this._getLastCommandEndPointYCoordinate(i)),new t._LineToPathCommand(r.x,r.y)},e.prototype._buildLineToPathCommandByVCommand=function(e,n,i,o){if("v"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var r,l=parseFloat(n);if(isNaN(l))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);return r="v"===e?this._transformCoordinateToAbsolute(e,null,l,i,o):null==i?new t.core.Point(o.x,l):new t.core.Point(this._getLastCommandEndPointXCoordinate(i),l),new t._LineToPathCommand(r.x,r.y)},e.prototype._buildCurveToPathCommandByCCommand=function(e,n,i,o,r,l,a,s,u){if("c"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var _=parseFloat(n),p=parseFloat(i),c=parseFloat(o),h=parseFloat(r),f=parseFloat(l),d=parseFloat(a);if(isNaN(_)||isNaN(p)||isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var y=new t.core.Point(_,p),g=new t.core.Point(c,h),m=new t.core.Point(f,d);if("c"===e){var v=this._transformCoordinateToAbsolute(e,_,p,s,u);y.x=v.x,y.y=v.y;var w=this._transformCoordinateToAbsolute(e,c,h,s,u);g.x=w.x,g.y=w.y;var b=this._transformCoordinateToAbsolute(e,f,d,s,u);m.x=b.x,m.y=b.y}return new t._CurveToPathCommand(y.x,y.y,g.x,g.y,m.x,m.y)},e.prototype._buildCurveToPathCommandBySCommand=function(e,n,i,o,r,l,a){if("s"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var s=parseFloat(n),u=parseFloat(i),_=parseFloat(o),p=parseFloat(r);if(isNaN(s)||isNaN(u)||isNaN(_)||isNaN(p))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var c=this._removeShortHandForCurve(e,l,a),h=new t.core.Point(s,u),f=new t.core.Point(_,p);if("s"===e){var d=this._transformCoordinateToAbsolute(e,s,u,l,a);h.x=d.x,h.y=d.y;var y=this._transformCoordinateToAbsolute(e,_,p,l,a);f.x=y.x,f.y=y.y}return new t._CurveToPathCommand(c.x,c.y,h.x,h.y,f.x,f.y)},e.prototype._buildQuadraticCurveToPathCommandByQCommand=function(e,n,i,o,r,l,a){if("q"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var s=parseFloat(n),u=parseFloat(i),_=parseFloat(o),p=parseFloat(r);if(isNaN(s)||isNaN(u)||isNaN(_)||isNaN(p))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var c=new t.core.Point(s,u),h=new t.core.Point(_,p);if("q"===e){var f=this._transformCoordinateToAbsolute(e,s,u,l,a);c.x=f.x,c.y=f.y;var d=this._transformCoordinateToAbsolute(e,_,p,l,a);h.x=d.x,h.y=d.y}return new t._QuadraticCurveToPathCommand(c.x,c.y,h.x,h.y)},e.prototype._buildQuadraticCurveToPathCommandByTCommand=function(e,n,i,o,r){if("t"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var l=parseFloat(n),a=parseFloat(i);if(isNaN(l)||isNaN(a))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var s=this._removeShortHandForCurve(e,o,r),u=new t.core.Point(l,a);if("t"===e){var _=this._transformCoordinateToAbsolute(e,l,a,o,r);u.x=_.x,u.y=_.y}return new t._QuadraticCurveToPathCommand(s.x,s.y,u.x,u.y)},e.prototype._buildArcPathCommand=function(e,n,i,o,r,l,a,s,u,_){if("a"!==e.toLowerCase())throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var p=parseFloat(n),c=parseFloat(i),h=parseFloat(o),f=parseFloat(r),d=parseFloat(l),y=parseFloat(a),g=parseFloat(s);if(isNaN(p)||isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d)||isNaN(y)||isNaN(g))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var m=new t.core.Point(y,g);if("a"===e){var v=this._transformCoordinateToAbsolute(e,y,g,u,_);m.x=v.x,m.y=v.y}return new t._ArcPathCommand(p,c,h,f,d,m.x,m.y)},e.prototype._transformCoordinateToAbsolute=function(e,n,i,o,r){var l,a,s=new t.core.Point(0,0);return null==o||"m"===e?(l=r.x,a=r.y):(l=this._getLastCommandEndPointXCoordinate(o),a=this._getLastCommandEndPointYCoordinate(o)),e.toLowerCase()===e?(s.x=null!=n?l+n:l,s.y=null!=i?a+i:a):(s.x=null!=n?n:l,s.y=null!=i?i:a),s},e.prototype._removeShortHandForCurve=function(e,n,i){var o=new t.core.Point(0,0);if(null==n)o.x=i.x,o.y=i.y;else if("s"===e.toLowerCase()&&t._isCurveToPathCommand(n)){var r=n;o.x=2*r._x-r._cpx2,o.y=2*r._y-r._cpy2}else if("t"===e.toLowerCase()&&t._isQuadraticCurveToPathCommand(n)){var l=n;o.x=2*l._x-l._cpx,o.y=2*l._y-l._cpy}else o.x=this._getLastCommandEndPointXCoordinate(n),o.y=this._getLastCommandEndPointYCoordinate(n);return o},e.prototype._getLastCommandEndPointXCoordinate=function(e){return t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e._x:t._isArcPathCommand(e)?e._ex:0},e.prototype._getLastCommandEndPointYCoordinate=function(e){return t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e._y:t._isArcPathCommand(e)?e._ey:0},e.prototype._buildPathCommands=function(e){if(null==e||""===e)return null;var n=e.match(/([mlhvcsqtaz][^mlhvcsqtaz]*)/gi);if(null==n)return null;for(var i=[],o=null,r=new t.core.Point(0,0),l=0,a=n;l<a.length;l++){var s=a[l].trim().match(/([mlhvcsqtaz])|([\-]?(?:(\.\d*)|(0|[1-9]\d*)(\.\d*)?)([eE][+\-]?\d+)?)/gi);if(null==s||s.length<=0)return null;if("z"!==s[0].toLowerCase()){if("m"===s[0].toLowerCase()){var u=s[0];if(s.shift(),s.length>=2){if(_=this._buildMoveToPathCommand(u,s[0],s[1],o,r),i.push(_),o=_.clone(),r.x=_._x,r.y=_._y,s.splice(0,2),!(s.length>0))continue;"m"===u?s.unshift("l"):s.unshift("L")}}if("l"!==s[0].toLowerCase())if("h"!==s[0].toLowerCase())if("v"!==s[0].toLowerCase())if("c"!==s[0].toLowerCase())if("s"!==s[0].toLowerCase())if("q"!==s[0].toLowerCase())if("t"!==s[0].toLowerCase())if("a"!==s[0].toLowerCase());else for(u=s[0],s.shift();s.length>=7;)_=this._buildArcPathCommand(u,s[0],s[1],s[2],s[3],s[4],s[5],s[6],o,r),i.push(_),o=_.clone(),s.splice(0,7);else for(u=s[0],s.shift();s.length>=2;)_=this._buildQuadraticCurveToPathCommandByTCommand(u,s[0],s[1],o,r),i.push(_),o=_.clone(),s.splice(0,2);else for(u=s[0],s.shift();s.length>=4;)_=this._buildQuadraticCurveToPathCommandByQCommand(u,s[0],s[1],s[2],s[3],o,r),i.push(_),o=_.clone(),s.splice(0,4);else for(u=s[0],s.shift();s.length>=4;)_=this._buildCurveToPathCommandBySCommand(u,s[0],s[1],s[2],s[3],o,r),i.push(_),o=_.clone(),s.splice(0,4);else for(u=s[0],s.shift();s.length>=6;){var _=this._buildCurveToPathCommandByCCommand(u,s[0],s[1],s[2],s[3],s[4],s[5],o,r);i.push(_),o=_.clone(),s.splice(0,6)}else for(u=s[0],s.shift();s.length>=1;)_=this._buildLineToPathCommandByVCommand(u,s[0],o,r),i.push(_),o=_.clone(),s.splice(0,1);else for(u=s[0],s.shift();s.length>=1;)_=this._buildLineToPathCommandByHCommand(u,s[0],o,r),i.push(_),o=_.clone(),s.splice(0,1);else for(u=s[0],s.shift();s.length>=2;)_=this._buildLineToPathCommandByLCommand(u,s[0],s[1],o,r),i.push(_),o=_.clone(),s.splice(0,2)}else{if(s.shift(),s.length>0)return null;_=this._buildClosePathCommand(),i.push(_),o=_.clone()}}return i},e._defaultPathCommandBuilder=new e,e}();t._PathCommandBuilder=e}(t||(t={})),function(t){!function(t){t[t.MoveTo=0]="MoveTo",t[t.LineTo=1]="LineTo",t[t.CurveTo=2]="CurveTo",t[t.QuadraticCurveTo=3]="QuadraticCurveTo",t[t.Arc=4]="Arc",t[t.Close=5]="Close"}(t.PathCommandType||(t.PathCommandType={}))}(t||(t={})),function(t){t._isQuadraticCurveToPathCommand=function(e){var n=e;return n._type===t.PathCommandType.QuadraticCurveTo&&null!=n._cpx&&null!=n._cpy&&null!=n._x&&null!=n._y}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.PathCommandType.QuadraticCurveTo,this.__cpx=e,this.__cpy=n,this.__x=i,this.__y=o}return Object.defineProperty(e.prototype,"_type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpx",{get:function(){return this.__cpx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_cpy",{get:function(){return this.__cpy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._cpx,this._cpy,this._x,this._y)},e}();t._QuadraticCurveToPathCommand=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t){void 0===t&&(t=null),this.__expression=null==t?"":t}return Object.defineProperty(t.prototype,"expression",{get:function(){return this.__expression},enumerable:!0,configurable:!0}),t.prototype.moveto=function(t,e,n){void 0===n&&(n=!1);var i=n?"m":"M";return this.__expression+=i+" "+t.toString()+" "+e.toString()+" ",this},t.prototype.lineto=function(t,e,n){void 0===n&&(n=!1);var i=n?"l":"L";return this.__expression+=i+" "+t.toString()+" "+e.toString(),this},t.prototype.horizontalLineto=function(t,e){void 0===e&&(e=!1);var n=e?"h":"H";return this.__expression+=n+" "+t.toString(),this},t.prototype.verticalLineto=function(t,e){void 0===e&&(e=!1);var n=e?"v":"V";return this.__expression+=n+" "+t.toString(),this},t.prototype.curveto=function(t,e,n,i,o,r,l){void 0===l&&(l=!1);var a=l?"c":"C";return this.__expression+=a+" "+t.toString()+" "+e.toString()+" "+n.toString()+" "+i.toString()+" "+o.toString()+" "+r.toString(),this},t.prototype.smoothCurveto=function(t,e,n,i,o){void 0===o&&(o=!1);var r=o?"s":"S";return this.__expression+=r+" "+t.toString()+" "+e.toString()+" "+n.toString()+" "+i.toString(),this},t.prototype.quadraticBezierCurve=function(t,e,n,i,o){void 0===o&&(o=!1);var r=o?"q":"Q";return this.__expression+=r+" "+t.toString()+" "+e.toString()+" "+n.toString()+" "+i.toString()+" ",this},t.prototype.smoothQuadraticBezierCurve=function(t,e,n){void 0===n&&(n=!1);var i=n?"t":"T";return this.__expression+=i+" "+t.toString()+" "+e.toString(),this},t.prototype.arcTo=function(t,e,n,i,o,r,l,a){void 0===a&&(a=!1);var s=a?"a":"A";return this.__expression+=s+" "+t.toString()+" "+e.toString()+" "+n+" "+i+" "+o+" "+r.toString()+" "+l.toString(),this},t.prototype.close=function(){return this.__expression+="Z",this},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.expression===e.expression)},t}();t._Path=e}(t||(t={})),function(t){var e=function(){function e(){this.__epsilon=1e-8}return e.prototype._buildPathBoundRectangleByMatrix=function(n,i){var o=null,r=0,l=0,a=0,s=0,u=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(n.expression);if(null==u)return null;for(var _=0,p=u;_<p.length;_++){var c=p[_];if(c._type===t.PathCommandType.MoveTo){var h=c,f=h._x,d=h._y;o=this._mergePoint(o,f,d),r=a=f,l=s=d}else if(c._type===t.PathCommandType.LineTo){var y=c;f=y._x,d=y._y,o=this._mergePoint(o,f,d),r=f,l=d}else if(c._type===t.PathCommandType.CurveTo){for(var g=c,m=g._cpx1,v=g._cpy1,w=g._cpx2,b=g._cpy2,S=g._x,P=g._y,C=1/0,x=-1/0,V=this._cubicExtrema(r,m,w,S,e.__xDim),D=0;D<V;D++){var A=this._cubicAt(r,m,w,S,e.__xDim[D]);C=Math.min(A,C),x=Math.max(A,x)}var O=1/0,L=-1/0,T=this._cubicExtrema(l,v,b,P,e.__yDim);for(D=0;D<T;D++){var M=this._cubicAt(l,v,b,P,e.__yDim[D]);O=Math.min(M,O),L=Math.max(M,L)}f=Math.min(r,S,C),d=Math.min(l,P,O);var I=Math.max(r,S,x)-f,E=Math.max(l,P,L)-d,B=new t.core.Rect(f,d,I,E);o=null==o?B:t._DrawingUtility._unionOfRectangles(B,o),r=S,l=P}else if(c._type===t.PathCommandType.QuadraticCurveTo){var R=c,k=R._cpx,F=R._cpy,N=(S=R._x,P=R._y,Math.max(Math.min(this._quadraticExtremum(r,k,S),1),0)),U=Math.max(Math.min(this._quadraticExtremum(l,F,P),1),0),z=this._quadraticAt(r,k,S,N),j=this._quadraticAt(l,F,P,U),G=(f=Math.min(r,S,z),d=Math.min(l,P,j),I=Math.max(r,S,z)-f,E=Math.max(l,P,j)-d,new t.core.Rect(f,d,I,E));o=null==o?G:t._DrawingUtility._unionOfRectangles(G,o),r=S,l=P}else if(c._type===t.PathCommandType.Arc){var W=c,q=i.shift();if(null!=q){var H=W._toCircularArcPathCommand(r,l),J=H._radius,X=1!=H._anticlockwise,Y=H._startAngle,Z=H._endAngle;if(!isNaN(J)&&!isNaN(Y)&&!isNaN(Z)){if(!X){var K=Y;Y=Z,Z=K}null!=q&&(o=this._mergePointByArcCommand(J,Y,Z,q,o))}}r=W._ex,l=W._ey}else c._type===t.PathCommandType.Close&&(r=a,l=s)}return o},e.prototype._buildPathBoundRectangle=function(n){var i=null,o=0,r=0,l=0,a=0,s=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(n.expression);if(null==s)return null;for(var u=0,_=s;u<_.length;u++){var p=_[u];if(p._type===t.PathCommandType.MoveTo){var c=p,h=c._x,f=c._y;i=this._mergePoint(i,h,f),o=l=h,r=a=f}else if(p._type===t.PathCommandType.LineTo){var d=p;h=d._x,f=d._y,i=this._mergePoint(i,h,f),o=h,r=f}else if(p._type===t.PathCommandType.CurveTo){for(var y=p,g=y._cpx1,m=y._cpy1,v=y._cpx2,w=y._cpy2,b=y._x,S=y._y,P=1/0,C=-1/0,x=this._cubicExtrema(o,g,v,b,e.__xDim),V=0;V<x;V++){var D=this._cubicAt(o,g,v,b,e.__xDim[V]);P=Math.min(D,P),C=Math.max(D,C)}var A=1/0,O=-1/0,L=this._cubicExtrema(r,m,w,S,e.__yDim);for(V=0;V<L;V++){var T=this._cubicAt(r,m,w,S,e.__yDim[V]);A=Math.min(T,A),O=Math.max(T,O)}h=Math.min(o,b,P),f=Math.min(r,S,A);var M=Math.max(o,b,C)-h,I=Math.max(r,S,O)-f,E=new t.core.Rect(h,f,M,I);i=null==i?E:t._DrawingUtility._unionOfRectangles(E,i),o=b,r=S}else if(p._type===t.PathCommandType.QuadraticCurveTo){var B=p,R=B._cpx,k=B._cpy,F=(b=B._x,S=B._y,Math.max(Math.min(this._quadraticExtremum(o,R,b),1),0)),N=Math.max(Math.min(this._quadraticExtremum(r,k,S),1),0),U=this._quadraticAt(o,R,b,F),z=this._quadraticAt(r,k,S,N),j=(h=Math.min(o,b,U),f=Math.min(r,S,z),M=Math.max(o,b,U)-h,I=Math.max(r,S,z)-f,new t.core.Rect(h,f,M,I));i=null==i?j:t._DrawingUtility._unionOfRectangles(j,i),o=b,r=S}else if(p._type===t.PathCommandType.Arc){var G=p,W=G._xAxisRotation,q=G._rx,H=G._ry,J=q<H?q/H:1,X=q>H?H/q:1,Y=G._toCircularArcPathCommand(o,r),Z=Y._radius,K=1!=Y._anticlockwise,Q=Y._startAngle,$=Y._endAngle,tt=void 0;if(!(isNaN(J)||isNaN(X)||isNaN(W)||isNaN(Y._x)||isNaN(Y._y)||((tt=new t.Matrix).scale(J,X),tt.rotate(W),tt.translate(Y._x,Y._y),isNaN(Z)||isNaN(Q)||isNaN($)))){if(!K){var et=Q;Q=$,$=et}i=this._mergePointByArcCommand(Z,Q,$,tt,i)}o=G._ex,r=G._ey}else p._type===t.PathCommandType.Close&&(o=l,r=a)}return i},e.prototype._mergePoint=function(e,n,i){if(null==e)return new t.core.Rect(n,i,0,0);if(n<e.left){var o=e.right;e.left=n,e.width=o-n}else n>e.right&&(e.width+=n-e.right);if(i<e.top){var r=e.bottom;e.top=i,e.height=r-i}else i>e.bottom&&(e.height+=i-e.bottom);return e},e.prototype._cubicExtrema=function(e,n,i,o,r){var l=6*i-12*n+6*e,a=9*n+3*o-3*e-9*i,s=3*n-3*e,u=0;if(this._isAroundZero(a))this._isNotAroundZero(l)&&(p=-s/l)>=0&&p<=1&&t._ArrayUtility._assignValueToArray(r,u++,p,NaN);else{var _=l*l-4*a*s;if(this._isAroundZero(_))t._ArrayUtility._assignValueToArray(r,0,-l/(2*a),NaN);else if(_>0){var p,c=Math.sqrt(_),h=(-l-c)/(2*a);(p=(-l+c)/(2*a))>=0&&p<=1&&t._ArrayUtility._assignValueToArray(r,u++,p,NaN),h>=0&&h<=1&&t._ArrayUtility._assignValueToArray(r,u++,h,NaN)}}return u},e.prototype._cubicAt=function(t,e,n,i,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*i+3*r*n)},e.prototype._isAroundZero=function(t){return t>-this.__epsilon&&t<this.__epsilon},e.prototype._isNotAroundZero=function(t){return t>this.__epsilon||t<-this.__epsilon},e.prototype._quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i},e.prototype._quadraticAt=function(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n},e.prototype._mergePointByArcCommand=function(e,n,i,o,r){var l=new t.core.Point(e*Math.cos(n),e*Math.sin(n)),a=new t.core.Point(e*Math.cos(i),e*Math.sin(i)),s=new t.core.Point(0,e),u=new t.core.Point(-e,0),_=new t.core.Point(0,-e),p=new t.core.Point(e,0),c=o.transformPoint(l.x,l.y),h=o.transformPoint(a.x,a.y),f=o.transformPoint(s.x,s.y),d=o.transformPoint(u.x,u.y),y=o.transformPoint(_.x,_.y),g=o.transformPoint(p.x,p.y);return r=this._mergePoint(r,c.x,c.y),r=this._mergePoint(r,h.x,h.y),l.x>0&&l.y>=0?((a.x<=0||a.y<l.y)&&(r=this._mergePoint(r,f.x,f.y)),(a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0&&a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,y.x,y.y)),a.x>l.x&&a.y>=0&&(r=this._mergePoint(r,g.x,g.y))):l.x<=0&&l.y>0?(a.x>l.x&&a.y>=0&&(r=this._mergePoint(r,f.x,f.y)),(a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,y.x,y.y)),(a.x>=0&&a.y>=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,g.x,g.y))):l.x<0&&l.y<=0?(a.x<=0&&a.y>l.y&&(r=this._mergePoint(r,f.x,f.y)),a.y<=0&&a.x<l.x&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0||a.x<=0&&a.y>l.y)&&(r=this._mergePoint(r,y.x,y.y)),(a.y>=0||a.y<=0&&a.x<l.x)&&(r=this._mergePoint(r,g.x,g.y))):l.x>=0&&l.y<0&&((a.x<=0||a.y<0&&a.x<l.x)&&(r=this._mergePoint(r,f.x,f.y)),a.y<=0&&a.x<l.x&&(r=this._mergePoint(r,d.x,d.y)),a.x>=0&&a.y<l.y&&(r=this._mergePoint(r,y.x,y.y)),(a.y>=0||a.y<0&&a.x<l.x)&&(r=this._mergePoint(r,g.x,g.y))),r},e.__xDim=[],e.__yDim=[],e._defaultPathBoundRectangleBuilder=new e,e}();t._PathBoundRectangleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPathFromExpression=function(e){return this._verify(e)?new t._Path(e):null},e.prototype._buildPath=function(){return new t._Path},e.prototype._buildRectangle=function(t,e,n,i){return this._buildPath().moveto(t.x,t.y).lineto(e.x,e.y).lineto(n.x,n.y).lineto(i.x,i.y).close()},e.prototype._buildArc=function(e,n,i,o,r){var l=!1;(r>=t._Utility._PI2||Math.abs(r-t._Utility._PI2)<=.001)&&(l=!0,r=t._Utility._PI2-.001);var a=o+r,s=this._buildPath(),u=parseFloat((e+i*Math.cos(o)).toFixed(3)),_=parseFloat((n+i*Math.sin(o)).toFixed(3));s.moveto(u,_);var p=parseFloat(i.toFixed(3)),c=parseFloat((e+i*Math.cos(a)).toFixed(3)),h=parseFloat((n+i*Math.sin(a)).toFixed(3));return Math.abs(r)>Math.PI?s.arcTo(p,p,0,1,1,c,h):s.arcTo(p,p,0,0,1,c,h),l&&s.close(),s},e.prototype._buildDonutSegment=function(e,n,i,o,r,l){var a=!1;(l>=t._Utility._PI2||Math.abs(l-t._Utility._PI2)<=.001)&&(a=!0,l=t._Utility._PI2-.001);var s=r+l,u=this._buildPath(),_=new t.core.Point(e,n);_.x+=i*Math.cos(r),_.y+=i*Math.sin(r);var p=new t.core.Point(e,n);p.x+=i*Math.cos(s),p.y+=i*Math.sin(s),u.moveto(parseFloat(_.x.toFixed(3)),parseFloat(_.y.toFixed(3)));var c=parseFloat(i.toFixed(3));if(Math.abs(l)>Math.PI?u.arcTo(c,c,0,1,1,parseFloat(p.x.toFixed(3)),parseFloat(p.y.toFixed(3))):u.arcTo(c,c,0,0,1,parseFloat(p.x.toFixed(3)),parseFloat(p.y.toFixed(3))),i!=o){var h=new t.core.Point(e,n);h.x+=o*Math.cos(s),h.y+=o*Math.sin(s),a?u.moveto(parseFloat(h.x.toFixed(3)),parseFloat(h.y.toFixed(3))):u.lineto(parseFloat(h.x.toFixed(3)),parseFloat(h.y.toFixed(3)));var f=new t.core.Point(e,n);f.x+=o*Math.cos(r),f.y+=o*Math.sin(r);var d=parseFloat(o.toFixed(3));Math.abs(l)>Math.PI?u.arcTo(d,d,0,1,0,parseFloat(f.x.toFixed(3)),parseFloat(f.y.toFixed(3))):u.arcTo(d,d,0,0,0,parseFloat(f.x.toFixed(3)),parseFloat(f.y.toFixed(3))),a||u.close()}else a&&u.close();return u},e.prototype._verify=function(e){if(null==e)return!1;var n=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(e);return null!=n&&0!==n.length},e._defaultPathBuilder=new e,e}();t._PathBuilder=e}(t||(t={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function e(t,e){this.__x=t,this.__y=e}return Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__x!=e&&(this.__x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},set:function(e){if("number"!=typeof e)throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__y!=e&&(this.__y=e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&this.x==t.x&&this.y==t.y},e}(),e.Point=n}(t||(t={})),function(t){var e,n,i;e=t.core||(t.core={}),n=function(){function n(){this.__left=0,this.__top=0,this.__width=0,this.__height=0}return Object.defineProperty(n.prototype,"left",{get:function(){return this.__left},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set left")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.__top},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set top")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set width")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set height")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"location",{get:function(){return new e.Point(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"center",{get:function(){return new e.Point(this.left+this.width/2,this.top+this.height/2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return new e.Size(this.width,this.height)},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return t.x>=this.left&&t.x<this.right&&t.y>=this.top&&t.y<this.bottom},n.prototype.intersectsWith=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},n.prototype.inflate=function(t,e){this.left-=t,this.top-=e,this.width+=2*t,this.height+=2*e},n.prototype.offset=function(t,e){this.left+=t,this.top+=e},n.prototype.clone=function(){return new n},n.prototype.equalsWith=function(t){return null!=t&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n}(),i=function(){function i(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return Object.defineProperty(i.prototype,"left",{get:function(){return this.__left},set:function(e){if(!t._AnyTypeUtility._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__left!=e&&(this.__left=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.__top},set:function(e){if(!t._AnyTypeUtility._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__top!=e&&(this.__top=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(e){if(!t._AnyTypeUtility._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__width!=e&&(this.__width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(e){if(!t._AnyTypeUtility._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__height!=e&&(this.__height=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"location",{get:function(){return new e.Point(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"center",{get:function(){return new e.Point(this.left+this.width/2,this.top+this.height/2)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return new e.Size(this.width,this.height)},enumerable:!0,configurable:!0}),i.prototype.contains=function(t){return t.x>=this.left&&t.x<this.right&&t.y>=this.top&&t.y<this.bottom},i.prototype.intersectsWith=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},i.prototype.inflate=function(t,e){this.left-=t,this.top-=e,this.width+=2*t,this.height+=2*e},i.prototype.offset=function(t,e){this.left+=t,this.top+=e},i.prototype.clone=function(){return new i(this.left,this.top,this.width,this.height)},i.prototype.equalsWith=function(t){return null!=t&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},i.ReadOnlyRect=new n,i}(),e.Rect=i}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.RegionType.EllipseRegion,this.__cx=e,this.__cy=n,this.__rx=i,this.__ry=o}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cx",{get:function(){return this.__cx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.__cy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.__rx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ry",{get:function(){return this.__ry},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isEllipseRegion(e)){var n=e;return this.type===n.type&&this.cx===n.cx&&this.cy===n.cy&&this.rx===n.rx&&this.ry===n.ry}return!1},e}();t._EllipseRegion=e}(t||(t={})),function(t){t._isEllipseRegion=function(e){var n=e;return n.type===t.RegionType.EllipseRegion&&null!=n.cx&&null!=n.cy&&null!=n.rx&&null!=n.ry}}(t||(t={})),function(t){t._isIntersectionRegion=function(e){var n=e;return n.type===t.RegionType.IntersectionRegion&&null!=n.regions}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.IntersectionRegion,this.__regions=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regions",{get:function(){return this.__regions},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isIntersectionRegion(e)){var n=e;return t._NullableRegionArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.regions,n.regions)}return!1},e}();t._IntersectionRegion=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableArrayEqualityComparer);t._NullableRegionArrayEqualityComparer=e}(t||(t={})),function(t){t._isPathRegion=function(e){var n=e;return n.type===t.RegionType.PathRegion&&null!=n.path}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.PathRegion,this.__path=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__path},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isPathRegion(e)){var n=e;return this.path.equalsWith(n.path)}return!1},e}();t._PathRegion=e}(t||(t={})),function(t){t._isPolygonRegion=function(e){var n=e;return n.type===t.RegionType.PolygonRegion&&null!=n.points}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.PolygonRegion,this.__points=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"points",{get:function(){return this.__points},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isPolygonRegion(e)){var n=e;return t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.points,n.points)}return!1},e}();t._PolygonRegion=e}(t||(t={})),function(t){t._isRectangleRegion=function(e){var n=e;return n.type===t.RegionType.RectangleRegion&&null!=n.left&&null!=n.top&&null!=n.width&&null!=n.height}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.RegionType.RectangleRegion,this.__left=e,this.__top=n,this.__width=i,this.__height=o}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.__left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.__top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isRectangleRegion(e)){var n=e;return this.left===n.left&&this.top===n.top&&this.width===n.width&&this.height===n.height}return!1},e}();t._RectangleRegion=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildRectangleRegion=function(e,n,i,o){return null!=e&&null!=n&&null!=i&&null!=o?new t._RectangleRegion(e,n,i,o):null},e.prototype.buildPathRegion=function(e){return null!=e?new t._PathRegion(e):null},e.prototype.buildEllipseRegion=function(e,n,i,o){return null!==e&&null!==n&&null!==i&&null!==o?new t._EllipseRegion(e,n,i,o):null},e.prototype.buildPolygonRegion=function(e){return null!=e&&e.length>0?new t._PolygonRegion(e):null},e.prototype.buildIntersectionRegion=function(e){return null!=e&&e.length>1?new t._IntersectionRegion(e):null},e.prototype.buildUnionRegion=function(e){return null!=e&&e.length>1?new t._UnionRegion(e):null},e.defaultRegionBuilder=new e,e}();t.RegionBuilder=e}(t||(t={})),function(t){!function(t){t[t.RectangleRegion=0]="RectangleRegion",t[t.PathRegion=1]="PathRegion",t[t.EllipseRegion=2]="EllipseRegion",t[t.PolygonRegion=3]="PolygonRegion",t[t.IntersectionRegion=4]="IntersectionRegion",t[t.UnionRegion=5]="UnionRegion"}(t.RegionType||(t.RegionType={}))}(t||(t={})),function(t){t._isUnionRegion=function(e){var n=e;return n.type===t.RegionType.UnionRegion&&null!=n.regions}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.UnionRegion,this.__regions=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regions",{get:function(){return this.__regions},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isUnionRegion(e)){var n=e;return t._NullableRegionArrayEqualityComparer._defaultEqualityComparer._equalsWith(this.regions,n.regions)}return!1},e}();t._UnionRegion=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function e(t,e){this.width=t,this.height=e}return Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__width!=e&&(this.__width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__height!=e&&(this.__height=e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.equalsWith=function(t){return null!=t&&this.width==t.width&&this.height==t.height},e}(),e.Size=n}(t||(t={})),t||(t={}),function(t){var e=function(){};t._Style=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._Style;return n.fillOpacity=e.fillOpacity,n.fill=e.fill,n.strokeOpacity=e.strokeOpacity,n.stroke=e.stroke,n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.scalingStroke=e.scalingStroke,n.fontFamily=e.fontFamily,n.fontSize=e.fontSize,n.fontWeight=e.fontWeight,n.fontStyle=e.fontStyle,n.textOpacity=e.textOpacity,n.textFill=e.textFill,n.textOverline=e.textOverline,n.textLineThrough=e.textLineThrough,n.textUnderline=e.textUnderline,n.textWritingMode=e.textWritingMode,n},e._styleCloneMaker=new e,e}();t._StyleCloneMaker=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&(e==n||e.fillOpacity===n.fillOpacity&&t._NullableColorEqualityComparer._defaultEqualityComparer._equalsWith(e.fill,n.fill)&&e.strokeOpacity===n.strokeOpacity&&t._NullableColorEqualityComparer._defaultEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.strokeWidth===n.strokeWidth&&e.strokeDasharray===n.strokeDasharray&&e.scalingStroke===n.scalingStroke&&e.fontFamily===n.fontFamily&&e.fontSize===n.fontSize&&e.fontWeight===n.fontWeight&&e.fontStyle===n.fontStyle&&e.textOpacity===n.textOpacity&&e.textFill===n.textFill&&e.textOverline===n.textOverline&&e.textLineThrough===n.textLineThrough&&e.textUnderline===n.textUnderline&&e.textWritingMode===n.textWritingMode)},e}();t._StyleEqualityComparer=e}(t||(t={})),function(t){var e,n,i;e=t.core||(t.core={}),n=function(t,e){this.handler=t,this.self=e},i=function(){function e(){this.__handlers=[]}return e.prototype.addHandler=function(e,i){if("function"!=typeof e&&null!=e)throw new t.RuntimeError(t.ErrorCode.FunctionExpected);this.__handlers.push(new n(e,i))},e.prototype.removeHandler=function(e,n){if("function"!=typeof e&&null!=e)throw new t.RuntimeError(t.ErrorCode.FunctionExpected);for(var i=0;i<this.__handlers.length;i++){var o=this.__handlers[i];if((o.handler==e||null==e)&&(o.self==n||null==n)&&(this.__handlers.splice(i,1),e&&n))break}},e.prototype.removeAllHandlers=function(){this.__handlers.length=0},e.prototype.raise=function(e,n){void 0===n&&(n=null);for(var i=0;i<this.__handlers.length;i++){var o=this.__handlers[i];o.handler.call(o.self,e,null==n?t.DvEventArgs.empty:n)}},Object.defineProperty(e.prototype,"hasHandlers",{get:function(){return this.__handlers.length>0},enumerable:!0,configurable:!0}),e}(),e.DvEvent=i}(t||(t={})),function(t){var e=function(){function t(){}return t.empty=new t,t}();t.DvEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.HitTestEvent=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this)||this;return o.point=e,o.model=n,o.addition=i,o}return i(e,t),e}(t.DvEventArgs);t.HitTestEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.RenderedEvent=e}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return i(e,t),e}(t.DvEventArgs);t.RenderedEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.ResizeEvent=e}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return i(e,t),e}(t.DvEventArgs);t.ResizeEventArgs=e}(t||(t={})),function(t){var e=function(e){function n(i,o,r,l){void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null);var a=e.call(this,i,!0)||this;a.hitTested=new t.HitTestEvent,a.rendered=new t.RenderedEvent,a.resize=new t.ResizeEvent,a.__layers=[],a.__motionEventProvider=new t._MotionEventProvider(a.hostElement),a.__interactionProcessor=new t._InteractionProcessor(a,a.__motionEventProvider),a.__eventNames=["mousemove","mousewheel","mouseleave","click","wheel","dblclick","touchstart","touchmove","touchcancel","touchend","mousedown","mouseup"],a.__eventActuators=[],a.__zLevels=[],a.__renderMethod=t.RenderMethod.SVG,a.__enabled=!0,a.__pluginCollection=null,a.__eventListener=null,t._DomElementExtension._addClass(a.hostElement,n.__constClassName),a.__eventListener=a._ontouch.bind(a);for(var s=0,u=a.__eventNames;s<u.length;s++){var _=u[s];a.hostElement.addEventListener(_,a.__eventListener,!1)}return a.pluginCollection=l,a.__eventActuators=t._BuildInEventActuatorBuilderCollection._defaultBuildInEventActuatorBuilderCollection()._eventActuators(a,a.pluginCollection),a.__size=r,null!=o&&a.load(o),a}return i(n,e),n.prototype.dispose=function(){for(var t=0,n=this.__eventNames.slice().reverse();t<n.length;t++){var i=n[t];this.hostElement.removeEventListener(i,this.__eventListener,!1)}this.__eventListener=null,this.hitTested.removeAllHandlers(),this.rendered.removeAllHandlers(),this.resize.removeAllHandlers(),this.__interactionProcessor.dispose(),null!=this.__dvView&&(this.__dvView.dispose(),this.__dvView=null),null!=this.__pluginCollection&&(this.__pluginCollection=null),this.__layers.length=0,e.prototype.dispose.call(this),this._onDisposed()},Object.defineProperty(n.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){"boolean"==typeof t&&t!=this.__enabled&&(this.__enabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"devicePixelRatio",{get:function(){return this.__devicePixelRatio},set:function(e){this.__devicePixelRatio!=e&&(e=t._CastExtension._toNumberOptionOrNull(e),this.__devicePixelRatio=e,null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderMethod",{get:function(){return this.__renderMethod},set:function(e){if(null==e)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var n=t._AnyTypeUtility._toEnumValueOrNull(e,t.RenderMethod);if(null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue);this.__renderMethod!==n&&(this.__renderMethod=n,null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return null==this.__dvView?null:t._DvViewModelUtility._toDvModel(this.__dvView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"option",{get:function(){return this.__option},enumerable:!0,configurable:!0}),n.prototype._onHitTested=function(t){void 0===t&&(t=null),this.hitTested.raise(this,t);for(var e=0,n=this.__eventActuators;e<n.length;e++){var i=n[e];null!=i.hitTested&&i.hitTested.raise(this,t)}},n.prototype._onRendered=function(t){void 0===t&&(t=null),this.rendered.raise(this,t)},n.prototype._onResize=function(t){void 0===t&&(t=null),this.resize.raise(this,t);for(var e=0,n=this.__eventActuators;e<n.length;e++){var i=n[e];null!=i.resized&&i.resized.raise(this)}},n.prototype._onLoaded=function(){for(var t=0,e=this.__eventActuators;t<e.length;t++){var n=e[t];null!=n.loaded&&n.loaded.raise(this)}},n.prototype._onLayouted=function(){for(var t=0,e=this.__eventActuators;t<e.length;t++){var n=e[t];null!=n.layouted&&n.layouted.raise(this)}},n.prototype._onDisposed=function(){for(var t=0,e=this.__eventActuators;t<e.length;t++){var n=e[t];null!=n.disposed&&n.disposed.raise(this)}},Object.defineProperty(n.prototype,"pluginCollection",{get:function(){return this.__pluginCollection},set:function(t){this.__pluginCollection!=t&&(this.__pluginCollection=t,null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null))},enumerable:!0,configurable:!0}),n.prototype.layers=function(){return this.__layers},n.prototype._graphicsRender=function(){if(null==this.__graphicsRender){var e=null==this.__dvView?null:this.__dvView._getDefinition()._dvConfigOption.plugins;this.__renderMethod==t.RenderMethod.Canvas?this.__graphicsRender=new t.models._CanvasGraphicsRender(this.hostElement,this.devicePixelRatio,e,this.pluginCollection):this.__graphicsRender=new t.models._SvgGraphicsRender(this.hostElement,e,this.pluginCollection)}return this.__graphicsRender},n.prototype._widgetLayer=function(){return null==this.__widgetLayer&&(this.__widgetLayer=new t.models._WidgetLayer),this.__widgetLayer},n.prototype.load=function(e){var n=this;null!=this.__dvView&&(this.__dvView.dispose(),this.__dvView=null),this.__option=e;var i=new t.options._DvOption(e);null!=i.renderMethod&&(this.renderMethod=i.renderMethod),this.__dataSources=this._createDataSources(i);var o=t._BuildInDvDefinitionBuilderCollection._buildInDvDefinitionBuilders()._dvDefinition(i,this.__dataSources,null,(function(e){return new t._FlexDvView(n,e,null,null)}),[],this.pluginCollection);this.__dvView=o._dvViewBuilderCallback(o),this._loadDataSources(),this._layoutData(),this._onLoaded(),this.refresh()},n.prototype._createDataSources=function(e){var n=new t._DataSourceDictionary,i=new t._DataSchemaBuilder;if(null!=e){for(var o=0,r=e.data;o<r.length;o++){var l=r[o],a=this._cloneDataItems(l.values),s=i._buildDataSchema(a,l,this.pluginCollection),u=new t._DataSource(a,null,s);n._add(u)}var _=e.transform;t._BuildInDataSourceTransformCollection._defaultBuildInDataSourceTransforms()._transformDataSources(n,_,[],this.pluginCollection)}return n},n.prototype._cloneDataItems=function(e){for(var n=[],i=0,o=e;i<o.length;i++){for(var r=o[i],l={},a=0,s=t._NativeExtension.properties(r,!0);a<s.length;a++){var u=s[a];l[u]=t._NativeExtension.getPropertyValue(r,u)}n.push(l)}return n},n.prototype._loadDataSources=function(){null!=this.__dvView&&this.__dvView._loadDataSources(this.__dataSources)},n.prototype._layoutData=function(){null!=this.__dvView&&this.__dvView._layoutData()},n.prototype.refresh=function(n,i){var o=this;void 0===n&&(n=!0),void 0===i&&(i=0),null!=this.__dvView&&this.__dvView._getDefinition()._asyncResourcePool.wait((function(){if(n){var r=o._getHostSize(),l=new t.core.Rect(0,0,r.width,r.height);o._layout(o._graphicsRender().defaultSurfaceRender()._render(),l)}e.prototype.refresh.call(o,n,i)}))},n.prototype._render=function(){e.prototype._render.call(this),this._drawWithContext(new t._RenderContext)},n.prototype._drawWithContext=function(e){if(null!=this.__dvView){var n=this._getHostSize(),i=new t.core.Rect(0,0,n.width,n.height);this._internalRender(this._graphicsRender().defaultSurfaceRender()._render(),i,e)}},n.prototype._layout=function(e,n){e.beginRender(),e.setViewportSize(n.width,n.height),null!=this.__dvView&&this.__dvView._layout(e,new t._RenderContext,n),e.endRender(),this._onLayouted()},n.prototype._internalRender=function(e,n,i){if(e.beginRender(),n.width>0&&n.height>0){if(e.setViewportSize(n.width,n.height),null!=this.__dvView){this.__dvView._render(e,i),this.__zLevels=i._zLevels.slice().sort();for(var o=0,r=this.__zLevels;o<r.length;o++){var l=r[o];i._currentZLevel=l,this.__dvView._render(e,i)}}null!=this.__widgetLayer&&this.__widgetLayer.render(e),this.__layers.forEach((function(t){t.render(e)}))}e.endRender(),this._onRendered(new t.RenderedEventArgs)},n.prototype.containsFocus=function(){return!!this._buildTooltip().containsFocus()||e.prototype.containsFocus.call(this)},n.prototype.hitTest=function(t,e){if(void 0===e&&(e=null),null!=this.__dvView&&this.__dvView._getRectangle().contains(t)){for(var n=0,i=this.__zLevels.slice().reverse();n<i.length;n++){var o=i[n],r=this.__dvView._hitTest(t,o,e);if(null!=r)return r}return this.__dvView._hitTest(t,0,e)}return null},n.prototype.query=function(e){return null!=this.__dvView?this.__dvView._query(e).map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t})):[]},n.prototype.select=function(e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),null!=this.__dvView){var o;null!=n&&(o=new t.options._SelectionStyleOption(n));var r=new t._RenderContext;r.apiSelectedStyle=o,Array.isArray(e)?(this.__dvView._select(e,i),this._drawWithContext(r)):null!=e&&(this.__dvView._select([e],i),this._drawWithContext(r))}},n.prototype._buildTooltip=function(e){return void 0===e&&(e=null),t.models.GlobalModel.globalModel.tooltipManager().tooltip(this,e)},n.prototype._controlResize=function(){e.prototype._controlResize.call(this),this._onResize(new t.ResizeEventArgs)},n.prototype._getHostSize=function(){return this._isInDomTree()||null==this.__size?e.prototype._getHostSize.call(this):this.__size},n.prototype._ontouch=function(e){if(this.enabled&&null!=this.__dvView){var n=this.__motionEventProvider._fromEvent(e),i=new t.core.Point(n.x,n.y),o=this._getHostMatrix();null!=o&&(i=t._MatrixUtility._transformPoint(o.invert(),i));var r=this.hitTest(i,null),l=new t.HitTestEventArgs(i,null!=r?r.model:null,null!=r?r.addition:null);l.event=n,this._onHitTested(l),this.__interactionProcessor._process(l)}},n.runAnimation=function(e,n,i,o){void 0===o&&(o=null),t.runAnimation(e,n,i)},n.__constClassName="gcdv-flexdv",n}(t.Control);t.FlexDV=e}(t||(t={})),t||(t={}),function(t){!function(t){t._isControlAsOwnerModel=function(t){var e=t;return null!=e&&void 0!==e._control&&void 0!==e._domElementManager}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){}return e._dataValue=function(e,n){var i=t._NativeExtension.getPropertyValue(e,n);return t._DataValueTypeExtension._toDataValueType(i)},e._boolValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"boolean"==typeof i?1==i:null},e._dateValueOrNull=function(n,i,o){var r=e._dataValue(n,i);return null==r?null:t._AnyTypeUtility._isDate(r)?t._AnyTypeUtility._toDate(r):"string"==typeof r?o._parseDate(r):null},e._stringValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"string"==typeof i?i:null},e._numberValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"number"==typeof i?i:null},e._dataValueOrNull=function(n,i,o){void 0===o&&(o=null);var r=e._dataValue(n,i);if(null==r)return null;if("boolean"==typeof r)return 1==r;if(t._AnyTypeUtility._isDate(r))return t._AnyTypeUtility._toDate(r);if("string"==typeof r){if(null!=o){var l=o._parseDate(r);if(null!=l)return l}return r}return"number"==typeof r?r:null},e._toItem=function(n,i){if(n=e._getDataField(n),t._isNumberDataField(n)){var o=n;return e._toNumberItem(o,i)}if(t._isStringDataField(n)){var r=n;return e._toStringItem(r,i)}if(t._isDateDataField(n)){var l=n;return e._toDateItem(l,i)}if(t._isBooleanDataField(n)){var a=n;return e._toBooleanItem(a,i)}if(t._isNullDataField(n)){var s=n;return e._toNullItem(s,i)}return null},e._getDataField=function(n){if(t._isBinDataField(n)){var i=n;return e._getDataField(i.originalField())}return n},e._toStringItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._stringValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._stringValueOrNull(n,t._name);return null},e._toNumberItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._numberValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._numberValueOrNull(n,t._name);return null},e._toBooleanItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._boolValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._boolValueOrNull(n,t._name);return null},e._toDateItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._dateValueOrNull(r,t._name,t._dateParser());if(null!=l)return l}else if("object"==typeof n)return e._dateValueOrNull(n,t._name,t._dateParser());return null},e._toNullItem=function(t,e){return null},e}();t._DataItemExtension=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._splitPath=function(t){return null==t?[]:[t]},n.prototype._convert=function(e){return t._DataValueTypeExtension._toDataValueType(e)},n.prototype._getValueFromUnsupportedPath=function(t,e){return null},n}(t._Binding);t._DataItemBinding=e}(t||(t={})),function(t){t._isBooleanDataField=function(e){return null!=e&&e._type()===t.core.DataType.Boolean}}(t||(t={})),function(t){t._isDateDataField=function(e){var n=e;return null!=n&&n._type()===t.core.DataType.Date&&"function"==typeof n._dateParser}}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._name=t,this.__type=e,this._dataSource=n}return t.prototype._type=function(){return this.__type},t.prototype.equalsWith=function(t){return this===t||null!=t&&t._type()==this._type()&&this._name==t._name},t}();t._BaseDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,t.core.DataType.Boolean,i)||this}return i(n,e),n}(t._BaseDataField);t._BooleanDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,t.core.DataType.Date,i)||this;return r.__dateParser=o,r}return i(n,e),n.prototype._dateParser=function(){return this.__dateParser},n}(t._BaseDataField);t._DateDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,t.core.DataType.Unknown,i)||this}return i(n,e),n}(t._BaseDataField);t._NullDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,t.core.DataType.Number,i)||this}return i(n,e),n}(t._BaseDataField);t._NumberDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,t.core.DataType.String,i)||this}return i(n,e),n}(t._BaseDataField);t._StringDataField=e}(t||(t={})),function(t){t._isNullDataField=function(e){return null!=e&&e._type()===t.core.DataType.Unknown}}(t||(t={})),function(t){t._isNumberDataField=function(e){return null!=e&&e._type()===t.core.DataType.Number}}(t||(t={})),function(t){t._isStringDataField=function(e){return null!=e&&e._type()===t.core.DataType.String}}(t||(t={})),function(t){var e=function(){function t(t,e){this._fields=t,this._name=e}return t.prototype.equalsWith=function(t){return this==t},t}();t._DataSchema=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDataSchema=function(e,n,i){if(void 0===i&&(i=null),null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue,n);var o=new t._DateStringParser(n.dateFormats,i),r=this._analyseItems(e,o,n);return new t._DataSchema(r,n.name)},e.prototype._buildEmptyDataSchema=function(){return new t._DataSchema({},null)},e.prototype._analyseItems=function(e,n,i){for(var o={},r=0,l=e;r<l.length;r++)for(var a=l[r],s=0,u=t._NativeExtension.properties(a,!0);s<u.length;s++){var _=u[s],p=o[_];null==p&&(o[_]=p=new t._NullDataField(_,i.name));var c=t._NativeExtension.getPropertyValue(a,_);t._isNullDataField(p)&&("number"==typeof c?o[_]=p=new t._NumberDataField(_,i.name):"string"==typeof c?null==n._parseDate(c)?o[_]=p=new t._StringDataField(_,i.name):o[_]=p=new t._DateDataField(_,i.name,n):t._AnyTypeUtility._isDate(c)?o[_]=p=new t._DateDataField(_,i.name,n):"boolean"==typeof c&&(o[_]=p=new t._BooleanDataField(_,i.name)))}return o},e}();t._DataSchemaBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.__dataSourceDictionary={},this.__dataSources=[]}return Object.defineProperty(e.prototype,"_defaultDataSource",{get:function(){return this.__default},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_dataSources",{get:function(){return this.__dataSources},enumerable:!0,configurable:!0}),e.prototype._add=function(e){var n=e._schema._name;null==n||t._NativeExtension._isNullOrWhiteSpace(n)?null!=this.__default&&t._NativeExtension._isNullOrWhiteSpace(this.__default._schema._name)||(this.__default=e):null==this.__dataSourceDictionary[n]&&(null==this.__default&&(this.__default=e),this.__dataSourceDictionary[n]=e),this.__dataSources.push(e)},e.prototype._dataSource=function(e){return null==e||t._NativeExtension._isNullOrWhiteSpace(e)?null==this.__default?new t._DataSource([],null,(new t._DataSchemaBuilder)._buildEmptyDataSchema()):this.__default:null==this.__dataSourceDictionary[e]?new t._DataSource([],null,(new t._DataSchemaBuilder)._buildEmptyDataSchema()):this.__dataSourceDictionary[e]},e}();t._DataSourceDictionary=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n){if(null==e&&null==n)return 0;if(null==e)return-1;if(null==n)return 1;if("number"==typeof e&&"number"==typeof n){var i=isNaN(e),o=isNaN(n);return i&&o?0:i?-1:o?1:e-n}return"string"==typeof e&&"string"==typeof n?e.localeCompare(n):"boolean"==typeof e&&"boolean"==typeof n?e===n?0:!0===e?1:-1:e instanceof Date&&n instanceof Date?e.valueOf()-n.valueOf():(t._NativeExtension._ConsoleWarning("Compare data between different data type."),"number"==typeof e&&isNaN(e)?-1:"number"==typeof n&&isNaN(n)?1:typeof e!=typeof n?-1:this._value(e)-this._value(n))},e.prototype._value=function(e){if("number"==typeof e)return e;if("string"==typeof e)return 0;if("boolean"==typeof e)return 1==e?1:0;if(e instanceof Date)return e.valueOf();throw new t.RuntimeError(t.ErrorCode.Unknown,e)},e._defaultDataValueTypeComparer=new e,e}();t._DataValueTypeComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return t._DataValueTypeExtension._equalsWith(e,n)},e._comparer=new e,e}();t._DataValueTypeEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toDataValueType=function(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Date?t:null},e._toObject=function(t){return t},e._toObjectItem=function(t){return t},e._toBool=function(e){if(null==e)return!1;if("boolean"==typeof e)return e;if("number"==typeof e)return 0!==e&&!isNaN(e);if("string"==typeof e)return""!==e;if(e instanceof Date)return!0;throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&("boolean"==typeof t&&"boolean"==typeof e?t===e:t instanceof Date&&e instanceof Date?t.valueOf()===e.valueOf():"number"==typeof t&&"number"==typeof e?!(!isNaN(t)||!isNaN(e))||t===e:"string"==typeof t&&"string"==typeof e&&t===e)},e}();t._DataValueTypeExtension=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.__formats=t,this.__pluginCollection=e}return e.prototype._dateParser=function(){return null==this.__cachedDateParser&&(this.__cachedDateParser=t._BuildInDateParserBuilderCollection._defaultBuildInDateParserBuilders()._dateParser("Default",[],this.__pluginCollection)),this.__cachedDateParser},e.prototype._parseDate=function(e){if(null!=e&&"string"==typeof e){if(null==this.__formats)return null==(r=t._Globalize._parsePlatformDate(e))||isNaN(r.valueOf())?null:r;var n=this.__cachedDateParser;if(null==n&&(n=this._dateParser()),null!=n)for(var i=0,o=this.__formats;i<o.length;i++){var r,l=o[i];if(null!=(r=n.parse(e,l))&&!isNaN(r.valueOf()))return r}}return null},e._dateStringParser=new e,e}();t._DateStringParser=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.parse=function(e,n){var i=(new t.ISO8601DateParser).parse(e,n);return null!=i?i:t._Globalize._parseDate(e,n)},e.type="Default",e}(),e._DateParser=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInDateParserBuilders=function(){return null==n.__buildInDateParserBuilders&&(n.__buildInDateParserBuilders=new n([t.DateParserBuilder._dateParserBuilder],n._pluginType)),n.__buildInDateParserBuilders},n.prototype._convert=function(e){return t._isDateParserBuilder(e)?e:null},n.prototype._dateParser=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildDateParser(t);if(null!=r)return r}return null},n._pluginType="DateParser",n}(t._BuildInObjectCollection);t._BuildInDateParserBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildDateParser=function(e){return e===t.models._DateParser.type?new t.models._DateParser:null},e.prototype.queryInterface=function(t){return"IDateParserBuilder"==t?this:null},e._dateParserBuilder=new e,e}();t.DateParserBuilder=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isDateParserBuilder=function(t){return null!=t.buildDateParser}}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._dvConfigOption=t._dvConfigOption,this._plotConfigOption=t._plotConfigOption,this._pluginCollection=t._pluginCollection,this._option=e,this._display=n}return t.prototype._getOption=function(){return this._option},t.prototype._buildOverlayView=function(t){return null},t.prototype.queryInterface=function(t){return"IOverlayDefinition"==t?this:null},t}();t._BaseOverlayDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._hover=!1,i.__id=n,i.___parentView=t._plotView(),i}return i(n,e),n.prototype.identifierProxy=function(){return null==this.__identifierProxy&&(this.__identifierProxy=new t._OverlayItemIdentifierProxy(this)),this.__identifierProxy},n.prototype._initializeStyle=function(){},n.prototype._parentView=function(){return this.___parentView},n.prototype._proxy=function(){return this.__proxy},n.prototype._runConditionalFormatRules=function(){(new t.models._OverlayItemConditionalFormattingRuleRunner)._apply(this)},n.prototype._hasLegend=function(){return!1},n.prototype._innerProperty=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=!1),null!=this.__proxy){var i=this.__proxy.get(t,!0);if(null!=i)return n&&null==i.value?e:i.value}return e},n.prototype.initialize=function(){this.__proxy=null},n.prototype._hitTest=function(t,e,n){return null},n.prototype._getOverlayView=function(){return this._ownerView},Object.defineProperty(n.prototype,"parent",{get:function(){return t.models._isViewModel(this.___parentView)?this.___parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.OverlayItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){var e=this._innerProperty("style");if(null==e)return null;var n=t._StyleUtility._buildStyle();return t._Util.deepAssign(n,e),n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlay",{get:function(){return t.models._isOverlayModel(this._ownerView)?this._ownerView:null},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(n){return"IOverlayItemModel"===n?this:"IModelProxy"==n?(null==this.__proxy&&(this.__proxy=new t.models.ModelProxy(this)),this.__proxy):e.prototype.queryInterface.call(this,n)},n.prototype._id=function(){return this.__id},n}(t._BaseView);t._BaseOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__cachedId=null,i._definition=n,i}return i(n,e),n.prototype._createIdentityContent=function(){var e=this._getDefinition()._getOption(),n=null;e instanceof t.options._Option&&(n=e.option());var i=this._plotView()._getDefinition()._plotConfigOption.overlays.map((function(t){return t.option()})).indexOf(n).toString(),o=e.type;return t._Util.HashCode("overlay"+o+i)},n.prototype._plotView=function(){return this._ownerView},n.prototype._initializeStyle=function(){},n.prototype._getColor=function(){return this._getColorIterator()._next(!0)},n.prototype._getColorIterator=function(){var t=this._ownerView._getLayoutView()._getPlotAreaView(),e=this._ownerView._colorIterator;return null==e&&(e=t._colorIterator),e},n.prototype._layout=function(t,e){this._layoutContent(t,e)},n.prototype._hitTest=function(t,e,n){return null},n.prototype._getDefinition=function(){return this._definition},n.prototype.display=function(){return this._definition._display},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._plotView()._id()+this._createIdentityContent()),this.__cachedId},Object.defineProperty(n.prototype,"option",{get:function(){return this._definition._getOption()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Overlay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IOverlayModel"===t?this:this._definition.queryInterface(t)},n}(t._BaseView);t._BaseOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._builders=function(){return null==n.__builders&&(n.__builders=new n([],n._pluginType)),n.__builders},n.prototype._convert=function(e){return t._isOverlayDefinitionBuilder(e)?e:null},n.prototype._overlayDefinition=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildOverlayDefinition(t,e,l.option);if(null!=a)return a}return null},n._pluginType="Overlay",n}(t._BuildInObjectCollection);t._BuildInOverlayDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.checkOverlap=function(n,i,o){for(var r=0,l=i;r<l.length;r++){var a=l[r],s=!1,u=a._rectangleShape();null!=u&&(o!=t.OverlappingLabels.Show&&(o===t.OverlappingLabels.Hide||o===t.OverlappingLabels.Auto?s=e._checkWithRotateRectangles(u,n._labels):o===t.OverlappingLabels.HideAll&&(s=e._checkWithRotateRectangles(u,n._labels)||e._checkWithRotateRectangles(u,n._axisLabels)||e._checkWithRectangles(u,n._legendsLabels)||e._checkWithRectangles(u,n._headerLabels)||e._checkWithRectangles(u,n._footerLabels))),s||n._labels.push(u),a._setOverlap(s))}},e._checkWithRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(e.intersectsWith(new t._RectangleShape((r.left+r.right)/2,(r.top+r.bottom)/2,r.width,r.height,0)))return!0}return!1},e._checkWithRotateRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(r.intersectsWith(e))return!0}return!1},e}();t._DataLabelOverlapChecker=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getDataLabelOption=function(){return this._option},Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker},enumerable:!0,configurable:!0}),n}(t._BaseOverlayDefinition);t._BaseDataLabelDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__labelViews=null,i}return i(n,e),n.prototype._labelViews=function(){return null==this.__labelViews&&(this.__labelViews=this._createDataLabelViews()),this.__labelViews},n.prototype.createOverlayItemViews=function(){},n.prototype.useData=function(){this.__labelViews=this._createDataLabelViews()},n.prototype._createDataLabelViews=function(){for(var t=[],e=0,n=this._ownerView._filterPointViews();e<n.length;e++){var i=n[e],o=this._createDataLabelView(i);null!=o&&(t.push(o),i._dataLabelView(o))}return t},n.prototype._createDataLabelView=function(t){return this._definition._getDataLabelView(t)},n.prototype._layoutContent=function(t,e){for(var n=0,i=this._labelViews();n<i.length;n++)i[n]._layoutLabel(t,e)},n.prototype._drawView=function(e,n){if(n._renderLabel){t._DataLabelOverlapChecker.checkOverlap(n,this.__labelViews,this._ownerView._dataPointDataLabelOption().overlappingLabels);for(var i=0,o=this.__labelViews;i<o.length;i++){var r=o[i];r._getOverlap()||r._render(e,n)}}},n.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this._labelViews().concat().reverse();i<o.length;i++){var r=o[i];if(null!=r&&!r._getOverlap()){var l=r._hitTest(t,e,n);if(null!=l)return l}}return null},n.prototype.box=function(){for(var e=[],n=0,i=this._labelViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._DrawingUtility._unionOfRectangles.apply(t._DrawingUtility,e):null},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n}(t._BaseOverlayView);t._BaseDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._builders=function(){return null==n.__buildInCoordinateSystemBuilders&&(n.__buildInCoordinateSystemBuilders=new n([],n._pluginType)),n.__buildInCoordinateSystemBuilders},n.prototype._convert=function(e){return t._isDataLabelDefinitionBuilder(e)?e:null},n.prototype._dataLabelDefinition=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildDataLabelDefinition(t,e,l.option);if(null!=a)return a}return null},n.prototype._dataLabelOverlayDefinitionsByPlugin=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=[],r=0,l=this._objects(e,n);r<l.length;r++){var a=l[r];if(null!=a.item.queryInterface("IPlugin")){var s=a.item._buildDataLabelDefinition(t,null,a.option);if(null!=s){var u=s._getDataLabelOption().scope;-1==o.indexOf(u)&&(i.push(s),o.push(u))}}}return i},n.prototype._dataLabelOverlayDefinitionsByText=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=[],r=0,l=this._objects(null,n);r<l.length;r++)for(var a=l[r],s=0,u=e;s<u.length;s++){var _=u[s],p=a.item._buildDataLabelDefinition(t,_,a.option);if(null!=p){var c=p._getDataLabelOption().scope;-1==o.indexOf(c)&&(i.push(p),o.push(c))}}return i},n._pluginType="DataLabelPlugin",n}(t._BuildInObjectCollection);t._BuildInDataLabelDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isDataLabelDefinitionBuilder=function(t){return null!=t._buildDataLabelDefinition}}(t||(t={})),t||(t={}),function(t){t._isOverlayDefinitionBuilder=function(t){return null!=t._buildOverlayDefinition}}(t||(t={})),function(t){t._isOverlayItemView=function(t){var e=t;return null!=e&&"function"==typeof e._getOverlayView&&"function"==typeof e._initializeStyle}}(t||(t={})),function(t){t._isOverlayView=function(t){var e=t;return null!=e&&"function"==typeof e._getDefinition&&"function"==typeof e.display&&"function"==typeof e._plotView&&"function"==typeof e.createOverlayItemViews&&"function"==typeof e.useData&&"function"==typeof e._initializeStyle&&"function"==typeof e._layout&&"function"==typeof e._render&&"function"==typeof e._hitTest}}(t||(t={})),function(t){!function(t){t._isOverlayOption=function(t){return null!=t&&void 0!==t.type}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(t){this.__context=t}return e.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._ExcelExpressionBinding(e.substring(8))._getValue(this.__context):null},e.prototype.queryInterface=function(t){return"IIdentifierProxy"===t?this:null},e}();t._OverlayItemIdentifierProxy=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"src",{get:function(){return this.__src},set:function(t){this.__src!=t&&(this.__src=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__src=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"src",null),n}(e._Option),e._BackgroundImagePluginArgumentsOption=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInBackgroundImagePolicyBuilders=function(){return null==n.__buildInBackgroundImagePolicyBuilders&&(n.__buildInBackgroundImagePolicyBuilders=new n([],n._pluginType)),n.__buildInBackgroundImagePolicyBuilders},n.prototype._convert=function(e){return t._isBackgroundImagePolicyBuilder(e)?e:null},n.prototype._backgroundImagePolicy=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._buildBackgroundImagePolicy(t,r.option);if(null!=l)return l}return null},n._pluginType="BackgroundImage",n}(t._BuildInObjectCollection);t._BuildInBackgroundImagePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(e){this.__option=e,this.name="Default",this.type=t._BuildInBackgroundImagePolicyBuilderCollection._pluginType,this.priority=1}return e.prototype._buildBackgroundImagePolicy=function(t,n){return new e(n)},e.prototype._buildBackgroundImage=function(e,n){if(null!=this.__option&&null!=this.__option.arguments){var i=this.__option.arguments;if(t.options._isBackgroundImagePluginArgumentsOption(i))return null==i.src?null:n.getImageInfo(i.src);var o=new t.options._BackgroundImagePluginArgumentsOption(i.option());return null==o.src?null:n.getImageInfo(o.src)}return null},e.prototype.queryInterface=function(t){return"IBackgroundImagePolicyBuilder"==t?this:null},e._defaultPlugin=new e(null),e}();t._DefaultBackgroundImagePolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isBackgroundImagePluginArgumentsOption=function(t){return void 0!==t.src}}(t.options||(t.options={}))}(t||(t={})),t||(t={}),function(t){t._isBackgroundImagePolicyBuilder=function(t){return null!=t._buildBackgroundImagePolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInCalculationEngineBuilders=function(){return null==n.__buildInCalculationEngineBuilders&&(n.__buildInCalculationEngineBuilders=new n([],n._pluginType)),n.__buildInCalculationEngineBuilders},n.prototype._convert=function(e){return t._isCalculationEngineBuilder(e)?e:null},n.prototype._calculationEngine=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildCalculationEngine(t,e);if(null!=l)return l}return null},n._pluginType="CalculationEngine",n}(t._BuildInObjectCollection);t._BuildInCalculationEngineBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isCalculationEngineBuilder=function(t){return null!=t.buildCalculationEngine}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){this.__sjsCalculationEngineExist=null,this.name="SjsCalculationEngine",this.type=t._BuildInCalculationEngineBuilderCollection._pluginType,this.priority=0}return e.prototype._isSJSCalculationEngineExist=function(){if(null==this.__sjsCalculationEngineExist){var t=window.GC;if(null==t)return!1;if(null==(t=t.Spread))return!1;if(null==(t=t.CalcEngine))return!1;this.__sjsCalculationEngineExist=!0}return this.__sjsCalculationEngineExist},e.prototype.buildCalculationEngine=function(n,o){if("Default"!==n)return null;if(this._isSJSCalculationEngineExist()){var r=function(e){function n(n){var i=e.call(this,new GC.Spread.CalcEngine.CalcService)||this;if(null==n)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return i.__proxy=n,i.getCalcService().getSourceModel(i),i}return i(n,e),n.prototype.evaluate=function(t,e){try{this.__name=t.toUpperCase(),this.getCalcSourceModel().setFormulaByName(t,e)}catch(t){console.warn("Wrong rule exprssion.")}},n.prototype.getParserContext=function(e,n,i){var o=this,r=new GC.Spread.CalcEngine.ParserContext(this,e,n||{},i),l=new GC.Spread.CalcEngine.TokenResolver(7e3);return l.resolveToken=function(e,n,i,r){var l=i[r],a=l.stringValue();if(0===l.type()&&0===l.subType()&&o.__proxy.isIdentityExpression(a)){var s=new GC.Spread.CalcEngine.Expression(25);return s.value=a,s}return t._NativeExtension.Undefined},r.addResolver(l),r},n.prototype.getEvaluatorContext=function(t,e,n){var i=new GC.Spread.CalcEngine.EvaluateContext(this,t,e,n),o=this;return i.evaluate=function(t,e,n){return this.getValue(o,t.value)},i},n.prototype.getValueByName=function(t){return""},n.prototype.setValueByName=function(e,n){if(e!=this.__name)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e);this.__proxy.resultCallback(n)},n.prototype.getValue=function(t){return this.__proxy.getIdentityValue(t)},n}(GC.Spread.CalcEngine.CalcSource),l=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e._buildInGrapeCityCalculationEngineCustomFunctionBuilders=function(){return null==e.__buildInGrapeCityCalculationEngineCustomFunctionBuilders&&(e.__buildInGrapeCityCalculationEngineCustomFunctionBuilders=new e([s._topNPointGrapeCityCalculationEngineCustomFunctionBuilder,_._topNPercentPointGrapeCityCalculationEngineCustomFunctionBuilder,c._bottomNPointGrapeCityCalculationEngineCustomFunctionBuilder,f._bottomNPercentPointGrapeCityCalculationEngineCustomFunctionBuilder],e._pluginType)),e.__buildInGrapeCityCalculationEngineCustomFunctionBuilders},e.prototype._convert=function(t){return this._isGrapeCityCalculationEngineCustomFunctionBuilder(t)?t:null},e.prototype._isGrapeCityCalculationEngineCustomFunctionBuilder=function(t){return null!=t.buildGrapeCityCalculationEngineCustomFunction},e.prototype.grapeCityCalculationEngineCustomFunctions=function(t){return this._objects(t).map((function(t){return t.item.buildGrapeCityCalculationEngineCustomFunction()}))},e._pluginType="GrapeCityCalculationEngineCustomFunction",e}(t._BuildInObjectCollection),a=function(e){function n(){return e.call(this,"TOPNPOINT",2,3)||this}return i(n,e),n.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!t._isCartesianPointView(o))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,s=l;a<s.length;a++){var u=s[a];t._isCartesianPointView(u)&&r.push(u)}if(i=o,r.length<=0)return!1;var _=1;if(e.length>2){var p=e[2];"number"==typeof p&&p>=1&&(_=p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.slice(0,_);c<h.length;c++)if(i==h[c])return!0;return!1},n}(GC.Spread.CalcEngine.Functions.Function),s=function(){function t(){}return t.prototype.buildGrapeCityCalculationEngineCustomFunction=function(){return new a},t.prototype.queryInterface=function(t){return"IGrapeCityCalculationEngineCustomFunctionBuilder"==t?this:null},t._topNPointGrapeCityCalculationEngineCustomFunctionBuilder=new t,t}(),u=function(e){function n(){return e.call(this,"TOPNPERCENTPOINT",2,3)||this}return i(n,e),n.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!t._isCartesianPointView(o))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,s=l;a<s.length;a++){var u=s[a];t._isCartesianPointView(u)&&r.push(u)}if(i=o,r.length<=0)return!1;var _=null;if(e.length>2){var p=e[2];"number"==typeof p&&(_=p<=0?null:p>=1?1:p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.slice(0,null==_?1:Math.round(r.length*_));c<h.length;c++)if(i==h[c])return!0;return!1},n}(GC.Spread.CalcEngine.Functions.Function),_=function(){function t(){}return t.prototype.buildGrapeCityCalculationEngineCustomFunction=function(){return new u},t.prototype.queryInterface=function(t){return"IGrapeCityCalculationEngineCustomFunctionBuilder"==t?this:null},t._topNPercentPointGrapeCityCalculationEngineCustomFunctionBuilder=new t,t}(),p=function(e){function n(){return e.call(this,"BOTTOMNPOINT",2,3)||this}return i(n,e),n.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!(o instanceof t._CartesianPointView))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,s=l;a<s.length;a++){var u=s[a];u instanceof t._CartesianPointView&&r.push(u)}if(i=o,r.length<=0)return!1;var _=1;if(e.length>2){var p=e[2];"number"==typeof p&&p>=1&&(_=p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.reverse().slice(0,_);c<h.length;c++)if(i==h[c])return!0;return!1},n}(GC.Spread.CalcEngine.Functions.Function),c=function(){function t(){}return t.prototype.buildGrapeCityCalculationEngineCustomFunction=function(){return new p},t.prototype.queryInterface=function(t){return"IGrapeCityCalculationEngineCustomFunctionBuilder"==t?this:null},t._bottomNPointGrapeCityCalculationEngineCustomFunctionBuilder=new t,t}(),h=function(e){function n(){return e.call(this,"BOTTOMNPERCENTPOINT",2,3)||this}return i(n,e),n.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!(o instanceof t._CartesianPointView))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,s=l;a<s.length;a++){var u=s[a];u instanceof t._CartesianPointView&&r.push(u)}if(i=o,r.length<=0)return!1;var _=null;if(e.length>2){var p=e[2];"number"==typeof p&&(_=p<=0?null:p>=1?1:p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.reverse().slice(0,null==_?1:Math.round(r.length*_));c<h.length;c++)if(i==h[c])return!0;return!1},n}(GC.Spread.CalcEngine.Functions.Function),f=function(){function t(){}return t.prototype.buildGrapeCityCalculationEngineCustomFunction=function(){return new h},t.prototype.queryInterface=function(t){return"IGrapeCityCalculationEngineCustomFunctionBuilder"==t?this:null},t._bottomNPercentPointGrapeCityCalculationEngineCustomFunctionBuilder=new t,t}();if(!e.__hasRegisterCustomeFunctions){for(var d=0,y=l._buildInGrapeCityCalculationEngineCustomFunctionBuilders().grapeCityCalculationEngineCustomFunctions([]);d<y.length;d++){var g=y[d];GC.Spread.CalcEngine.Functions.defineGlobalCustomFunction(g.name,g)}e.__hasRegisterCustomeFunctions=!0}return new r(o)}return null},e.prototype.queryInterface=function(t){return"ICalculationEngineBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e.__hasRegisterCustomeFunctions=!1,e}();t._SjsCalculationEnginePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInHoverBehaviorPolicyPlugins=function(){return null==n.__buildInHoverBehaviorPolicyPlugins&&(n.__buildInHoverBehaviorPolicyPlugins=new n([],n._pluginType)),n.__buildInHoverBehaviorPolicyPlugins},n.prototype._convert=function(e){return t._isHoverBehaviorPolicyBuilder(e)?e:null},n.prototype._hoverBehaviorPolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildHoverBehaviorPolicy(e);if(null!=l)return l}return t._DefaultHoverBehaviorPolicy._defaultPolicy},n._pluginType="HoverBehaviorPolicy",n}(t._BuildInObjectCollection);t._BuildInHoverBehaviorPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(t,e){var n=0;return 0!=(n=this._compareHoverView(t,e))?n:n=this._compareFloatedView(t,e)},e.prototype._compareHoverView=function(t,e){return this._isHover(t)?this._isHover(e)?0:1:this._isHover(e)?-1:0},e.prototype._compareFloatedView=function(t,e){return this._isFloated(t)?this._isFloated(e)?0:1:this._isFloated(e)?-1:0},e.prototype._isHover=function(e){return t._isHoverView(e)&&e._hover},e.prototype._isFloated=function(e){return t._isPointView(e)&&e._floated},e}(),n=function(){function t(){this._visualViewOrderComparer=new e,this._changeVisualViewOrder=!0}return t._defaultPolicy=new t,t}();t._DefaultHoverBehaviorPolicy=n}(t||(t={})),function(t){t._isHoverBehaviorPolicyBuilder=function(t){return null!=t._buildHoverBehaviorPolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInPointVisibilityPolicyBuilders=function(){return null==n.__buildInPointVisibilityPolicyBuilders&&(n.__buildInPointVisibilityPolicyBuilders=new n([],n._pluginType)),n.__buildInPointVisibilityPolicyBuilders},n.prototype._convert=function(e){return t._isPointVisibilityPolicyBuilder(e)?e:null},n.prototype.pointVisibilityPolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildPointVisibilityPolicy(e);if(null!=l)return l}return t._DefaultPointVisibilityPolicy._defaultPointVisibilityPolicy},n._pluginType="PointVisibilityPolicy",n}(t._BuildInObjectCollection);t._BuildInPointVisibilityPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._shouldVisible=function(t){return t._visible},t._defaultPointVisibilityPolicy=new t,t}();t._DefaultPointVisibilityPolicy=e}(t||(t={})),t||(t={}),function(t){t._isPointVisibilityPolicyBuilder=function(t){return null!=t._buildPointVisibilityPolicy}}(t||(t={})),function(t){var e=function(){function e(){}return e._buildEmptyAxis=function(e){var n=new t.options._AxisOption(null);return n.type=e,n},e}();t._AxisUtility=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.Standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t.Cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],t.Coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],t.Dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],t.HighContrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],t.Light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],t.Midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],t.Modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],t.Organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],t.Slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],t.Zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],t.Cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],t.Superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],t.Flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],t.Darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],t.Cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],t.Office=["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47"],t.Office2010=["#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],t.Grayscale=["#dddddd","#b2b2b2","#969696","#808080","#5f5f5f","#4d4d4d"],t.BlueWarm=["#4a66ac","#629dd1","#297fd5","#7f8fa9","#5aa2ae","#9d90a0"],t.Blue=["#0f6fc6","#009dd9","#0bd0d9","#10cf9b","#7cca62","#a5c249"],t.Blue2=["#1cade4","#2683c6","#27ced7","#42ba97","#3e8853","#62a39f"],t.BlueGreen=["#3494ba","#58b6c0","#75bda7","#7a8c8e","#84acb6","#2683c6"],t.Green=["#549e39","#8ab833","#c0cf3a","#029676","#4ab5c4","#0989b1"],t.GreenYellow=["#99cb38","#63a537","#37a76f","#44c1a3","#4eb3cf","#51c3f9"],t.Yellow=["#ffca08","#f8931d","#ce8d3e","#ec7016","#e64823","#9c6a6a"],t.YellowOrange=["#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529"],t.Orange=["#e48312","#bd582c","#865640","#9b8357","#c2bc80","#94a088"],t.OrangeRed=["#d34817","#9b2d1f","#a28e6a","#956251","#918485","#855d5d"],t.RedOrange=["#e84c22","#ffbd47","#b64926","#ff8427","#cc9900","#b22600"],t.Red=["#a5300f","#d55816","#e19825","#b19c7d","#7f5f52","#b27d49"],t.RedViolet=["#e32d91","#c830cc","#4ea6dc","#4775e7","#8971e1","#d54773"],t.Violet=["#ad84c6","#8784c7","#5d739a","#6997af","#84acb6","#6f8183"],t.Violet2=["#92278f","#9b57d3","#755dd9","#665eb8","#45a5ed","#5982db"],t.Median=["#94b6d2","#dd8047","#a5ab81","#d8b25c","#7ba79d","#968c8c"],t.Paper=["#a5b592","#f3a447","#e7bc29","#d092a7","#9c85c0","#809ec2"],t.Marquee=["#418ab3","#a6b727","#f69200","#838383","#fec306","#df5327"],t.Slipstream=["#4e67c8","#5eccf3","#a7ea52","#5dceaf","#ff8021","#f14124"],t.Aspect=["#f07f09","#9f2936","#1b587c","#4e8542","#604878","#c19859"],t}();t._Palettes=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t){this.__provider=t,this.__paletteOffset=0}return t.prototype._next=function(t){var e=this.__paletteOffset;return t&&this.__paletteOffset++,this.__provider._colorWithIndex(e)},t.prototype._equalsWith=function(e){return e==this||e instanceof t&&this.__provider._equalsWith(e.__provider)},t}();t._ColorIterator=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),this._colorOptions=[],this.__colorWithValueOptions=[],null==e||!Array.isArray(e))throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__paletteItemOptionEqualityComparer=null==i?t._PaletteItemOptionEqualityComparer._paletteItemOptionEqualityComparer:i,this.__dateStringParser=null==n?t._DateStringParser._dateStringParser:n,this._initColor(e)}return e.prototype._equalsWith=function(n){return n==this||n instanceof e&&this._checkColorOptionArrays(this._colorOptions,n._colorOptions,t._ColorOptionEqualityComparer._colorOptionEqualityComparer)&&this._checkColorOptionArrays(this.__colorWithValueOptions,n.__colorWithValueOptions,this.__paletteItemOptionEqualityComparer)},e.prototype._checkColorOptionArrays=function(t,e,n){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!n._equalsWith(t[i],e[i]))return!1;return!0},e.prototype._colorWithValue=function(e,n){void 0===n&&(n=null);for(var i=null!=n&&n,o=null,r=0,l=this.__colorWithValueOptions;r<l.length;r++){var a=l[r];if(i)(null==e?"null":e.toString())==(null==a.data?"null":a.data.toString())&&(o=t._StyleUtility._colorFromOption(a.color));else{if(this._equalDataValue(e,a.data,this.__dateStringParser)&&(o=t._StyleUtility._colorFromOption(a.color)),null==e&&null!=a.data||null!=e&&null==a.data)continue;null==e&&null!=a.data&&e instanceof Date&&"string"==typeof a.data&&(a.data=this.__dateStringParser._parseDate(a.data)),(a.data==e&&!i||null==a.data&&null==e||i&&null!=a.data&&a.data.toString()==e.toString())&&(o=t._StyleUtility._colorFromOption(a.color))}}return o},e.prototype._equalDataValue=function(t,e,n){if(null!=t&&t instanceof Date&&"string"==typeof e){var i=n._parseDate(e);if(null!=i)return t.valueOf()==i.valueOf()}return null!=t&&null!=e&&"number"==typeof t&&"number"==typeof e?t==e||1==isNaN(t)&&1==isNaN(e):null!=t&&null!=e&&t instanceof Date&&e instanceof Date?t.valueOf()==e.valueOf():t==e},e.prototype._tintColor=function(n,i){return n instanceof t._CssColor?this._tintCssColor(n.color,i):n instanceof t._LinearGradientColor?this._tintLinearGradientColor(n,i):n instanceof t._RadialGradientColor?this._tintRadialGradientColor(n,i):n instanceof t._PatternColor?this._tintPatternColor(n,i):e.__defaultColor},e.prototype._tintPatternColor=function(e,n){var i=this._tintColor(e.backgroundColor,n);return new t._PatternColor(i,e.pattern)},e.prototype._tintCssColor=function(n,i){var o=new t._CssColor(n),r=e.__tiny[Math.floor(i/this._colorOptions.length)%e.__tiny.length];return t._ColorUtility._tint(o,r)},e.prototype._tintLinearGradientColor=function(e,n){for(var i=[],o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(new t._ColorStop(this._tintCssColor(l.color,n).color,l.stop))}return new t._LinearGradientColor(e.degree,i)},e.prototype._tintRadialGradientColor=function(e,n){for(var i=[],o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(new t._ColorStop(this._tintCssColor(l.color,n).color,l.stop))}return new t._RadialGradientColor(e.center,e.radius,e.focus,e.focusRadius,i)},e.prototype._initColor=function(e){for(var n=0,i=e;n<i.length;n++){var o=i[n];null==o.data&&o.type==t.options.PaletteItemType.Index?this._colorOptions.push(o.color):this.__colorWithValueOptions.push(o)}},e.prototype._defaultColor=function(){return this._colorWithIndex(0)},e.prototype._colorWithIndex=function(n){if(null==this._colorOptions||0==this._colorOptions.length)return e.__defaultColor;var i=this._colorOptions[n%this._colorOptions.length],o=t._StyleUtility._colorFromOption(i);return null==o?e.__defaultColor:this._tintColor(o,n)},e.__defaultColor=new t._CssColor("grey"),e.__tiny=[0,-.5,.5,-.25,.25],e}();t._PaletteColorProvider=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){void 0===i&&(i=null),this.__dateStringParser=null==i?t._DateStringParser._dateStringParser:i,this.__paletteItemOptionsComparer=new t._ArrayEqualityComparerWithComparer(t._PaletteItemOptionEqualityComparer._paletteItemOptionEqualityComparer),this._colorWithValueOptions=this._createColorWithValueOptionList(e,n)}return e.prototype._equalDataValue=function(t,e,n){if(null!=t&&t instanceof Date&&"string"==typeof e){var i=n._parseDate(e);if(null!=i)return t.valueOf()==i.valueOf()}return null!=t&&null!=e&&"number"==typeof t&&"number"==typeof e?t==e||1==isNaN(t)&&1==isNaN(e):null!=t&&null!=e&&t instanceof Date&&e instanceof Date?t.valueOf()==e.valueOf():t==e},e.prototype._createColorWithValueOptionList=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++)null==(u=r[o]).data&&u.type==t.options.PaletteItemType.Index||i.push(u);if(null!=e)for(var l=function(e){null==e.data&&e.type==t.options.PaletteItemType.Index||null==t._Util.find(i,(function(t){return t.type==e.type&&t.data==e.data}))&&i.push(e)},a=0,s=e._colorWithValueOptions;a<s.length;a++){var u;l(u=s[a])}return i},e.prototype._colorWithValue=function(e,n){void 0===n&&(n=null);for(var i=null!=n&&n,o=null,r=0,l=this._colorWithValueOptions;r<l.length;r++){var a=l[r];if(i)(null==e?"null":e.toString())==(null==a.data?"null":a.data.toString())&&(o=t._StyleUtility._colorFromOption(a.color));else{if(this._equalDataValue(e,a.data,this.__dateStringParser)&&(o=t._StyleUtility._colorFromOption(a.color)),null==e&&null!=a.data||null!=e&&null==a.data)continue;null==e&&null!=a.data&&e instanceof Date&&"string"==typeof a.data&&(a.data=this.__dateStringParser._parseDate(a.data)),(a.data==e&&!i||null==a.data&&null==e||i&&null!=a.data&&a.data.toString()==e.toString())&&(o=t._StyleUtility._colorFromOption(a.color))}}return o},e.prototype._equalsWith=function(t){return t==this||t instanceof e&&this.__paletteItemOptionsComparer._equalsWith(this._colorWithValueOptions,t._colorWithValueOptions)},e}();t._ValueColorProvider=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o){this.__layoutDefinition=t,this._type=e,this._hAlign=n,this._vAlign=i,this._pluginCollection=t._pluginCollection,this._dvConfigOption=t._dvConfigOption,this._plotAreaOption=t._plotAreaOption,this._plotDefinitions=[],this._viewBuilder=o}return t.prototype._findDataSchema=function(t){return this.__layoutDefinition._findDataSchema(t)},t}();t._BaseCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o.__className="gcdv-coordinate-system",o.__rectangle=t.core.Rect.ReadOnlyRect,o.__horizontalViewSize=t._Constants.ViewSize,o.__verticalViewSize=t._Constants.ViewSize,o._definition=i,o._plotsView=o._createPlotsView(),o}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._layoutData=function(){this._clearOverlayDimensions();for(var t=0,e=this._getPlotViews();t<e.length;t++)e[t]._layoutData()},n.prototype._clearOverlayDimensions=function(){},n.prototype._className=function(){return this.__className},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){this._layoutPlotViews(t,e,n)},n.prototype._drawView=function(t,e){this._plotsView._render(t,e)},n.prototype._layoutPlotViews=function(t,e,n){this._plotsView._layout(t,n,e)},n.prototype._canScroll=function(){return!!this._plotsView._canScroll()},n.prototype._getLayoutView=function(){return this._ownerView},n.prototype._getDefinition=function(){return this._definition},n.prototype._getPlotViews=function(){return this._plotsView._plotViews},Object.defineProperty(n.prototype,"_horizontalViewSize",{get:function(){return this.__horizontalViewSize},set:function(t){0<t&&t<=1&&(this.__horizontalViewSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_verticalViewSize",{get:function(){return this.__verticalViewSize},set:function(t){0<t&&t<=1&&(this.__verticalViewSize=t)},enumerable:!0,configurable:!0}),n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._plotsView._hitTest(t,n,i);return null!=o?o:e.prototype._hitTest.call(this,t,n,i)},n.prototype.dispose=function(){},n}(t._BaseView);t._BaseCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInCoordinateSystemBuilders=function(){return null==n.__buildInCoordinateSystemDefinitionBuilders&&(n.__buildInCoordinateSystemDefinitionBuilders=new n([t._XyCoordinateSystemDefinitionBuilder._noneCoordinateSystemDefinitionBuilder],n._pluginType)),n.__buildInCoordinateSystemDefinitionBuilders},n.prototype._convert=function(e){return t._isCoordinateSystemDefinitionBuilder(e)?e:null},n.prototype._coordinateSystemDefinition=function(e,n,i,o,r,l){void 0===l&&(l=null);for(var a=0,s=this._objects(r,l);a<s.length;a++){var u=s[a].item._buildCoordinateSystemDefinition(e,n,i,o);if(null!=u)return u}throw new t.RuntimeError(t.ErrorCode.CoordinateSystemTypeNotFound,n)},n._pluginType="CoordinateSystem",n}(t._BuildInObjectCollection);t._BuildInCoordinateSystemDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isCoordinateSystemDefinitionBuilder=function(t){return"function"==typeof t._buildCoordinateSystemDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPlotsView=function(t){return null!=t&&void 0!==t._plotViews}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i._plotViews=[],i.__frontOverlayViews=[],i.__backOverlayViews=[],i._displayablePipeLine=new t.DisplayablePipeLine,i}return i(n,e),n.prototype._coordinateSystemView=function(){return this._ownerView},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._coordinateSystemView();return 1!==t._horizontalViewSize||1!==t._verticalViewSize},n.prototype._getLogicSize=function(){var e=this._coordinateSystemView(),n=e._horizontalViewSize,i=e._verticalViewSize;return new t.core.Size(this._getRectangle().width/n,this._getRectangle().height/i)},n.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__plotsScrollableLabelsGroupElement&&(this.__plotsScrollableLabelsGroupElement.offsetX=this._scrollX,this.__plotsScrollableLabelsGroupElement.offsetY=this._scrollY,this.__plotsScrollableLabelsGroupElement.flush()),null!=this.__plotsDisplayGroupElement&&(this.__plotsDisplayGroupElement.offsetX=this._scrollX,this.__plotsDisplayGroupElement.offsetY=this._scrollY,this.__plotsDisplayGroupElement.flush())},n.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n);n._renderLabel&&(i=this._getLogicSize(),o=this._getViewport(),this._renderPlotsDisplayGroupElement(t,n,o,i))},n.prototype._renderNonScrollableContent=function(t,n){if(e.prototype._renderNonScrollableContent.call(this,t,n),n._renderLabel){var i=this._coordinateSystemView()._getLayoutView()._getPlotAreaView()._getRectangle(),o=i.size;this._renderPlotsDisplayGroupElement(t,n,i,o)}},n.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__plotsScrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._scrollX,this._scrollY,(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__plotsScrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},n.prototype._renderPlotsDisplayGroupElement=function(t,e,i,o){var r=this;this.__plotsDisplayGroupElement=t.createGroup(n.__className+"-display",null,this._transform,i,o.width,o.height,this._scrollX,this._scrollY,(function(t){r._displayablePipeLine._flush(t,e)}))},n.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=n;if("Xy"!==this._coordinateSystemView()._getDefinition()._type&&this._canScroll()){var r=this._getLogicSize();(o=n.clone()).width=r.width,o.height=r.height}this.__frontOverlayViews.length=0,this.__backOverlayViews.length=0;for(var l=0,a=this._plotViews;l<a.length;l++){var s=a[l];s._layout(e,o,i);for(var u=0,_=s._overlayViews();u<_.length;u++){var p=_[u];p.display()===t.OverlayDisplay.Back?this.__backOverlayViews.push(p):p.display()===t.OverlayDisplay.Front&&this.__frontOverlayViews.push(p),p._layout(e,i)}}},n.prototype._className=function(){return n.__className},n.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i),this._draw(t,i)},n.prototype._draw=function(e,n){if(n._renderLabel){for(var i=0,o=this.__backOverlayViews;i<o.length;i++)(I=o[i])._render(e,n);for(var r=0,l=this._plotViews;r<l.length;r++){g=[];for(var a=0,s=(D=l[r])._overlayViews();a<s.length;a++)(I=s[a]).display()===t.OverlayDisplay.FrontOfPlot?g.push(I):I.display()===t.OverlayDisplay.BackOfPlot&&I._render(e,n);for(var u=0,_=g;u<_.length;u++)(I=_[u])._render(e,n)}for(var p=0,c=this.__frontOverlayViews;p<c.length;p++)(I=c[p])._render(e,n)}else{for(var h=0,f=this.__backOverlayViews;h<f.length;h++)(I=f[h])._render(e,n);for(var d=0,y=this._plotViews;d<y.length;d++){for(var g=[],m=0,v=(D=y[d])._overlayViews();m<v.length;m++)(I=v[m]).display()===t.OverlayDisplay.FrontOfPlot?g.push(I):I.display()===t.OverlayDisplay.BackOfPlot&&I._render(e,n);D._render(e,n);for(var w=0,b=g;w<b.length;w++)(I=b[w])._render(e,n)}var S=this._coordinateSystemView()._getDefinition()._dvConfigOption.selectedStyle.adorners;if(null!=n.apiSelectedStyle&&(S=n.apiSelectedStyle.adorners),S){var P=this._coordinateSystemView()._getLayoutView()._getDefinition()._pluginCollection,C=t._BuildInAdornerRenderBuilderCollection._defaultBuildInAdornerRenderBuilders()._adornerRender("Dot",[],P);if(null!=C)for(var x=0,V=this._plotViews;x<V.length;x++)for(var D,A=0,O=(D=V[x])._selectionAdorners();A<O.length;A++){var L=O[A];e.beginTransform(),C.render(e,L.points),e.restoreTransform()}}for(var T=0,M=this.__frontOverlayViews;T<M.length;T++){var I;(I=M[T])._render(e,n)}}},n.prototype._contains=function(t){return!1},n.prototype._cutOff=function(){return!1},n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this._displayablePipeLine:"IFlushable"===t?this:e.prototype.queryInterface.call(this,t)},Object.defineProperty(n.prototype,"referenceGroupElement",{get:function(){return this.__plotsDisplayGroupElement},enumerable:!0,configurable:!0}),n.prototype.flush=function(){if(null!=this.__plotsDisplayGroupElement){var e=this._coordinateSystemView()._getLayoutView()._getPlotAreaView()._getDvView(),n=t._DvViewUtility._render(e);if(null!=n){n.startReferenceGroup(this.__plotsDisplayGroupElement),this.__plotsDisplayGroupElement.children.splice(0,this.__plotsDisplayGroupElement.children.length),n.beginTransform(),t._StyleUtility._applyAllStyle(n,this.__plotsDisplayGroupElement.styleContext);var i=new t._RenderContext;this._displayablePipeLine._flush(n,i),n.restoreTransform(),n.endReferenceGroup(),this.__plotsDisplayGroupElement.dirty(),this.__plotsDisplayGroupElement.flush()}}},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();return!this._canScroll()||this._canScroll()&&null!=r&&r.contains(n)?this._hitTestContent(new t.core.Point(this._scrollX+n.x,this._scrollY+n.y),i,o):e.prototype._hitTest.call(this,n,i,o)},n.prototype._hitTestContent=function(n,i,o){for(var r=0,l=this.__frontOverlayViews.slice().reverse();r<l.length;r++)if(null!=(w=(v=l[r])._hitTest(n,i,o)))return w;for(var a=0,s=this._plotViews.slice().reverse();a<s.length;a++)for(var u=0,_=s[a]._overlayViews().slice().reverse();u<_.length;u++)if((v=_[u]).display()===t.OverlayDisplay.FrontOfPlot&&null!=(w=v._hitTest(n,i,o)))return w;for(var p=0,c=this._plotViews.concat().reverse();p<c.length;p++)if(null!=(w=c[p]._hitTest(n,i,o)))return w;for(var h=0,f=this._plotViews.slice().reverse();h<f.length;h++)for(var d=0,y=f[h]._overlayViews().slice().reverse();d<y.length;d++)if((v=y[d]).display()===t.OverlayDisplay.BackOfPlot&&null!=(w=v._hitTest(n,i,o)))return w;for(var g=0,m=this.__backOverlayViews.slice().reverse();g<m.length;g++){var v,w;if(null!=(w=(v=m[g])._hitTest(n,i,o)))return w}return e.prototype._hitTestContent.call(this,n,i,o)},n.__className="gcdv-plots",n}(t._ScrollableView);t._PlotsView=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._PolarCoordinateSystemView(e,n)},e._viewBuilder=new e,e}(),n=function(t){function n(i,o,r,l,a){return t.call(this,i,null==o?n._type:o,r,l,null==a?e._viewBuilder:a)||this}return i(n,t),n._type="Polar",n}(t._BaseCoordinateSystemDefinition);t._PolarCoordinateSystemDefinition=n}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._PolarCoordinateSystemDefinition._type?new t._PolarCoordinateSystemDefinition(e,null,i,o,null):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t?this:null},e._noneCoordinateSystemDefinitionBuilder=new e,e}();t._PolarCoordinateSystemDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__radius=0,i.__center=null,i}return i(n,e),n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n.prototype._getRadius=function(){return this.__radius},n.prototype._getCenter=function(){return this.__center},n.prototype._toPoint=function(e){var n=e._radius,i=e._radian-Math.PI/2;return new t.core.Point(n*Math.cos(i)+this.__center.x,n*Math.sin(i)+this.__center.y)},n.prototype._adjustPolarCoordinateRadian=function(e){return new t._PolarCoordinateValue(e._radius,e._radian-Math.PI/2)},n.prototype._normalizeRadian=function(e){for(;e<0||e>=t._Utility._PI2;)e<0&&(e+=t._Utility._PI2),e>=t._Utility._PI2&&(e-=t._Utility._PI2);return e},n.prototype._layoutContent=function(t,n,i){this._updateRectangle(n),this.__radius=Math.min(this._rectangle().width,this._rectangle().height)/2,this.__center=this._rectangle().center,e.prototype._layoutContent.call(this,t,n,i)},n}(t._BaseCoordinateSystemView);t._PolarCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function t(t,e){this._radius=t,this._radian=e}return t.prototype.clone=function(){return new t(this._radius,this._radian)},t.prototype.equalsWith=function(t){return this._radius==t._radius&&this._radian==t._radian},t}();t._PolarCoordinateValue=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseCoordinateSystemView);t._ScrollableCoordinateSystemView=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._XyCoordinateSystemView(e,n)},e._viewBuilder=new e,e}(),n=function(t){function n(i,o,r){return t.call(this,i,n._type,o,r,e._viewBuilder)||this}return i(n,t),n._type="Xy",n}(t._BaseCoordinateSystemDefinition);t._XyCoordinateSystemDefinition=n}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._XyCoordinateSystemDefinition._type?new t._XyCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t?this:null},e._noneCoordinateSystemDefinitionBuilder=new e,e}();t._XyCoordinateSystemDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n}(t._BaseCoordinateSystemView);t._XyCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._render=function(n,i){var o=this;if(this._isVisible()&&this._zLevel==i._currentZLevel){var r=this._zoomBounds,l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);n.drawGroup(null,l,null,(function(t){e.prototype._render.call(o,t,i)}))}},n.prototype._hitTest=function(n,i,o){return this._zLevel!=i?null:(null!=this._transform&&(n=t._MatrixUtility._transformPoint(this._transform.invert(),n)),e.prototype._hitTest.call(this,n,i,o))},Object.defineProperty(n.prototype,"_zoomFactor",{get:function(){return null==this._transform?1:this._transform.values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_zoomBounds",{get:function(){return this._rectangle()},enumerable:!0,configurable:!0}),n.prototype._translate=function(e,n){null==this._transform?this._transform=new t.Matrix([1,0,0,1,e,n]):t._MatrixUtility._translatePrepend(this._transform,e,n)},n.prototype._zoomAt=function(e,n,i){if(null==this._transform)this._transform=new t.Matrix,t._MatrixUtility._scaleAt(this._transform,e,e,new t.core.Point(n,i));else{var o=t._MatrixUtility._transformPoint(this._transform.invert(),new t.core.Point(n,i));this._transform.reset(),t._MatrixUtility._scaleAt(this._transform,e,e,o),t._MatrixUtility._translatePrepend(this._transform,n-o.x,i-o.y)}},n.prototype._reset=function(){this._transform=null},n.prototype._isHitTested=function(e,n){return this._zoomBounds.contains(new t.core.Point(e,n))},n}(t._BaseCoordinateSystemView);t._ZoomableCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._intersection=function(e,n){if(e._dataSource.equalsWith(n._dataSource)){var i=e._indexes.filter((function(t){return-1!==n._indexes.indexOf(t)}));return new t._DataSlices(e._dataSource,i)}return null},e._merge=function(e){for(var n=[],i=null,o=0,r=e;o<r.length;o++){var l=r[o];(null==i||l._dataSource.equalsWith(i))&&(i=l._dataSource,n.push.apply(n,l._indexes))}return null!=i?new t._DataSlices(i,n):null},e._includes=function(t,e){return 0===e._indexes.filter((function(e){return-1===t._indexes.indexOf(e)})).length},e}();t._DataSlicesUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n,i,o){if(void 0===o&&(o=null),null==i)return null;var r=null!=e?e._items:[];if(i==t.Aggregate.List)return null!=o&&o<=r.length?t._DataItemExtension._toItem(n,r.slice(0,o)):t._DataItemExtension._toItem(n,r);n=t._DataItemExtension._getDataField(n);var l=new t._DataItemBinding(n._name);if(i==t.Aggregate.Sum||i==t.Aggregate.Average){for(var a=!0,s=0,u=r;s<u.length;s++){var _=u[s];if(null!=l._getValue(_)){a=!1;break}}if(a)return null;for(var p=!0,c=0,h=r;c<h.length;c++){_=h[c];var f=l._getValue(_);if(null==f||"number"!=typeof f||!isNaN(f)){p=!1;break}}if(p)return NaN}return t._AggregateValueBuilder._defaultAggregateValueBuilder._build(i,r,l)},e._defaultAggregate=new e,e}();t._DataSlicesAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e,n,i){if(void 0===i&&(i=null),e==t.Aggregate.CountOfAll)return n.length;for(var o=0,r=0,l=0,a=0,s=null,u=null,_=0,p=n.length;_<p;_++){var c=null;if(null!=(c=null!=i?i._getValue(n[_]):t._DataValueTypeExtension._toDataValueType(n[_]))){o++;var h=typeof c;if(null==s)s=c;else if("number"==typeof s)"number"!==h&&"boolean"!==h||(isNaN(s)||s>c)&&(s=c);else if("boolean"==typeof s)if(s=t._DataValueTypeExtension._toBool(s),"number"===h){var f=t._DataValueTypeExtension._toBool(s);(f&&1>=c||!f&&0>=c)&&(s=c)}else"boolean"===h&&s>c&&(s=c);else"string"==typeof s&&"string"===h?s>c&&(s=c):"number"===h||"boolean"===h?s=c:"string"!==h&&"symbol"!==h&&"function"!==h&&"object"!==h||(s=NaN);if(null==u)u=c;else if("number"==typeof u)"number"!==h&&"boolean"!==h||(isNaN(u)||u<c)&&(u=c);else if("boolean"==typeof u)if("number"===h){var d=t._DataValueTypeExtension._toBool(u);(d&&1<=c||!d&&0<=c)&&(u=c)}else"boolean"===h&&u<c&&(u=c);else"string"==typeof u&&"string"===h?u<c&&(u=c):"number"===h||"boolean"===h?u=c:"string"!==h&&"symbol"!==h&&"function"!==h&&"object"!==h||(u=NaN);"number"!==h||isNaN(c)?"boolean"===h&&(r++,1==c&&(l++,a++)):(r++,l+=c,a+=c*c)}}var y=0==r?0:l/r;switch(e){case t.Aggregate.Average:return y;case t.Aggregate.Count:return o;case t.Aggregate.Max:return u;case t.Aggregate.Min:return s;case t.Aggregate.Range:return""===u||""===s||"symbol"==typeof u&&"symbol"==typeof s?NaN:(null==u?0:u)-(null==s?0:s);case t.Aggregate.Sum:return l;case t.Aggregate.PopulationVariance:return r<=1?0:a/r-y*y;case t.Aggregate.PopulationStandardDeviation:return r<=1?0:Math.sqrt(a/r-y*y);case t.Aggregate.Variance:return r<=1?0:(a/r-y*y)*r/(r-1);case t.Aggregate.StandardDeviation:return r<=1?0:Math.sqrt((a/r-y*y)*r/(r-1));default:throw new t.AssertError(t.ErrorCode.InvalidArgument,e)}},e._defaultAggregateValueBuilder=new e,e}();t._AggregateValueBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this._dataSlices=t}return Object.defineProperty(e.prototype,"_items",{get:function(){return this._dataSlices._items},enumerable:!0,configurable:!0}),o([t.deprecated("_items",null)],e.prototype,"_items",null),e}();t._DataModel=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__filter=t,this.__keys=e}return e.prototype._filter=function(e){var n=this;if(null==this.__filter)return e;if(0==this.__keys.length)return e;var i=e._indexes.slice().filter((function(t){for(var i=!1,o=0,r=n.__keys;o<r.length;o++){var l=r[o];i=i||n.__filter.filter(e._dataSource._items[t],l)}return i}));return new t._DataSlices(e._dataSource,i)},e}();t._DataSlicesKeysFilter=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isPointDataModel=function(t){var e=t;return null!=e&&void 0!==e.additionalKind&&"function"==typeof e._item&&void 0===typeof e._filtered&&void 0===typeof e._legendFiltered}}(t||(t={})),t||(t={}),function(t){t._isSeriesDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._points&&"function"==typeof e._plot&&void 0!==e._filtered&&void 0!==e._legendFiltered}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__definition=n,i}return i(e,t),e.prototype._definition=function(){return this.__definition},e.prototype._initialize=function(){},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._PlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__item={},n.__filtered=!1,n.__legendFiltered=!1,n}return i(e,t),e.prototype._item=function(){return this.__item},Object.defineProperty(e.prototype,"_dataIndex",{get:function(){return 0==this._dataSlices._length?-1:this._dataSlices._indexes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filtered",{get:function(){return this.__filtered},set:function(t){this.__filtered!=t&&(this.__filtered=t,this._onFilteredChanged(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_legendFiltered",{get:function(){return this.__legendFiltered},set:function(t){this.__legendFiltered!=t&&(this.__legendFiltered=t,this._onFilteredChanged(t))},enumerable:!0,configurable:!0}),e.prototype._onFilteredChanged=function(t){},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._PointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.__plot=e,i._filtered=!1,i._legendFiltered=!1,i}return i(e,t),e.prototype._plot=function(){return this.__plot},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._SeriesDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n,i){if(i=t._DataItemExtension._getDataField(i),t._isNumberDataField(i)){var o=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._numberValueOrNull(e,o._name),t._DataItemExtension._numberValueOrNull(n,o._name))}if(t._isStringDataField(i)){var r=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._stringValueOrNull(e,r._name),t._DataItemExtension._stringValueOrNull(n,r._name))}if(t._isDateDataField(i)){var l=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._dateValueOrNull(e,l._name,l._dateParser()),t._DataItemExtension._dateValueOrNull(n,l._name,l._dateParser()))}if(t._isBooleanDataField(i)){var a=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._boolValueOrNull(e,a._name),t._DataItemExtension._boolValueOrNull(n,a._name))}return t._isNullDataField(i),0},e._defaultComparer=new e,e}();t._DataObjectComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n,i){if(null!=i){var o=i,r=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._dataField,o._aggregate),l=t._DataSlicesAggregate._defaultAggregate._aggregate(n,o._dataField,o._aggregate);return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(r,l)}return 0},e._defaultComparer=new e,e}();t._DataSlicesComparer=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sortDefinition=t,this.__dataFieldDefinition=e}return e.prototype._sort=function(e){var n=this;if(null==this.__sortDefinition)return e;var i=e._indexes.slice();if(t._isFieldSortDefinition(this.__sortDefinition)){var o=this.__sortDefinition;i.sort((function(n,i){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[n],e._dataSource._items[i],o._dataField)}))}else null!=this.__dataFieldDefinition&&i.sort((function(i,o){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[i],e._dataSource._items[o],n.__dataFieldDefinition._dataField)}));return this.__sortDefinition._isAscending||i.reverse(),new t._DataSlices(e._dataSource,i)},e}();t._DataSlicesSorter=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._sort=function(t){if(Array.isArray(t)){var e=t;return this._sortGroupings(e)}return t},t}();t._GroupingsSorter=e}(t||(t={})),function(t){var e=function(){function t(t){this._isAscending=t}return t.prototype.equalsWith=function(t){return null!=t&&(this==t||this._isAscending==t._isAscending)},t}();t._SortDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__sortDefinition=t,n}return i(n,e),n.prototype._sortGroupings=function(e){var n=this.__sortDefinition;return null!=n?(e.sort((function(e,i){return t._SortGroups._compareGroup(e,i,n)})),n._isAscending||e.reverse(),e):e},n}(t._GroupingsSorter);t._DefaultGroupingsSorter=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,n)||this;return o._dataField=t,o._aggregate=i,o}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isFieldSortDefinition(n)){var i=n;return this._aggregate==i._aggregate&&this._dataField.equalsWith(i._dataField)}return!1},n}(t._SortDefinition);t._FieldSortDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildFieldSortDefinition=function(e,n){if(null==e||e.order==t.OrderType.None)return null;if(null==e.field&&null==e.aggregate)return null;var i=n._fields[e.field];if(null==i)return null;var o=t._NativeExtension._toNonNullEnum(e.aggregate,t.Aggregate.List);return new t._FieldSortDefinition(i,e.order==t.OrderType.Ascending,o)},e._fieldSortDefinitionBuilder=new e,e}();t._FieldSortDefinitionBuilder=e}(t||(t={})),function(t){t._isFieldSortDefinition=function(t){var e=t;return null!=e._dataField&&null!=e._aggregate}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(t._SortDefinition);t._SimpleSortDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildSimpleSortDefinition=function(e){return e.order==t.OrderType.None?null:new t._SimpleSortDefinition(e.order==t.OrderType.Ascending)},e.prototype.buildSimpleSortDefinitionByOrderType=function(e){return e==t.OrderType.None?null:new t._SimpleSortDefinition(e==t.OrderType.Ascending)},e._simpleSortDefinitionBuilder=new e,e}();t._SimpleSortDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildSortDefinition=function(e,n,i,o){var r;return void 0===o&&(o=null),null==e?r=null:null==e.field&&null==e.aggregate?r=t._SimpleSortDefinitionBuilder._simpleSortDefinitionBuilder.buildSimpleSortDefinition(e):(null==e.field&&(e.field=i),null==e.aggregate&&(e.aggregate=null==o?t.Aggregate.List:o),r=t._FieldSortDefinitionBuilder._fieldSortDefinitionBuilder.buildFieldSortDefinition(e,n)),r},e._sortDefinitionBuilder=new e,e}();t._SortDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._compareGroup=function(e,n,i){if(null==i)return 0;if(t._isFieldSortDefinition(i)){var o=i,r=t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,o._dataField,o._aggregate),l=t._DataSlicesAggregate._defaultAggregate._aggregate(n._dataSlices,o._dataField,o._aggregate);return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(r,l)}return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(e.key,n.key)},e}();t._SortGroups=e}(t||(t={})),function(t){t._isTableCell=function(t){var e=t;return null!=e._columnIndex&&null!=e._columnSpan&&null!=e._rowIndex&&null!=e._rowSpan}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.prototype._buildTableCells=function(t){for(var e=0,n=0,i=t;n<i.length;n++){var o=i[n],r=this._treeDepth(o);e<r&&(e=r)}for(var l=[],a=0,s=0,u=0,_=t.length;u<_;u++){var p=t[u],c=this._visit(p,e,0,a);l.push.apply(l,c.cells),s<c.rowSpan&&(s=c.rowSpan),a+=c.columnSpan}return l},t.prototype._visit=function(t,e,n,i){var o=t;o._rowIndex=n,o._columnIndex=i;var r=[o];if(t.children.length>0){for(var l=0,a=0,s=0,u=t.children.length;s<u;s++){var _=t.children[s],p=this._visit(_,e,n+1,i+l);r.push.apply(r,p.cells),a<p.rowSpan&&(a=p.rowSpan),l+=p.columnSpan}return o._columnSpan=l,o._rowSpan=1,{cells:r,rowSpan:a,columnSpan:1}}return o._columnSpan=1,o._rowSpan=e-o._rowIndex,{cells:r,rowSpan:1,columnSpan:1}},t.prototype._treeDepth=function(t){if(t.children.length>0){for(var e=0,n=0,i=t.children;n<i.length;n++){var o=i[n],r=this._treeDepth(o);e<r&&(e=r)}return e+1}return 1},t}();t._TableCellCollectionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTreeNode=function(t){var e=t;return null!=e.children&&null!=e.parent}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(){}return t._traverseDFS=function(e,n,i){void 0===i&&(i=0);for(var o=0,r=e;o<r.length;o++){var l=r[o];n(l,i),t._traverseDFS(l.children,n,i+1)}},t._traverseBFS=function(t,e){for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];n.push(r)}for(var l=0;n.length>0;){for(var a=n.length,s=0;s<a;s++){var u=n.shift();e(u,l);for(var _=0,p=u.children;_<p.length;_++){var c=p[_];n.push(c)}}l++}},t._traverseGrouping=function(e,n,i,o){for(var r=0,l=e;r<l.length;r++){var a=l[r],s=o(n,a,i);t._traverseGrouping(a.children,s,i+1,o)}},t}();t._TreeNodeUtility=e}(t||(t={})),function(t){var e=function(){function t(t,e){this._encodingDefinition=t,this.__label=e}return t.prototype.label=function(){return this.__label},t.prototype.equalsWith=function(e){return this==e||e instanceof t&&this.__label==e.__label},t.prototype.queryInterface=function(t){return null},t}();t._BaseDimensionDefinition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__values=[],this.__definition=t}return t.prototype._definition=function(){return this.__definition},t.prototype._dimensionValues=function(){return this.__values},t.prototype.queryInterface=function(t){return null!=this._definition()?this._definition().queryInterface(t):null},t}();t._Dimension=e}(t||(t={})),function(t){var e=function(){function e(t){this.rawValue=t}return e.prototype._value=function(){return null!=this.__value?this.__value:this._getValueByRawValue(this.rawValue)},e.prototype._updatevalue=function(t){this.__value=t},e.prototype._getValueByRawValue=function(e){return t._AnyTypeUtility._isString(e)?null:t._AnyTypeUtility._isDate(e)?e.valueOf():t._AnyTypeUtility._isBoolean(e)?t._DataValueTypeExtension._toBool(e)?1:0:e},e.prototype.queryInterface=function(t){return"IDimensionValue"===t?this:null},e}();t._DimensionValue=e}(t||(t={})),function(t){t._isDimension=function(t){var e=t;return null!=e&&"function"==typeof e._definition&&"function"==typeof e._dimensionValues}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDimensionValue=function(t){var e=t;return null!=e&&void 0!==e.rawValue&&"function"==typeof e._value}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this._plotDefinition=t}return t.prototype.equalsWith=function(t){return this==t||this._plotDefinition==t._plotDefinition},t}();t._EncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t)||this;return r._excludeNulls=n,r._sortDefinition=i,r._dataSliceSortDefinition=o,r}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isCategoryEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&t._NullableSortDefinitionEqualityComparer._defaultEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)&&t._NullableSortDefinitionEqualityComparer._defaultEqualityComparer._equalsWith(this._dataSliceSortDefinition,i._dataSliceSortDefinition)}return!1},n}(t._EncodingDefinition);t._CategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,i,o,r)||this;return l._dataFieldDefinitions=n,l.__hierarchicalGroupingDefinitions=null,l}return i(n,e),Object.defineProperty(n.prototype,"_hierarchicalGroupingDefinitions",{get:function(){return null==this.__hierarchicalGroupingDefinitions&&(this.__hierarchicalGroupingDefinitions=this._buildHierarchicalGroupingDefinitions(this._plotDefinition,this._excludeNulls,this._sortDefinition)),this.__hierarchicalGroupingDefinitions},enumerable:!0,configurable:!0}),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalCategoryEncodingDefinition(n)){var i=n;return t._NullableDataFieldDefinitionArrayEqualityComparer._defaultEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)}return!1},n.prototype._buildHierarchicalGroupingDefinitions=function(e,n,i){var o=[],r=n?t._BuildInCategoryFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,e._pluginCollection):null,l=new t._DefaultGroupingsSorter(i);if(this._dataFieldDefinitions.length>=1)for(var a=0,s=this._dataFieldDefinitions;a<s.length;a++){var u=s[a],_=new t._DataFieldGroupingDefinition(u,l,r);o.push(_)}return o},n}(t._CategoryEncodingDefinition);t._HierarchicalCategoryEncodingDefinition=e}(t||(t={})),function(t){t._isHierarchicalCategoryEncodingDefinition=function(e){if(!t._isCategoryEncodingDefinition(e))return!1;var n=e;return null!=n._dataFieldDefinitions&&void 0!==n._hierarchicalGroupingDefinitions}}(t||(t={})),t||(t={}),function(t){t._isCategoryEncodingDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._excludeNulls&&void 0!==e._sortDefinition&&void 0!==e._dataSliceSortDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o._dataFieldDefinition=n,o._aggregate=i,o}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isAggregateContentEncodingDefinition(n)){var i=n;return this._aggregate==i._aggregate&&this._dataFieldDefinition.equalsWith(i._dataFieldDefinition)}return!1},n}(t._EncodingDefinition);t._AggregateContentEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildContentEncodingDefinition=function(e,n){if("string"==typeof n.field){var i=t._EscapedCharacterStringUtility._split(n.field,","),o=null!=n.label?n.label.split(","):[];if(i.length>0){var r=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,o.length>0?o[0]:null);if(null!=r)return new t._AggregateContentEncodingDefinition(e,r,t._NativeExtension._toNonNullEnum(n.aggregate,t.Aggregate.List))}}return null},e._contentEncodingDefinitionBuilder=new e,e}();t._AggregateContentEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isAggregateContentEncodingDefinition=function(t){if(null==t)return!1;var e=t;return null!=e._dataFieldDefinition&&null!=e._aggregate}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n){this._dataField=t,this._format=e,this._label=null==n?this._dataField._name:n}return t.prototype.equalsWith=function(e){return this==e||e instanceof t&&this._format==e._format&&e._dataField.equalsWith(this._dataField)},t}();t._DataFieldDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._createDataFieldDefinition=function(e,n,i){if(t._isBooleanDataField(e))return new t._DataFieldDefinition(e,n,i);if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}if(t._isNumberDataField(e)){var r=e;return new t._NumberDataFieldDefinition(r,n,i)}if(t._isStringDataField(e))return new t._DataFieldDefinition(e,n,i);if(t._isBinDataField(e)){var l=e;return new t._BinDataFieldDefinition(l,n,i)}return t._isNullDataField(e)?new t._DataFieldDefinition(e,n,i):null},e.prototype._dataFieldByName=function(e,n){var i=t._EscapedCharacterStringUtility._trim(n),o=t._EscapedCharacterStringUtility._normalize(i);return e._fields[o]},e.prototype._format=function(t,e){return e<2?null:2==e?t[1]:t.slice(1).join(":")},e.prototype._buildDataFieldDefinition=function(e,n,i){if(!t._NativeExtension._isNullOrEmptyString(e)){var o=t._EscapedCharacterStringUtility._split(e,":"),r=o.length;if(r>=1){var l=this._dataFieldByName(n,o[0]);if(null!=l){var a=this._format(o,r);return this._createDataFieldDefinition(l,a,i)}}}return null},e._dataFieldDefinitionBuilder=new e,e}();t._DataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,null==i?e.originalField()._name:i)||this}return i(e,t),e.prototype.binDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._BinDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createDataFieldDefinition=function(e,n,i){if(t._isBinDataField(e)){var o=e;return new t._BinDataFieldDefinition(o,n,i)}return null},n._binDataFieldDefinitionBuilder=new n,n}(t._DataFieldDefinitionBuilder);t._BinDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype.dateDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._DateDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createDataFieldDefinition=function(e,n,i){if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}return null},n._dateDataFieldDefinitionBuilder=new n,n}(t._DataFieldDefinitionBuilder);t._DateDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildHierarchicalDataFieldDefinitionList=function(e,n){for(var i=[],o=t._EscapedCharacterStringUtility._split(e.field,">"),r=null!=e.label?e.label.split(","):[],l=0,a=o.length;l<a;l++){var s=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(o[l],n,l<r.length?r[l]:null);null!=s&&i.push(s)}return i.reverse(),i},e._dataFieldDefinitionListBuilder=new e,e}();t._HierarchicalDataFieldDefinitionListBuilder=e}(t||(t={})),function(t){t._isBinDataFieldDefinition=function(e){return t._isBinDataField(e._dataField)}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDateDataFieldDefinition=function(e){return t._isDateDataField(e._dataField)}}(t||(t={})),function(t){t._isNumberDataFieldDefinition=function(e){return t._isNumberDataField(e._dataField)}}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableArrayEqualityComparer);t._NullableDataFieldDefinitionArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype.numberDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._NumberDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createDataFieldDefinition=function(e,n,i){if(t._isNumberDataField(e)){var o=e;return new t._NumberDataFieldDefinition(o,n,i)}return null},n._numberDataFieldDefinitionBuilder=new n,n}(t._DataFieldDefinitionBuilder);t._NumberDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o._group=n,o._sortDefinition=i,o}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isDetailEncodingDefinition(n)){var i=n;return this._group==i._group&&t._NullableSortDefinitionEqualityComparer._defaultEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)}return!1},n}(t._EncodingDefinition);t._DetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function t(t,e){void 0===e&&(e=!1),this.__detailEncodingDefinitionBuilders=t,this.__onlyChooseFirstDefinition=e}return t.prototype._buildDetailEncodingDefinition=function(t,e){for(var n=0,i=this.__detailEncodingDefinitionBuilders;n<i.length;n++){var o=i[n]._buildDetailEncodingDefinition(t,e);if(null!=o)return o}return null},t.prototype._buildDetailEncodingDefinitions=function(t,e){var n=[];if(this.__onlyChooseFirstDefinition)e.length>0&&null!=(r=this._buildDetailEncodingDefinition(t,e[0]))&&n.push(r);else for(var i=0,o=e;i<o.length;i++){var r,l=o[i];null!=(r=this._buildDetailEncodingDefinition(t,l))&&n.push(r)}return n},t}();t._DetailEncodingDefinitionListBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,i,o)||this;return l._dataFieldDefinitions=n,l._dataSliceSortDefinition=r,l}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalDetailEncodingDefinition(n)){var i=n;return t._NullableDataFieldDefinitionArrayEqualityComparer._defaultEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)&&t._NullableSortDefinitionEqualityComparer._defaultEqualityComparer._equalsWith(this._dataSliceSortDefinition,i._dataSliceSortDefinition)}return!1},n}(t._DetailEncodingDefinition);t._HierarchicalDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDetailEncodingDefinition=function(e,n){if(null==n.field)return null;for(var i=[],o=0,r=t._EscapedCharacterStringUtility._split(n.field,">");o<r.length;o++){var l=r[o],a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(l,e._dataSchema,null);null!=a&&i.push(a)}if(i.length>0){var s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(n.sort,e._dataSchema,i[0]._dataField._name),u=null,_=null;return n.onlySortBeforeGrouping?(_=s,u=null):(u=s,_=null),new t._HierarchicalDetailEncodingDefinition(e,i,n.group,u,_)}return null},e._detailEncodingDefinitionBuilder=new e,e}();t._HierarchicalDetailEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isHierarchicalDetailEncodingDefinition=function(e){if(null==e)return!1;if(!t._isDetailEncodingDefinition(e))return!1;var n=e;return void 0!==n._dataFieldDefinitions&&void 0!==n._dataSliceSortDefinition}}(t||(t={})),function(t){t._isDetailEncodingDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._group&&void 0!==e._sortDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,i,r)||this;return l._excludeNulls=o,l._dataFieldDefinition=n,l}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isSingleDataFieldDetailEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&this._dataFieldDefinition.equalsWith(i._dataFieldDefinition)}return!1},n}(t._DetailEncodingDefinition);t._SingleDataFieldDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._ClusterGroupDetailEncodingDefinition=e}(t||(t={})),function(t){t._isClusterGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Cluster}}(t||(t={})),function(t){t._isSingleDataFieldDetailEncodingDefinition=function(e){if(!t._isDetailEncodingDefinition(e))return!1;var n=e;return null!=n._dataFieldDefinition&&null!=n._excludeNulls}}(t||(t={})),function(t){t._isMirrorGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Mirror}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._MirrorGroupDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDetailEncodingDefinition=function(e,n){if(null==n.field)return null;var i=n.sort,o=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(i,e._dataSchema,n.field),r=t._EscapedCharacterStringUtility._split(n.field,">"),l=null!=n.label?n.label.split(","):[];if(r.length>0){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a)switch(n.group){case t.Group.Cluster:return new t._ClusterGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);case t.Group.Stack:return new t._StackGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);case t.Group.Mirror:return new t._MirrorGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);default:return new t._SingleDataFieldDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o)}}return null},e._detailEncodingDefinitionBuilder=new e,e}();t._SingleDataFieldDetailEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isStackGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Stack}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._StackGroupDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._dataFieldDefinition=t,this._sorter=e,this._filter=n}return e.prototype.label=function(){return this._dataFieldDefinition._label},e.prototype.equalsWith=function(e){if(this==e)return!0;if(t._isDataFieldGroupingDefinition(e)){var n=e;return this._dataFieldDefinition.equalsWith(n._dataFieldDefinition)}return!1},e.prototype.queryInterface=function(t){return null},e}();t._DataFieldGroupingDefinition=e}(t||(t={})),function(t){t._isDataFieldGroupingDefinition=function(t){return void 0!==t._dataFieldDefinition}}(t||(t={})),t||(t={}),function(t){t._isAggregateValueDimensionDefinition=function(e){var n=e;return null!=n&&t._isValueDimensionDefinition(n)&&"function"==typeof n._fieldDefinition&&"function"==typeof n._aggregate}}(t||(t={})),function(t){t._isValueDimensionDefinition=function(t){var e=t;return null!=e&&void 0!==e._identifier&&void 0!==e._excludeNullsFilter&&"function"==typeof e._getValueEncodingDefinition}}(t||(t={})),function(t){t._isXyStyleValueDimensionDefinition=function(e){var n=e;return null!=n&&t._isValueDimensionDefinition(n)&&"function"==typeof n._dimensionDefinition}}(t||(t={})),function(t){t._isRangeValueDimensionDefinition=function(e){var n=e;return null!=n&&t._isValueDimensionDefinition(n)&&void 0!==n._lowerFieldDefinition&&void 0!==n._upperFieldDefinition}}(t||(t={})),function(t){t._isXyValueDimensionDefinition=function(e){var n=e;return null!=n&&t._isValueDimensionDefinition(n)&&t._isXyStyleValueDimensionDefinition(n)&&"function"==typeof n._fieldDefinition&&"function"==typeof n._aggregate}}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o,r,l,a){this._categoryEncodingDefinition=t,this._colorEncodingDefinition=e,this._shapeEncodingDefinition=n,this._sizeEncodingDefinition=i,this._backgroundColorEncodingDefinition=o,this._lightnessEncodingDefinition=r,this._textEncodingDefinitions=l,this._tooltipEncodingDefinitions=a}return t.prototype._getCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},t.prototype._getColorEncodingDefinition=function(){return this._colorEncodingDefinition},t.prototype._getShapeEncodingDefinition=function(){return this._shapeEncodingDefinition},t.prototype._getSizeEncodingDefinition=function(){return this._sizeEncodingDefinition},t.prototype._getBackgroundColorEncodingDefinition=function(){return this._backgroundColorEncodingDefinition},t.prototype._getLightnessEncodingDefinition=function(){return this._lightnessEncodingDefinition},t}();t._EncodingsDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this._adopter=null}return e.prototype._buildEncodingsDefinition=function(t,e){var n=this._createEncodingsDefinitionContext();return this._buildEncodingDefinitions(t,e,n),this._createEncodingsDefinition(n)},e.prototype._buildEncodingDefinitions=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection,l=t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders();i._colorEncodingDefinition=l._legendDefinition(e,n.color,i,this._adopter,o,r),i._shapeEncodingDefinition=l._legendDefinition(e,n.shape,i,this._adopter,o,r),i._sizeEncodingDefinition=l._legendDefinition(e,n.size,i,this._adopter,o,r),i._backgroundColorEncodingDefinition=l._legendDefinition(e,n.backgroundColor,i,this._adopter,o,r),i._lightnessEncodingDefinition=l._legendDefinition(e,n.lightness,i,this._adopter,o,r),i._textEncodingDefinitions=this._createTextContentEncodingDefinitions(e,n.text,i),i._tooltipEncodingDefinitions=this._createTooltipContentEncodingDefinitions(e,n.tooltip,i)},e.prototype._createTextContentEncodingDefinitions=function(t,e,n){var i=[];if(null!=e)for(var o=0,r=e;o<r.length;o++){var l=r[o],a=this._createTextContentEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},e.prototype._createTextContentEncodingDefinition=function(e,n,i){return t._AggregateContentEncodingDefinitionBuilder._contentEncodingDefinitionBuilder._buildContentEncodingDefinition(e,n)},e.prototype._createTooltipContentEncodingDefinitions=function(t,e,n){var i=[];if(null!=e)for(var o=0,r=e;o<r.length;o++){var l=r[o],a=this._createTooltipContentEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},e.prototype._createTooltipContentEncodingDefinition=function(e,n,i){return t._AggregateContentEncodingDefinitionBuilder._contentEncodingDefinitionBuilder._buildContentEncodingDefinition(e,n)},e}();t._EncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){this._textEncodingDefinitions=[],this._tooltipEncodingDefinitions=[]};t._EncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n,i,o,r){void 0===r&&(r=null),this._plotDefinition=t,this._legendType=e,this._legendVisualType=n,this._label=i,this._legendDataModelBuilder=o,this._format=r}return t.prototype.equalsWith=function(e){return this==e||this._plotDefinition==e._plotDefinition&&e instanceof t},t.prototype.queryInterface=function(t){return this._plotDefinition.queryInterface(t)},t}();t._LegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){var a=e.call(this,t,n,"Default",o,l)||this;return a.__customLegendItems=i,a._sortDefinition=r,a}return i(n,e),n.prototype._getCustomLegendItems=function(){return this.__customLegendItems},n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isCustomLegendEncodingDefinition(n)){var i=n;if(null==this._sortDefinition&&null!=i._sortDefinition)return!1;if(null!=this._sortDefinition&&null==i._sortDefinition)return!1;if(null!=this._sortDefinition&&null!=i._sortDefinition&&!this._sortDefinition.equalsWith(i._sortDefinition))return!1;if(this._getCustomLegendItems().length!=i._getCustomLegendItems().length)return!1;for(var o=!1,r=0;r<this._getCustomLegendItems().length;r++){if(this._getCustomLegendItems()[r].title!=i._getCustomLegendItems()[r].title||this._getCustomLegendItems()[r].ruleType!=i._getCustomLegendItems()[r].ruleType){o=!1;break}o=!0}return o}return!1},n}(t._LegendEncodingDefinition);t._CustomLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){var l=i;if(null!=l.items&&l.items.length>0){var a=[],s=l.items;if((s=s.filter((function(n){return!(null==n.title||null==n.ruleType||a.indexOf(n.ruleType)>=0||null==t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(n.ruleType,[],e._pluginCollection)||(a.push(n.ruleType),0))}))).length>0){var u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(l.sort,e._dataSchema,l.field);return new t._CustomLegendEncodingDefinition(e,n,s,i.label,u,new t.models._CustomLegendBuilder(o))}}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._CustomLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isCustomLegendEncodingDefinition=function(e){return!!t._isLegendDefinition(e)&&"function"==typeof e._getCustomLegendItems}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,"Default","",o)||this;return r._dataFieldDefinitions=i,r}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalLegendEncodingDefinition(n)){var i=n;return t._NullableDataFieldDefinitionArrayEqualityComparer._defaultEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)}return!1},n}(t._LegendEncodingDefinition);t._HierarchicalLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){if(null==i.field)return new t._HierarchicalLegendEncodingDefinition(e,t.LegendType.Color,null,new t.models._HierarchicalColorLegendBuilder);for(var l=[],a=t._EscapedCharacterStringUtility._split(i.field,">"),s=null!=i.label?i.label.split(","):[],u=0;u<a.length;u++){var _=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(a[u],e._dataSchema,u<s.length?s[u]:null);null!=_&&l.push(_)}return l.length>0?new t._HierarchicalLegendEncodingDefinition(e,n,l,new t.models._HierarchicalColorLegendBuilder):new t._HierarchicalLegendEncodingDefinition(e,t.LegendType.Color,null,new t.models._HierarchicalColorLegendBuilder)},e._legendEncodingDefinitionBuilder=new e,e}();t._HierarchicalLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isHierarchicalLegendEncodingDefinition=function(e){return!!t._isLegendDefinition(e)&&null!=e._dataFieldDefinitions}}(t||(t={})),t||(t={}),function(t){t._isLegendDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._plotDefinition&&void 0!==e._legendType&&void 0!==e._legendVisualType&&void 0!==e._label&&void 0!==e._format&&void 0!==e._legendDataModelBuilder}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildFormat=function(e){if(null!=e._format)return e._format;var n=e._dataField;return t._isNumberDataField(n)?"n":null},e._legendEncodingDefinitionFormatBuilder=new e,e}(),n=function(n){function o(i,o,r,l,a,s,u){var _=n.call(this,i,o,r,l._label,u,e._legendEncodingDefinitionFormatBuilder._buildFormat(l))||this;if(null==l)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return _.__aggregate=a,_.__fieldDefinition=l,_.__sortDefinition=s,_}return i(o,n),o.prototype._aggregate=function(){return this.__aggregate},o.prototype._fieldDefinition=function(){return this.__fieldDefinition},o.prototype._sortDefinition=function(){return this.__sortDefinition},o.prototype.equalsWith=function(t){return this==t||t instanceof o&&(this==t||this._aggregate()==t._aggregate()&&(null!=this._sortDefinition()||null==t._sortDefinition())&&(null==this._sortDefinition()||null!=t._sortDefinition())&&!(null!=this._sortDefinition()&&null!=t._sortDefinition()&&!this._sortDefinition().equalsWith(t._sortDefinition()))&&this._fieldDefinition().equalsWith(t._fieldDefinition()))},o}(t._LegendEncodingDefinition);t._SingleDataFieldLegendEncodingDefinition=n}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._SingleDataFieldLegendEncodingDefinition);t._NumbericBaseLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a){return t.call(this,e,n,i,o,r,l,a)||this}return i(e,t),e.prototype._numberFieldDefinition=function(){return this._fieldDefinition()},e.prototype._numberFieldInfo=function(){return this._numberFieldDefinition().numberDataField()},e}(t._NumbericBaseLegendEncodingDefinition);t._NumbericLegendEncodingDefinition=e,t._isNumbericLegendEncodingDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._numberFieldDefinition&&"function"==typeof e._numberFieldInfo}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){return e.call(this,t,n,"Default",i,o,r,l)||this}return i(n,e),n.prototype._numberFieldInfo=function(){var e=this._binFieldDefinition().binDataField().originalField();return e instanceof t._NumberDataField?e:null},n.prototype._binFieldDefinition=function(){return e.prototype._fieldDefinition.call(this)},n.prototype.equalsWith=function(t){return this==t||t instanceof n&&e.prototype.equalsWith.call(this,t)},n}(t._NumbericBaseLegendEncodingDefinition);t._BinItemizedRangeLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){if(null!=i.field)if(t.options._isColorEncodingOption(i)){var l=i,a=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(l.sort,e._dataSchema,i.field);if(null!=(u=t._BinDataFieldDefinitionBuilder._binDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field,e._dataSchema,i.label))&&t._isBinDataFieldDefinition(u)){var s=u;return new t._BinItemizedRangeLegendEncodingDefinition(e,n,s,t._NativeExtension._toNonNullEnum(l.aggregate,t.Aggregate.List),a,new t.models._BinItemizedRangeLegendBuilder(o))}}else if(t.options._isSizeEncodingOption(i)){var u,_=i;if(a=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(_.sort,e._dataSchema,i.field),null!=(u=t._BinDataFieldDefinitionBuilder._binDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field,e._dataSchema,i.label))&&t._isBinDataFieldDefinition(u))return s=u,new t._BinItemizedRangeLegendEncodingDefinition(e,n,s,t._NativeExtension._toNonNullEnum(_.aggregate,t.Aggregate.List),a,new t.models._BinItemizedRangeLegendBuilder(o))}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._BinItemizedRangeLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){return e.call(this,n,t.LegendType.Color,"Default",i,o,r,l)||this}return i(n,e),n.prototype.equalsWith=function(t){return this==t||t instanceof n&&e.prototype.equalsWith.call(this,t)},n}(t._NumbericLegendEncodingDefinition);t._ItemizedNumbericColorLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){var l=i;if(n===t.LegendType.Color&&null!=l.field){var a=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(l.sort,e._dataSchema,l.field),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(l.field,e._dataSchema,l.label);if(null!=s&&t._isNumberDataFieldDefinition(s))return new t._ItemizedNumbericColorLegendEncodingDefinition(e,s,t._NativeExtension._toNonNullEnum(l.aggregate,t.Aggregate.List),a,new t.models._ItemizedNumbericLegendBuilder(o))}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._ItemizedNumbericColorLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){return t.call(this,e,n,"Default",i,o,r,l)||this}return i(e,t),e.prototype._numberFieldDefinition=function(){return t.prototype._fieldDefinition.call(this)},e.prototype.equalsWith=function(n){return this==n||n instanceof e&&t.prototype.equalsWith.call(this,n)&&this._aggregate()==n._aggregate()},e}(t._NumbericLegendEncodingDefinition);t._ItemizedRangeLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){if(null!=i.field&&t.options._isSizeEncodingOption(i)){var l=i,a=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(l.sort,e._dataSchema,l.field),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(l.field,e._dataSchema,l.label);if(null!=s&&t._isNumberDataFieldDefinition(s))return new t._ItemizedRangeLegendEncodingDefinition(e,n,s,t._NativeExtension._toNonNullEnum(l.aggregate,t.Aggregate.List),a,new t.models._ItemizedRangeLegendBuilder(o))}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._ItemizedRangeLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){return t.call(this,e,n,"Default",i,o,r,l)||this}return i(e,t),e}(t._SingleDataFieldLegendEncodingDefinition);t._ItemizedSingleDataFieldLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._createLegendEncodingDefinition=function(e,n,i,o,r,l,a){var s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(r,e._dataSchema,i),u=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i,e._dataSchema,o);return null!=u?t._isNullDataField(u._dataField)?null:new t._ItemizedSingleDataFieldLegendEncodingDefinition(e,n,u,t._NativeExtension._toNonNullEnum(l,t.Aggregate.List),s,new t.models._ItemizedValueLegendBuilder(a)):null},e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){var l=i.field;if(null!=l)switch(n){case t.LegendType.Color:var a=i;return this._createLegendEncodingDefinition(e,n,l,i.label,a.sort,a.aggregate,o);case t.LegendType.Shape:var s=i;return this._createLegendEncodingDefinition(e,n,l,i.label,s.sort,s.aggregate,o);case t.LegendType.BackgroundColor:var u=i;return this._createLegendEncodingDefinition(e,n,l,i.label,u.sort,u.aggregate,o)}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){var l=i;if(null!=l.field){var a=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(l.sort,e._dataSchema,l.field),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(l.field,e._dataSchema,l.label);if(null!=s&&t._isNumberDataFieldDefinition(s))return new t._NumbericLegendEncodingDefinition(e,n,"Default",s,t._NativeExtension._toNonNullEnum(l.aggregate,t.Aggregate.List),a,new t.models._NumbericLegendBuilder(o))}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._NumbericLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isValuesNameLegendEncodingDefinition=function(e){if(!t._isLegendDefinition(e))return!1;var n=e;return null!=n._valueEncodingDefinitions&&null!=n._dataFieldDefinitions}}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){var a=e.call(this,n,t.LegendType.Color,"Default","",l)||this;return a._valueEncodingDefinitions=i,a._dataFieldDefinitions=o,a._sortDefinition=r,a}return i(n,e),n.prototype.equalsWith=function(n){return!!e.prototype.equalsWith.call(this,n)&&!!t._isValuesNameLegendEncodingDefinition(n)},n}(t._LegendEncodingDefinition);t._ValuesNameLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__constValuesName="VALUESNAME",this.__detailDefinitions=t,this.__categoryEncodingDefinition=e,this.__valueEncodingDefinitions=n}return e.prototype._getFieldNames=function(e){for(var n=t._EscapedCharacterStringUtility._split(e,">"),i=0;i<n.length;i++){var o=t._EscapedCharacterStringUtility._trim(n[i]);n[i]=t._EscapedCharacterStringUtility._normalize(o)}return n},e.prototype._getFieldDefinitions=function(e,n,i,o){var r=e;if(null!=r&&r.length>0){var l=n.filter((function(e){if(t._isSingleDataFieldDetailEncodingDefinition(e)){var n=e;return-1!=r.indexOf(n._dataFieldDefinition._dataField._name)}return!1})).map((function(t){return t._dataFieldDefinition}));if(null!=i&&t._isHierarchicalCategoryEncodingDefinition(i))for(var a=0,s=i._hierarchicalGroupingDefinitions;a<s.length;a++){var u=s[a];-1!=r.indexOf(u._dataFieldDefinition._dataField._name)&&l.push(u._dataFieldDefinition)}else for(var _=0,p=o;_<p.length;_++){var c=p[_]._getValueDimensionDefinition().queryInterface("IXyValueDimensionDefinition");if(null!=c){var h=c._dimensionDefinition();if(null!=h&&null!=h._fieldDefinition()&&-1!=r.indexOf(h._fieldDefinition()._dataField._name)){l.push(h._fieldDefinition());break}}}return l}return null},e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){if(null==i.field||0==this.__valueEncodingDefinitions.length)return null;var l=this._getFieldNames(i.field);if(l.length>0&&l[0]===this.__constValuesName){l.shift();var a=this._getFieldDefinitions(l,this.__detailDefinitions,this.__categoryEncodingDefinition,this.__valueEncodingDefinitions),s=i,u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(s.sort,e._dataSchema,null);return null!=a&&a.length>0?new t._ValuesNameLegendEncodingDefinition(e,this.__valueEncodingDefinitions,a,u,new t.models._ValuesNameLegendBuilder(o)):new t._ValuesNameLegendEncodingDefinition(e,this.__valueEncodingDefinitions,[],u,new t.models._ValuesNameLegendBuilder(o))}return null},e}();t._ValuesNameLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e._defaultEqualityComparer=new e,e}(t._NullableObjectEqualityComparer);t._NullableSortDefinitionEqualityComparer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o._excludeNulls=n,o._sortDefinition=i,o}return i(n,e),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isValueEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&t._NullableSortDefinitionEqualityComparer._defaultEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)}return!1},n}(t._EncodingDefinition);t._ValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o,r){var l=e.call(this,t,o,i)||this;return l.__fieldDefinition=n,l.__aggregate=r,l}return i(o,e),o.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new n(this,this.__fieldDefinition,this.__aggregate,e)}return this.__valueDimensionDefinition},o}(t._ValueEncodingDefinition);t._AggregateValueEncodingDefinition=e;var n=function(t){function e(e,n,i,o){var r=t.call(this,e,n._label)||this;return r.__fieldDefinition=n,r.__aggregate=i,r._excludeNullsFilter=o,r}return i(e,t),e.prototype._fieldDefinition=function(){return this.__fieldDefinition},e.prototype._aggregate=function(){return this.__aggregate},Object.defineProperty(e.prototype,"_identifier",{get:function(){return this._fieldDefinition()._dataField._name},enumerable:!0,configurable:!0}),e.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},e.prototype.equalsWith=function(e){if(this==e)return!0;var n=e.queryInterface("IAggregateValueDimensionDefinition");return null!=n&&!!this._fieldDefinition().equalsWith(n._fieldDefinition())&&this._aggregate()==n._aggregate()&&t.prototype.equalsWith.call(this,e)},e.prototype.queryInterface=function(e){return"IAggregateValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BaseDimensionDefinition)}(t||(t={})),function(t){var e=function(){function e(t){this.__defaultAggregate=t}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IFieldsValueEncodingOption"==n.type){var i=n,o=i.sort,r=t._EscapedCharacterStringUtility._split(i.field,","),l=null!=i.label?i.label.split(","):[];if(r.length>0){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a){var s=null!=i.aggregate?i.aggregate:this.__defaultAggregate,u=null;return null!=o&&o.length>0&&(u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[0],e._dataSchema,a._dataField._name,s)),new t._AggregateValueEncodingDefinition(e,a,u,i.excludeNulls,s)}}}return null},e}();t._AggregateValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isValueEncodingDefinition=function(t){var e=t;return null!=e&&void 0!==e._excludeNulls&&void 0!==e._sortDefinition&&"function"==typeof e._getValueDimensionDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,o,null)||this;return r.__lowerFieldDefinition=n,r.__upperFieldDefinition=i,r}return i(o,e),o.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new n(this,this._plotDefinition,this.__lowerFieldDefinition,this.__upperFieldDefinition,e)}return this.__valueDimensionDefinition},o}(t._ValueEncodingDefinition);t._DateRangeValueEncodingDefinition=e;var n=function(t){function e(e,n,i,o,r){var l=t.call(this,e,i._label+"-"+o._label)||this;return l._plotDefinition=n,l.__lowerFieldDefinition=i,l.__upperFieldDefinition=o,l._excludeNullsFilter=r,l}return i(e,t),Object.defineProperty(e.prototype,"_identifier",{get:function(){return null==this.__identifier&&(this.__identifier=this.__lowerFieldDefinition._dataField._name+"-"+this.__upperFieldDefinition._dataField._name),this.__identifier},enumerable:!0,configurable:!0}),e.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},Object.defineProperty(e.prototype,"_lowerFieldDefinition",{get:function(){return this.__lowerFieldDefinition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_upperFieldDefinition",{get:function(){return this.__upperFieldDefinition},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(this==e)return!0;var n=e.queryInterface("IRangeValueDimensionDefinition");return null!=n&&!!this._lowerFieldDefinition.equalsWith(n._lowerFieldDefinition)&&!!this._upperFieldDefinition.equalsWith(n._upperFieldDefinition)&&t.prototype.equalsWith.call(this,e)},e.prototype.queryInterface=function(e){return"IRangeValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BaseDimensionDefinition)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IRangeFieldValueEncodingOption"==n.type){var i=n,o=null!=i.label?[i.label.lower,i.label.upper]:[],r=null!=i.field.lower?t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.lower,e._dataSchema,o.length>0?o[0]:null):null,l=null!=i.field.upper?t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.upper,e._dataSchema,o.length>1?o[1]:null):null;if(null!=r&&t._isDateDataFieldDefinition(r)&&null!=l&&t._isDateDataFieldDefinition(l)){var a=r,s=l;return new t._DateRangeValueEncodingDefinition(e,a,s,!!i.excludeNulls)}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._DateRangeValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,o,null)||this;return r.__lowerFieldDefinition=n,r.__upperFieldDefinition=i,r}return i(o,e),o.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new n(this,this._plotDefinition,this.__lowerFieldDefinition,this.__upperFieldDefinition,e)}return this.__valueDimensionDefinition},o}(t._ValueEncodingDefinition);t._NumberRangeValueEncodingDefinition=e;var n=function(t){function e(e,n,i,o,r){var l=t.call(this,e,i._label+"-"+o._label)||this;return l._plotDefinition=n,l.__lowerFieldDefinition=i,l.__upperFieldDefinition=o,l._excludeNullsFilter=r,l}return i(e,t),Object.defineProperty(e.prototype,"_identifier",{get:function(){return null==this.__identifier&&(this.__identifier=this.__lowerFieldDefinition._dataField._name+"-"+this.__upperFieldDefinition._dataField._name),this.__identifier},enumerable:!0,configurable:!0}),e.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},Object.defineProperty(e.prototype,"_lowerFieldDefinition",{get:function(){return this.__lowerFieldDefinition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_upperFieldDefinition",{get:function(){return this.__upperFieldDefinition},enumerable:!0,configurable:!0}),e.prototype.equalsWith=function(e){if(this==e)return!0;var n=e.queryInterface("IRangeValueDimensionDefinition");return null!=n&&!!this._lowerFieldDefinition.equalsWith(n._lowerFieldDefinition)&&!!this._upperFieldDefinition.equalsWith(n._upperFieldDefinition)&&t.prototype.equalsWith.call(this,e)},e.prototype.queryInterface=function(e){return"IRangeValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BaseDimensionDefinition)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IRangeFieldValueEncodingOption"==n.type){var i=n,o=null!=i.label?[i.label.lower,i.label.upper]:[],r=null!=i.field.lower?t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.lower,e._dataSchema,o.length>0?o[0]:null):null,l=null!=i.field.upper?t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.upper,e._dataSchema,o.length>1?o[1]:null):null;if(null!=r&&t._isNumberDataFieldDefinition(r)&&null!=l&&t._isNumberDataFieldDefinition(l)){var a=r,s=l;return new t._NumberRangeValueEncodingDefinition(e,a,s,!!i.excludeNulls)}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._NumberRangeValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o,r){var l=e.call(this,t,r,o)||this;return l.__dimensionDefinition=n,l.__fieldDefinition=i,l}return i(o,e),o.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new n(this,this.__dimensionDefinition,this.__fieldDefinition,e)}return this.__valueDimensionDefinition},o}(t._ValueEncodingDefinition);t._XyValueEncodingDefinition=e;var n=function(e){function n(t,n,i,o){var r=e.call(this,t,i._label)||this;return r.__fieldDefinition=i,r.__dimensionDefinition=n,r._excludeNullsFilter=o,r}return i(n,e),n.prototype._fieldDefinition=function(){return this.__fieldDefinition},n.prototype._dimensionDefinition=function(){return this.__dimensionDefinition},n.prototype._aggregate=function(){return t.Aggregate.List},Object.defineProperty(n.prototype,"_identifier",{get:function(){return this._fieldDefinition()._dataField._name},enumerable:!0,configurable:!0}),n.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},n.prototype.equalsWith=function(t){if(this==t)return!0;var n=t.queryInterface("IXyValueDimensionDefinition");if(null!=n){var i=this._dimensionDefinition(),o=n._dimensionDefinition();if(null!=i&&null!=o){if(!i.equalsWith(o))return!1}else if(null!=i||null!=o)return!1;return!!this._fieldDefinition().equalsWith(n._fieldDefinition())&&this._aggregate()==n._aggregate()&&e.prototype.equalsWith.call(this,t)}return!1},n.prototype.queryInterface=function(t){return"IXyValueDimensionDefinition"==t||"IXyStyleValueDimensionDefinition"==t||"IValueDimensionDefinition"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseDimensionDefinition)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IFieldsValueEncodingOption"==n.type){var i=n,o=i.sort,r=t._EscapedCharacterStringUtility._split(i.field,","),l=null!=i.label?i.label.split(","):[];if(r.length>1){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a){var s=null;null!=o&&o.length>0&&(s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[0],e._dataSchema,a._dataField._name));var u=new t._XFieldEncodingDefinition(e,a,s,!!i.excludeNulls)._getFieldDimensionDefinition(),_=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[1],e._dataSchema,l.length>1?l[1]:null);if(null!=_){var p=null;return null!=o&&o.length>1&&(p=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[1],e._dataSchema,_._dataField._name)),new t._XyValueEncodingDefinition(e,u,_,p,!!i.excludeNulls)}}}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._XyValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isXFieldDimensionDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._fieldDefinition&&"function"==typeof e._getXFieldEncodingDefinition}}(t||(t={})),function(t){t._isFieldValueEncodingDefinition=function(t){var e=t;return null!=e&&void 0!==e._excludeNulls&&void 0!==e._sortDefinition&&"function"==typeof e._getFieldDimensionDefinition}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.__fieldDefinition=n,r._excludeNulls=o,r._sortDefinition=i,r}return i(e,t),e.prototype._getFieldDimensionDefinition=function(){return null==this.__fieldDimensionDefinition&&(this.__fieldDimensionDefinition=new n(this,this.__fieldDefinition)),this.__fieldDimensionDefinition},e}(t._EncodingDefinition);t._XFieldEncodingDefinition=e;var n=function(t){function e(e,n){var i=t.call(this,e,n._label)||this;return i.__fieldDefinition=n,i}return i(e,t),e.prototype._fieldDefinition=function(){return this.__fieldDefinition},e.prototype._getXFieldEncodingDefinition=function(){return this._encodingDefinition},e.prototype.queryInterface=function(e){return"IXFieldDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BaseDimensionDefinition)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._defaultBuildInEventActuatorBuilderCollection=function(){return null==n.__buildInEventActuatorBuilderCollection&&(n.__buildInEventActuatorBuilderCollection=new n([],n._pluginType)),n.__buildInEventActuatorBuilderCollection},n.prototype._convert=function(e){return t._isEventActuatorBuilder(e)?e:null},n.prototype._eventActuators=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,o=this._objects(null,e);i<o.length;i++){var r=o[i].item.buildEventActuator(t);n.push(r)}return n},n._pluginType="EventActuator",n}(t._BuildInObjectCollection);t._BuildInEventActuatorBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isEventActuatorBuilder=function(t){return null!=t&&"function"==typeof t.buildEventActuator}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.__imageInfoBuilder=null!=e?e:t._ImageInfoBuilder._imageInfoBuilder,this.__asyncResiurcePool=n}return e.prototype.getImageInfo=function(t){return this.__imageInfoBuilder.buildImageInfo(t,this.__asyncResiurcePool)},e}();t._ImageProvider=e}(t||(t={})),function(t){!function(t){t._isModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLayoutModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isLoadDataSource=function(t){return null!=t&&"function"==typeof t._loadDataSources}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.compare=function(e,n){if(t._isSingleLegendDataModel(e)&&t._isSingleLegendDataModel(n)){var i=n,o=e._definition._legendType,r=i._definition._legendType;if(o==t.LegendType.Color&&r==t.LegendType.Color)return 0;if(o==t.LegendType.Color)return-1;if(r==t.LegendType.Color)return 1;if(o==t.LegendType.Overlay&&r==t.LegendType.Overlay)return 0;if(o==t.LegendType.Overlay)return-1;if(r==t.LegendType.Overlay)return 1;if(o==t.LegendType.Size&&r==t.LegendType.Size)return 0;if(o==t.LegendType.Size)return-1;if(r==t.LegendType.Size)return 1;if(o==t.LegendType.Shape&&r==t.LegendType.Shape)return 0;if(o==t.LegendType.Shape)return-1;if(r==t.LegendType.Shape)return 1}return 0},e}();t._LegendComparer=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._legendView=function(){return this._ownerView},n.prototype._className=function(){return this._canScroll()?n.__className:null},n.prototype._orientation=function(){var t=this._legendView()._option.orientation;return null!=t||null!=(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.orientation)?t:this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.orientation},n.prototype._canScroll=function(){return!!e.prototype._canScroll.call(this)&&this._legendView()._canScroll()},n.prototype._intersectWith=function(t){return!1},n.prototype._measure=function(e,n){return new t._RectangleViewMetricsResult(new t.core.Size(0,0))},n.prototype._getLogicSize=function(){return this._legendView()._getScrollContentSize()},n.prototype._enlarge=function(){return null},n.prototype._restore=function(){},n.prototype._hitTestContent=function(t,e,n){return null},n.__className="gcdv-content",n}(t._ScrollableView);t._LegendContentView=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.__labels=[]}return t.prototype._addLabel=function(t){null!=t&&this.__labels.indexOf(t)<0&&this.__labels.push(t)},t.prototype._addLabelBuilder=function(t){for(var e=0,n=t.__labels;e<n.length;e++){var i=n[e];this._addLabel(i)}},t.prototype._build=function(){return this.__labels.join("-")},t}();t._LegendLabelBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.LegendTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._legendView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype._legendView=function(){return this._ownerView},n.prototype._shape=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._option.titleStyle),this.__style=e}return this.__style},n.prototype._textOverflow=function(){var e=this._legendView()._option.titleStyle.overflow;return null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle.overflow),null==e&&(e=this._legendView()._option.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._textAlignment=function(){var t=this._legendView()._option.titleStyle.alignment;return null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle.alignment),null==t&&(t=this._legendView()._option.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),null,this._textAlignment())),this.__textView},n.prototype._className=function(){return n.__className},n.prototype._title=function(){return this._legendView().title},n.prototype._paddings=function(){return t._PaddingUtility._buildPadding()},n.prototype._measureInnerContent=function(e,n){return this._textOverflow()==t.TextOverflow.Clip&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE)),this._textView()._measure(e,n)},n.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e),n._legendsLabels.push(e)},n.prototype._renderInnerContent=function(t,e,n){this._textView()._render(t,n),n._legendsLabels.push(e)},n.prototype.translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.LegendTitle);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendTitleModel"==t?this:e.prototype.queryInterface.call(this,t)},n.__className="gcdv-title",n}(t._RectangleView);t._LegendTitleView=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__legendViewBuilder=null==e?new t._DefaultLegendViewBuilder:e}return e.prototype.build=function(e){for(var n=[],i=new t._LegendOptionPickPolicy(e._getDefinition()._plotAreaOption.legends),o=0,r=this._plotDefinitions(e);o<r.length;o++){var l=r[o],a=new t._LegendModelBuilder(l)._build(i);null!=a&&n.push.apply(n,a)}for(var s=n,u=0,_=t._LegendMergePolicyCollection.defaultCollection._legendMergePolicies();u<_.length;u++)s=_[u]._merge(s,i);for(var p=0,c=s;p<c.length;p++){var h=c[p],f=t._LegendInitializerBuilderCollection._defaultCollection._buildLegendInitializer(e,h);null!=f&&f._init()}for(var d=[],y=e._getDefinition()._plotAreaOption.plugins,g=e._getDefinition()._pluginCollection,m=0,v=s;m<v.length;m++){h=v[m];var w=t._BuildInLegendViewBuilderCollection._defaultBuildInLegendViewBuilders()._legendView(e,h,this.__legendViewBuilder,y,g);null!=w&&d.push(w)}return d.filter((function(t){return null!=t}))},e.prototype._plotDefinitions=function(t){for(var e=[],n=0,i=t._plotViews();n<i.length;n++){var o=i[n]._getDefinition();-1==e.indexOf(o)&&e.push(o)}return e},e}();t._LegendViewsBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){void 0===i&&(i=null),this._definition=e,this._adopter=i,this._option=null==n?new t.options._LegendOption(null):n,this._labelBuilder=new t.models._LegendLabelBuilder,this.__available=!0,this.__kind=t._LegendUtility._typeToKind(e._legendType)}return e.prototype._getDefinition=function(){return this._definition},e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._findRelatedPlotViews=function(t){var e=this;return t._plotViews().filter((function(t){return t._getDefinition()==e._definition._plotDefinition}))},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getAvailable=function(){return this.__available},e.prototype._setAvailable=function(t){this.__available=t},e.prototype.queryInterface=function(t){return null},e}();t._SingleLegendDataModel=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){};t._LegendRect=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o.__className="gcdv-legend",o._option=n,o.__titleView=o._createTitleView(),o.__kind=i,o}return i(n,e),n.prototype._createTitleView=function(){return new t._LegendTitleView(this)},n.prototype._legendsOption=function(){return t._LegendUtility._mergeOptions(this._getPlotAreaView()._getDefinition()._dvConfigOption.legend,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend,this._option)},n.prototype._isVertical=function(){return this.position===t.LegendPosition.Floating?!(this._legendsOption().groupOrientation===t.Orientation.Horizontal):this.position===t.LegendPosition.Left||this.position===t.LegendPosition.Right},n.prototype._margin=function(){var e;return e=this._isVertical()?t._MarginUtility._buildMargin(0,20,0,20):t._MarginUtility._buildMargin(20,0,20,0),null!=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.margin&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.margin),null!=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.margin&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.margin),null!=this._option.margin&&(e=this._option.margin),e},n.prototype._contentHAlign=function(){return this._scrollable()?this._option.hAlign:null},n.prototype._contentVAlign=function(){return this._scrollable()?this._option.vAlign:null},Object.defineProperty(n.prototype,"position",{get:function(){return this._position()},enumerable:!0,configurable:!0}),n.prototype._ellipsize=function(){return null},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendModel"==t?this:null},n.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},n.prototype._titlePosition=function(){var e=this._option.titlePosition;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titlePosition),null==e&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titlePosition),t._NativeExtension._toNonNullEnum(e,t.Position.Top)},n.prototype._position=function(){var e=this._option.position;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.position),null==e&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.position),t._NativeExtension._toNonNullEnum(e,t.LegendPosition.Right)},n.prototype._titleView=function(){return this.__titleView},n.prototype._contentView=function(){return null==this.__contentView&&(this.__contentView=this._createContentView()),this.__contentView},n.prototype._titleSpace=function(){return n.__titleSpace},n.prototype._paddings=function(){var e=this._option.padding;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.padding)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.padding)?e:this._isVertical()?t._PaddingUtility._buildPadding(20,null,20,null):t._PaddingUtility._buildPadding(null,20,null,20)},Object.defineProperty(n.prototype,"title",{get:function(){return this._title()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"kind",{get:function(){return this.__kind},enumerable:!0,configurable:!0}),n.prototype._title=function(){return""},n.prototype._measureInnerContent=function(e,n){if(this._position()==t.LegendPosition.None)return new t._RectangleViewMetricsResult(new t.core.Size(0,0));e.beginTransform();var i=this._measureLegendTitle(e,n);switch(this.titleSize=i.clone(),n=n.clone(),this._titlePosition()){case t.Position.Left:case t.Position.Right:i.width>0&&(n.width-=i.width+this._titleSpace());break;case t.Position.Top:case t.Position.Bottom:i.height>0&&(n.height-=i.height+this._titleSpace())}var o=this._contentView()._measure(e,n);switch(this._contentLogicSize=o._size.clone(),this._titlePosition()){case t.Position.Left:case t.Position.Right:i.width>0&&(o._size.width+=i.width+this._titleSpace()),o._size.height<i.height&&(o._size.height=i.height);break;case t.Position.Top:case t.Position.Bottom:i.height>0&&(o._size.height+=i.height+this._titleSpace()),o._size.width<i.width&&(o._size.width=i.width)}return e.restoreTransform(),o},n.prototype._measureLegendTitle=function(e,n){var i=n.clone();if(this._isVertical()){var o=null,r=this._legendListView()._groupWidth();null!=this._legendListView()._groupMaxWidth()?o=Math.min(r,i.width):null!=r&&(o=r),this._titleView()._textOverflow()!=t.TextOverflow.Clip&&(i.width=null!=o?o:this._getPlotAreaView()._getRectangle().width,i=this._calculateMeasureSize(e,i,this._titleView()._textOverflow()))}return this._titleView()._measure(e,i)._size},n.prototype._calculateMeasureSize=function(t,e,n){var i=e.clone();if(null!=t.strokeWidth&&t.strokeWidth>0){var o=t.strokeWidth;i.width-=2*o,i.height-=2*o}var r=this._paddings();return null!=r&&(i.width-=r.left+r.right,i.height-=r.top+r.bottom),i},n.prototype._layoutContent=function(t,e,n){this._layoutInnerContent(t,e,n)},n.prototype._getInnerRect=function(t,n){t.beginTransform(),this._applyBorderStyle(t);var i=e.prototype._calculateInnerRectangle.call(this,t,n);return t.restoreTransform(),i},n.prototype._getParentVisiblePort=function(){return t._DrawingUtility._intersectionOfRectangle(this._legendListView()._getRectangle(),this._getPlotAreaView()._getRectangle())},n.prototype._layoutInnerContent=function(e,n,i){if(this._position()!=t.LegendPosition.None){if(e.beginTransform(),n=this._getRectangle(),n=this._getInnerRect(e,n),this._scrollable()&&(n=t._DrawingUtility._intersectionOfRectangle(this._getParentVisiblePort(),n)),n.height<=0||n.width<=0)return null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),void e.restoreTransform();var o=i._originalLegendSize,r=this._getInnerRect(e,new t.core.Rect(0,0,o.width,o.height)),l=o.clone();l.width=r.width,l.height=r.height;var a=new t.core.Rect(n.left+this._hAlignXOffset(l,n.size),n.top+this._vAlignYOffset(l,n.size),l.width,l.height),s=a.clone();a.width>n.width&&(s.left=n.left,s.width=n.width),a.height>n.height&&(s.top=n.top,s.height=n.height);var u=this._titlePosition(),_=this._titleView()._measure(e,n.size)._size;if(u==t.Position.None)_=new t.core.Size(0,0),s=new t.core.Rect(s.left,s.top,_.width,_.height);else switch(u){case t.Position.Left:s=new t.core.Rect(s.left,s.top+(s.height-_.height)/2,_.width,_.height);break;case t.Position.Right:s=new t.core.Rect(s.left+(s.width-_.width),s.top+(s.height-_.height)/2,_.width,_.height);break;case t.Position.Top:s=new t.core.Rect(s.left+(s.width-_.width)/2,s.top,_.width,_.height);break;case t.Position.Bottom:s=new t.core.Rect(s.left+(s.width-_.width)/2,s.top+(s.height-_.height),_.width,_.height)}this._titleView()._layout(e,i,s);var p=this._titleSpace();0!=s.width&&0!=s.height||(p=0);var c=a.left,h=a.top,f=n.right,d=n.bottom,y=this._contentLogicSize,g=this._paddings(),m=a.clone();switch(u){case t.Position.Left:c=s.right+p;break;case t.Position.Right:f=s.left-p;break;case t.Position.Top:h=s.bottom+p;break;case t.Position.Bottom:d=s.top-p}m.width=f-c,m.height=d-h,m.left=c,m.top=h,this._contentView()._layout(e,i,m);var v=this._getBorderStyle().strokeWidth;null==v&&(v=0),null!=g?(a.left==n.left&&u!=t.Position.Left&&(c-=g.left,y.width+=g.left),(a.width>n.width||a.width-n.width<t._Constants.Precision)&&u!=t.Position.Right&&(y.width+=g.right,this._scrollable()?f=Math.min(this._getParentVisiblePort().right-v,f+g.right):f+=g.right),a.top==n.top&&u!=t.Position.Top&&(h-=g.top,y.height+=g.top),(a.height>n.height||a.height-n.height<t._Constants.Precision)&&u!=t.Position.Bottom&&(y.height+=g.bottom,this._scrollable()?d=Math.min(this._getParentVisiblePort().bottom-v,d+g.bottom):d+=g.bottom)):((a.width>n.width||a.width-n.width<t._Constants.Precision)&&u!=t.Position.Right&&this._scrollable()&&(f=Math.min(this._getParentVisiblePort().right-v,f)),(a.height>n.height||a.height-n.height<t._Constants.Precision)&&u!=t.Position.Bottom&&this._scrollable()&&(d=Math.min(this._getParentVisiblePort().bottom-v,d))),this.__scrollSize=y.clone(),this.__scrollRect=new t.core.Rect(c,h,f-c,d-h),this._contentView()._updateRectangle(this.__scrollRect),e.restoreTransform(),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))}},n.prototype._hAlignXOffset=function(e,n){var i=n.width;n.width<e.width&&(i=e.width);var o=this._contentHAlign();if(null==o)return 0;switch(o){case t.HAlign.Center:return(i-e.width)/2;case t.HAlign.Right:return i-e.width;default:return 0}},n.prototype._vAlignYOffset=function(e,n){var i=n.height;n.height<e.height&&(i=e.height);var o=this._contentVAlign();if(null==o)return 0;switch(o){case t.VAlign.Middle:return(i-e.height)/2;case t.VAlign.Bottom:return i-e.height;default:return 0}},n.prototype._drawView=function(e,n){var i=this;e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var o=this._getRectangle();if(this._scrollable()&&(o=t._DrawingUtility._intersectionOfRectangle(this._legendListView()._getRectangle(),o)),o.height<=0||o.width<=0)e.restoreTransform();else{if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var r=e.strokeWidth;e.drawRect(o.left+r/2,o.top+r/2,o.width-r,o.height-r)}var l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup(this.__className,l,null,(function(t){var e=i._calculateInnerRectangle(t,i._getRectangle());t.restoreTransform(),i._renderInnerContent(t,e,n)}))}},n.prototype._renderInnerContent=function(e,n,i){this._position()!=t.LegendPosition.None&&(n.width<=0||n.height<=0||(e.beginTransform(),this._renderLegendTitle(e,i),this._renderLegendContent(e,i),e.restoreTransform()))},n.prototype._renderLegendTitle=function(t,e){this._titleView()._render(t,e)},n.prototype._renderLegendContent=function(t,e){},n.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,this._getBorderStyle())},n.prototype._getBorderStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultBorderStyle());return t._StyleUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._option.style),t._StyleUtility._applyLineStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.borderStyle),t._StyleUtility._applyLineStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.borderStyle),t._StyleUtility._applyLineStyleOption(e,this._option.borderStyle),e},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.backgroundColor),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.backgroundColor),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._option.style.backgroundColor)},n.prototype._scrollable=function(){return 1===this._legendListView()._legendViews().length},n.prototype._getScrollContentSize=function(){return this.__scrollSize.clone()},n.prototype._internalParentView=function(t){this.__legendListView=t},n.prototype._canScroll=function(){if(this._scrollable()){var t=this.__scrollRect,e=this.__scrollSize;return e.width-t.width>=n.__scrollPrecision||e.height-t.height>=n.__scrollPrecision}return!1},n.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this._titleView()._hitTest(n,i,o);return null!=l?l:(l=new t.HitTestResult(n,this,this,t.ElementType.Legend),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._legendListView=function(){return this.__legendListView},n.prototype._getPlotAreaView=function(){return this._ownerView},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Legend},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._getPlotAreaView();return t.models._isPlotAreaModel(e)?e:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype._createScrollbar=function(e){var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());return null==n?null:t._ScrollUtility._buildScrollbar(e,this.__scrollRect,this._contentLogicSize,n)},n.prototype._scrollTo=function(t,e){this._contentView()._scrollTo(t,e)},n.prototype._isHitTested=function(e,n){return this.__scrollRect.contains(new t.core.Point(e,n))},n.__titleSpace=10,n.__scrollPrecision=.5,n}(t._RectangleView);t._LegendView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__rectangle=t}return e.prototype.layoutHorizontal=function(e){for(var n=this.__rectangle,i=n.width,o=0,r=e;o<r.length;o++){var l=r[o];i=Math.max(l.rect.width+l.margin.left+l.margin.right,i)}for(var a=0,s=e;a<s.length;a++){var u=(l=s[a]).rect,_=l.margin,p=0,c=l.view._option.hAlign;if(null==c)p=_.left;else switch(c){case t.HAlign.Center:p=(i-u.width-_.left-_.right)/2;break;case t.HAlign.Right:p=i-u.width-_.right;break;default:p=_.left}u.left=p+n.left}},e.prototype.layoutVertical=function(e){for(var n=this.__rectangle,i=n.height,o=0,r=e;o<r.length;o++){var l=r[o];i=Math.max(l.rect.height+l.margin.top+l.margin.bottom,i)}for(var a=0,s=e;a<s.length;a++){var u=(l=s[a]).rect,_=l.margin,p=0,c=l.view._option.vAlign;if(null==c)p=_.top;else switch(c){case t.VAlign.Middle:p=(i-u.height-_.top-_.bottom)/2;break;case t.VAlign.Bottom:p=i-u.height-_.bottom;break;default:p=_.top}u.top=p+n.top}},e}();t._LegendViewLayouter=e}(t||(t={})),function(t){!function(t){var e=function(t){void 0===t&&(t=null),this._adopter=t};t._LegendDataModelBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){return null!=e&&e instanceof t._BinItemizedRangeLegendEncodingDefinition?new t._RangeDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter):null},n}(e._LegendDataModelBuilder),e._BinItemizedRangeLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._ItemizedNumbericColorLegendEncodingDefinition){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color);return null!=i&&null!=i.ranges?new t._RangeDataPointItemizedLegendDataModel(e,i,this._adopter):new t._ValueDataPointItemizedLegendDataModel(e,i,this._adopter)}return null},n}(e._LegendDataModelBuilder),e._ItemizedNumbericLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){return null!=e&&e instanceof t._ItemizedRangeLegendEncodingDefinition?new t._RangeDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Size),this._adopter):null},n}(e._LegendDataModelBuilder),e._ItemizedRangeLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if(e._legendType==t.LegendType.Color)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter);if(e._legendType==t.LegendType.Shape)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Shape),this._adopter);if(e._legendType==t.LegendType.BackgroundColor)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.BackgroundColor),this._adopter)}return null},n}(e._LegendDataModelBuilder),e._ItemizedValueLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._NumbericLegendEncodingDefinition){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color);return null!=i&&null!=i.ranges?new t._RangeDataPointItemizedLegendDataModel(e,i,this._adopter):null==i||0!=i.gradient.enabled?new t._ColorLinearPointLegendDataModel(e,i,this._adopter):new t._ValueDataPointItemizedLegendDataModel(e,i,this._adopter)}return null},n}(e._LegendDataModelBuilder),e._NumbericLegendBuilder=n}(t||(t={})),function(t){var e=function(){function e(e){this._legends=e,this._adopter=e.length>0?e[0]._adopter:null,this._option=e.length>0?e[0]._option:null,this.__items=[],this._labelBuilder=new t.models._LegendLabelBuilder,this.__kind=0;for(var n=0,i=e;n<i.length;n++){var o=i[n];this._applyKind(o._kind()),this._labelBuilder._addLabelBuilder(o._labelBuilder)}}return e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getAvailable=function(){return!0},e.prototype._getDefinition=function(){return this._legends[0]._getDefinition()},e.prototype._items=function(){return this.__items},e.prototype._findRelatedPlotViews=function(e){for(var n=[],i=0,o=this._legends;i<o.length;i++){var r=o[i];if(t._isSingleLegendDataModel(r)){var l=r;n.push(l._definition._plotDefinition)}else if(t._isMergedLegendDataModel(r)){var a=r._definitions.map((function(t){return t._plotDefinition}));n.push.apply(n,a)}}return e._plotViews().filter((function(t){return n.indexOf(t._getDefinition())>=0}))},e.prototype.queryInterface=function(t){return"IColorLegend"===t?this:null},e}();t._CombinedLegendDataModel=e}(t||(t={})),function(t){t._isCombinedLegendDataModel=function(t){return null!=t&&void 0!==t._legends}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDataPointsPolicy=function(e){return t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e)?this:null},e.prototype._getPointViews=function(e,n){for(var i=[],o=!1,r=0,l=n._findRelatedPlotViews(e);r<l.length;r++){var a=l[r];if(t._isHierarchicalPlotView(a)){o=!0;var s=a._getRootPointView();if(null!=s)for(var u=0,_=s._children;u<_.length;u++){var p=_[u];i.push(p)}}else i.push.apply(i,a._getPointViews())}return o||i.sort((function(t,e){return t._data()._dataIndex-e._data()._dataIndex})),i},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t?this:null},e._legendDataPointsPolicy=new e,e}();t._DefaultLegendDataPointsPolicy=e}(t||(t={})),function(t){t._isLegendDataPointsPolicy=function(t){return null!=t&&"function"==typeof t._getPointViews}}(t||(t={})),function(t){t._isLegendDataPointsPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildDataPointsPolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInLegendDataPointsPolicyBuilders=function(){return null==n.__buildInDataPointsPolicyBuilders&&(n.__buildInDataPointsPolicyBuilders=new n([],n._pluginType)),n.__buildInDataPointsPolicyBuilders},n.prototype._convert=function(e){return t._isLegendDataPointsPolicyBuilder(e)?e:null},n.prototype._dataPointsPolicy=function(e,n,i){for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildDataPointsPolicy(e);if(null!=l)return l}return t._DefaultLegendDataPointsPolicy._legendDataPointsPolicy},n._pluginType="Compatible",n}(t._BuildInObjectCollection);t._BuildInLegendDataPointsPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInLegendDefinitionBuilders=function(){return null==n.__buildInLegendDefinitionBuilders&&(n.__buildInLegendDefinitionBuilders=new n([],n._pluginType)),n.__buildInLegendDefinitionBuilders},n.prototype._convert=function(e){return t._isLegendDefinitionBuilder(e)?e:null},n.prototype._legendDefinition=function(t,e,n,i,o,r){for(var l=0,a=this._objects(o,r);l<a.length;l++){var s=a[l],u=s.item._buildLegendDefinition(t,e,n,i,s.option);if(null!=u)return u}return null},n._pluginType="LegendDefinitionBuilder",n}(t._BuildInObjectCollection);t._BuildInLegendDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,"Empty",null,i)||this}return i(e,t),e}(t._LegendEncodingDefinition);t._EmptyLegendDefinition=e}(t||(t={})),function(t){t._isLegendDefinitionBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isLegendTitleView=function(t){return null!=t&&"function"==typeof t._hitTest}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e,n){this._plotAreaView=t,this._legend=e,this._definition=n}return t.prototype._init=function(){this._setUp(),this._apply()},t.prototype._getLegendSymbol=function(){return this._definition._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(this._definition._plotDefinition)},t.prototype._adopterApply=function(t){null!=this._legend._adopter&&this._legend._adopter._apply(t,this._legend)},t.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},t.prototype._getColorProvider=function(){return this._definition._plotDefinition._valueColorProvider},t}();t._LegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){return n instanceof t._CombinedLegendDataModel?new t._CombinedLegendInitializer(e,n):null},e.prototype.queryInterface=function(t){return null},e}();t._CombinedLegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__plotAreaView=t,this.__legend=e}return e.prototype._init=function(){for(var e,n=0,i=this.__legend._legends;n<i.length;n++){var o=i[n],r=t._LegendInitializerBuilderCollection._defaultCollection._buildLegendInitializer(this.__plotAreaView,o);null!=r&&r._init()}for(var l=0,a=this.__legend._legends;l<a.length;l++)if(o=a[l],t._isItemizedLegendDataModel(o)){var s=o;(e=this.__legend.__items).push.apply(e,s._items())}},e}();t._CombinedLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._sortItemsBySorter=function(e){var n=e._getDefinition()._plotAreaOption.plugins,i=this._definition._plotDefinition._pluginCollection,o=t._BuildInLegendItemSortingPolicyBuilderCollection._defaultBuildInLegendItemSortingPolicyBuilders().itemziedLegednSorter(this._legend,this._legend._option,n,i);null!=o&&(this._legend.__items=o.sort(e,this._legend.__items,this._legend._option))},n}(t._LegendInitializer);t._ItemizedLegendInitializer=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._plotAreaView=t,this._mergedLegend=e,this._definitions=n}return t.prototype._init=function(){this._setUp(),this._apply()},t.prototype._getLegendSymbol=function(){return this._definitions[0]._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(this._definitions[0]._plotDefinition)},t.prototype._adopterApply=function(t){null!=this._mergedLegend._adopter&&this._mergedLegend._adopter._apply(t,this._mergedLegend)},t.prototype._getColorIterator=function(t){var e=this._definitions[0]._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},t.prototype._getColorProvider=function(){return this._definitions[0]._plotDefinition._valueColorProvider},t}();t._MergedLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._sortItemsBySorter=function(e){var n=e._getDefinition()._plotAreaOption.plugins,i=this._definitions[0]._plotDefinition._pluginCollection,o=t._BuildInLegendItemSortingPolicyBuilderCollection._defaultBuildInLegendItemSortingPolicyBuilders().itemziedLegednSorter(this._mergedLegend,this._mergedLegend._option,n,i);null!=o&&(this._mergedLegend.__items=o.sort(e,this._mergedLegend.__items,this._mergedLegend._option))},n}(t._MergedLegendInitializer);t._MergedItemizedLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){if(t._isMergedLegendDataModel(n)){if(n instanceof t._MergedCustomLegendDataModel){var i=n._definitions;return new t._MergedCustomLegendInitializer(e,n,i)}if(n instanceof t._MergedRangeLegendDataModel)return i=n._definitions,new t._MergedRangeLegendInitializer(e,n,i);if(n instanceof t._MergedValueLegendDataModel)return i=n._definitions,new t._MergedValueLegendInitializer(e,n,i);if(n instanceof t._MergedValuesNameLegendDataModel)return i=n._definitions,new t._MergedValuesNameLegendInitializer(e,n,i);if(n instanceof t._MergedLinearLegendDataModel)return i=n._definitions,new t._MergedLinearLegendInitializer(e,n,i)}return null},e.prototype.queryInterface=function(t){return null},e}();t._MergedLegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=0,r=this._definitions;o<r.length;o++)for(var l=r[o],a=0,s=i;a<s.length;a++){var u=s[a];if(u._getPlotView()._getDefinition()==l._plotDefinition){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(u._data()._dataSlices,l._fieldDefinition()._dataField,l._aggregate());null==_||isNaN(_)||((null==this._mergedLegend.__maximum||this._mergedLegend.__maximum<_)&&(this._mergedLegend.__maximum=_),(null==this._mergedLegend.__minimum||this._mergedLegend.__minimum>_)&&(this._mergedLegend.__minimum=_))}}},n.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._applyColor=function(e){var n=this._mergedLegend._option.gradient;if(0!=n.enabled){var i=[],o=n.palette;if(null!=o&&o.length>0)if(1==o.length)i=[new t._ColorStop(o[0],0),new t._ColorStop(o[0],1)];else for(var r=0;r<o.length;r++)i.push(new t._ColorStop(o[r],r/(o.length-1)));else i=[new t._ColorStop(this._getColor(e),0),new t._ColorStop(this._getColor(e),1)];this._createGradientColor(i,n)}},n.prototype._getColor=function(e){for(var n=this._getColorIterator(e),i=n._next(!0);null!=i;){if(i instanceof t._CssColor)return i.color;i=n._next(!0)}return null},n.prototype._createGradientColor=function(e,n){var i=new t._LinearAxisScale(t._YLinearAxisScalePolicy._yLinearAxisScalePolicy,null);i._setDomain([this._mergedLegend.__minimum,this._mergedLegend.__maximum]),i._setRange([0]),null!=n.unit&&i._setMajorUnit(n.unit),this._mergedLegend.__maximum=i.max(),this._mergedLegend.__minimum=i.min();var o=i.ticks();this._mergedLegend.__ticks=o,1==o.length?this._mergedLegend._linearScale()._updateDomain(o[0],null):o.length>1&&this._mergedLegend._linearScale()._updateDomain(o[0],o[o.length-1]),this._mergedLegend._linearScale()._updateRange(e)},n.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definitions[0])){var n=this._definitions[0],i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._mergedLegend._linearScale()._scaleValue(i).color):null}return null},n}(t._MergedLegendInitializer);t._MergedLinearLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=this._definitions[0],r=o._plotDefinition,l=null,a=null,s=0,u=i;s<u.length;s++)(f=u[s])._getPlotView()._getDefinition()==r&&(null==(h=this._buildLegendValue(f._data(),o))||isNaN(h)||((null==a||isNaN(a)||a<h)&&(a=h),(null==l||isNaN(l)||l>h)&&(l=h)));for(var _=this._createItems(l,a),p=0,c=i;p<c.length;p++){var h,f=c[p];if(null!=(h=this._buildLegendValue(f._data(),o))&&!isNaN(h))for(var d=0;d<_.length;d++){var y=_[d];if(h>=y.start&&(d==_.length-1?h<=y.end:h<y.end)){var g=y._dataPointKey(),m=this._mergedLegend._dataPointKeysMap._get(g);null==m&&(m=[],this._mergedLegend._dataPointKeysMap._set(g,m)),m.push(f);break}}}var v=this._mergedLegend.__items;v.push.apply(v,_)},n.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Size)&&this._applySize(),this._sortItems(),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._createItems=function(e,n){var i=this._mergedLegend._option;if(null==e||null==n)return[];var o=t._NativeExtension._toNonNullNumber(e,0),r=t._NativeExtension._toNonNullNumber(n,0);if(null!=i&&null!=i.ranges&&i.ranges.length>0)return this._createItemsByLegendRanges(o,r,i.ranges);var l=this._definitions[0];if(l instanceof t._BinItemizedRangeLegendEncodingDefinition){var a=l._binFieldDefinition().binDataField().toSteps(o,r);return this._createItemsBySteps(o,r,a)}return this._createItemsAutomatically(o,r)},n.prototype._createItemsByLegendRanges=function(t,e,n){for(var i=[],o=[],r=t,l=0,a=o=(o=o.concat(n)).sort((function(t,e){return null==t.to?1:null==e.to?-1:t.to>e.to?1:t.to<e.to?-1:0}));l<a.length;l++){var s=a[l];if(null!=s.to){if(s.to<=t)continue;if(r>e)continue;i.push(this._createItem(s.title,r,s.to)),r=s.to}else if(r<e)i.push(this._createItem(s.title,r,e)),r=e;else{if(0!=i.length)break;i.push(this._createItem(s.title,r,e)),r=e}}return r<e&&i.push(this._createItem(null,r,e)),i},n.prototype._createItemsBySteps=function(t,e,n){for(var i=[],o=Math.min(t,n[0]),r=0,l=n;r<l.length;r++){var a=l[r];a>o&&(i.push(this._createItem(null,o,a)),o=a)}return o<e&&i.push(this._createItem(null,o,e)),i},n.prototype._createItemsAutomatically=function(e,n){var i=[],o=new t._NumberTicksGenerator(e,n,!0,4)._ticks();if(o.length>0){var r=o[0];if(o.length>1)for(var l=1;l<o.length;l++){var a=o[l];i.push(this._createItem(null,r,a)),r=a}else i.push(this._createItem(null,r,r))}return i},n.prototype._createItem=function(e,n,i){var o=this._definitions[0],r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection);null==e&&(e=null!=r?r.format(o._fieldDefinition()._format,n)+"-"+r.format(o._fieldDefinition()._format,i):n.toString()+"-"+i.toString());var l=new t.models._ItemizedRangePointLegendItem(this._mergedLegend,e,n,i,r);return l._setSymbol(this._getLegendSymbol()),l},n.prototype._applySize=function(){for(var t=this._mergedLegend.__items,e=0;e<t.length;e++)t[e]._size=e+1},n.prototype._sortItems=function(){var e=this,n=this._mergedLegend.__items,i=this._definitions[0]._sortDefinition();if(null!=i){if(t._isFieldSortDefinition(i)){var o=i;n.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}i._isAscending||n.reverse()}},n.prototype._applyColor=function(t){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++)n[e]._updateColor(this._getColor(t))},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n}(t._MergedItemizedLegendInitializer);t._MergedRangeLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=this._definitions;l<a.length;l++)for(var s=a[l],u=0,_=i;u<_.length;u++){var p=_[u];if(p._data()._dataSlices._length>0&&p._getPlotView()._getDefinition()==s._plotDefinition){var c=this._buildLegendValue(p._data(),s),h=this._mergedLegend._dataPointKeysMap._get(c);if(null==h){h=[],this._mergedLegend._dataPointKeysMap._set(c,h);var f=null!=o?o.format(s._fieldDefinition()._format,c,null):c.toString(),d=new t.models._ItemizedValuePointLegendItem(this._mergedLegend,f,c,o);d._setSymbol(this._getLegendSymbol()),r.push(d)}h.push(p)}}var y=this._mergedLegend.__items;y.push.apply(y,r)},n.prototype._apply=function(){this._sortItems(),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._mergedLegend,t.LegendType.BackgroundColor)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Shape)&&this._applyShape(),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._sortItems=function(){var e=this,n=this._definitions[0]._sortDefinition();if(null!=n){var i=this._mergedLegend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){return e.key==n.key?0:null==e.key?1:null==n.key?-1:e.key instanceof Date&&n.key instanceof Date?e.key.valueOf()-n.key.valueOf():"number"==typeof e.key&&"number"==typeof n.key?e.key-n.key:"string"==typeof e.key&&"string"==typeof n.key?e.key.toLowerCase().localeCompare(n.key.toLowerCase()):"boolean"==typeof e.key&&"boolean"==typeof n.key?t._DataValueTypeExtension._toBool(e.key)?-1:1:0}));n._isAscending||i.reverse()}},n.prototype._applyColor=function(t){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null!=o?i._updateColor(o):i._updateColor(this._getColor(t))}},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n.prototype._applyShape=function(){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithValue(this._definitions[0]._plotDefinition._symbolDefinitionProviders(),i.key);i._shape=null!=o?o.type:this._getShape()}this._resetShape()},n.prototype._getShape=function(){return this._getSymbolDefinitionIterator().next(!0).type},n.prototype._resetShape=function(){this._getSymbolDefinitionIterator().reset()},n.prototype._getSymbolDefinitionIterator=function(){if(null==this._mergedLegend.__symbolDefinitionIterator)for(var e=0,n=this._definitions[0]._plotDefinition._symbolDefinitionProviders();e<n.length;e++){var i=n[e];if(i.symbolDefinitions.length>0){this._mergedLegend.__symbolDefinitionIterator=new t.models.SymbolDefinitionIterator(i);break}}return this._mergedLegend.__symbolDefinitionIterator},n}(t._MergedItemizedLegendInitializer);t._MergedValueLegendInitializer=e}(t||(t={})),t||(t={}),function(t){t._isLegendInitializerBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendInitializer}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){if(t._isSingleLegendDataModel(n)){var i=n,o=i._definition;if(i instanceof t._CustomValueDataPointItemizedLegendDataModel&&o instanceof t._CustomLegendEncodingDefinition)return new t.CustomLegendInitializer(e,i,o);if(i instanceof t._RangeDataPointItemizedLegendDataModel&&o instanceof t._NumbericBaseLegendEncodingDefinition)return new t._RangeLegendInitializer(e,i,o);if(i instanceof t._ValueDataPointItemizedLegendDataModel&&o instanceof t._SingleDataFieldLegendEncodingDefinition)return new t._ValueLegendInitializer(e,i,o);if(i instanceof t._ValuesNameDataPointItemizedLegendDataModel&&o instanceof t._ValuesNameLegendEncodingDefinition)return new t._ValuesNameLegendInitializer(e,i,o);if(i instanceof t._ColorLinearPointLegendDataModel&&o instanceof t._NumbericLegendEncodingDefinition)return new t._LinearLegendInitializer(e,i,o);if(i instanceof t._HierarchicalDataPointItemizedLegendDataModel&&o instanceof t._HierarchicalLegendEncodingDefinition)return new t._HierarchicalLegendInitializer(e,i,o);if(i instanceof t._EmptyColorLegendDataModel)return new t._EmptyLegendInitializer(e,i,o);if(i instanceof t._OverlayItemizedLegendDataModel)return new t._OverlayLegendInitializer(e,i,o)}return null},e.prototype.queryInterface=function(t){return null},e}();t._LegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.__collection=[new t._LegendInitializerBuilder,new t._MergedLegendInitializerBuilder,new t._CombinedLegendInitializerBuilder]}return e.prototype._buildLegendInitializer=function(t,e){for(var n=0,i=this.__collection;n<i.length;n++){var o=i[n]._buildLegendInitializer(t,e);if(null!=o)return o}return null},e.prototype._add=function(t){this.__collection.unshift(t)},e._defaultCollection=new e,e}();t._LegendInitializerBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=0,o=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend);i<o.length;i++){var r=o[i],l=t._DataSlicesAggregate._defaultAggregate._aggregate(r._data()._dataSlices,this._definition._fieldDefinition()._dataField,this._definition._aggregate());null==l||isNaN(l)||((null==this._legend.__maximum||this._legend.__maximum<l)&&(this._legend.__maximum=l),(null==this._legend.__minimum||this._legend.__minimum>l)&&(this._legend.__minimum=l))}},n.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._applyColor=function(e){var n=this._legend._option.gradient;if(0!=n.enabled){var i=[],o=n.palette;if(null!=o&&o.length>0)if(1==o.length)i=[new t._ColorStop(o[0],0),new t._ColorStop(o[0],1)];else for(var r=0;r<o.length;r++)i.push(new t._ColorStop(o[r],r/(o.length-1)));else i=[new t._ColorStop(this._getColor(e),0),new t._ColorStop(this._getColor(e),1)];this._createGradientColor(i,n)}},n.prototype._getColor=function(e){for(var n=this._getColorIterator(e),i=n._next(!0);null!=i;){if(i instanceof t._CssColor)return i.color;i=n._next(!0)}return null},n.prototype._createGradientColor=function(e,n){var i=new t._LinearAxisScale(t._YLinearAxisScalePolicy._yLinearAxisScalePolicy,null);i._setDomain([this._legend.__minimum,this._legend.__maximum]),i._setRange([0]),null!=n.unit&&i._setMajorUnit(n.unit),this._legend.__maximum=i.max(),this._legend.__minimum=i.min();var o=i.ticks();this._legend.__ticks=o,1==o.length?this._legend.__linearScale._updateDomain(o[0],null):o.length>1&&this._legend.__linearScale._updateDomain(o[0],o[o.length-1]),this._legend.__linearScale._updateRange(e)},n}(t._LegendInitializer);t._LinearLegendInitializer=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._setUp=function(){},e.prototype._apply=function(){for(var t=0,e=this._legend._findRelatedPlotViews(this._plotAreaView);t<e.length;t++)for(var n=0,i=e[t]._overlayViews();n<i.length;n++){var o=i[n];this._initializeStyle(o)}this._createItem(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView)},e.prototype._initializeStyle=function(t){t._initializeStyle()},e.prototype._createItem=function(t){for(var e=0,n=this._legend._findRelatedPlotViews(this._plotAreaView);e<n.length;e++)for(var i=0,o=n[e]._overlayViews();i<o.length;i++){var r=o[i],l=r.queryInterface("IOverlayLegendItemsBuilder");if(null!=l){var a=l.buildLegendItemDataModels(this._legend,r);if(null!=a&&a.length>0){var s=this._legend.__items;s.push.apply(s,a)}}}},e}(t._ItemizedLegendInitializer);t._OverlayLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=null,r=null,l=0,a=i;l<a.length;l++){var s=a[l];null==(c=this._buildLegendValue(s._data(),this._definition))||isNaN(c)||((null==r||isNaN(r)||r<c)&&(r=c),(null==o||isNaN(o)||o>c)&&(o=c))}for(var u=this._createItems(o,r),_=0,p=i;_<p.length;_++){var c;if(s=p[_],null!=(c=this._buildLegendValue(s._data(),this._definition))&&!isNaN(c))for(var h=0;h<u.length;h++){var f=u[h];if(c>=f.start&&(h==u.length-1?c<=f.end:c<f.end)){var d=f._dataPointKey(),y=this._legend._dataPointKeysMap._get(d);null==y&&(y=[],this._legend._dataPointKeysMap._set(d,y)),y.push(s);break}}}var g=this._legend.__items;g.push.apply(g,u)},n.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Size)&&this._applySize(),this._sortItems(),t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._createItems=function(e,n){var i=this._legend._option;if(null==e||null==n)return[];var o=t._NativeExtension._toNonNullNumber(e,0),r=t._NativeExtension._toNonNullNumber(n,0);if(null!=i&&null!=i.ranges&&i.ranges.length>0)return this._createItemsByLegendRanges(o,r,i.ranges);if(this._definition instanceof t._BinItemizedRangeLegendEncodingDefinition){var l=this._definition._binFieldDefinition().binDataField().toSteps(o,r);return this._createItemsBySteps(o,r,l)}return this._createItemsAutomatically(o,r)},n.prototype._createItemsByLegendRanges=function(t,e,n){for(var i=[],o=[],r=t,l=0,a=o=(o=o.concat(n)).sort((function(t,e){return null==t.to?1:null==e.to?-1:t.to>e.to?1:t.to<e.to?-1:0}));l<a.length;l++){var s=a[l];if(null!=s.to){if(s.to<=t)continue;if(r>e)continue;i.push(this._createItem(s.title,r,s.to)),r=s.to}else if(r<e)i.push(this._createItem(s.title,r,e)),r=e;else{if(0!=i.length)break;i.push(this._createItem(s.title,r,e)),r=e}}return r<e&&i.push(this._createItem(null,r,e)),i},n.prototype._createItemsBySteps=function(t,e,n){for(var i=[],o=Math.min(t,n[0]),r=0,l=n;r<l.length;r++){var a=l[r];a>o&&(i.push(this._createItem(null,o,a)),o=a)}return o<e&&i.push(this._createItem(null,o,e)),i},n.prototype._createItemsAutomatically=function(e,n){var i=[],o=new t._NumberTicksGenerator(e,n,!0,4)._ticks();if(o.length>0){var r=o[0];if(o.length>1)for(var l=1;l<o.length;l++){var a=o[l];i.push(this._createItem(null,r,a)),r=a}else i.push(this._createItem(null,r,r))}return i},n.prototype._createItem=function(e,n,i){var o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection);null==e&&(e=null!=o?o.format(this._definition._fieldDefinition()._format,n)+"-"+o.format(this._definition._fieldDefinition()._format,i):n.toString()+"-"+i.toString());var r=new t.models._ItemizedRangePointLegendItem(this._legend,e,n,i,o);return r._setSymbol(this._getLegendSymbol()),r},n.prototype._applySize=function(){for(var t=this._legend.__items,e=0;e<t.length;e++)t[e]._size=e+1},n.prototype._sortItems=function(){var e=this,n=this._legend.__items,i=this._definition._sortDefinition();if(null!=i){if(t._isFieldSortDefinition(i)){var o=i;n.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),s=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],s=null!=s?s:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(s.map((function(t){return t._data()._dataSlices}))),o)}))}i._isAscending||n.reverse()}},n.prototype._applyColor=function(t){for(var e=0,n=this._legend.__items;e<n.length;e++)n[e]._updateColor(this._getColor(t))},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n}(t._ItemizedLegendInitializer);t._RangeLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=i;l<a.length;l++){var s=a[l];if(s._data()._dataSlices._length>0){var u=this._buildLegendValue(s._data(),this._definition),_=this._legend._dataPointKeysMap._get(u);if(null==_){_=[],this._legend._dataPointKeysMap._set(u,_);var p=null!=o?o.format(this._definition._fieldDefinition()._format,u,null):u.toString(),c=new t.models._ItemizedValuePointLegendItem(this._legend,p,u,o);c._setSymbol(this._getLegendSymbol()),r.push(c)}_.push(s)}}var h=this._legend.__items;h.push.apply(h,r)},n.prototype._apply=function(){this._sortItems(),t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._legend,t.LegendType.BackgroundColor)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._legend,t.LegendType.Shape)&&this._applyShape(),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition();if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),s=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],s=null!=s?s:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(s.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){var i=e,o=n;return i.key==o.key?0:null==i.key?1:null==o.key?-1:i.key instanceof Date&&o.key instanceof Date?i.key.valueOf()-o.key.valueOf():"number"==typeof i.key&&"number"==typeof o.key?i.key-o.key:"string"==typeof i.key&&"string"==typeof o.key?i.key.toLowerCase().localeCompare(o.key.toLowerCase()):"boolean"==typeof i.key&&"boolean"==typeof o.key?t._DataValueTypeExtension._toBool(i.key)?-1:1:0}));n._isAscending||i.reverse()}},n.prototype._applyColor=function(t){for(var e=0,n=this._legend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null!=o?i._updateColor(o):i._updateColor(this._getColor(t))}},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n.prototype._applyShape=function(){for(var e=0,n=this._legend.__items;e<n.length;e++){var i=n[e],o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithValue(this._definition._plotDefinition._symbolDefinitionProviders(),i.key);i._shape=null!=o?o.type:this._getShape()}this._resetShape()},n.prototype._getShape=function(){return this._getSymbolDefinitionIterator().next(!0).type},n.prototype._resetShape=function(){this._getSymbolDefinitionIterator().reset()},n.prototype._getSymbolDefinitionIterator=function(){if(null==this._legend.__symbolDefinitionIterator)for(var e=0,n=this._definition._plotDefinition._symbolDefinitionProviders();e<n.length;e++){var i=n[e];if(i.symbolDefinitions.length>0){this._legend.__symbolDefinitionIterator=new t.models.SymbolDefinitionIterator(i);break}}return this._legend.__symbolDefinitionIterator},n}(t._ItemizedLegendInitializer);t._ValueLegendInitializer=e}(t||(t={})),function(t){!function(t){t._isColorLegend=function(t){return null!=t&&"function"==typeof t._getColorIterator}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){!function(t){t._isLegendModelBuilder=function(t){return null!=t&&"function"==typeof t._build}}(t.models||(t.models={}))}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t){this.mergeOptions=[],this._normalLegendOptions=[];for(var e=0,n=t;e<n.length;e++){var i=n[e];null==i.merge?this._normalLegendOptions.push(i):this.mergeOptions.push(i)}}return t.prototype._getOption=function(t,e){var n=this._findFirstInMerge(t,e);return null==n&&(n=this._findFirstInNormal(e)),n},t.prototype._findFirstInMerge=function(t,e){for(var n=0,i=this.mergeOptions;n<i.length;n++)for(var o=i[n],r=0,l=o.merge;r<l.length;r++){var a=l[r];if(t===a.plotName&&a.type===e)return o}return null},t.prototype._findFirstInNormal=function(t){for(var e=0;e<this._normalLegendOptions.length;++e)if(this._normalLegendOptions[e].type==t)return this._normalLegendOptions.splice(e,1)[0];return null},t}();t._LegendOptionPickPolicy=e}(t||(t={})),function(t){t._isSingleLegendDataModel=function(t){return null!=t&&void 0!==t._definition}}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__legendItemViews=o._createItemViews(n,i),o}return i(n,e),n.prototype._init=function(t){},n.prototype.calcInnerContentSize=function(){return null},n.prototype._itemizedLegendView=function(){return this._ownerView},n.prototype._legendItemViews=function(){return this.__legendItemViews},n.prototype._layoutedLegendItemViews=function(){return this._legendItemViews()},n.prototype._intersectWith=function(t){var e=this._layoutedLegendItemViews();if(null==e)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isVisible()){var r=o._rectangle();if(r.contains(t.leftTop)||r.contains(t.leftBottom)||r.contains(t.rightTop)||r.contains(t.rightBottom))return!0}}return!1},n.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i);var o=this._layoutedLegendItemViews();if(null!=o)for(var r=0,l=o;r<l.length;r++){var a=l[r];a._isVisible()&&a._render(t,i)}},n.prototype._hitTestContent=function(t,n,i){var o=this._layoutedLegendItemViews();if(null!=o)for(var r=0,l=o;r<l.length;r++){var a=l[r];if(a._isVisible()){var s=a._hitTest(t,n,i);if(null!=s)return s}}return e.prototype._hitTestContent.call(this,t,n,i)},n.prototype._createItemViews=function(e,n){if(t._isCombinedLegendDataModel(e)){for(var i=[],o=0,r=e._legends;o<r.length;o++){var l=r[o];if(t._isItemizedLegendDataModel(l)&&l._getAvailable()){var a=l;i.push.apply(i,this._createItemViews(a,n))}}return i}for(var s=[],u=0,_=e._items();u<_.length;u++){var p=_[u],c=this._createItemView(p);null!=c&&s.push(c)}null!=n&&(s=n.sort(s));for(var h=e._option.items,f=0;f<s.length;++f){var d=null;f<h.length&&(d=h[f]),s[f]._initWithOption(d)}return s},n.prototype._createItemView=function(e){return new t._LegendItemView(this,e)},n}(t._LegendContentView);t._ItemizedLegendContentView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__context=new t.LegendItemLayoutContext,o}return i(n,e),n.prototype._layoutedLegendItemViews=function(){return this.__layoutedItemsView},n.prototype._init=function(t){this.__columns=null,this.__rows=null;var e=this.__context;e.rows=null,e.cols=null},n.prototype._initColum=function(e){var n=this._itemizedLegendView()._titlePosition();this._itemizedLegendView()._hasTittle()||(n=t.Position.None);var i=this._orientation()!==t.Orientation.Horizontal&&(this._itemizedLegendView()._labelPosition()===t.Position.Top||this._itemizedLegendView()._labelPosition()===t.Position.Bottom),o=new t.LegendItemLayoutColumns(i,n),r=new t.LegendItemLayoutColumn(o);o.push(r);for(var l=0,a=e;l<a.length;l++){var s=a[l],u=s.itemSize;i||(u=new t.core.Size(s.itemSize.width-s.symbolSize.width,s.itemSize.height));var _=new t._LegendItemLayoutRect(u,s);r.push(_)}return o},n.prototype._initRow=function(e){var n=this._itemizedLegendView()._titlePosition();this._itemizedLegendView()._hasTittle()||(n=t.Position.None);var i=this._orientation()===t.Orientation.Horizontal&&(this._itemizedLegendView()._labelPosition()===t.Position.Right||this._itemizedLegendView()._labelPosition()===t.Position.Left),o=new t.LegendItemLayoutRows(i,n),r=new t.LegendItemLayoutRow(o);o.push(r);for(var l=0,a=e;l<a.length;l++){var s=a[l],u=s.itemSize;i||(u=new t.core.Size(s.itemSize.width,s.itemSize.height-s.symbolSize.height));var _=new t._LegendItemLayoutRect(u,s);r.push(_)}return o},n.prototype._enlarge=function(){if(!this._itemizedLegendView()._wrapping())return e.prototype._enlarge.call(this);if(this._itemizedLegendView()._isVertical()){if(this._orientation()===t.Orientation.Horizontal)return null;var n=this.__columns.height,i=this.__columns.width;this.__context.cols=this.__columns.copy(this.__columns.list),this.__columns.enlarge();var o=n-this.__columns.height;return this.__columns.height<this._itemizedLegendView().titleSize.height&&(this._itemizedLegendView()._titlePosition()===t.Position.Right||this._itemizedLegendView()._titlePosition()===t.Position.Left)&&(o=n-this._itemizedLegendView().titleSize.height),this._itemizedLegendView().size.width+=this.__columns.width-i,o<=0?null:new t.core.Size(this._itemizedLegendView().size.width,o)}return this._orientation()===t.Orientation.Horizontal?(n=this.__rows.height,i=this.__rows.width,this.__context.rows=this.__rows.copy(this.__rows.list),this.__rows.enlarge(),o=i-this.__rows.width,this.__rows.width<this._itemizedLegendView().titleSize.width&&(this._itemizedLegendView()._titlePosition()===t.Position.Top||this._itemizedLegendView()._titlePosition()===t.Position.Bottom)&&(o=i-this._itemizedLegendView().titleSize.width),this._itemizedLegendView().size.height+=this.__rows.height-n,o<=0?null:new t.core.Size(o,this._itemizedLegendView().size.height)):null},n.prototype._restore=function(){if(this._itemizedLegendView()._isVertical()){if(this._orientation()!==t.Orientation.Horizontal&&null!=this.__context.cols){var e=this.__columns.width;this.__columns.list=this.__context.cols,this.__columns.onColumChange(),this._itemizedLegendView().size.width+=this.__columns.width-e}}else if(this._orientation()===t.Orientation.Horizontal&&null!=this.__context.rows){var n=this.__rows.height;this.__rows.list=this.__context.rows,this.__rows.onRowChange(),this._itemizedLegendView().size.height+=this.__rows.height-n}},n.prototype.calcInnerContentSize=function(){return this._orientation()==t.Orientation.Horizontal?new t.core.Size(this.__rows.width,this.__rows.height):new t.core.Size(this.__columns.width,this.__columns.height)},n.prototype._measure=function(e,n){var i=null;if(this._itemizedLegendView()._isVertical()){var o=this._itemizedLegendView()._legendListView()._groupWidth();null!=this._itemizedLegendView()._legendListView()._groupMaxWidth()?i=Math.min(o,n.width):null!=o&&(i=o)}for(var r=new t.core.Size(0,0),l=[],a=0,s=this._legendItemViews();a<s.length;a++){var u=s[a];if(u._isVisible()){l.push(u);var _=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE);u._textOverflow()!=t.TextOverflow.Clip&&((_=n.clone()).width=null!=i?i:this._itemizedLegendView()._getPlotAreaView()._getRectangle().width,_=this._itemizedLegendView()._calculateMeasureSize(e,_,u._textOverflow())),u._measure(e,_)}}return this.__layoutedItemsView=l,this._orientation()==t.Orientation.Horizontal?(null==this.__rows&&(this.__rows=this._initRow(l)),r.width=this.__rows.width,r.height=this.__rows.height,new t._RectangleViewMetricsResult(r)):(null==this.__columns&&(this.__columns=this._initColum(l)),r.width=this.__columns.width,r.height=this.__columns.height,new t._RectangleViewMetricsResult(r))},n.prototype._layoutInnerContent=function(n,i,o){e.prototype._layoutInnerContent.call(this,n,i,o);var r=i.left,l=i.top;if(this._orientation()==t.Orientation.Horizontal){if(null!=this.__rows)for(var a=0,s=this.__rows.list;a<s.length;a++){var u=s[a];o._legendSymbolSize=new t.core.Size(0,u.maxSymbolHeight);for(var _=r,p=0,c=u.items;p<c.length;p++){var h=c[p],f=u.margin(h);h.view._layout(n,new t.core.Rect(_+f.left,l+f.top,h.width,u._height()-f.top-f.bottom),o),_+=h.width+f.left+f.right}l+=u._height()}}else if(null!=this.__columns)for(var d=0,y=this.__columns.list;d<y.length;d++){var g=y[d];o._legendSymbolSize=new t.core.Size(g.maxSymbolWidth,0);for(var m=l,v=0,w=g.items;v<w.length;v++)h=w[v],f=g.margin(h),h.view._layout(n,new t.core.Rect(r+f.left,m+f.top,g._width()-f.left-f.right,h.height),o),m+=h.height+f.top+f.bottom;r+=g._width()}o._legendSymbolSize=null},n}(t._ItemizedLegendContentView);t._DefaultItemizedLegendContentView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){void 0===i&&(i=null);var o=t.call(this,e,n,i)||this;return o.__items=[],o}return i(e,t),e.prototype._items=function(){return this.__items},e}(t._SingleLegendDataModel);t._ItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this._legend=t,this.__title=e,this._stringFormatting=n,this.__filtered=!1}return Object.defineProperty(e.prototype,"_filtered",{get:function(){return this.__filtered},set:function(t){this.__filtered!=t&&(this.__filtered=t)},enumerable:!0,configurable:!0}),e.prototype._getLegendItemLabelViewBuilder=function(){return t._LegendItemLabelViewBuilder._legendItemLabelViewBuilder()},e.prototype._getSymbol=function(){return null==this.__symbol&&(this.__symbol=new t._LegendSymbolView),this.__symbol},e.prototype._setSymbol=function(t){this.__symbol=t},e.prototype._relatedPlotDefinition=function(t){return[]},e.prototype._title=function(){return this.__title},e.prototype._getOption=function(){return this.__option},e.prototype._setOption=function(t){this.__option=t},e.prototype._color=function(){return this.__color},e.prototype._updateColor=function(t){this.__color!=t&&(this.__color=t)},e.prototype._labelFormat=function(){return this._legend._getDefinition()._format},e.prototype._applyOption=function(t){null==t||(this.__option=t,null==t.text)?this.__title=this._generateTitle(this):this.__title=t.text},e.prototype._generateTitle=function(e){var n=this._getTemplate(e),i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._ItemizedLegendItemTextProxy(e,e._labelFormat(),this._stringFormatting),l=this._legend._getDefinition()._plotDefinition._pluginCollection,a=i.evaluate(o,r,null,l);return null!=a?this._parseText(a):this._title()},e.prototype._parseText=function(e){for(var n="",i=0,o=t.models.StringObject._parse(e);i<o.length;i++)n+=o[i].value;return n},e.prototype._getTemplate=function(t){var e=t._legend._option;return null!=e&&null!=e.template?e.template:"{value}"},e.prototype.queryInterface=function(t){return null},e}();t._ItemizedLegendItemDataModel=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){void 0===i&&(i=null),this._item=e,this.__format=n,this._stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._legend._getDefinition()._plotDefinition._pluginCollection)}return n.prototype.getTokenValue=function(t,n,i){if(void 0===i&&(i=null),null==t)return null;if("value"==t){var o=this._item._title();if(null!=o)return new e._DataValueInfo(o,this._stringFormatting)}return null},n.prototype._getDefaultFormat=function(t){return this.__format},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this._stringFormatting},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t?this:null},n}(),e._ItemizedLegendItemTextProxy=n}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.LegendItemLabel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._legendItemView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._legendItemView().title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_hover",{get:function(){return this.__hover},set:function(t){this.__hover=t,this._textView()._hover=t},enumerable:!0,configurable:!0}),n.prototype._textOverflow=function(){var e=this._legendItemView()._legendView()._option.textStyle.overflow;return null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._legendItemView=function(){return this._ownerView},n.prototype._resetTextView=function(){this.__textView=null},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.text,this._textOverflow(),this._paddings(),t.HAlign.Left,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._option.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendItemView()._textStyle()),this.__style=e}return this.__style},n.prototype._hoverStyle=function(){return null==this.__hoverStyle&&(this.__hoverStyle=t._StyleUtility._buildStyle(),t._StyleUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.hoverStyle),t._StyleUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.hoverStyle),t._StyleUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._option.hoverStyle)),this.__hoverStyle},n.prototype._textAlignment=function(){var t=this._legendItemView()._legendView()._option.textStyle.alignment;return null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._shape=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},n.prototype._paddings=function(){return t._PaddingUtility._buildPadding()},n.prototype._measureInnerContent=function(t,e){var n=this._textView();return n._externalStyle=this._getTextExternalStyle(this._legendItemView()),n._measure(t,e)},n.prototype._getTextExternalStyle=function(t){return t._data._filtered?t._getFilteredOutLabelStyle():null},n.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e),n._legendsLabels.push(e)},n.prototype._renderInnerContent=function(t,e,n){this._textView()._render(t,n),n._legendsLabels.push(e)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=null,l=this._textView()._getRectangle();return null!=l&&l.contains(n)?(r=new t.HitTestResult(n,this,this,t.ElementType.LegendItemLabel),null==o||null!=o&&o.predicate(r)?r:null):e.prototype._hitTest.call(this,n,i,o)},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._RectangleView);t._LegendItemLabelView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._legendItemLabelViewBuilder=function(){return null==e.__legendItemLabelViewBuilder&&(e.__legendItemLabelViewBuilder=new e),e.__legendItemLabelViewBuilder},e.prototype._buildLegendItemLabelView=function(e){return new t._LegendItemLabelView(e)},e}();t._LegendItemLabelViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.LegendItemSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._legendItemView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype._legendItemView=function(){return this._ownerView},n.prototype._shape=function(){var e=this._legendItemView()._symbolRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=null,l=this._legendItemView()._symbolRectangle();return null!=l&&l.contains(n)?(r=new t.HitTestResult(n,this,this,t.ElementType.LegendItemSymbol),null==o||null!=o&&o.predicate(r)?r:null):e.prototype._hitTest.call(this,n,i,o)},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemSymbolModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._RectangleView),n=function(n){function o(i,o){var r=n.call(this,i)||this;return r.__rectangle=t.core.Rect.ReadOnlyRect,r._hover=!1,r._selected=!1,r._data=o,r.__labelView=o._getLegendItemLabelViewBuilder()._buildLegendItemLabelView(r),r.__symbolView=new e(r),r}return i(o,n),Object.defineProperty(o.prototype,"type",{get:function(){return t.ElementType.LegendItem},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return this._legendView()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this._data._title()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._data._size},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this._data._color()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"shape",{get:function(){return this._data._shape},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"label",{get:function(){return this._labelView()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"symbol",{get:function(){return this._symbolView()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t,this.__labelView._hover=t},enumerable:!0,configurable:!0}),o.prototype.relatedModels=function(){var e=this._data;return e instanceof t._ItemizedPointLegendItemDataModel?e._getRelatedPointViews(this._legendView()._getPlotAreaView()):[]},o.prototype._isSelected=function(){return this._selected},Object.defineProperty(o.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),o.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemModel"==t||"ILegendItemView"==t?this:n.prototype.queryInterface.call(this,t)},o.prototype._setFilteredOutLabelStyleByOption=function(e){null!=e&&(null==this.__filteredOutLabelStyle&&(this.__filteredOutLabelStyle=t._StyleUtility._buildStyle()),t._StyleUtility._applyTextStyleOption(this.__filteredOutLabelStyle,e))},o.prototype._getFilteredOutLabelStyle=function(){return this._data._filtered?this.__filteredOutLabelStyle:null},Object.defineProperty(o.prototype,"_filteredOutSymbolStyle",{get:function(){return this.__filteredOutSymbolStyle},set:function(t){this.__filteredOutSymbolStyle=t},enumerable:!0,configurable:!0}),o.prototype._rectangle=function(){return this.__rectangle},o.prototype._symbolRectangle=function(){return this.__symbolRectangle},o.prototype._initWithOption=function(t){this._data._applyOption(t)},o.prototype._textStyle=function(){return null!=this._data._getOption()?this._data._getOption().textStyle:null},o.prototype._legendView=function(){return this._ownerView._itemizedLegendView()},o.prototype._itemPaddingOption=function(){var t=this._data._legend._option.itemPadding;if(null!=t)return t;var e=this._legendView()._getPlotAreaView();return null!=(t=e._getDefinition()._plotAreaOption.legend.itemPadding)||null!=(t=e._getDefinition()._dvConfigOption.legend.itemPadding)?t:null},o.prototype._textOverflow=function(){return this._labelView()._textOverflow()},o.prototype._hitTest=function(e,i,o){if(this._zLevel!=i)return null;var r=null,l=this._rectangle();if(null!=l&&l.contains(e)){var a=this._labelView();if(null!=a&&null!=(r=a._hitTest(e,i,o)))return r;var s=this._symbolView();return null!=s&&null!=(r=s._hitTest(e,i,o))?r:(r=new t.HitTestResult(e,this,this,t.ElementType.LegendItem),null==o||null!=o&&o.predicate(r)?r:null)}return n.prototype._hitTest.call(this,e,i,o)},o.prototype._measure=function(e,n){e.beginTransform(),this._setDefaultFilteredOutStyle(e),n=n.clone();var i=this._paddings();null!=i&&(n.width-=i.left+i.right,n.height-=i.top+i.bottom);var o=new t.core.Size(0,0),r=new t.core.Size(0,0);this._data._getSymbol()._bindLegendItem(this);var l=this._measureSymbolModuleSize(e),a=this._calculateSymbolSize(e,l);if(this._textOverflow()==t.TextOverflow.Clip)r=this._measureLabelSize(this.__labelView,e,n);else{var s=n.clone();this._legendView()._labelPosition()!=t.Position.Left&&this._legendView()._labelPosition()!=t.Position.Right||(s.width-=a.width+this._itemSpace()),r=this._measureLabelSize(this.__labelView,e,s)}switch(0==r.width&&0==r.height&&(r.height=l.height),this._legendView()._labelPosition()){case t.Position.Left:case t.Position.Right:o.width+=r.width+a.width+this._itemSpace(),o.height+=a.height>r.height?a.height:r.height;break;case t.Position.Top:case t.Position.Bottom:o.width+=r.width>a.width?r.width:a.width,o.height+=a.height+r.height+this._itemSpace()}return o.width+=i.left+i.right,o.height+=i.top+i.bottom,o.width>n.width&&(o.width=n.width),o.height>n.height&&(o.height=n.height),e.restoreTransform(),this.itemSize=o.clone(),this.symbolSize=a.clone(),new t._RectangleViewMetricsResult(o)},o.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},o.prototype._updateRectangle=function(t){this.__rectangle=t},o.prototype._shape=function(){return new t._RectangleShape(this.__rectangle.center.x,this.__rectangle.center.y,this.__rectangle.width,this.__rectangle.height,0)},o.prototype._className=function(){return t._CssClassName._label},o.prototype._labelView=function(){return this.__labelView},o.prototype._symbolView=function(){return this.__symbolView},o.prototype._paddings=function(){return t._PaddingUtility._buildPadding(0,0,0,0)},o.prototype._getLegendItemLabelStyle=function(){return null==this.__legendItemLabelStyle&&(this.__legendItemLabelStyle=t._StyleUtility._buildStyle(),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._option.textStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._textStyle())),this.__legendItemLabelStyle},o.prototype._getLegendItemLabelHoverStyle=function(){return this._hover?(null==this.__legendItemLabelHoverStyle&&(this.__legendItemLabelHoverStyle=t._StyleUtility._buildStyle(),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.hoverStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.hoverStyle),t._StyleUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._option.hoverStyle)),this.__legendItemLabelHoverStyle):null},o.prototype._itemSpace=function(){return null!=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.itemSpace?this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.itemSpace.value:null!=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.itemSpace?this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.itemSpace.value:null!=this._data._legend._option.itemSpace?this._data._legend._option.itemSpace.value:2},o.prototype._measureSymbolModuleSize=function(t){t.beginTransform(),this._applyLegendItemLabelStyle(t);var e=t.measureSingleLineString("A");return t.restoreTransform(),e},o.prototype._measureLabelSize=function(t,e,n){e.beginTransform(),this._applyLegendItemLabelStyle(e);var i=t._measure(e,n)._size;return e.restoreTransform(),i},o.prototype._layoutContent=function(e,n,i){e.beginTransform();var o=this._paddings(),r=n.clone();null!=o&&(r=new t.core.Rect(n.left+o.left,n.top+o.top,n.width-o.left-o.right,n.height-o.top-o.bottom));var l=new t.core.Size(0,0),a=this._measureSymbolModuleSize(e),s=this.symbolSize;if(this._textOverflow()==t.TextOverflow.Clip)l=this._measureLabelSize(this.__labelView,e,r.size);else{var u=r.clone();this._legendView()._labelPosition()!=t.Position.Left&&this._legendView()._labelPosition()!=t.Position.Right||(u.width-=s.width+this._itemSpace()),l=this._measureLabelSize(this.__labelView,e,u.size)}0==l.width&&0==l.height&&(l.height=a.height);var _=i._legendSymbolSize;switch(this._legendView()._labelPosition()){case t.Position.Left:var p=Math.max(l.height,s.height);this._ownerView._orientation()==t.Orientation.Horizontal?p=r.height:null!=_&&(s.width=_.width),this.__symbolRectangle=new t.core.Rect(r.right-s.width,r.top+(p-s.height)/2,s.width,s.height),this._layoutLabelView(e,i,new t.core.Rect(r.left,r.top+(p-l.height)/2,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,n.width,p+o.top+o.bottom));break;case t.Position.Right:p=Math.max(l.height,s.height),this._ownerView._orientation()==t.Orientation.Horizontal?p=r.height:null!=_&&(s.width=_.width),this.__symbolRectangle=new t.core.Rect(r.left,r.top+(p-s.height)/2,s.width,s.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+s.width+this._itemSpace(),r.top+(p-l.height)/2,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,n.width,p+o.top+o.bottom));break;case t.Position.Top:var c=Math.max(l.width,s.width);this._ownerView._orientation()==t.Orientation.Horizontal?null!=_&&(s.height=_.height):c=r.width,this.__symbolRectangle=new t.core.Rect(r.left+(c-s.width)/2,r.top+l.height+this._itemSpace(),s.width,s.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+(c-l.width)/2,r.top,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,c+o.left+o.right,s.height+l.height+this._itemSpace()+o.top+o.bottom));break;case t.Position.Bottom:c=Math.max(l.width,s.width),this._ownerView._orientation()==t.Orientation.Horizontal?null!=_&&(s.height=_.height):c=r.width,this.__symbolRectangle=new t.core.Rect(r.left+(c-s.width)/2,r.top,s.width,s.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+(c-l.width)/2,r.top+s.height+this._itemSpace(),l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,c+o.left+o.right,s.height+l.height+this._itemSpace()+o.top+o.bottom))}e.restoreTransform()},o.prototype._layoutLabelView=function(t,e,n){t.beginTransform(),this._applyLegendItemLabelStyle(t),this.__labelView._layout(t,e,n),t.restoreTransform()},o.prototype._drawView=function(t,e){t.beginTransform(),this._renderLabelView(t,e),this._renderSymbolView(t,e),t.restoreTransform()},o.prototype._renderLabelView=function(t,e){t.beginTransform(),this._applyLegendItemLabelStyle(t),this.__labelView._render(t,e),t.restoreTransform()},o.prototype._renderSymbolView=function(t,e){var n=this._data._getSymbol();null!=n&&n.render(t,this._symbolRectangle(),e)},o.prototype._setDefaultFilteredOutStyle=function(e){if(this._data._filtered&&null==this.__filteredOutLabelStyle){this.__filteredOutLabelStyle=t._StyleUtility._buildStyle();var n=this._getLegendItemLabelStyle(),i=null==n.textFill?e.textFill:n.textFill,o=t._NativeColorBuilder._colorBuilder._build(i);o._alpha=.5*o._alpha,null!=o&&(this.__filteredOutLabelStyle.textFill=o._toCss())}},o.prototype._applyLegendItemLabelStyle=function(e){t._StyleUtility._applyAllStyle(e,this._getLegendItemLabelStyle()),t._StyleUtility._applyAllStyle(e,this._getFilteredOutLabelStyle()),t._StyleUtility._applyAllStyle(e,this._getLegendItemLabelHoverStyle())},o.prototype._calculateSymbolSize=function(e,n){var i=16;if(null!=this._data._size&&this._data._getSymbol()._showSymbol())return this._data._getSymbol()._measureSymbolSize(e,this._data._size);if(this._data._getSymbol()._showSymbol()){var o=t._CartesianLegendSymbolLib._getSeriesStyle(this._data._getSymbol());if(null!=o&&null!=o.symbolSize)return this._data._getSymbol()._measureSymbolSize(e,1)}return null!=this._data._size&&this._legendView()._data()._getDefinition()._plotDefinition instanceof t._TextCartesianPlotDefinition?this._data._getSymbol()._measureSymbolSize(e,this._data._size):n.height>0?(i=.7*n.height,new t.core.Size(Math.max(2*i,16),i)):new t.core.Size(i,i)},o}(t._BaseView);t._LegendItemView=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o){void 0===o&&(o=null);var r=e.call(this,n,i,o)||this;return r._labelBuilder._addLabel(n._label),r._dataPointKeysMap=new t._Map,r}return i(n,e),n.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},n.prototype.queryInterface=function(n){return"IColorLegend"===n&&t._LegendUtility._isType(this,t.LegendType.Color)?this:e.prototype.queryInterface.call(this,n)},n}(t._ItemizedLegendDataModel);t._DataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._relatedPlotDefinition=function(t){for(var e=[],n=0,i=this._getRelatedPointViews(t);n<i.length;n++){var o=i[n]._getPlotView()._getDefinition();-1==e.indexOf(o)&&e.push(o)}return e},n.prototype._getRelatedPointViews=function(e){var n=this._legend;if(t._isDataPointItemizedLegendDataModel(n)){var i=n._dataPointKeysMap._get(this._dataPointKey());if(null!=i)return i}return[]},n}(t._ItemizedLegendItemDataModel);t._ItemizedPointLegendItemDataModel=e}(t||(t={})),function(t){t._isDataPointItemizedLegendDataModel=function(t){return null!=t&&void 0!==t._dataPointKeysMap}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){var l=n.call(this,t,e,r)||this;return l.__start=i,l.__end=o,l}return i(o,n),Object.defineProperty(o.prototype,"start",{get:function(){return this.__start},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"end",{get:function(){return this.__end},enumerable:!0,configurable:!0}),o.prototype._dataPointKey=function(){return o._generateKey(this.start,this.end)},o.prototype._generateTitle=function(n){var i=n,o=this._legend._option;if(null!=o&&null!=o.ranges)return this._title();var r=this._getTemplate(i),l=t._TemplateSyntaxEngine._defaultSyntaxEngine(),a=l.parse(r),s=new e._ItemizedRangePointLegendItemTextProxy(i,i._labelFormat(),this._stringFormatting),u=n._legend._getDefinition()._plotDefinition._pluginCollection,_=l.evaluate(a,s,null,u);return null!=_?this._parseText(_):this._title()},o.prototype._getTemplate=function(t){var e=t._legend._option;return null!=e&&null!=e.template?e.template:"{from}-{to}"},o._generateKey=function(t,e){return"range"+t.toString()+"-"+e.toString()},o}(t._ItemizedPointLegendItemDataModel),e._ItemizedRangePointLegendItem=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._itemizedRangePointLegendItem=function(){return this._item},n.prototype.getTokenValue=function(e,n,i){return void 0===i&&(i=null),null==e?null:"from"===e?new t._DataValueInfo(this._itemizedRangePointLegendItem().start,this._stringFormatting):"to"===e?new t._DataValueInfo(this._itemizedRangePointLegendItem().end,this._stringFormatting):null},n}(t._ItemizedLegendItemTextProxy);t._ItemizedRangePointLegendItemTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return i(e,t),e}(t._DataPointItemizedLegendDataModel);t._RangeDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o){var r=n.call(this,t,e,o)||this;return r.key=i,r}return i(o,n),o.prototype._generateTitle=function(n){var i=n,o=this._getTemplate(i),r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new e._ItemizedValuePointLegendItemTextProxy(i,i._labelFormat(),this._stringFormatting),s=n._legend._getDefinition()._plotDefinition._pluginCollection,u=r.evaluate(l,a,null,s);return null!=u?this._parseText(u):this._title()},o.prototype._getRelatedPointViews=function(t){return n.prototype._getRelatedPointViews.call(this,t).filter((function(t){return t._data()._dataSlices._length>0}))},o.prototype._dataPointKey=function(){return o._generateKey(this.key)},o._generateKey=function(t){return t},o}(t._ItemizedPointLegendItemDataModel),e._ItemizedValuePointLegendItem=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._itemizedValuePointLegendItem=function(){return this._item},n.prototype.getTokenValue=function(e,n,i){if(void 0===i&&(i=null),null==e)return null;if("value"===e){var o=this._itemizedValuePointLegendItem().key;if(null!=o)return new t._DataValueInfo(o,this._stringFormatting)}return null},n}(t._ItemizedLegendItemTextProxy);t._ItemizedValuePointLegendItemTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return i(e,t),e}(t._DataPointItemizedLegendDataModel);t._ValueDataPointItemizedLegendDataModel=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isItemizedLegendDataModel=function(t){return"function"==typeof t._items}}(t||(t={})),t||(t={}),function(t){t._isItmizedLegendViewSorter=function(t){return null!=t&&"function"==typeof t.sort}}(t||(t={})),t||(t={}),function(t){t._isLegendItemLabelView=function(t){return null!=t&&"function"==typeof t._textOverflow}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isLegendItemView=function(t){var e=t;return null!=e&&void 0!==e._data&&void 0!==e.itemSize&&void 0!==e.symbolSize&&void 0!==e._selected&&"function"==typeof e._rectangle&&"function"==typeof e._symbolRectangle&&"function"==typeof e._initWithOption&&"function"==typeof e._textStyle&&"function"==typeof e._legendView&&"function"==typeof e._itemPaddingOption&&"function"==typeof e._textOverflow&&"function"==typeof e._hitTest&&"function"==typeof e._measure}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n._option,n._kind())||this;return i.__data=n,i}return i(n,e),n.prototype._titleSpace=function(){return 0},n.prototype._measure=function(t,n){var i=e.prototype._measure.call(this,t,n);return this.size=i._size,i},Object.defineProperty(n.prototype,"items",{get:function(){return this._defaultItemizedLegendContentView()._legendItemViews()},enumerable:!0,configurable:!0}),n.prototype._labelPosition=function(){var e=this._option.labelPosition;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.labelPosition),t._NativeExtension._toNonNullEnum(e,t.Position.Right)},n.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._StyleUtility._colorFromOption(e):null},n.prototype._wrapping=function(){var t=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.wrapping;return null!=t?t:null==(t=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.wrapping)||t},n.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toString(this._option.title,!0):null;return null==e?this._data()._labelBuilder._build():e},n.prototype._data=function(){return this.__data},n.prototype._hasTittle=function(){return null!=this.title&&this.title.length>0},n.prototype._defaultItemizedLegendContentView=function(){return this._contentView()},n.prototype._createContentView=function(){return new t._DefaultItemizedLegendContentView(this,this._data())},n.prototype._layoutInnerContent=function(t,n,i){this._contentLogicSize=this._defaultItemizedLegendContentView().calcInnerContentSize(),e.prototype._layoutInnerContent.call(this,t,n,i)},n.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._getRectangle();if(null!=o&&o.contains(t)){var r=this._titleView()._hitTest(t,n,i);if(null!=r)return r;if(null!=(r=this._contentView()._hitTest(t,n,i)))return r}return e.prototype._hitTest.call(this,t,n,i)},n.prototype.queryInterface=function(t){return"IItemizedLegendModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._LegendView);t._ItemizedLegendView=e}(t||(t={})),function(t){var e=function(t,e){this.width=t.width,this.height=t.height,t.width<0&&(this.width=0),t.height<0&&(this.height=0),this.view=e};t._LegendItemLayoutRect=e}(t||(t={})),function(t){var e=function(){function t(){this.items=[],this.width=0,this.height=0}return t.prototype.margin=function(t){return t.view._itemPaddingOption()},t}();t.LegendItemLayoutBar=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.maxSymbolWidth=0,n.parent=t,n}return i(n,e),n.prototype.margin=function(n){var i=e.prototype.margin.call(this,n);if(null==i){i=t._PaddingUtility._buildPadding(10,10,0,0);var o=this.parent.titlePosition,r=this.parent.list;o==t.Position.Right&&r[r.length-1]==this&&(i.right=10),o==t.Position.Bottom&&this.items[this.items.length-1]==n&&(i.bottom=10),o==t.Position.Left&&r[0]==this&&(i.left=10),o==t.Position.Top&&this.items[0]==n&&(i.top=10),o!=t.Position.Left&&r[0]==this&&(i.left=0),o!=t.Position.Top&&this.items[0]==n&&(i.top=0)}return i},n.prototype._h=function(){for(var t=0,e=null,n=0,i=this.items;n<i.length;n++){var o=i[n];e=this.margin(o),t+=o.height+e.top+e.bottom}return t},n.prototype._w=function(){for(var t=0,e=0,n=null,i=0,o=this.items;i<o.length;i++){var r=o[i];n=this.margin(r),(e=r.width+n.left+n.right)>t&&(t=e)}return t},n.prototype._symbolWidth=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++)(e=i[n].view.symbolSize.width)>t&&(t=e);return t},n.prototype._react=function(){this.width=this._w(),this.height=this._h(),this.maxSymbolWidth=this._symbolWidth()},n.prototype._clone=function(){var t=new n(this.parent);return t.items=this.items.slice(0),t.width=this.width,t.height=this.height,t.maxSymbolWidth=this.maxSymbolWidth,t},n.prototype.insert=function(t){this.items.splice(0,0,t),this._react(),this.parent.onColumChange()},n.prototype.push=function(t){this.items.push(t),this._react(),this.parent.onColumChange()},n.prototype.pop=function(){var t=this;if(null!=t&&t.items.length>0){var e=t.items.pop();return this._react(),this.parent.onColumChange(),e}return null},n.prototype._width=function(){return this.parent.symbolContained?this.width:this.width+this.maxSymbolWidth},n}(t.LegendItemLayoutBar);t.LegendItemLayoutColumn=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.list=[],this.width=0,this.height=0,this.symbolContained=t,this.titlePosition=e}return e.prototype.push=function(t){0===this.list.length?this.width=t._width():this.width+=t._width(),t.height>this.height&&(this.height=t.height,this.index=this.list.length),this.list.push(t)},e.prototype.onColumChange=function(){this.height=0,this.width=0;for(var t=0;t<this.list.length;++t){var e=this.list[t];e.height>this.height&&(this.height=e.height,this.index=t),this.width+=e._width()}},e.prototype.copy=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.push(o._clone())}return e},e.prototype.enlarge=function(){if(null!=this.index){for(var t=this.height,e=this.list.length,n=this.list,i=this.copy(n),o=!1;;){this.height<t&&(i=this.copy(n));for(var r=0;r<n.length;++r)if(1===n[r].items.length&&n[r].height===this.height)return void(this.list=i);if(t=this.height,this._adjust(this.index,this.height),o&&this.list.length>e+1)break;!o&&this.list.length>e&&this.height<t&&(o=!0)}this.list=i,this.onColumChange()}},e.prototype._adjust=function(e,n){var i=this.list;if(!(i[e].height<n)){i.length===e+1?i.push(new t.LegendItemLayoutColumn(this)):null==i[e+1]&&(i[e+1]=new t.LegendItemLayoutColumn(this));var o=i[e],r=i[e+1],l=o.pop();r.insert(l),this._adjust(e+1,n)}},e}();t.LegendItemLayoutColumns=e}(t||(t={})),function(t){var e=function(){};t.LegendItemLayoutContext=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.maxSymbolHeight=0,n.parent=t,n}return i(n,e),n.prototype.margin=function(n){var i=e.prototype.margin.call(this,n);if(null==i){i=t._PaddingUtility._buildPadding(10,10,0,0);var o=this.parent.titlePosition,r=this.parent.list;o==t.Position.Right&&this.items[this.items.length-1]==n&&(i.right=10),o==t.Position.Bottom&&r[r.length-1]==this&&(i.bottom=10),o==t.Position.Left&&this.items[0]==n&&(i.left=10),o==t.Position.Top&&r[0]==this&&(i.top=10),o!=t.Position.Top&&r[0]==this&&(i.top=0),o!=t.Position.Left&&this.items[0]==n&&(i.left=0)}return i},n.prototype._h=function(){for(var t=0,e=0,n=null,i=0,o=this.items;i<o.length;i++){var r=o[i];n=this.margin(r),(e=r.height+n.top+n.bottom)>t&&(t=e)}return t},n.prototype._w=function(){for(var t=0,e=null,n=0,i=this.items;n<i.length;n++){var o=i[n];e=this.margin(o),t+=o.width+e.left+e.right}return t},n.prototype._symbolHeight=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++)(e=i[n].view.symbolSize.height)>t&&(t=e);return t},n.prototype._clone=function(){var t=new n(this.parent);return t.items=this.items.slice(0),t.width=this.width,t.height=this.height,t.maxSymbolHeight=this.maxSymbolHeight,t},n.prototype._react=function(){this.width=this._w(),this.height=this._h(),this.maxSymbolHeight=this._symbolHeight()},n.prototype.insert=function(t){this.items.splice(0,0,t),this._react(),this.parent.onRowChange()},n.prototype.push=function(t){this.items.push(t),this._react(),this.parent.onRowChange()},n.prototype.pop=function(){var t=this;if(null!=t&&t.items.length>0){var e=t.items.pop();return this._react(),this.parent.onRowChange(),e}return null},n.prototype._height=function(){return this.parent.symbolContained?this.height:this.height+this.maxSymbolHeight},n}(t.LegendItemLayoutBar);t.LegendItemLayoutRow=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.list=[],this.width=0,this.height=0,this.symbolContained=!1,this.symbolContained=t,this.titlePosition=e}return e.prototype.push=function(t){this.height=t._height(),t.width>this.width&&(this.width=t.width,this.index=this.list.length),this.list.push(t)},e.prototype.onRowChange=function(){this.height=0,this.width=0;for(var t=0;t<this.list.length;++t){var e=this.list[t];e.width>this.width&&(this.width=e.width,this.index=t),this.height+=e._height()}},e.prototype.copy=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.push(o._clone())}return e},e.prototype.enlarge=function(){if(null!=this.index){for(var t=this.width,e=this.list.length,n=this.list,i=this.copy(n),o=!1;;){this.width<t&&(i=this.copy(n));for(var r=0;r<n.length;++r)if(1===n[r].items.length&&n[r].width===this.width)return void(this.list=i);if(t=this.width,this._adjust(this.index,this.width),o&&this.list.length>e+1)break;!o&&this.list.length>e&&this.width<t&&(o=!0)}this.list=i,this.onRowChange()}},e.prototype._adjust=function(e,n){var i=this.list;if(!(i[e].width<n)){i.length===e+1?i.push(new t.LegendItemLayoutRow(this)):null==i[e+1]&&(i[e+1]=new t.LegendItemLayoutRow(this));var o=i[e],r=i[e+1],l=o.pop();r.insert(l),this._adjust(e+1,n)}},e}();t.LegendItemLayoutRows=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o){var r=e.call(this,t,n(),o)||this;return r._setSymbol(i),r.__getter=n,r}return i(n,e),n.prototype._applyOption=function(t){null!=t&&null!=t.text&&(this.__optionLabel=t.text),e.prototype._applyOption.call(this,t)},n.prototype._title=function(){return null!=this.__optionLabel?this.__optionLabel:this.__getter()},n.prototype._getLegendItemLabelViewBuilder=function(){return t._OverlayLegendItemLabelViewBuilder._legendItemLabelViewBuilder()},n}(t._ItemizedLegendItemDataModel),e._ItemizedOverlayLegendItem=n}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._measureInnerContent=function(t,e){return this._resetTextView(),this._textView()._measure(t,e)},e}(t._LegendItemLabelView);t._OverlayLegendItemLabelView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._legendItemLabelViewBuilder=function(){return null==e.__legendItemLabelViewBuilder&&(e.__legendItemLabelViewBuilder=new e),e.__legendItemLabelViewBuilder},e.prototype._buildLegendItemLabelView=function(e){return new t._OverlayLegendItemLabelView(e)},e}();t._OverlayLegendItemLabelViewBuilder=e}(t||(t={})),function(t){t._isLegendOverlayDefinition=function(t){return null!=t._legendOverlayDefinition}}(t||(t={})),function(t){var e=function(){function t(t,e){this._plotDefinition=t,this._legendType=e,this._legendVisualType="Default",this._label=null,this._format=null,this._legendDataModelBuilder=null}return t.prototype.equalsWith=function(t){return!1},t.prototype.queryInterface=function(t){return null},t}();t._LegendOverlayDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._ItemizedLegendDataModel);t._OverlayItemizedLegendDataModel=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInLegendItemSortingPolicyBuilders=function(){return null==n.__buildInLegendItemSortingPolicyBuilders&&(n.__buildInLegendItemSortingPolicyBuilders=new n([t._RangeLegendItemSortingPolicy._defaultLegendItemSortingPolicy,t._DefaultLegendItemSortingPolicy._defaultLegendItemSortingPolicy],n._pluginType)),n.__buildInLegendItemSortingPolicyBuilders},n.prototype._convert=function(e){return t._isILegendItemSortingPolicyBuilder(e)?e:null},n.prototype.itemziedLegednSorter=function(e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.build(e,n);if(null!=a)return a}return t._DefaultLegendItemSortingPolicy._defaultLegendItemSortingPolicy},n._pluginType="LegendItemSortingPolicy",n}(t._BuildInObjectCollection);t._BuildInLegendItemSortingPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return t._isItemizedLegendDataModel(e)?this:null},e.prototype.sort=function(e,n,i){switch(this._sortOrder(i)){case t.SortOrder.Reversed:n.reverse();break;case t.SortOrder.Ascending:n.sort((function(t,e){var n=null==t._title()?"":t._title(),i=null==e._title()?"":e._title();return n.localeCompare(i)}));break;case t.SortOrder.Descending:n.sort((function(t,e){var n=null==t._title()?"":t._title();return(null==e._title()?"":e._title()).localeCompare(n)}))}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t?this:null},e._defaultLegendItemSortingPolicy=new e,e}();t._DefaultLegendItemSortingPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return e instanceof t._RangeDataPointItemizedLegendDataModel||e instanceof t._MergedRangeLegendDataModel?this:null},e.prototype.sort=function(e,n,i){switch(this._sortOrder(i)){case t.SortOrder.Reversed:case t.SortOrder.Descending:n.reverse()}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t?this:null},e._defaultLegendItemSortingPolicy=new e,e}();t._RangeLegendItemSortingPolicy=e}(t||(t={})),function(t){t._isLegendItemSortingPolicy=function(t){return null!=t&&"function"==typeof t.sort}}(t||(t={})),function(t){t._isILegendItemSortingPolicyBuilder=function(t){return null!=t.build}}(t||(t={})),function(t){t._isLegendItemSortingPolicyBuilder=function(t){return null!=t&&"function"==typeof t.build}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._colorBuilder=null!=e?e:t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),this._styleBuilder=null!=n?n:t._DefaultLegendSymbolStyleBuilder._defaultLegendSymbolStyleBuilder()}return e.prototype._showSymbol=function(){return!0},e.prototype._legendItemView=function(){return this.__legendItemView},e.prototype._getPlotDefinition=function(){return this.__plotDefinition},e.prototype._setPlotDefinition=function(t){this.__plotDefinition=t},e.prototype._bindLegendItem=function(e){this.__legendItemView=e,this._shape=e._data._shape,this._size=e._data._size;var n=t.options._SelectionStyleOption._buildEmptySelectionStyleOption();t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(n,e._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.selectedStyle),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(n,e._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.selectedStyle),this._setSelectedStyle(n);var i=t.options._SelectionStyleOption._buildEmptySelectionStyleOption();t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(i,e._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.unselectedStyle),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(i,e._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.unselectedStyle),this._setUnselectedStyle(i),this._setDataPointStyleOption(this._calculateStyle()),this._applyOther()},e.prototype._measureSymbolSize=function(e,n){var i=10,o=this._calculateStyle();null!=o&&null!=o.symbolSize&&(i=o.symbolSize);var r=t._LegendUtility._getRelatedPointViewsStyle(this._legendItemView()._data._getSymbol());null!=r&&null!=r.symbolSize&&(i=r.symbolSize);var l=n*i;return new t.core.Size(Math.max(1.2*l,16),l)},e.prototype._getDataPointStyleOption=function(){return this.__style},e.prototype._setDataPointStyleOption=function(t){this.__style=t},e.prototype._getSelectedStyle=function(){return this.__selectedStyle},e.prototype._setSelectedStyle=function(t){this.__selectedStyle=t},e.prototype._getUnselectedStyle=function(){return this.__unselectedStyle},e.prototype._setUnselectedStyle=function(t){this.__unselectedStyle=t},e.prototype._applyOther=function(){},e.prototype._calculateStyle=function(){var e=t.options._DataPointStyleOption._buildEmptyDataPointStyleOption(),n=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.style;if(null==e.stroke&&(e.stroke=n.stroke),null==e.strokeWidth&&null!=n.strokeWidth){var i=n.strokeWidth;e.strokeWidth=t._StrokeWidthUtility._buildStrokeWidth(i,i,i,i)}null==e.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray);var o=null;return null!=this._getPlotDefinition()&&(o=this._getPlotDefinition()._plotConfigOption.style,t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(e,o)),e},e.prototype.render=function(e,n,i){var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!0),r=this._legendItemView()._data,l=r instanceof t.models._ItemizedValuePointLegendItem?r.key:null,a=this._getStyleSymbolShape(),s=this._shape,u=this._getDefaultShape(this._getPlotDefinition()),_=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._symbolDefinitionProviders(),l,a,s,u);null!=_&&_.createSymbol(n,o).render(e,i)},e.prototype._getStyleSymbolShape=function(){return null!=this._getDataPointStyleOption()&&null!=this._getDataPointStyleOption().symbolShape?this._getDataPointStyleOption().symbolShape:null},e.prototype._getDefaultShape=function(e){for(var n=0,i=this._legendItemView()._legendView()._getPlotAreaView()._plotViews();n<i.length;n++){var o=i[n];if(o._getDefinition()==e){var r=o._getPointViews();if(null!=r&&r.length>0){var l=r[0];if(t._isSymbolPointView(l))return l.defaultShape}}}return"Dot"},e}();t._LegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,n,i)||this;return o.__showSymbol=t,o}return i(n,e),n.prototype._showSymbol=function(){return this.__showSymbol},n.prototype.render=function(n,i,o){var r=i.width<i.height?i.width:i.height;if(this._showSymbol())e.prototype.render.call(this,n,i,o);else{var l=this._styleBuilder._buildLegendSymbolStyle(this,o,!1);n.beginTransform(),n.strokeWidth=1,t._StyleUtility._applyStyle(n,l),n.drawRect((i.right+i.left)/2-r/2,i.top,r,r),n.restoreTransform()}},n}(t._LegendSymbolView);t._AreaLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(e,n,i){var o=n.width<n.height?n.width:n.height;e.beginTransform(),e.strokeWidth=1,t._StyleUtility._applyStyle(e,this._styleBuilder._buildLegendSymbolStyle(this,i,!1)),e.drawRect((n.right+n.left)/2-o/2,n.top,o,o),e.restoreTransform()},n}(t._LegendSymbolView);t._BoxLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__showSymbol=t,n}return i(n,e),n.prototype._showSymbol=function(){return this.__showSymbol},n.prototype.render=function(n,i,o){var r=this._styleBuilder._buildLegendSymbolStyle(this,o,!1);n.beginTransform(),n.strokeWidth=1,t._StyleUtility._applyStyle(n,r);var l=n.stroke;l instanceof t._LinearGradientColor||l instanceof t._RadialGradientColor?this._drawHorizontalLineByPath(n,i.left,i.top+i.height/2,i.width):n.drawLine(i.left,i.top+i.height/2,i.right,i.top+i.height/2),n.restoreTransform(),this._showSymbol()&&e.prototype.render.call(this,n,i,o)},n.prototype._drawHorizontalLineByPath=function(t,e,n,i){var o=t.strokeWidth;null!=o&&o>0&&(t.beginTransform(),t.fill=t.stroke,t.strokeWidth=0,t.drawRect(e,n-o/2,i,o),t.restoreTransform())},n}(t._LegendSymbolView);t._LineLegendSymbolView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultLegendSymbolColorBuilder=function(){return null==e.__defaultLegendSymbolColorBuilder&&(e.__defaultLegendSymbolColorBuilder=new e),e.__defaultLegendSymbolColorBuilder},e.prototype._buildLegendSymbolColor=function(e){var n=e._legendItemView(),i=n._data._color();return null!=n._legendView()._iconColor()&&(i=n._legendView()._iconColor()),null==i&&(i=t._CssColor._defaultStyleColor()),i},e}();t._DefaultLegendSymbolColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultLegendSymbolStyleBuilder=function(){return null==e.__defaultLegendSymbolStyleBuilder&&(e.__defaultLegendSymbolStyleBuilder=new e),e.__defaultLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),i?t._StyleUtility._applyDataPointSymbolStyleOption(o,l):t._StyleUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._StyleUtility._applyDataPointSymbolStyleOption(o,a):t._StyleUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._StyleUtility._applyDataPointSymbolStyleOption(o,s):t._StyleUtility._applyDataPointStyleOption(o,s)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._DefaultLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e,n){this.__rectSize=t.clone(),this.__isVertical=e,this.__space=n}return e.prototype.adjust=function(e,n){var i=this.__rectSize;if(this.__isVertical){for(var o=i.height,r=0,l=0,a=n;l<a.length;l++)(m=a[l])instanceof t._ItemizedLegendView&&m._defaultItemizedLegendContentView()._init(i),r+=m._measure(e,new t.core.Size(i.width,i.height))._size.height;var s=n.length;if((r+=this.__space)>o)for(var u=r-o,_=0;;){for(var p=Number.MAX_VALUE,c=0,h=0,f=0;f<s;f++)null!=(v=n[f]._contentView()._enlarge())&&v.width<p&&(p=v.width,c=f,h=v.height);if(0===h)break;for(f=0;f<s;f++)f!==c&&n[f]._contentView()._restore();if((_+=h)>=u)break}}else{for(var d=i.width,y=(r=0,0),g=n;y<g.length;y++){var m;(m=g[y])instanceof t._ItemizedLegendView&&m._defaultItemizedLegendContentView()._init(i),r+=m._measure(e,new t.core.Size(i.width,i.height))._size.width}if(s=n.length,(r+=this.__space)>d)for(u=r-d,_=0;;){for(p=Number.MAX_VALUE,c=0,h=0,f=0;f<s;f++){var v;null!=(v=n[f]._contentView()._enlarge())&&v.height<p&&(p=v.height,c=f,h=v.width)}if(0===h)break;for(f=0;f<s;f++)f!==c&&n[f]._contentView()._restore();if((_+=h)>=u)break}}},e}(),n=function(){function t(t,e){this.__index=0,this.__save=0,this.__isVertical=e,this.__options=t}return t.prototype._save=function(){this.__save=this.__index},t.prototype._restore=function(){this.__index=this.__save},t.prototype._reset=function(){this.__index=0},t.prototype._nextSpace=function(){var t=this.__index;return t>this.__options.length?null:(this.__index++,this._getSpace(t))},t.prototype._previousSpace=function(){var t=this.__index;return 0===t?null:(this.__index--,this._getSpace(t-1))},t.prototype._calcAllSpace=function(){this._save(),this._reset();for(var t,e=0;null!=(t=this._nextSpace());)e+=t;return this._restore(),e},t.prototype._getSpace=function(t){return 0==t?this._getPre(t):t==this.__options.length?this._getBack(t-1):Math.max(this._getBack(t-1),this._getPre(t))},t.prototype._getPre=function(t){return this.__isVertical?this.__options[t].top:this.__options[t].left},t.prototype._getBack=function(t){return this.__isVertical?this.__options[t].bottom:this.__options[t].right},t}(),o=function(){function e(t){this.__rectangle=t,this.__hBlocks=[[],[],[]]}return e._getBlockIndex=function(e){if(null==e)return 1;switch(e){case t.HAlign.Left:return 0;case t.HAlign.Right:return 2;default:return 1}},e.prototype.push=function(n,i){var o=n._option,r=new t._LegendRect;r.view=n,r.rect=i,r.margin=n._margin(),this.__hBlocks[e._getBlockIndex(o.hAlign)].push(r)},e.prototype._sum=function(t,e){return t.reduce((function(t,n){return t+n.rect.width+e._nextSpace()}),0)},e.prototype.layout=function(){var i=this.__rectangle,o=this.__hBlocks[e._getBlockIndex(t.HAlign.Left)],r=this.__hBlocks[e._getBlockIndex(t.HAlign.Right)],l=this.__hBlocks[e._getBlockIndex(t.HAlign.Center)];r.reverse();for(var a=o.concat(l,r),s=new n(a.map((function(t){return t.margin})),!1),u=s._nextSpace(),_=0,p=o;_<p.length;_++)(b=p[_]).rect.left=i.left+u,u+=b.rect.width+s._nextSpace();s._save();var c=this._sum(l,s),h=this._sum(r,s),f=i.width;u+c+h>f&&(f=u+c+h);for(var d=i.left+f,y=s._previousSpace(),g=y,m=r.length-1;m>=0;--m)(b=r[m]).rect.left=d-b.rect.width-g,y=s._previousSpace(),g+=b.rect.width+y;u+=(f-u-g-c+y)/2,s._restore();for(var v=0,w=l;v<w.length;v++){var b;(b=w[v]).rect.left=i.left+u,u+=b.rect.width+s._nextSpace()}new t._LegendViewLayouter(i).layoutVertical(o.concat(l,r))},e}(),r=function(){function e(t){this.__rectangle=t,this.__vBlocks=[[],[],[]]}return e._getBlockIndex=function(e){if(null==e)return 1;switch(e){case t.VAlign.Top:return 0;case t.VAlign.Bottom:return 2;default:return 1}},e.prototype.push=function(n,i){var o=n._option,r=new t._LegendRect;r.view=n,r.rect=i,r.margin=n._margin(),this.__vBlocks[e._getBlockIndex(o.vAlign)].push(r)},e.prototype._sum=function(t,e){return t.reduce((function(t,n){return t+n.rect.height+e._nextSpace()}),0)},e.prototype.layout=function(){var i=this.__rectangle,o=this.__vBlocks[e._getBlockIndex(t.VAlign.Top)],r=this.__vBlocks[e._getBlockIndex(t.VAlign.Bottom)],l=this.__vBlocks[e._getBlockIndex(t.VAlign.Middle)];r.reverse();for(var a=o.concat(l,r),s=new n(a.map((function(t){return t.margin})),!0),u=s._nextSpace(),_=0,p=o;_<p.length;_++)(b=p[_]).rect.top=i.top+u,u+=b.rect.height+s._nextSpace();s._save();var c=this._sum(l,s),h=this._sum(r,s),f=i.height;u+c+h>f&&(f=u+c+h);for(var d=i.top+f,y=s._previousSpace(),g=y,m=r.length-1;m>=0;--m)(b=r[m]).rect.top=d-b.rect.height-g,y=s._previousSpace(),g+=b.rect.height+y;u+=(f-u-g-c+y)/2,s._restore();for(var v=0,w=l;v<w.length;v++){var b;(b=w[v]).rect.top=i.top+u,u+=b.rect.height+s._nextSpace()}new t._LegendViewLayouter(i).layoutHorizontal(o.concat(l,r))},e}(),l=function(l){function a(t,e){var n=l.call(this,t)||this;n.__className="gcdv-legends",n.__scrollPrecision=.5,n.__legendViews=e;for(var i=0,o=e;i<o.length;i++)o[i]._internalParentView(n);return n}return i(a,l),a.prototype._getPlotAreaView=function(){return this._getLegendLayerView()._getPlotAreaView()},a.prototype._getScrollRect=function(){return t._DrawingUtility._intersectionOfRectangle(this._getPlotAreaView()._getRectangle(),this._getRectangle())},a.prototype._legendViews=function(){return this.__legendViews},a.prototype._className=function(){return this.__className},a.prototype._wrapping=function(){var t=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.wrapping;return null!=t?t:null==(t=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.wrapping)||t},a.prototype._groupWidth=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.width}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().width:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._groupMaxWidth=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.maxWidth}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().width:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.min(e,r)}}return e},a.prototype._groupHeight=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.height}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().height:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._groupMaxHeight=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.maxHeight}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().height:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._scrollable=function(){return this._legendViews().length>1},a.prototype._canScroll=function(){if(!l.prototype._canScroll.call(this))return!1;if(this._scrollable()){var t=this._getScrollRect(),e=this._getLogicSize();return e.width-t.width>=this.__scrollPrecision||e.height-t.height>=this.__scrollPrecision}return!1},a.prototype._layoutContent=function(e,n,i){l.prototype._layoutContent.call(this,e,n,i),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},a.prototype._layoutInnerContent=function(n,i,o){(i=i.clone()).width<0&&(i.width=0),i.height<0&&(i.height=0);var r=this._legendViews(),l=this._calcAllSpace(r,this._isVertical());new e(this._getVisibleSize(i.size),this._isVertical(),l).adjust(n,r);var a=this._calcLogicLegendsSize(r,n),s=a[0],u=a[1];this._layoutRectangle(s,u,r,i,l);for(var _=this._getLegendsViewAlignLayouter(this._getRectangle()),p=u.map((function(e){return new t.core.Rect(0,0,e.width,e.height)})),c=s,h=r.length,f=0;f<h;++f)_.push(r[f],p[f]);for(_.layout(),f=0;f<h;f++){var d=p[f];o._originalLegendSize=c[f],r[f]._layout(n,o,d),o._originalLegendSize=null}},a.prototype._getVisibleSize=function(t){return t.clone()},a.prototype._getLegendsViewAlignLayouter=function(t){return this._isVertical()?new r(t):new o(t)},a.prototype._inflateLegendSize=function(t,e){var n=t.clone();if(this._scrollable())return n;if(this._isVertical()){var i=this._groupWidth(),o=this._groupMaxWidth();null!=o?n.width=Math.min(n.width,o):null!=i&&(n.width=i)}else{var r=this._groupHeight(),l=this._groupMaxHeight();null!=l?n.height=Math.min(n.height,l):null!=r&&(n.height=r)}return n},a.prototype._calcLogicLegendsSize=function(e,n){for(var i=[],o=[],r=0,l=e.length;r<l;r++){var a=e[r],s=a._measure(n,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size;i.push(s),s=this._inflateLegendSize(s,a._option),o.push(s)}return[i,o]},a.prototype._sortOrder=function(t){return this._isVertical()?r._getBlockIndex(t._option.vAlign):o._getBlockIndex(t._option.hAlign)},a.prototype._calcAllSpace=function(t,e){for(var i=[[],[],[]],o=0,r=t;o<r.length;o++){var l=r[o];i[this._sortOrder(l)].push(l)}i[2].reverse();for(var a=[],s=0,u=i;s<u.length;s++){var _=u[s];a.push.apply(a,_)}return new n(a.map((function(t){return t._margin()})),e)._calcAllSpace()},a.prototype._renderInnerContent=function(e,n,i){for(var o=0,r=this.__legendViews;o<r.length;o++){var l=r[o];l._position()!=t.LegendPosition.None&&l._render(e,i)}},a.prototype._getLogicSize=function(){var e=this._getRectangle(),n=this._legendViews();if(0==n.length)return new t.core.Size(0,0);for(var i=-Number.MAX_VALUE,o=-Number.MAX_VALUE,r=e.left,l=e.top,a=0,s=n;a<s.length;a++){var u=s[a],_=u._getRectangle(),p=u._margin();i=Math.max(i,_.right+p.right-r),o=Math.max(o,_.bottom+p.bottom-l)}return new t.core.Size(i,o)},a.prototype._hitTestContent=function(e,n,i){for(var o=0,r=this.__legendViews.concat().reverse();o<r.length;o++){var a=r[o];if(a._position()!=t.LegendPosition.None){var s=a._hitTest(e,n,i);if(null!=s)return s}}return l.prototype._hitTestContent.call(this,e,n,i)},a.prototype._getLegendLayerView=function(){return this._ownerView},a.prototype._createScrollbar=function(e){var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());return null==n?null:t._ScrollUtility._buildScrollbar(e,this._getScrollRect(),this._getLogicSize(),n)},a.prototype._isHitTested=function(e,n){return this._getScrollRect().contains(new t.core.Point(e,n))},a.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null);for(var t=0,e=this._legendViews();t<e.length;t++)e[t].dispose()},a}(t._ScrollableView);t._BaseLegendListView=l}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendLayerView=function(e,n){return new t._FloatLegendLayerView(e,n)},e}(),n=function(){function e(){}return e.prototype._buildLegendLayerView=function(e,n){return new t._FixedLegendLayerView(e,n)},e}(),i=function(){function t(){this._frontLegendLayerViewBuilder=new e,this._backLegendLayerViewBuilder=new n}return t.prototype._getLegendViewBuilder=function(){return null},t}();t._BuildInLegendLayerDefinition=i}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInLegendLayerDefinitionBuilders=function(){return null==n.__buildInLegendLayerDefinitionBuilders&&(n.__buildInLegendLayerDefinitionBuilders=new n([],n._pluginType)),n.__buildInLegendLayerDefinitionBuilders},n.prototype._convert=function(e){return t._isLegendLayerDefinitionBuilder(e)?e:null},n.prototype._legendLayerDefinition=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildLegendLayerDefinition(e,n);if(null!=l)return l}return new t._BuildInLegendLayerDefinition},n._pluginType="LegendViewManagerModel",n}(t._BuildInObjectCollection);t._BuildInLegendLayerDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t){this.__position=t}return e.prototype._buildLegendListView=function(e,n){var i=this;return(n=n.filter((function(t){return t._position()==i.__position}))).length>0?new t._FixedLegendListView(e,n,this.__position):null},e}(),n=function(n){function o(i,o,r,l,a,s){void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===s&&(s=null);var u=n.call(this,i)||this;return r=null==r?new e(t.LegendPosition.Left):r,u.__leftLegendListView=r._buildLegendListView(u,o),l=null==l?new e(t.LegendPosition.Right):l,u.__rightLegendListView=l._buildLegendListView(u,o),a=null==a?new e(t.LegendPosition.Top):a,u.__topLegendListView=a._buildLegendListView(u,o),s=null==s?new e(t.LegendPosition.Bottom):s,u.__bottomLegendListView=s._buildLegendListView(u,o),u}return i(o,n),o.prototype._legendViews=function(){var t=[];return null!=this.__leftLegendListView&&t.push.apply(t,this.__leftLegendListView._legendViews()),null!=this.__rightLegendListView&&t.push.apply(t,this.__rightLegendListView._legendViews()),null!=this.__topLegendListView&&t.push.apply(t,this.__topLegendListView._legendViews()),null!=this.__bottomLegendListView&&t.push.apply(t,this.__bottomLegendListView._legendViews()),t},o.prototype._layout=function(t,e,n){var i=e.clone(),o=this.__leftLegendListView;null!=o&&(o._layout(t,n,i),i.left+=o._getRectangle().width,i.width-=o._getRectangle().width);var r=this.__rightLegendListView;null!=r&&(r._layout(t,n,i),i.width-=r._getRectangle().width);var l=this.__topLegendListView;null!=l&&(l._layout(t,n,i),i.top+=l._getRectangle().height,i.height-=l._getRectangle().height);var a=this.__bottomLegendListView;return null!=a&&(a._layout(t,n,i),i.height-=a._getRectangle().height),i},o.prototype._render=function(t,e){this._zLevel==e._currentZLevel&&(null!=this.__leftLegendListView&&this.__leftLegendListView._render(t,e),null!=this.__rightLegendListView&&this.__rightLegendListView._render(t,e),null!=this.__topLegendListView&&this.__topLegendListView._render(t,e),null!=this.__bottomLegendListView&&this.__bottomLegendListView._render(t,e))},o.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;var i=null;return null!=this.__bottomLegendListView&&null!=(i=this.__bottomLegendListView._hitTest(t,e,n))||null!=this.__topLegendListView&&null!=(i=this.__topLegendListView._hitTest(t,e,n))||null!=this.__rightLegendListView&&null!=(i=this.__rightLegendListView._hitTest(t,e,n))||null!=this.__leftLegendListView&&null!=(i=this.__leftLegendListView._hitTest(t,e,n))?i:null},o.prototype.queryInterface=function(t){return"ILegendLayerView"==t?this:null},o.prototype._getPlotAreaView=function(){return this._ownerView},o.prototype.dispose=function(){null!=this.__leftLegendListView&&this.__leftLegendListView.dispose(),null!=this.__rightLegendListView&&this.__rightLegendListView.dispose(),null!=this.__topLegendListView&&this.__topLegendListView.dispose(),null!=this.__bottomLegendListView&&this.__bottomLegendListView.dispose()},o}(t._BaseView);t._FixedLegendLayerView=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o._position=i,o}return i(n,e),n.prototype._isVertical=function(){var e=this._position;return e===t.LegendPosition.Left||e===t.LegendPosition.Right},n.prototype._layoutRectangle=function(e,n,i,o,r){for(var l,a=r,s=0,u=i.length,_=0;_<u;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;s=Math.max(f,s)}else{a+=c.width;var d=c.height+h.top+h.bottom;s=Math.max(d,s)}}if(this._isVertical()){if(this._scrollable()){var y=this._groupMaxWidth();f=this._groupWidth(),null!=y?s=Math.min(y,s):null!=f&&(s=f)}l=new t.core.Size(s,Math.min(a,o.height))}else{if(this._scrollable()){var g=this._groupMaxHeight();d=this._groupHeight(),null!=g?s=Math.min(g,s):null!=d&&(s=d)}l=new t.core.Size(Math.min(a,o.width),s)}var m=o.clone();switch(this._position){case t.LegendPosition.Left:m.width=l.width;break;case t.LegendPosition.Right:m.left=o.right-l.width,m.width=l.width;break;case t.LegendPosition.Top:m.height=l.height;break;case t.LegendPosition.Bottom:m.height=l.height,m.top=o.bottom-l.height}this._updateRectangle(m)},n}(t._BaseLegendListView);t._FixedLegendListView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,i){return e==i||null!=e&&null!=i&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.left,i.left)&&(null!=e.left||e.groupHAlign===i.groupHAlign)&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.top,i.top)&&(null!=e.top||e.groupVAlign===i.groupVAlign)&&e.groupOrientation==i.groupOrientation&&n._paddingOptionEqualityComparer._equalsWith(e.groupPadding,i.groupPadding)},e._legendsOptionEqualityComparer=new e,e}(),n=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.left,n.left)&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.top,n.top)&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.right,n.right)&&!!t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.bottom,n.bottom)},e._paddingOptionEqualityComparer=new e,e}(),o=function(t,e){this.option=t,this.legendViews=e},r=function(n){function r(i,r){for(var l=n.call(this,i)||this,a=[],s=function(n){if(n._position()!==t.LegendPosition.Floating)return"continue";var i=t._Util.find(a,(function(t){return e._legendsOptionEqualityComparer._equalsWith(t.option,n._legendsOption())}));null==i?a.push(new o(n._legendsOption(),[n])):i.legendViews.push(n)},u=0,_=r;u<_.length;u++)s(_[u]);for(var p=[],c=0,h=a;c<h.length;c++){var f=h[c];p.push(new t._FloatLegendListView(l,f.legendViews,f.option))}return l.__legendListViews=p,l}return i(r,n),r.prototype._legendViews=function(){for(var t=[],e=0,n=this.__legendListViews;e<n.length;e++){var i=n[e];t.push.apply(t,i._legendViews())}return t},r.prototype._layout=function(t,e,n){for(var i=e.clone(),o=0,r=this.__legendListViews;o<r.length;o++){var l=r[o];null!=l&&l._layout(t,n,i)}return i},r.prototype._render=function(e,n){var i=this;if(this._zLevel==n._currentZLevel&&this.__legendListViews.length>0){var o=this.__legendListViews[0]._containerRect();if(o.width>0&&o.height>0){var r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup(null,r,null,(function(t){for(var e=0,o=i.__legendListViews;e<o.length;e++)o[e]._render(t,n)}))}}},r.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=null,o=0,r=this.__legendListViews.slice().reverse();o<r.length;o++){var l=r[o];if(null!=(i=null!=l?l._hitTest(t,e,n):null))return i}return null},r.prototype.queryInterface=function(t){return"ILegendLayerView"==t?this:null},r.prototype._getPlotAreaView=function(){return this._ownerView},r.prototype.dispose=function(){for(var t=0,e=this.__legendListViews;t<e.length;t++){var n=e[t];null!=n&&n.dispose()}},r}(t._BaseView);t._FloatLegendLayerView=r}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__legendsOption=i,o}return i(n,e),n.prototype._containerRect=function(){return this.__containerRect},n.prototype._isVertical=function(){return this._legendViews().length>0&&this._legendViews()[0]._isVertical()},n.prototype._getVisibleSize=function(t){var e=t.clone(),n=this.__legendsOption;return null!=n.left&&(e.width=t.width*(1-n.left)),null!=n.top&&(e.height=t.height*(1-n.top)),null!=n.groupPadding&&(e.width-=n.groupPadding.right+n.groupPadding.left,e.height-=n.groupPadding.top+n.groupPadding.bottom),e},n.prototype._layoutRectangle=function(e,n,i,o,r){this.__containerRect=o.clone();for(var l,a=r,s=0,u=i.length,_=0;_<u;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;s=Math.max(f,s)}else{a+=c.width;var d=c.height+h.top+h.bottom;s=Math.max(d,s)}}if(this._isVertical()){if(this._scrollable()){var y=this._groupMaxWidth();f=this._groupWidth(),null!=y?s=Math.min(y,s):null!=f&&(s=f)}l=new t.core.Size(s,a)}else{if(this._scrollable()){var g=this._groupMaxHeight();d=this._groupHeight(),null!=g?s=Math.min(g,s):null!=d&&(s=d)}l=new t.core.Size(a,s)}this._updateRectangle(new t.core.Rect(0,0,l.width,l.height)),this._layoutForScroll(o)},n.prototype._layoutForWrapping=function(e){var n=this._getRectangle(),i=this.__legendsOption,o=n.clone(),r=0,l=0;if(null!=i.groupPadding&&(o.width+=i.groupPadding.left+i.groupPadding.right,o.height+=i.groupPadding.top+i.groupPadding.bottom,r=i.groupPadding.left,l=i.groupPadding.top),null!=i.left)o.left=e.left+e.width*i.left;else{var a=i.groupHAlign;if(null!=a)switch(a){case t.HAlign.Left:o.left=e.left;break;case t.HAlign.Center:o.left=e.left+e.width/2-o.width/2;break;case t.HAlign.Right:o.left=e.right-o.width}}if(null!=i.top)o.top=e.top+e.height*i.top;else{var s=i.groupVAlign;if(null!=s)switch(s){case t.VAlign.Top:o.top=e.top;break;case t.VAlign.Middle:o.top=e.top+e.height/2-o.height/2;break;case t.VAlign.Bottom:o.top=e.bottom-o.height}}n.left=o.left+r,n.top=o.top+l,this.outterRect=o},n.prototype._layoutForScroll=function(t){this._layoutForWrapping(t);var e=this._getRectangle(),n=e.clone(),i=this.__legendsOption,o=this._getVisibleSize(t.size);if(o.height<=e.height){var r=t.top,l=t.bottom;null!=i.top&&(r=t.top+t.height*i.top),this.outterRect.top=r,this.outterRect.height=l-r,e.top=r,n.top=r,e.height=l-e.top,null!=i.groupPadding&&(n.top+=i.groupPadding.top,e.top+=i.groupPadding.top,e.height=e.height-i.groupPadding.bottom-i.groupPadding.top)}if(o.width<=e.width){var a=t.left,s=t.right;null!=i.left&&(a=t.left+t.width*i.left),this.outterRect.left=a,this.outterRect.width=s-a,e.left=a,n.left=a,e.width=s-e.left,null!=i.groupPadding&&(n.left+=i.groupPadding.left,e.left+=i.groupPadding.left,e.width=e.width-i.groupPadding.right-i.groupPadding.left)}},n}(t._BaseLegendListView);t._FloatLegendListView=e}(t||(t={})),t||(t={}),function(t){t._isLegendLayerDefinitionBuilder=function(t){return null!=t._buildLegendLayerDefinition}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){!function(t){t[t.PlotColor=1]="PlotColor",t[t.PlotShape=2]="PlotShape",t[t.PlotSize=4]="PlotSize",t[t.OverlayColor=8]="OverlayColor",t[t.BackgroundColor=16]="BackgroundColor",t[t.Lightness=32]="Lightness"}(t._LegendKind||(t._LegendKind={}))}(t||(t={})),function(t){var e=function(){function e(t){this.__definition=t}return e.prototype._build=function(e){for(var n=[],i=this.__definition,o=i._getEncodingsDefinition(),r=0,l=[o._getColorEncodingDefinition(),o._getShapeEncodingDefinition(),o._getSizeEncodingDefinition(),o._getBackgroundColorEncodingDefinition(),o._getLightnessEncodingDefinition()];r<l.length;r++){var a=l[r];if(null!=a&&null!=a._legendDataModelBuilder){var s=a._legendDataModelBuilder._buildLegendDataModel(a,e);null!=s&&n.push(s)}}var u=t._BuildInOverlayLegendDataModelBuilderCollection._defaultBuildInOverlayLegendDataModelBuilders()._overlayLegendDataModel(i,e,null,i._pluginCollection);if(null!=u&&n.push(u),n.length>0){var _=new t._LegendComparer;return n.sort((function(t,e){return _.compare(t,e)})),n}return null},e.prototype.queryInterface=function(t){return this.__definition.queryInterface(t)},e}();t._LegendModelBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){void 0===o&&(o=null);var r=e.call(this,n,i,o)||this;return r.__linearScale=new t._LinearGradientColorScale,r._labelBuilder._addLabel(n._label),r}return i(n,e),n.prototype._ticks=function(){return this.__ticks.slice()},n.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definition)){var n=this._definition,i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._linearScale()._scaleValue(i).color):null}return null},n.prototype._linearColor=function(e){return new t._LinearGradientColor(e,this._linearScale()._getRange())},n.prototype._minimum=function(){return this.__minimum},n.prototype._maximum=function(){return this.__maximum},n.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},n.prototype._getColorProvider=function(){return this._definition._plotDefinition._valueColorProvider},n.prototype._linearScale=function(){return this.__linearScale},n.prototype._format=function(){return this._definition._format},n.prototype.queryInterface=function(n){return"IColorLegend"===n&&t._LegendUtility._isType(this,t.LegendType.Color)?this:e.prototype.queryInterface.call(this,n)},n}(t._SingleLegendDataModel);t._ColorLinearPointLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o.__legendAxisView=new t._LegendAxisView(o,i._linearColor(o._colorDegree()),o._gradientLegendView()._option.gradient,i._format()),o}return i(n,e),n.prototype._gradientLegendView=function(){return this._ownerView},n.prototype._legendAxisView=function(){return this.__legendAxisView},n.prototype._intersectWith=function(t){var e=this._legendAxisView()._rectangle();return!!(e.contains(t.leftTop)||e.contains(t.leftBottom)||e.contains(t.rightTop)||e.contains(t.rightBottom))},n.prototype._measure=function(t,e){return this.__legendAxisView._measure(t,e)},n.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i),this._legendAxisView()._render(t,i)},n.prototype._hitTestContent=function(t,n,i){var o=this.__legendAxisView._hitTest(t,n,i);return null!=o?o:e.prototype._hitTestContent.call(this,t,n,i)},n.prototype._layoutInnerContent=function(t,e,n){this.__legendAxisView._position(e.left,e.top)},n.prototype._colorDegree=function(){return this._orientation()===t.Orientation.Horizontal?90:360},n.prototype._getTicks=function(){return this._gradientLegendView()._data()._ticks()},n}(t._LegendContentView);t._GradientLegendContentView=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.actualDistance=0,this.value=t,this.__text=e,this.__isHorizontal=n}return e.prototype._measure=function(t){this.size=t.measureSingleLineString(this.__text)},e.prototype._sumSide=function(){return this.__isHorizontal?this.size.width:this.size.height},e.prototype._maxSide=function(){return this.__isHorizontal?this.size.height:this.size.width},e.prototype._renderTick=function(t){t.drawLine(this.start.x,this.start.y,this.end.x,this.end.y)},e.prototype._renderLabel=function(e){var n=t._MatrixUtility._buildRotateMatrix(0,this.labelCenter);e.drawSingleLineString(this.__text,this.labelLeftBottom.x,this.labelLeftBottom.y,null,n)},e}();t._GradientLegendTick=e}(t||(t={})),function(t){var e=function(){function t(t,e){this.__start=t,this.__end=e}return t.prototype.len=function(){return this.__end.value-this.__start.value},t.prototype.distance=function(){return(this.__end._sumSide()+this.__start._sumSide())/2+t.__minOffsetBetweenLabels},t.prototype.weight=function(){return this.len()/this.distance()},t.__minOffsetBetweenLabels=2.5,t}(),n=function(){function n(t,e,n){this.__ranges=[],this.__left=0,this.__top=0,this.__ticks=t,this.__thickness=e,this.__isHorizontal=n}return n.prototype._init=function(e){if(0!=this.__ticks.length){this.__ranges=this._createRanges(this.__ticks);for(var n=this.__ranges[0].weight(),i=0,o=1;o<this.__ranges.length;++o)n>this.__ranges[o].weight()&&(n=this.__ranges[o].weight(),i=o);for(var r=this.__ticks[0].value,l=this.__ticks[this.__ticks.length-1].value-r,a=l*this.__ranges[i].distance()/this.__ranges[i].len(),s=0,u=0,_=this.__ticks;u<_.length;u++){var p=_[u];p.actualDistance=a*(p.value-r)/l,s=Math.max(p._maxSide(),s)}s+=10,a+=this._preOffset()+this._suffixOffset(),this.__isHorizontal?this.size=new t.core.Size(a,s+this.__thickness):this.size=new t.core.Size(s+this.__thickness,a)}else this.size=new t.core.Size(this.__thickness,this.__thickness)},n.prototype._translateTo=function(t,e){this.__left=t,this.__top=e},n.prototype._getTickRect=function(){var e=this.__left,n=this.__top;return this.__isHorizontal?new t.core.Rect(e,n+this.__thickness,this.size.width,this.size.height-this.__thickness):new t.core.Rect(e+this.__thickness,n,this.size.width-this.__thickness,this.size.height)},n.prototype._getBarRect=function(){var e=this.__left,n=this.__top;if(this.__isHorizontal){e+=this._preOffset();var i=this.size.width-this._preOffset()-this._suffixOffset();return new t.core.Rect(e,n,i,this.__thickness)}n+=this._preOffset();var o=this.size.height-this._preOffset()-this._suffixOffset();return new t.core.Rect(e,n,this.__thickness,o)},n.prototype._layoutTicks=function(){var e=this._getBarRect(),i=this._getTickRect();if(this.__isHorizontal)for(var o=0,r=this.__ticks;o<r.length;o++){var l=r[o],a=e.left+l.actualDistance,s=e.bottom+n.TICK_LEN+l.size.height/2;l.end=new t.core.Point(a,e.bottom),l.start=new t.core.Point(a,e.bottom+n.TICK_LEN),l.labelCenter=new t.core.Point(a,s),l.labelLeftBottom=new t.core.Point(a-l.size.width/2,s+l.size.height/2)}else for(var u=0,_=this.__ticks;u<_.length;u++)l=_[u],a=i.left+n.BAR_TICK_SPACE+l.size.width/2,s=e.bottom-l.actualDistance,l.end=new t.core.Point(i.left,s),l.start=new t.core.Point(i.left+n.TICK_LEN,s),l.labelCenter=new t.core.Point(a,s),l.labelLeftBottom=new t.core.Point(a-l.size.width/2,s+l.size.height/2)},n.prototype._preOffset=function(){return 0==this.__ticks.length?0:this.__ticks[0]._sumSide()/2},n.prototype._suffixOffset=function(){return 0==this.__ticks.length?0:this.__ticks[this.__ticks.length-1]._sumSide()/2},n.prototype._createRanges=function(t){for(var n=[],i=t[0],o=1;o<t.length;++o)n.push(new e(i,t[o])),i=t[o];return n},n.TICK_LEN=5,n.BAR_TICK_SPACE=2*n.TICK_LEN,n}();t._GradientTickLayouter=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n)||this;return l.__rectangle=t.core.Rect.ReadOnlyRect,l.__linearColor=i,l.__format=r,l}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._gradientLegendContentView=function(){return this._ownerView},n.prototype._thickness=function(t){return t.measureSingleLineString("A").height},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._option.textStyle),this.__style=e}return this.__style},n.prototype._applyStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultLineStyle()),e.fill=this.__linearColor},n.prototype._applyTextStyle=function(e){var n=this._style();null!=n&&t._StyleUtility._applyAllStyle(e,n)},n.prototype._measure=function(e,n){var i=this;e.beginTransform(),this._applyStyle(e),this._applyTextStyle(e);for(var o=this._gradientLegendContentView()._orientation()==t.Orientation.Horizontal,r=this._gradientLegendContentView()._getTicks().map((function(e){return new t._GradientLegendTick(e,i._getTickString(e),o)})),l=0,a=r;l<a.length;l++)a[l]._measure(e);var s=this._thickness(e),u=new t._GradientTickLayouter(r,s,o);return u._init(e),this.__layouter=u,this.__ticks=r,e.restoreTransform(),new t._RectangleViewMetricsResult(u.size.clone())},n.prototype._getTickString=function(e){var n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._pluginCollection);if(null!=n){var i=this.__format;if(null==this.__format&&(i=n.defaultFormat(t.core.DataType.Number,!1)),null!=i)return n.format(i,e)}return null},n.prototype._position=function(t,e){this.__layouter._translateTo(t,e),this.__layouter._layoutTicks()},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){},n.prototype._render=function(t,e){t.beginTransform(),this._applyStyle(t),this._applyTextStyle(t),this._renderAxisLine(t,e);for(var n=0,i=this.__ticks;n<i.length;n++)i[n]._renderTick(t);for(var o=0,r=this.__ticks;o<r.length;o++)r[o]._renderLabel(t);t.restoreTransform()},n.prototype._renderAxisLine=function(e,n){e.beginTransform();var i=this.__layouter._getBarRect();e.drawRect(i.left,i.top,i.width,i.height),this._gradientLegendContentView()._orientation()==t.Orientation.Horizontal?e.drawLine(i.left,i.top,i.right,i.top):e.drawLine(i.right,i.top,i.right,i.bottom),e.restoreTransform()},n}(t._BaseView);t._LegendAxisView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i._option,i._kind())||this;if(!i._getAvailable())throw new t.AssertError(t.ErrorCode.UnexpectedValue,i);return o.__data=i,o}return i(n,e),n.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toString(this._option.title,!0):null;return null==e?this._data()._labelBuilder._build():e},n.prototype._data=function(){return this.__data},n.prototype._hasTittle=function(){return null!=this.title&&this.title.length>0},n.prototype._createContentView=function(){return new t._GradientLegendContentView(this,this._data())},n.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},n}(t._LegendView);t._GradientLegendView=e}(t||(t={})),t||(t={}),function(t){t._isLinearLegendDataModel=function(t){var e=t;return"function"==typeof e._linearScale&&"function"==typeof e._getColorProvider&&"function"==typeof e._getColorByPoint&&"function"==typeof e._ticks&&"function"==typeof e._linearColor&&"function"==typeof e._format}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this._definitions=[],this._addLegend(e),this._addLegend(n),this._adopter=e._adopter,this._option=e._option,this._labelBuilder=new t.models._LegendLabelBuilder,this._labelBuilder._addLabelBuilder(e._labelBuilder),this._labelBuilder._addLabelBuilder(n._labelBuilder),this.__kind=0,this._applyKind(e._kind()),this._applyKind(n._kind())}return e.prototype._addLegend=function(e){var n;if(t._isMergedLegendDataModel(e)){var i=e;(n=this._definitions).push.apply(n,i._definitions)}else if(t._isSingleLegendDataModel(e)){var o=e;this._definitions.push(o._definition)}},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getDefinition=function(){return this._definitions[0]},e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._getLegendSymbol=function(t){return t._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(t._plotDefinition)},e.prototype._getAvailable=function(){return!0},e.prototype._findRelatedPlotViews=function(t){var e=this._definitions.map((function(t){return t._plotDefinition}));return t._plotViews().filter((function(t){return e.indexOf(t._getDefinition())>=0}))},e.prototype._getColorIterator=function(t){var e=this._definitions[0]._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},e.prototype.queryInterface=function(e){return"IColorLegend"===e&&t._LegendUtility._isType(this,t.LegendType.Color)?this:null},e}();t._MergedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__items=[],o._dataPointKeysMap=new t._Map,o}return i(n,e),n.prototype._items=function(){return this.__items},n}(t._MergedLegendDataModel);t._MergedItemizedLegendDataModel=e}(t||(t={})),function(t){t._isMergedLegendDataModel=function(t){return null!=t&&void 0!==t._definitions}}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__linearScale=new t._LinearGradientColorScale,o}return i(n,e),n.prototype._linearColor=function(e){return new t._LinearGradientColor(e,this._linearScale()._getRange())},n.prototype._linearScale=function(){return this.__linearScale},n.prototype._ticks=function(){return this.__ticks.slice()},n.prototype._format=function(){return this._definitions[0]._format},n.prototype._getColorProvider=function(){return this._definitions[0]._plotDefinition._valueColorProvider},n.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definitions[0])){var n=this._definitions[0],i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._linearScale()._scaleValue(i).color):null}return null},n}(t._MergedLegendDataModel);t._MergedLinearLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedRangeLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedValueLegendDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._mergeColorShapeLegend=function(e){for(var n=this,i=e.slice(),o=function(e){var o=i[e],r=t._NativeExtension.findIndex(i,(function(e){var i=o,r=e;return n._canMerge(i,r)&&t._isSingleLegendDataModel(i)&&t._isSingleLegendDataModel(r)&&t._isItemizedLegendDataModel(i)&&t._isItemizedLegendDataModel(r)&&n._isPlotEquals(i._getDefinition()._plotDefinition,r._getDefinition()._plotDefinition)&&(t._LegendUtility._isType(i,t.LegendType.Color)&&t._LegendUtility._isType(r,t.LegendType.Shape)||t._LegendUtility._isType(i,t.LegendType.Shape)&&t._LegendUtility._isType(r,t.LegendType.Color))}));-1!=r&&(i[e]=new t._MergedValueLegendDataModel(o,i[r]),i.splice(r,1))},r=0;r<i.length;++r)o(r);return i},e.prototype._mergeSameTypeLegend=function(e){for(var n=this,i=0,o=e.slice(),r=function(){var e=o[i],r=t._NativeExtension.findIndex(o,(function(t){var i=e,o=t;return i!=o&&!!n._canMerge(i,o)&&n._calcFlag(i)==n._calcFlag(o)}));-1!=r?(e instanceof t._CustomValueDataPointItemizedLegendDataModel||e instanceof t._MergedCustomLegendDataModel?o[i]=new t._MergedCustomLegendDataModel(e,o[r]):e instanceof t._RangeDataPointItemizedLegendDataModel||e instanceof t._MergedRangeLegendDataModel?o[i]=new t._MergedRangeLegendDataModel(e,o[r]):(e instanceof t._ValueDataPointItemizedLegendDataModel||e instanceof t._MergedValueLegendDataModel)&&(o[i]=new t._MergedValueLegendDataModel(e,o[r])),o.splice(r,1)):i+=1};i<o.length;)r();return o},e.prototype._canMerge=function(t,e){var n=t._getDefinition(),i=e._getDefinition();return!!(n.equalsWith(i)&&this._isPlotTypeEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotLegendSymbolEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotColorIteratorEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotColorProviderEquals(n._plotDefinition,i._plotDefinition))},e.prototype._mergeLinearLegend=function(e){for(var n=[],i=0;i<e.length;){for(var o=i+1,r=null;o<e.length;){var l=null==r?e[i]:r,a=e[o],s=l._getDefinition(),u=a._getDefinition();s.equalsWith(u)&&this._isPlotColorIteratorEquals(s._plotDefinition,u._plotDefinition)&&this._isPlotColorProviderEquals(s._plotDefinition,u._plotDefinition)?(r=new t._MergedLinearLegendDataModel(l,a),e.splice(o,1)):o+=1}n.push(null==r?e[i]:r),i+=1}return n},e.prototype._mergeValuesNameLegend=function(e){for(var n=[],i=0;i<e.length;){for(var o=i+1,r=null;o<e.length;){var l=null==r?e[i]:r,a=e[o],s=l._getDefinition()._plotDefinition,u=a._getDefinition()._plotDefinition;this._isPlotTypeEquals(s,u)&&this._isPlotColorIteratorEquals(s,u)&&this._isPlotColorProviderEquals(s,u)&&this._isPlotLegendSymbolEquals(s,u)&&this._isValuesNameIntersect(l,a)?(r=new t._MergedValuesNameLegendDataModel(l,a),e.splice(o,1)):o+=1}n.push(null==r?e[i]:r),i+=1}return n},e.prototype._calcFlag=function(e){var n=0,i=[];if(t._isSingleLegendDataModel(e)){var o=e;i.push(o._definition._legendType)}else if(t._isMergedLegendDataModel(e)){var r=e._definitions.map((function(t){return t._legendType}));i.push.apply(i,r)}for(var l=0,a=i;l<a.length;l++)switch(a[l]){case t.LegendType.Color:n|=t._LegendKind.PlotColor;break;case t.LegendType.Shape:n|=t._LegendKind.PlotShape;break;case t.LegendType.Size:n|=t._LegendKind.PlotSize;break;case t.LegendType.BackgroundColor:n|=t._LegendKind.BackgroundColor;break;case t.LegendType.Overlay:n|=t._LegendKind.OverlayColor}return n},e.prototype._isPlotEquals=function(t,e){return t===e},e.prototype._isPlotTypeEquals=function(t,e){return t._getType()===e._getType()},e.prototype._isPlotLegendSymbolEquals=function(t,e){return t._legendSymbolViewBuilder._plotConfigOptionUsageEqualityComparer._equalsWith(t._plotConfigOption,e._plotConfigOption)},e.prototype._isPlotColorIteratorEquals=function(t,e){var n=t.colorIterator(),i=e.colorIterator();return n==i||null!=n&&null!=i&&n._equalsWith(i)},e.prototype._isPlotColorProviderEquals=function(t,e){var n=t._valueColorProvider,i=e._valueColorProvider;return n==i||n._equalsWith(i)},e.prototype._isValuesNameIntersect=function(e,n){var i=[];e instanceof t._ValuesNameDataPointItemizedLegendDataModel?i.push(e._definition):e instanceof t._MergedValuesNameLegendDataModel&&i.push.apply(i,e._definitions);var o=[];n instanceof t._ValuesNameDataPointItemizedLegendDataModel?o.push(n._definition):n instanceof t._MergedValuesNameLegendDataModel&&o.push.apply(o,n._definitions);for(var r=0,l=i;r<l.length;r++)for(var a=l[r],s=0,u=o;s<u.length;s++){var _=u[s];if(this._isIntersect(a,_))return!0}return!1},e.prototype._isIntersect=function(e,n){if(t._isValuesNameLegendEncodingDefinition(e)&&t._isValuesNameLegendEncodingDefinition(n)){for(var i=e,o=n,r=!1,l=0,a=i._valueEncodingDefinitions;l<a.length;l++){for(var s=a[l],u=0,_=o._valueEncodingDefinitions;u<_.length;u++){var p=_[u],c=s._getValueDimensionDefinition(),h=p._getValueDimensionDefinition();if(c._identifier===h._identifier){r=!0;break}}if(r)break}if(!r)return!1;if(0===i._dataFieldDefinitions.length&&0===o._dataFieldDefinitions.length)return!0;for(var f=0,d=i._dataFieldDefinitions;f<d.length;f++)for(var y=d[f],g=0,m=o._dataFieldDefinitions;g<m.length;g++){var v=m[g];if(y.equalsWith(v))return!0}return!1}return!1},e}();t._BaseMergePolicy=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._merge=function(t,e){var n=t.slice();return this._mergeColorShapeLegend(n)},e}(t._BaseMergePolicy);t._ColorShapeMergePolicy=e}(t||(t={})),function(t){var e=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype._merge=function(t,e){for(var n=t.slice(),i=0,o=e.mergeOptions;i<o.length;i++){var r=o[i];n=this._internalMerge(n,r)}return n},o.prototype._internalMerge=function(e,i){for(var o=null,r=e.slice(),l=[],a=[],s=function(e){var n=t._NativeExtension.findIndex(r,(function(n){return t._isSingleLegendDataModel(n)&&n._getDefinition()._plotDefinition._plotOption.name==e.plotName&&t._LegendUtility._isType(n,e.type)}));if(-1!=n){var i=r[n];null==o?o=i:r.splice(n,1),i instanceof t._ColorLinearPointLegendDataModel?l.push(i):a.push(i)}},u=0,_=i.merge;u<_.length;u++)s(_[u]);if(null!=o){var p=r.indexOf(o),c=this._mergeLinearLegend(l),h=this._mergeItemizedLegend(a);r.splice(p,1),t._isLinearLegendDataModel(o)?(h.length>0&&r.splice(p,0,new t._CombinedLegendDataModel(h)),c.length>0&&r.splice.apply(r,n([p,0],c))):(c.length>0&&r.splice.apply(r,n([p,0],c)),h.length>0&&r.splice(p,0,new t._CombinedLegendDataModel(h)))}return r},o.prototype._mergeItemizedLegend=function(t){var e=t.slice();return e=this._mergeColorShapeLegend(e),e=this._mergeValuesNameLegend(e),this._mergeSameTypeLegend(e)},o}(t._BaseMergePolicy);t._OptionMergePolicy=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._merge=function(e,n){for(var i=-1,o=[],r=[],l=0;l<e.length;++l){var a=e[l];a instanceof t._ValuesNameDataPointItemizedLegendDataModel?(-1==i&&(i=l),r.push(a)):o.push(a)}if(-1==i)return o;var s=this._mergeValuesNameLegend(r);return 1==s.length?o.splice(i,0,s[0]):s.length>1&&o.splice(i,0,new t._CombinedLegendDataModel(s)),o},n}(t._BaseMergePolicy);t._ValuesNameMergePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.__collections=[new t._OptionMergePolicy,new t._ColorShapeMergePolicy,new t._ValuesNameMergePolicy]}return e.prototype._legendMergePolicies=function(){return this.__collections},e.defaultCollection=new e,e}();t._LegendMergePolicyCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInOverlayLegendDataModelBuilders=function(){return null==n.__buildInOverlayLegendDataModelBuilders&&(n.__buildInOverlayLegendDataModelBuilders=new n([new t.models._OverlayColorLegendBuilder],n._pluginType)),n.__buildInOverlayLegendDataModelBuilders},n.prototype._convert=function(e){return t._isOverlayLegendDataModelBuilder(e)?e:null},n.prototype._overlayLegendDataModel=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildOverlayLegendDataModel(t,e);if(null!=l)return l}return null},n._pluginType="OverlayLegendDataModel",n}(t._BuildInObjectCollection);t._BuildInOverlayLegendDataModelBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isOverlayLegendDataModelBuilder=function(t){return null!=t&&"function"==typeof t._buildOverlayLegendDataModel}}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._merge=function(t){return 0==t.length?null:t[0]},t}();t.LegendOverlayDefinitionsMerger=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._buildOverlayLegendDataModel=function(e,n){var i=this._getLegendDefinition(e._overlayDefinitions());return null!=i?new t._OverlayItemizedLegendDataModel(i,n._getOption(i._plotDefinition._plotOption.name,t.LegendType.Overlay)):null},e.prototype._getLegendDefinition=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(t._isLegendOverlayDefinition(r)){var l=r;n.push(l._legendOverlayDefinition)}}return(new t.LegendOverlayDefinitionsMerger)._merge(n)},e.prototype.queryInterface=function(t){return"IOverlayLegendDataModelBuilder"==t?this:null},e}(),e._OverlayColorLegendBuilder=n}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.getSortedPoints=function(t,e){for(var n=[],i=0,o=t._plotViews();i<o.length;i++){var r=o[i];r._getDefinition()==e&&n.push.apply(n,r._getPointViews())}return n},t}();t._PointDataExtractor=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInLegendViewBuilders=function(){return null==n.__buildInLegendViewBuilders&&(n.__buildInLegendViewBuilders=new n([],n._pluginType)),n.__buildInLegendViewBuilders},n.prototype._convert=function(e){return t._isLegendViewBuilder(e)?e:null},n.prototype._legendView=function(t,e,n,i,o){for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item._buildLegendView(t,e);if(null!=a)return a}return n._buildLegendView(t,e)},n._pluginType="LegendViewBuilder",n}(t._BuildInObjectCollection);t._BuildInLegendViewBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendView=function(e,n){if(n._getAvailable()){if(t._isLinearLegendDataModel(n)){var i=n;return this._createGradientLegendView(e,i)}if(t._isItemizedLegendDataModel(n)){var o=n;return 0==o._items().length?null:this._createItemizedLegendView(e,o)}}return null},e.prototype._createItemizedLegendView=function(e,n){return new t._ItemizedLegendView(e,n)},e.prototype._createGradientLegendView=function(e,n){return new t._GradientLegendView(e,n)},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t?this:null},e}();t._DefaultLegendViewBuilder=e}(t||(t={})),function(t){t._isLegendViewBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0),this.__showSymbols=t,this.__useSymbolStyle=e}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&(!this.__showSymbols||e.symbols==n.symbols)&&(this.__useSymbolStyle?t._SymbolDataPointStyleOptionEqualityComparer._symbolDataPointStyleOptionEqualityComparer._equalsWith(e.style,n.style):t._StyleDataPointStyleOptionEqualityComparer._styleDataPointStyleOptionEqualityComparer._equalsWith(e.style,n.style))},e}(),n=function(){function n(t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this._plotConfigOptionUsageEqualityComparer=new e(t,n)}return n.prototype._buildLegendSymbolView=function(e){var n=new t._LegendSymbolView;return n._setPlotDefinition(e),n},n}();t._LegendSymbolViewBuilder=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInQueryBuilders=function(){return null==n.__buildInQueryBuilders&&(n.__buildInQueryBuilders=new n([t._ItemsQueryPlugin._defaultPlugin],n._pluginType)),n.__buildInQueryBuilders},n.prototype._convert=function(e){return t._isQueryBuilder(e)?e:null},n.prototype._dataSlicesQuery=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildQuery(t);if(null!=r)return r}return null},n._pluginType="Query",n}(t._BuildInObjectCollection);t._BuildInQueryBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t){this.__dataField=t}return e.prototype._buildGroupingKey=function(e){return t._DataSlicesAggregate._defaultAggregate._aggregate(e,this.__dataField,t.Aggregate.List)},e}();t._DataValueTypeGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._key=t,this.__dataSlices=null}return Object.defineProperty(e.prototype,"_dataSlices",{get:function(){return this.__dataSlices},enumerable:!0,configurable:!0}),e.prototype._mergeDataSlices=function(e){null==this.__dataSlices?this.__dataSlices=e:this.__dataSlices=t._DataSlicesUtility._merge([this.__dataSlices,e])},e}();t._GroupingInfo=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isQueryBuilder=function(t){return null!=t&&"function"==typeof t._buildQuery}}(t||(t={})),function(t){var e=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._groupingFieldDefinition=t,this._sortDefinition=e,this._filter=n};t._GroupingDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(t){this.dataFieldDefinition=t};t.QueryAggregateOption=e}(t||(t={})),function(t){var e=function(t){this.dataFieldDefinition=t};t.QueryFilterOption=e}(t||(t={})),function(t){var e=function(t){this.groupingDefinition=t};t.QueryGroupByOption=e}(t||(t={})),function(t){var e=function(t,e){this.sortDefinion=t,this.dataFieldDefinition=e};t.QueryOrderByOption=e}(t||(t={})),function(t){var e=function(){function t(){this._groupByOptions=[],this._orderByOptions=[],this._filterOptions=[],this._aggregateOptions=[]}return t.prototype.groupBy=function(t){var e;return(e=this._groupByOptions).push.apply(e,t),this},t.prototype.orderBy=function(t){var e;return(e=this._orderByOptions).push.apply(e,t),this},t.prototype.filter=function(t){var e;return(e=this._filterOptions).push.apply(e,t),this},t.prototype.aggregate=function(t){var e;return(e=this._aggregateOptions).push.apply(e,t),this},t}();t.Query=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){this.groups=[],this.info=new t.QueryResultInfo};t.QueryResult=e}(t||(t={})),function(t){var e=function(){this.groupFields=[],this.aggregateFields=[]};t.QueryResultInfo=e}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isRender=function(t){var e=t;return null!=e&&void 0!==e.renderEngine&&"function"==typeof e.beginRender&&"function"==typeof e.endRender&&"function"==typeof e.setViewportSize&&"function"==typeof e.beginTransform&&"function"==typeof e.restoreTransform&&"function"==typeof e.measureSingleLineString&&"function"==typeof e.measureMultiLineString&&"function"==typeof e.drawGroup&&"function"==typeof e.drawPath&&"function"==typeof e.drawRect&&"function"==typeof e.drawLine&&"function"==typeof e.drawLines&&"function"==typeof e.drawPolygon&&"function"==typeof e.drawEllipse&&"function"==typeof e.drawImage&&"function"==typeof e.drawSingleLineString&&"function"==typeof e.drawMultiLineString&&"function"==typeof e.drawMultiLines&&"function"==typeof e.drawDonut&&"function"==typeof e.createGroup&&"function"==typeof e.startReferenceGroup&&"function"==typeof e.endReferenceGroup}}(t||(t={})),t||(t={}),function(t){!function(t){t._isRenderPolicies=function(t){return null!=t&&void 0!==t.wordWrapPolicy}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function t(t,e){this.text=t,this.size=e}return t.prototype.clone=function(){return new t(this.text,this.size)},t}();t._LineStringMetricsResult=e}(t||(t={})),function(t){var e=function(t,e){this.lineMetricsResults=t.slice(),this.size=e};t._MultiLineStringMetricsResult=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInStringWrapPolicyBuilders=function(){return null==n.__buildInStringWrapPolicyBuilders&&(n.__buildInStringWrapPolicyBuilders=new n([],n._pluginType)),n.__buildInStringWrapPolicyBuilders},n.prototype._convert=function(e){return t._isStringWrapPolicyBuilder(e)?e:null},n.prototype._stringWrapPolicy=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildStringWrapPolicy();if(null!=r)return r}return t._DefaultWordWrapPolicy._defaultWordWrapPolicy},n._pluginType="StringWrap",n}(t._BuildInObjectCollection);t._BuildInStringWrapPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._measureString=function(t,e){return t.measureString(e)},e.prototype._splitWords=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++){n.length===i&&n.push("");var r=t.charAt(o),l="";o+1<t.length&&(l=t.charAt(o+1));for(var a=!1,s=0;s<e.length;s++){var u=e[s];if(r===u&&l!==u){a=!0;break}}a?(n[i]+=r,i++):n[i]+=r}return n},e.prototype._trimEndSpace=function(t){for(var e=t.length-1;" "===t.charAt(e);)e--;return e!==t.length-1&&(t=t.substring(0,e+1)),t},e.prototype._wrapAWord=function(t,e,n,i){for(var o=[],r=this._measureString(n,t),l=i,a=l?r.height:r.width,s=a/t.length,u=Math.ceil(e/s);a>e&&null!=t&&""!==t;)for(var _=!1,p=u;;){if(t.length<p){o.push(t),t="";break}var c=t.substring(0,p),h=this._measureString(n,c),f=l?h.height:h.width;if(l||"-"!==c.charAt(c.length-1)||(f-=this._measureString(n,"-").width),f===e||_&&f<e){o.push(c),t=t.substring(p),a-=f;break}if(f>e){if(1===c.length){var d=t.substring(c.length).trim();null!=d&&""!==d?(o.push(c),t=t.substring(p),a-=f):(o.push(t),t="");break}p-=1,_=!0}else{var y=(e-f)/s;p+=y=y>=1?y:1}}return null!=t&&""!==t&&-1===t.search(/^[ ]*$/)&&o.push(t),o},e.prototype.buildWrappedStrings=function(n,i,o,r){if(null==n||o<=0||i.length<=0)return new t._StringWrapResult([i],!0);var l=[];r=null!=r?r:e.__defaultSeparators;for(var a=this._splitWords(i,r),s=n.textWritingMode==t.TextWritingMode.Vertical,u=this._measureString(n,i),_=(s?u.height:u.width)/i.length,p=Math.floor(o/_),c=0,h=0,f=0,d=0,y=[],g=!1,m=!0;d<a.length;){if(!1===g){var v=a[d];if(y.push(v),(h+=v.length)<p&&d<a.length-1){d++;continue}f=h,h=0}var w=y.join(""),b=this._measureString(n,this._trimEndSpace(w)),S=s?b.height:b.width;if(s||"-"!==w.charAt(w.length-1)||(S-=this._measureString(n,"-").width),S>o){var P=y.pop();if(0===y.length){var C=this._wrapAWord(P,o,n,s),x=1==C.length;x||(m=x);for(var V=0;V<C.length-1;V++)t._ArrayUtility._assignValueToArray(l,c,C[V],null),c++;1===C.length&&(t._ArrayUtility._assignValueToArray(l,c,C[0],null),c++),C.length>=2?t._ArrayUtility._assignValueToArray(a,d,C[C.length-1],null):d++,g=!1}else g=!0,d--}else S<o&&!0===g||S===o?(g=!1,t._ArrayUtility._assignValueToArray(l,c,this._trimEndSpace(w),null),c++,y=[],d++):S<o&&(d++,h=f)}return 0!==y.length&&t._ArrayUtility._assignValueToArray(l,c,this._trimEndSpace(y.join("")),null),new t._StringWrapResult(l,m)},e.prototype.buildStringWrapPolicy=function(){return this},e.prototype.queryInterface=function(t){return"IStringWrapPolicy"===t||"IStringWrapPolicyBuilder"===t?this:null},e._defaultWordWrapPolicy=new e,e.__defaultSeparators=[" ","-"],e}();t._DefaultWordWrapPolicy=e}(t||(t={})),function(t){t._isStringWrapPolicy=function(t){return null!=t.buildWrappedStrings}}(t||(t={})),function(t){t._isStringWrapPolicyBuilder=function(t){return null!=t.buildStringWrapPolicy}}(t||(t={})),t||(t={}),function(t){var e=function(t,e){this.lines=t,this.canWrap=e};t._StringWrapResult=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.__savedContext=[],this.renderEngine=e,n=null==n?t._BuildInStringWrapPolicyBuilderCollection._buildInStringWrapPolicyBuilders()._stringWrapPolicy(i,o):n;var r=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureSingleLineString",i,o);null!=r&&t._isMeasureSingleLineStringRenderApi(r)?this.__measureSingleLineStringRenderApi=r:this.__measureSingleLineStringRenderApi=t._MeasureSingleLineStringRenderApi._measureSingleLineStringRenderApi;var l=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureMultiLineString",i,o);null!=l&&t._isMeasureMultiLineStringApi(l)?this.__measureMultiLineStringApi=l:this.__measureMultiLineStringApi=new t._MeasureMultiLineStringRenderApi(n);var a=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawSingleLineString",i,o);null!=a&&t._isDrawSingleLineStringRenderApi(a)?this.__drawSingleLineStringRenderApi=a:this.__drawSingleLineStringRenderApi=t._DrawSingleLineStringRenderApi._drawSingleLineStringRenderApi;var s=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawMultiLineString",i,o);null!=s&&t._isDrawMultiLineStringRenderApi(s)?this.__drawMultiLineStringRenderApi=s:this.__drawMultiLineStringRenderApi=new t._DrawMultiLineStringRenderApi(o);var u=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawMultiLines",i,o);null!=u&&t._isDrawMultiLinesRenderApi(u)?this.__drawMultiLinesRenderApi=u:this.__drawMultiLinesRenderApi=t._DrawMultiLinesRenderApi._drawMultiLinesRenderApi;var _=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawDonut",i,o);null!=_&&t._isDrawDonutRenderApi(_)?this.__drawDonutRenderApi=_:this.__drawDonutRenderApi=t._DrawDonutRenderApi._drawDonutRenderApi}return e.prototype.beginRender=function(){this.beginTransform(),null!=this.renderEngine&&this.renderEngine.beginRender()},e.prototype.endRender=function(){null!=this.renderEngine&&this.renderEngine.endRender(),this.restoreTransform()},e.prototype.setViewportSize=function(t,e){null!=this.renderEngine&&this.renderEngine.setViewportSize(t,e)},e.prototype.beginTransform=function(){this.__savedContext.push(t._StyleCloneMaker._styleCloneMaker._cloneOf(this))},e.prototype.restoreTransform=function(){if(this.__savedContext.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray,this.__savedContext);var e=this.__savedContext.pop();t._StyleUtility._copyAllStyle(this,e)},e.prototype.measureSingleLineString=function(e){return null==this.renderEngine?new t.core.Size(0,0):this.__measureSingleLineStringRenderApi.measureSingleLineString(this.renderEngine,e)},e.prototype.measureMultiLineString=function(e,n,i){return null==this.renderEngine?new t._MultiLineStringMetricsResult([],new t.core.Size(0,0)):this.__measureMultiLineStringApi.measureMultiLineString(this.renderEngine,e,n,i)},e.prototype.createGroup=function(e,n,i,o,r,l,a,s,u){if(null==this.renderEngine||!t._isPrimitivesRenderEngine(this.renderEngine))return null;var _=this.renderEngine.createGroup(e,n,i,o,r,l);return null!=_&&(_.offsetX=a,_.offsetY=s,null!=u&&u(this),this.renderEngine.endGroup()),_},e.prototype.drawGroup=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),null!=this.renderEngine&&(t._NativeExtension._isNullOrEmptyString(e)&&null==n&&null==i?o(this):(this.renderEngine.startGroup(e,n,i),o(this),this.renderEngine.endGroup()))},e.prototype.drawPath=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&this.renderEngine.drawPath(t,e,n,i,o,r)},e.prototype.drawRect=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&n>0&&i>0&&this.renderEngine.drawRect(t,e,n,i,o,r)},e.prototype.drawLine=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&(t==n&&e==i||this.renderEngine.drawLine(t,e,n,i,o,r))},e.prototype.drawLines=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),null!=this.renderEngine&&this.renderEngine.drawLines(t,e,n,i)},e.prototype.drawPolygon=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),null!=this.renderEngine&&this.renderEngine.drawPolygon(t,e,n,i)},e.prototype.drawEllipse=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&this.renderEngine.drawEllipse(t,e,n,i,o,r)},e.prototype.drawImage=function(t,e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.renderEngine&&this.renderEngine.drawImage(t,e,n,i,o,r,l)},e.prototype.drawSingleLineString=function(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.renderEngine&&this.__drawSingleLineStringRenderApi.drawSingleLineString(this.renderEngine,t,e,n,i,o)},e.prototype.drawMultiLineString=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&this.__drawMultiLineStringRenderApi.drawMultiLineString(this.renderEngine,this.wordWrapPolicy,t,e,n,i,o,r)},e.prototype.drawMultiLines=function(t,e,n,i,o){null!=this.renderEngine&&this.__drawMultiLinesRenderApi.drawMultiLines(this.renderEngine,t,e,n,i,o)},e.prototype.drawDonut=function(t,e,n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null),null!=this.renderEngine&&this.__drawDonutRenderApi.drawDonut(this.renderEngine,t,e,n,i,o,r,l,a)},e.prototype.startReferenceGroup=function(e){null!=this.renderEngine&&t._isPrimitivesRenderEngine(this.renderEngine)&&this.renderEngine.startReferenceGroup(e)},e.prototype.endReferenceGroup=function(){null!=this.renderEngine&&t._isPrimitivesRenderEngine(this.renderEngine)&&this.renderEngine.endReferenceGroup()},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.fillOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fillOpacity=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return null!=this.renderEngine?this.renderEngine.fill:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeOpacity=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return null!=this.renderEngine?this.renderEngine.stroke:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeWidth:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeDasharray:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeDasharray=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingStroke",{get:function(){return null!=this.renderEngine?this.renderEngine.scalingStroke:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.scalingStroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return null!=this.renderEngine?this.renderEngine.fontFamily:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontFamily=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return null!=this.renderEngine?this.renderEngine.fontSize:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return null!=this.renderEngine?this.renderEngine.fontWeight:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontWeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return null!=this.renderEngine?this.renderEngine.fontStyle:t.FontStyle.Normal},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.textOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textOpacity=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textFill",{get:function(){return null!=this.renderEngine?this.renderEngine.textFill:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textFill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textOverline",{get:function(){return null!=this.renderEngine?this.renderEngine.textOverline:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textOverline=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textLineThrough",{get:function(){return null!=this.renderEngine?this.renderEngine.textLineThrough:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textLineThrough=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textUnderline",{get:function(){return null!=this.renderEngine?this.renderEngine.textUnderline:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textUnderline=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWritingMode",{get:function(){return null!=this.renderEngine?this.renderEngine.textWritingMode:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textWritingMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapPolicy",{get:function(){return this.__measureMultiLineStringApi.wordWrapPolicy},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(t){return"IRender"==t||"IRenderPolicies"==t?this:null},e}(),e._Render=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInRenderApiBuilders=function(){return null==n.__buildInRenderApiBuilders&&(n.__buildInRenderApiBuilders=new n([],n._pluginType)),n.__buildInRenderApiBuilders},n.prototype._convert=function(e){return t._isRenderApiBuilder(e)?e:null},n.prototype.renderApi=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item.buildRenderApi(t,r.option);if(null!=l)return l}return null},n._pluginType="RenderApi",n}(t._BuildInObjectCollection);t._BuildInRenderApiBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.api="drawDonut"}return e.prototype.drawDonut=function(e,n,i,o,r,l,a,s,u){if(!(o<=0)&&0!=a)if(r<0)e.drawEllipse(n,i,o,o,s);else if(r===o&&a>=t._Utility._PI2){var _=e.fill;e.fill=t._CssColor._none(),e.drawEllipse(n,i,o,o,s),e.fill=_}else if(r===o&&a<t._Utility._PI2){_=e.fill,e.fill=t._CssColor._none();var p=t._PathBuilder._defaultPathBuilder._buildDonutSegment(n,i,o,r,l,a);e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,s,u),e.fill=_}else p=t._PathBuilder._defaultPathBuilder._buildDonutSegment(n,i,o,r,l,a),e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,s,u)},e._drawDonutRenderApi=new e,e}();t._DrawDonutRenderApi=e}(t||(t={})),function(t){t._isDrawDonutRenderApi=function(t){return"function"==typeof t.drawDonut}}(t||(t={})),function(t){var e=function(){function e(){this.api="drawMultiLines"}return e.prototype._draw=function(e,n,i,o){if(null!=n)if(e.textWritingMode==t.TextWritingMode.Vertical)for(var r=i.right,l=i.top,a=0,s=n;a<s.length;a++)r-=(p=s[a]).size.width,o==t.HAlign.Left?e.drawString(p.text,r-p.size.width,l):o==t.HAlign.Center?e.drawString(p.text,r-p.size.width,l+(i.height-p.size.height)/2):o==t.HAlign.Right&&e.drawString(p.text,r-p.size.width,l+i.height-p.size.height);else{r=i.left,l=i.top;for(var u=0,_=n;u<_.length;u++){var p;l+=(p=_[u]).size.height,o==t.HAlign.Left?e.drawString(p.text,r,l):o==t.HAlign.Center?e.drawString(p.text,r+(i.width-p.size.width)/2,l):o==t.HAlign.Right&&e.drawString(p.text,r+i.width-p.size.width,l)}}},e.prototype.drawMultiLines=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=e&&(null!=o||null!=r?(t.startGroup(null,o,r),this._draw(t,e,n,i),t.endGroup()):this._draw(t,e,n,i))},e._drawMultiLinesRenderApi=new e,e}();t._DrawMultiLinesRenderApi=e}(t||(t={})),function(t){t._isDrawMultiLinesRenderApi=function(t){return"function"==typeof t.drawMultiLines}}(t||(t={})),function(t){var e=function(){function e(t){this.api="drawMultiLineString",this.__pluginCollection=t}return e.prototype._measureMultiLineStringRenderApi=function(e){var n=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureMultiLineString",null,this.__pluginCollection);return null!=n&&t._isMeasureMultiLineStringApi(n)?n:new t._MeasureMultiLineStringRenderApi(e)},e.prototype._draw=function(e,n,i,o,r,l){var a=this._measureMultiLineStringRenderApi(n);if(e.textWritingMode==t.TextWritingMode.Vertical)for(var s=a.measureMultiLineString(e,i,o.height,r),u=o.right,_=o.top,p=0,c=s.lineMetricsResults;p<c.length;p++)u-=(d=c[p]).size.width,l==t.HAlign.Left?e.drawString(d.text,u-d.size.width,_):l==t.HAlign.Center?e.drawString(d.text,u-d.size.width,_+(o.height-d.size.height)/2):l==t.HAlign.Right&&e.drawString(d.text,u-d.size.width,_+o.height-d.size.height);else{s=a.measureMultiLineString(e,i,o.width,r),u=o.left,_=o.top;for(var h=0,f=s.lineMetricsResults;h<f.length;h++){var d;_+=(d=f[h]).size.height,l==t.HAlign.Left?e.drawString(d.text,u,_):l==t.HAlign.Center?e.drawString(d.text,u+(o.width-d.size.width)/2,_):l==t.HAlign.Right&&e.drawString(d.text,u+o.width-d.size.width,_)}}},e.prototype.drawMultiLineString=function(e,n,i,o,r,l,a,s){void 0===a&&(a=null),void 0===s&&(s=null),t._NativeExtension._isNullOrEmptyString(i)||(null!=a||null!=s?(e.startGroup(null,a,s),this._draw(e,n,i,o,r,l),e.endGroup()):this._draw(e,n,i,o,r,l))},e}();t._DrawMultiLineStringRenderApi=e}(t||(t={})),function(t){t._isDrawMultiLineStringRenderApi=function(t){return"function"==typeof t.drawMultiLineString}}(t||(t={})),function(t){var e=function(){function e(){this.api="drawSingleLineString"}return e.prototype.drawSingleLineString=function(e,n,i,o,r,l){t._NativeExtension._isNullOrEmptyString(n)||e.drawString(n,i,o,r,l)},e._drawSingleLineStringRenderApi=new e,e}();t._DrawSingleLineStringRenderApi=e}(t||(t={})),function(t){t._isDrawSingleLineStringRenderApi=function(t){return"function"==typeof t.drawSingleLineString}}(t||(t={})),t||(t={}),function(t){t._isRenderApiBuilder=function(t){return"function"==typeof t.buildRenderApi}}(t||(t={})),function(t){t._isMeasureMultiLineStringApi=function(t){return"function"==typeof t.measureMultiLineString}}(t||(t={})),function(t){var e=function(){function e(t){this.wordWrapPolicy=t,this.api="measureMultiLineString"}return e.prototype._measureMultipleLines=function(e,n,i,o){for(var r=[],l=0,a=n.buildWrappedStrings(e,i,o,null).lines;l<a.length;l++){var s=a[l];r.push(new t._LineStringMetricsResult(s,this._measureString(e,s)))}return r},e.prototype._measureEllipsisLine=function(e,n,i){var o=e.textWritingMode==t.TextWritingMode.Vertical,r=this._measureString(e,n);if(o&&r.height<=i||!o&&r.width<=i)return new t._LineStringMetricsResult(n,r);var l=new t.core.Size(0,0),a="",s=0,u=n.length;do{var _=n.substring(0,s+u)+"...";if(r=this._measureString(e,_),o&&r.height<=i||!o&&r.width<=i)s+=u,l=r,a=_,u=n.length-s;else{if(1==u)break;u>0&&(u=Math.floor(u/2))<1&&(u=1)}}while(u>0);return s<=0?(s=1,r=this._measureString(e,n.substring(0,s)+"..."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult(n.substring(0,s)+"...",r):(r=this._measureString(e,"..."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult("...",r):(r=this._measureString(e,".."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult("..",r):(r=this._measureString(e,"."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult(".",r):new t._LineStringMetricsResult("",new t.core.Size(0,r.height)))))):new t._LineStringMetricsResult(a,l)},e.prototype._measureString=function(e,n){if(n.length<=0){var i=e.measureString("A");return e.textWritingMode==t.TextWritingMode.Vertical?i.height=0:i.width=0,i}return e.measureString(n)},e.prototype.measureMultiLineString=function(e,n,i,o){var r;if(null==n)return new t._MultiLineStringMetricsResult([],new t.core.Size(0,0));var l=e.textWritingMode==t.TextWritingMode.Vertical;if(n.length<=0){var a=new t._LineStringMetricsResult("",this._measureString(e,"A"));return new t._MultiLineStringMetricsResult([a],a.size)}for(var s=new t._MultiLineStringMetricsResult([],new t.core.Size(0,0)),u=0,_=n.split("\n");u<_.length;u++){var p=_[u];o==t.TextOverflow.Wrap?(r=s.lineMetricsResults).push.apply(r,this._measureMultipleLines(e,this.wordWrapPolicy,p,i)):o==t.TextOverflow.Ellipsis?s.lineMetricsResults.push(this._measureEllipsisLine(e,p,i)):s.lineMetricsResults.push(new t._LineStringMetricsResult(p,this._measureString(e,p)))}for(var c=0,h=s.lineMetricsResults;c<h.length;c++){var f=h[c];l?(s.size.width+=f.size.width,s.size.height<f.size.height&&(s.size.height=f.size.height)):(s.size.height+=f.size.height,s.size.width<f.size.width&&(s.size.width=f.size.width))}return s},e}();t._MeasureMultiLineStringRenderApi=e}(t||(t={})),function(t){t._isMeasureSingleLineStringRenderApi=function(t){return"function"==typeof t.measureSingleLineString}}(t||(t={})),function(t){var e=function(){function e(){this.api="measureSingleLineString"}return e.prototype.measureSingleLineString=function(e,n){if(null==n)return new t.core.Size(0,0);if(n.length<=0){var i=e.measureString("A");return e.textWritingMode==t.TextWritingMode.Vertical?i.height=0:i.width=0,i}return e.measureString(n)},e._measureSingleLineStringRenderApi=new e,e}();t._MeasureSingleLineStringRenderApi=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i,o){void 0===n&&(n=null),void 0===o&&(o=null),this._hostElement=t,null==n||isNaN(n)?(this._devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,this._devicePixelRatio<1&&(this._devicePixelRatio=1)):this._devicePixelRatio=n,this.__pluginOptions=i,this.__pluginCollection=o,this.__defaultSurfaceRender=new e._CanvasSurfaceRender(this,this._devicePixelRatio,i,o)}return n.prototype.dispose=function(){null!=this.__defaultSurfaceRender&&(this.__defaultSurfaceRender.dispose(),this.__defaultSurfaceRender=null)},n.prototype.defaultSurfaceRender=function(){return this.__defaultSurfaceRender},n.prototype._createMemorySurfaceRender=function(){var t=new e._CanvasSurfaceRender(this,this._devicePixelRatio,this.__pluginOptions,this.__pluginCollection);return this._hostElement.removeChild(this._hostElement.lastChild),e._CanvasSurfaceRender._copyStyle(this.__defaultSurfaceRender,t),t},n.prototype._createRenderEngine=function(){return t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Canvas",this._hostElement,this._devicePixelRatio,this.__pluginOptions,this.__pluginCollection)},n}(),e._CanvasGraphicsRender=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i,o){this.__graphicsRender=t,this.__renderEngine=this.__graphicsRender._createRenderEngine(),this.__render=new e._Render(this.__renderEngine,null,i,o)}return n._copyStyle=function(t,e){var n=t._render(),i=e._render();i.fillOpacity=n.fillOpacity,i.strokeOpacity=n.strokeOpacity,i.fill=n.fill,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth,i.strokeDasharray=n.strokeDasharray,i.textFill=n.textFill,i.fontFamily=n.fontFamily,i.fontSize=n.fontSize,i.fontWeight=n.fontWeight,i.fontStyle=n.fontStyle,i.textOverline=n.textOverline,i.textLineThrough=n.textLineThrough,i.textUnderline=n.textUnderline},n.copy1=function(t,e,n,i,o,r,l,a,s,u){var _=t._getRenderElement(),p=e._getRenderElement();_ instanceof HTMLCanvasElement&&p instanceof HTMLCanvasElement&&o>0&&r>0&&s>0&&u>0&&p.getContext("2d").drawImage(_,n,i,o,r,l,a,s,u)},n.prototype.dispose=function(){null!=this.__renderEngine&&(t._DomElementExtension._remove(this.__renderEngine._canvasElement),this.__renderEngine=null),this.__render=null},n.prototype._render=function(){return this.__render},n.prototype.queryInterface=function(t){return"ISurfaceRender"==t?this:null},n.prototype.copyTo1=function(t,e,i,o,r,l,a,s,u){n.copy1(this,t,e,i,o,r,l,a,s,u)},n.prototype._getRenderElement=function(){var e=this._render().renderEngine;return null!=e&&(e instanceof t._CanvasRenderEngine||e instanceof t._CanvasWithSvgMetricsRenderEngine)?e._canvasElement:null},n.prototype._createRenderEngine=function(n,i,o,r){void 0===r&&(r=null);var l=t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Canvas",n,i,o,r);return null!=l?new e._Render(l,null,o,r):null},n}(),e._CanvasSurfaceRender=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i){void 0===i&&(i=null),this._hostElement=t,this.__renderEngine=this._createRenderEngine(this._hostElement,null,n,i),this.__defaultSurfaceRender=new e._SvgSurfaceRender(this.__renderEngine,n,i)}return n.prototype.dispose=function(){null!=this.__defaultSurfaceRender&&(this.__defaultSurfaceRender.dispose(),this.__defaultSurfaceRender=null),null!=this.__renderEngine&&(t._DomElementExtension._remove(this.__renderEngine._svgElement),this.__renderEngine=null)},n.prototype.defaultSurfaceRender=function(){return this.__defaultSurfaceRender},n.prototype._renderEngine=function(){return this.__renderEngine},n.prototype._createRenderEngine=function(e,n,i,o){return void 0===o&&(o=null),t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Svg",e,n,i,o)},n}(),e._SvgGraphicsRender=n}(t||(t={})),function(t){!function(t){var e=function(){function e(e,n,i){this.__renderEngine=e,this.__render=new t._Render(this.__renderEngine,null,n,i)}return e.prototype.dispose=function(){this.__render=null},e.prototype._render=function(){return this.__render},e.prototype.queryInterface=function(t){return"ISurfaceRender"==t?this:null},e}();t._SvgSurfaceRender=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInConditionalFormattingRuleBuilders=function(){return null==n.__buildInConditionalFormattingRuleBuilders&&(n.__buildInConditionalFormattingRuleBuilders=new n([],n._pluginType)),n.__buildInConditionalFormattingRuleBuilders},n.prototype._convert=function(e){return t._isConditionalFormattingRuleBuilder(e)?e:null},n.prototype._conditionalFormattingRule=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildConditionalFormattingRule(t,e,n);if(null!=r)return r}return null},n._pluginType="ConditionalFormattingRule",n}(t._BuildInObjectCollection);t._BuildInConditionalFormattingRuleBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this.__option=e,this.__pluginOptions=n,this.__pluginCollection=i,null!=e.condition&&e.condition.length>0&&null!=e.actions&&e.actions.length>0?this.__calculationEngine=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,n,i):this.__calculationEngine=null}return n.prototype._option=function(){return this.__option},n.prototype._current=function(){return this.__current},n.prototype.evaluate=function(t){null!=this.__calculationEngine&&(this.__current=t,this.__calculationEngine.evaluate("CONDITION",this._option().condition))},n.prototype.isIdentityExpression=function(t){return null!=e._RuleExpressionBuilder._defaultBuilder().build(t)},n.prototype.getIdentityValue=function(t){return e._RuleExpressionBuilder._defaultBuilder().build(t)._evaluate(this._current())},n.prototype.resultCallback=function(t){null!=t&&1==t&&this._applyActions()},n.prototype._applyActions=function(){for(var t=0,e=this._option().actions;t<e.length;t++){var n=e[t],i=this._findActionTarget(n);null!=i&&this._createTargetElementAction(n,this.__pluginOptions,this.__pluginCollection)._apply(i)}},n.prototype._findActionTarget=function(t){return this._current()},n.prototype._createTargetElementAction=function(t,n,i){return new e._TargetElementAction(t,n,i)},n}(),e._ConditionalFormattingRule=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this.__option=e,this.__calculationEngine=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,n,i)}return n.prototype._apply=function(e){this.__target=e;for(var n=0,i=this.__option.properties;n<i.length;n++){var o=i[n],r=o.value;if("string"==typeof o.value){var l=t._AnyTypeUtility._toString(o.value),a=/^\s*(?!\\)=\s*.+/.exec(l);null!=a&&(l=t._EscapedCharacterStringUtility._trim(a[0]).substring(1),null!=this.__calculationEngine&&(this.__result=null,this.__calculationEngine.evaluate("EXPRESSION",l),r=this.__result))}this._assign(e,o.name,r)}},n.prototype._assign=function(e,n,i){new t._AnyValueBinding(n)._setValue(e,i)},n.prototype.isIdentityExpression=function(t){return null!=e._RuleExpressionBuilder._defaultBuilder().build(t)},n.prototype.getIdentityValue=function(t){var n=e._RuleExpressionBuilder._defaultBuilder().build(t)._evaluate(this.__target);return null!=n&&e._isCssColor(n)&&(n=n.color),n},n.prototype.resultCallback=function(t){"number"==typeof t||"boolean"==typeof t||"string"==typeof t||t instanceof Date?this.__result=t:this.__result=null},n.prototype._parseColorValue=function(n){if(null==n)return null;if(e._isCssColor(n)||e._isLinearGradientColor(n)||e._isRadialGradientColor(n)||e._isPatternColor(n))return n;var i=t._CastExtension.toColorOptionOrNull(n);return t._StyleUtility._colorFromOption(i)},n.prototype._parseColorOptionValue=function(e){return null==e?null:t._CastExtension.toColorOptionOrNull(e)},n}(),e._TargetElementAction=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return i(n,e),n.prototype._findActionTarget=function(t){return"DataPoint"==t.targetElement?this._current():null},n.prototype._getValueFromPoint=function(t,e){var n=t.queryInterface("IModelProxy");return null!=n?n.get(e):null},n.prototype._createTargetElementAction=function(n,i,o){var r=this._current().queryInterface("IModelProxy");return null!=r?new t._PointTargetElementAction(n,r,i,o):e.prototype._createTargetElementAction.call(this,n,i,o)},n}(t._ConditionalFormattingRule);t._PointConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return e.prototype.buildConditionalFormattingRule=function(e,n,i){return null!=e&&"DataPoint"===e.type?new t.models._PointConditionalFormattingRule(e,n,i):null},e.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PointConditionalFormattingRulePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o){return e.call(this,t,i,o)||this}return i(n,e),n.prototype._assign=function(e,n,i){var o=new t._AnyValueBinding(n);if(/^\s*(.+\.)*(text\..+)\s*$/.test(n))o._setValue(e,i);else if(/^\s*(.+\.)*size\s*$/.test(n)){var r=this._parseSizeValue(i);null!=r&&o._setValue(e,r)}else if(/^\s*(.+\.)*shape\s*$/.test(n)){var l=this._parseSymbolShape(e,i);null!=l&&o._setValue(e,l)}else if(/^\s*(.+\.)*(textStyle\.color)\s*$/.test(n))o._setValue(e,i);else if(/^\s*(.+\.)*color\s*$/.test(n)){var a=this._parseColorValue(i);o._setValue(e,a)}else/^\s*(.+\.)*(style\.((stroke)|(fill)|(backgroundColor)|(symbolStroke)|(symbolFill)))\s*$/.test(n)?(a=this._parseColorOptionValue(i),o._setValue(e,a)):o._setValue(e,i)},n.prototype._parseSymbolShape=function(e,n){if("string"==typeof n){var i=t._PlotViewModelUtility._toPointView(e);if(null!=i){var o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithName(i._getPlotView()._getDefinition()._symbolDefinitionProviders(),n);if(null!=o)return o.type}}return null},n.prototype._parseSizeValue=function(e){return null==e?null:t._CastExtension._toNumberOptionOrNull(e,0,null,!0)},n}(e._TargetElementAction),e._PointTargetElementAction=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return i(n,e),n.prototype._findActionTarget=function(t){return"Group"==t.targetElement?this._current():null},n.prototype._createTargetElementAction=function(e,n,i){return new t._SeriesTargetElementAction(e,n,i)},n}(t._ConditionalFormattingRule);t._SeriesConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return e.prototype.buildConditionalFormattingRule=function(e,n,i){return null!=e&&"Group"===e.type?new t.models._SeriesConditionalFormattingRule(e,n,i):null},e.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SeriesConditionalFormattingRulePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._assign=function(e,n,i){if("color"==n){var o=this._parseColorValue(i);e.color=o}else if("style.stroke"==n){var r=this._parseColorOptionValue(i);e.style.stroke=r}else if("style.fill"==n){var l=this._parseColorOptionValue(i);e.style.fill=l}else if("style.backgroundColor"==n){var a=this._parseColorOptionValue(i);e.style.backgroundColor=a}else if("style.symbolStroke"==n){var s=this._parseColorOptionValue(i);e.style.symbolStroke=s}else if("style.symbolFill"==n){var u=this._parseColorOptionValue(i);e.style.symbolFill=u}else new t._AnyValueBinding(n)._setValue(e,i)},n}(e._TargetElementAction),e._SeriesTargetElementAction=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e){this._expression=t,this.__subRuleExpressionBuilder=e}return e.prototype._getBinding=function(e){return new t._AnyValueBinding(e)},e.prototype._evaluate=function(e){if(null==e)return null;var n=this._expression;if("current"===n)return e;for(var i,o=/\[\s*current\..+\s*\]/g;null!=(i=o.exec(this._expression));){var r=i[0].substring(1,i[0].length-1),l=this.__subRuleExpressionBuilder.build(r);if(null!=l){var a=l._evaluate(e),s=void 0;if("number"==typeof a)s=a.toString();else{if("string"!=typeof a)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,a);s=a}n=n.replace(i[0],"["+s+"]")}}var u=/^current(\.((previous)|(next)))+/.exec(n);return null!=u&&null==this._getBinding(u[0].substring(8))._getValue(e)?null:this._getBinding(n.substring(8))._getValue(e)},e}(),e._RuleExpression=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n._defaultBuilder=function(){return null==n.__ruleExpressionBuilder&&(n.__ruleExpressionBuilder=new n),n.__ruleExpressionBuilder},n.prototype._createRuleExpression=function(t){return new e._RuleExpression(t,n._defaultBuilder())},n.prototype._fromShorhand=function(t){for(var e,n=t,i=/(^((parent)|(index)|(previous)|(next)))|((?:\[)((parent)|(index)|(previous)|(next))(\..+)*(?:\]))/g;null!=(e=i.exec(n));)n=/\[.+\]/.test(e[0])?t.replace(e[0],"[current."+e[0].substring(1)):t.replace(e[0],"current."+e[0]);return n},n.prototype.build=function(e){if(null==e)return null;var n=t._EscapedCharacterStringUtility._trim(this._fromShorhand(e)),i=/^current(\..+(\[[^\]]+\])?)*$/.exec(n);if(null!=i){for(var o=i[0],r=/\[\s*current\..+\s*\]/g,l=void 0;null!=(l=r.exec(o));){var a=l[0].substring(1,l[0].length-1);if(null==this.build(a))return null}return this._createRuleExpression(n)}return null},n}(),e._RuleExpressionBuilder=n}(t||(t={})),t||(t={}),function(t){t._isConditionalFormattingRuleBuilder=function(t){return null!=t.buildConditionalFormattingRule}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),t||(t={}),function(t){t._isScrollableContainerOwner=function(t){var e=t;return null!=e&&"function"==typeof e._createScrollbar&&"function"==typeof e._scrollTo&&"function"==typeof e._isHitTested}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._owner=t,this._initListeners(),this._initScrollbars()}return e.prototype._initListeners=function(){var e=t._ViewUtility._dvView(this._owner);if(null!=e){var n=t._DvViewUtility._domManager(e);if(null!=n){var i=this;this.__listeners=n._subscribeEvents(["mouseenter","mousemove","mouseleave","touchstart","touchend"],(function(t){i._doMotion(t)}))}}},e.prototype._initScrollbars=function(){var e=this;this.__hScrollbar=this._owner._createScrollbar(t.Orientation.Horizontal),null!=this.__hScrollbar&&(this.__hScrollbar._scrollCallback=function(t,n){var i=null==e._vScrollbar?0:e._vScrollbar._value;e._owner._scrollTo(t,i)}),this.__vScrollbar=this._owner._createScrollbar(t.Orientation.Vertical),null!=this.__vScrollbar&&(this.__vScrollbar._scrollCallback=function(t,n){var i=null==e._hScrollbar?0:e._hScrollbar._value;e._owner._scrollTo(i,t)})},e.prototype._doMotion=function(e){e.action!=t.MotionEvent.ACTION_UP&&this._owner._isHitTested(e.x,e.y)?this._active():this._inactive()},Object.defineProperty(e.prototype,"_hScrollbar",{get:function(){return this.__hScrollbar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_vScrollbar",{get:function(){return this.__vScrollbar},enumerable:!0,configurable:!0}),e.prototype._active=function(){var t=!1;return null==this.__hScrollbar||this.__hScrollbar._isActive||(this.__hScrollbar._isActive=!0,this.__hScrollbar._refresh(),t=!0),null==this.__vScrollbar||this.__vScrollbar._isActive||(this.__vScrollbar._isActive=!0,this.__vScrollbar._refresh(),t=!0),t},e.prototype._inactive=function(){null!=this.__hScrollbar&&this.__hScrollbar._isActive&&(this.__hScrollbar._isActive=!1,this.__hScrollbar._refresh()),null!=this.__vScrollbar&&this.__vScrollbar._isActive&&(this.__vScrollbar._isActive=!1,this.__vScrollbar._refresh())},e.prototype.dispose=function(){if(null!=this.__hScrollbar&&(this.__hScrollbar.dispose(),this.__hScrollbar=null),null!=this.__vScrollbar&&(this.__vScrollbar.dispose(),this.__vScrollbar=null),null!=this.__listeners){var e=t._ViewUtility._dvView(this._owner),n=t._DvViewUtility._domManager(e);null!=n&&n._unsubscribeEvents(this.__listeners),this.__listeners=null}},e.VSCROLLBAR_WIDTH_OR_HSCROLLBAR_HEIGHT=11,e}();t._ScrollableContainer=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e._buildScrollbar=function(e,n,i,o){var r,l=t._ScrollableContainer.VSCROLLBAR_WIDTH_OR_HSCROLLBAR_HEIGHT;return e==t.Orientation.Horizontal?(null!=(r=o._createScrollbar(e,0,n.width,0,i.width))&&(r._bounds=new t.core.Rect(n.left,n.bottom-l,n.width,l)),r):(null!=(r=o._createScrollbar(e,0,n.height,0,i.height))&&(r._bounds=new t.core.Rect(n.right-l,n.top,l,n.height)),r)},e}();t._ScrollUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._support=function(e){return new t.Vector2d(0,0)},e.prototype.queryInterface=function(t){return"IShape"===t?this:null},e}();t._BaseShape=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__x=t,this.__y=e}return Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!0,configurable:!0}),e.prototype.moudule=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.reverse=function(){return new e(-this.x,-this.y)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.cross=function(t){return this.x*t.y-this.y*t.x},e.prototype.scalar=function(t){return new e(this.x*t,this.y*t)},e.prototype.normal=function(){var t=this.moudule();return new e(this.x/t,this.y/t)},e.prototype.substract=function(t){return new e(this.x-t.x,this.y-t.y)},e.pointSub=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.horizon=function(){return new e(1,0)},e.prototype.point=function(){return new t.core.Point(this.x,this.y)},e}();t.Vector2d=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isCross=function(t,e,n,i){return null!=this._getCrossPoint(t,e,n,i)},e._getCrossPoint=function(e,n,i,o){var r=this._subtractPoints(n,e),l=this._subtractPoints(o,i),a=this._crossProduct(r,l),s=this._crossProduct(this._subtractPoints(i,e),r);if(0==s&&0==a){if(e.equalsWith(i)||e.equalsWith(o)||n.equalsWith(i)||n.equalsWith(o))return null;if(this._allEqual(i.x-e.x<0,i.x-n.x<0,o.x-e.x<0,o.x-n.x<0)&&this._allEqual(i.y-e.y<0,i.y-n.y<0,o.y-e.y<0,o.y-n.y<0))return null}if(0==a)return null;var u=s/a,_=this._crossProduct(this._subtractPoints(i,e),l)/a;if(_>=0&&_<=1&&u>=0&&u<=1){var p=e.x+_*r.x,c=e.y+_*r.y;return new t.core.Point(p,c)}return null},e._crossProduct=function(t,e){return t.x*e.y-t.y*e.x},e._subtractPoints=function(e,n){return new t.core.Point(e.x-n.x,e.y-n.y)},e._allEqual=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i+=1)if(t[i]!=n)return!1;return!0},e}();t._AlgorithmUtils=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(){}return e._getCssPixelValueWithRatio=function(e,n,i){return e.type==t.ValueOptionType.Percentage?e.value*n/100/i:e.value/i},e._isEmpty=function(t){return!(null!=t.horizontalRadius&&!e._isValueEmpty(t.horizontalRadius)||null!=t.verticalRadius&&!e._isValueEmpty(t.verticalRadius))},e._isValueEmpty=function(t){return null==t||0==t.topRight.value&&0==t.topLeft.value&&0==t.bottomRight.value&&0==t.bottomLeft.value},e._ratioOfConvertPercentageToPixel=function(n,i,o){if(null==n||0==i||0==o)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n,i,o);if(e._isValueEmpty(n.horizontalRadius)&&e._isValueEmpty(n.verticalRadius))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);var r=this._getCssPixelValue(n.horizontalRadius.topLeft,i)+this._getCssPixelValue(n.horizontalRadius.topRight,i),l=this._getCssPixelValue(n.horizontalRadius.bottomLeft,i)+this._getCssPixelValue(n.horizontalRadius.bottomRight,i),a=Math.max(i,Math.max(r,l)),s=this._getCssPixelValue(n.verticalRadius.topLeft,o)+this._getCssPixelValue(n.verticalRadius.bottomLeft,o),u=this._getCssPixelValue(n.verticalRadius.topRight,o)+this._getCssPixelValue(n.verticalRadius.bottomRight,o),_=Math.max(o,Math.max(s,u));return Math.max(1,Math.max(a/i,_/o))},e._createPtsFromBorderRadiusRect=function(n,i,o,r,l,a){if(null==l||0==o||0==r)return new t._Polyline([],[]);if(e._isValueEmpty(l.horizontalRadius)&&e._isValueEmpty(l.verticalRadius))return new t._Polyline([],[]);for(var s=e._ratioOfConvertPercentageToPixel(l,o,r),u=e._getCssPixelValueWithRatio(l.horizontalRadius.topLeft,o,s),_=e._getCssPixelValueWithRatio(l.verticalRadius.topLeft,r,s),p=e._getCssPixelValueWithRatio(l.horizontalRadius.topRight,o,s),c=e._getCssPixelValueWithRatio(l.verticalRadius.topRight,r,s),h=e._getCssPixelValueWithRatio(l.horizontalRadius.bottomRight,o,s),f=e._getCssPixelValueWithRatio(l.verticalRadius.bottomRight,r,s),d=e._getCssPixelValueWithRatio(l.horizontalRadius.bottomLeft,o,s),y=e._getCssPixelValueWithRatio(l.verticalRadius.bottomLeft,r,s),g=[],m=[],v=this._getAppropriateSizes(a,[1,2,1,2,1,2,1,2]),w=[new t._LinearCurveLerp(n+u,n+o-p),new t._QuadBezierCurveLerp(n+o-p,n+o,n+o),new t._LinearCurveLerp(n+o,n+o),new t._QuadBezierCurveLerp(n+o,n+o,n+o-h),new t._LinearCurveLerp(n+o-h,n+d),new t._QuadBezierCurveLerp(n+d,n,n),new t._LinearCurveLerp(n,n),new t._QuadBezierCurveLerp(n,n,n+u)],b=[new t._LinearCurveLerp(i,i),new t._QuadBezierCurveLerp(i,i,i+c),new t._LinearCurveLerp(i+c,i+r-f),new t._QuadBezierCurveLerp(i+r-f,i+r,i+r),new t._LinearCurveLerp(i+r,i+r),new t._QuadBezierCurveLerp(i+r,i+r,i+r-y),new t._LinearCurveLerp(i+r-y,i+_),new t._QuadBezierCurveLerp(i+_,i,i)],S=0;S<8;++S)g.push.apply(g,this._lerpBy(w[S],v[S])),m.push.apply(m,this._lerpBy(b[S],v[S]));return new t._Polyline(g,m)},e._getCssPixelValue=function(e,n){return e.type==t.ValueOptionType.Percentage?e.value*n/100:e.value},e._getAppropriateSizes=function(t,e){for(var n=e.reduce((function(t,e){return t+e}),0),i=[],o=0,r=e.map((function(t){return t/n}));o<r.length;o++){var l=r[o];i.push(Math.floor(l*t))}for(var a=t-i.reduce((function(t,e){return t+e}),0),s=i.length;a>0;){var u=Math.floor(Math.random()*s);i[u]=i[u]+1,--a}return i},e._lerpBy=function(t,e){var n=this._getStepBy(e),i=[],o=0;do{i.push(t._lerp(o)),o+=n}while(o<=1);return i.length<e&&i.push(t._lerp(1)),i},e._getStepBy=function(t){return t<3?1:1/(t-1)},e}(),e._BorderRadiusExtension=n}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){this.p1=t,this.p2=e,this.p3=n,this.p4=i}return e.prototype._lerp=function(e){return t._CurveLerp._cubicBezier(this.p1,this.p2,this.p3,this.p4,e)},e}();t._CubicBezierCurveLerp=e}(t||(t={})),function(t){var e=function(){function t(){}return t._linear=function(t,e,n){return t+(e-t)*n},t._quadBezier=function(t,e,n,i){return this._linear(this._linear(t,e,i),this._linear(e,n,i),i)},t._cubicBezier=function(t,e,n,i,o){return this._quadBezier(this._linear(t,e,o),this._linear(e,n,o),this._linear(n,i,o),o)},t}();t._CurveLerp=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.p1=t,this.p2=e}return e.prototype._lerp=function(e){return t._CurveLerp._linear(this.p1,this.p2,e)},e}();t._LinearCurveLerp=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.p1=t,this.p2=e,this.p3=n}return e.prototype._lerp=function(e){return t._CurveLerp._quadBezier(this.p1,this.p2,this.p3,e)},e}();t._QuadBezierCurveLerp=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(e,n,i,o){if(this.__x=Number.NaN,this.__y=Number.NaN,isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o))throw new t.AssertError(t.ErrorCode.UnexpectedNaNValue);if(this.cx=e,this.cy=n,this.angle=o,i<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,i);this.radius=i}return e.prototype.x=function(){return isNaN(this.__x)&&(this.__x=this.cx+this.radius*Math.sin(this.angle)),this.__x},e.prototype.y=function(){return isNaN(this.__y)&&(this.__y=this.cy+this.radius*Math.cos(this.angle)),this.__y},e.prototype.equalsWith=function(t){return t instanceof e?this.cx==t.cx&&this.cy==t.cy&&this.radius==t.radius&&this.angle==t.angle:this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.cx,this.cy,this.radius,this.angle)},e}(),e._RadialPoint=n}(t||(t={})),function(t){var e=function(){function e(){}return e.segmentsIntersect=function(t,e,n,i){if(Math.min(t.x,e.x)>Math.max(n.x,i.x)||Math.min(t.y,e.y)>Math.max(n.y,i.y)||Math.min(n.x,i.x)>Math.max(t.x,e.x)||Math.min(n.y,i.y)>Math.max(t.y,e.y))return!1;var o=(n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y),r=(i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y),l=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y),a=(e.x-n.x)*(i.y-n.y)-(i.x-n.x)*(e.y-n.y);return o*r<=1e-8&&l*a<=1e-8},e.getSegmentsIntersection=function(e,n,i,o){var r=n.y-e.y,l=e.x-n.x,a=o.y-i.y,s=i.x-o.x,u=r*s-l*a;if(0==u)return null;var _=a*i.x+s*i.y,p=a*e.x+s*e.y-_;if(p*(a*n.x+s*n.y-_)>=0)return null;var c=r*e.x+l*e.y;if((r*i.x+l*i.y-c)*(r*o.x+l*o.y-c)>=0)return null;var h=p/u,f=h*l,d=-h*r;return new t.core.Point(e.x+f,e.y+d)},e.getLinesIntersection=function(e,n,i,o){var r=(n.y-e.y)*(o.x-i.x)-(e.x-n.x)*(i.y-o.y);if(0==r)return null;var l=((n.x-e.x)*(o.x-i.x)*(i.y-e.y)+(n.y-e.y)*(o.x-i.x)*e.x-(o.y-i.y)*(n.x-e.x)*i.x)/r,a=-((n.y-e.y)*(o.y-i.y)*(i.x-e.x)+(n.x-e.x)*(o.y-i.y)*e.y-(o.x-i.x)*(n.y-e.y)*i.y)/r;return new t.core.Point(l,a)},e.sweep=function(e,n){var i=t.Vector2d.pointSub(e,n),o=t.Vector2d.horizon(),r=Math.acos(i.dot(o)/i.moudule());return i.cross(o)>0&&(r=t._Utility._PI2-r),r},e.DisPointToLine=function(e,n,i){var o=new t.Vector2d(i.x-n.x,i.y-n.y),r=new t.Vector2d(e.x-n.x,e.y-n.y);return Math.abs(o.cross(r))/o.moudule()},e.DisPointToSegement=function(t,e,n){var i=e.x,o=e.y,r=n.x,l=n.y,a=(r-i)*(t.x-i)+(l-o)*(t.y-o);if(a<=0)return Math.sqrt((t.x-i)*(t.x-i)+(t.y-o)*(t.y-o));var s=(r-i)*(r-i)+(l-o)*(l-o);if(a>=s)return Math.sqrt((t.x-r)*(t.x-r)+(t.y-l)*(t.y-l));var u=a/s,_=i+(r-i)*u,p=o+(l-o)*u;return Math.sqrt((t.x-_)*(t.x-_)+(p-t.y)*(p-t.y))},e.DisPointToPoint=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.DisPointToPointSquare=function(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.endPoint=function(e,n,i){var o=n.scalar(i/n.moudule());return new t.core.Point(o.x+e.x,o.y+e.y)},e.farthestPoint=function(t,n){for(var i=-Number.MAX_VALUE,o=null,r=0,l=n;r<l.length;r++){var a=l[r],s=e.DisPointToPointSquare(t,a);s>i&&(i=s,o=a)}return o},e.nearestPoint=function(t,n){for(var i=Number.MAX_VALUE,o=null,r=0,l=n;r<l.length;r++){var a=l[r],s=e.DisPointToPointSquare(t,a);s<i&&(i=s,o=a)}return o},e.PRECISION=1e-8,e}();t._ShapeUtil=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(e,n){if(isNaN(e)||isNaN(n))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);this.__x=e,this.__y=n}return e.fromPoint=function(t){return new e(t.x,t.y)},e.prototype.x=function(){return this.__x},e.prototype.y=function(){return this.__y},e.prototype.equalsWith=function(t){return this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x(),this.y())},e}(),e._XyPoint=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this)||this;return l.__center=t,l.__radius=n,l.__strokeWidth=i,l.__startAngle=o,l.__sweepAngle=r,l}return i(n,e),Object.defineProperty(n.prototype,"center",{get:function(){return this.__center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this.__radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__strokeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startAngle",{get:function(){return this.__startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweepAngle",{get:function(){return this.__sweepAngle},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return!1},n.prototype.intersectsWith=function(t){return!1},Object.defineProperty(n.prototype,"type",{get:function(){return"Arc"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IArcShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof n){var e=t;return e.center.equalsWith(this.center)&&e.radius==this.radius&&e.strokeWidth==this.strokeWidth&&e.startAngle==this.startAngle&&e.sweepAngle==this.sweepAngle}return!1},n.prototype.clone=function(){return new n(this.center,this.radius,this.strokeWidth,this.startAngle,this.sweepAngle)},o([t.deprecated("IArcShape.width","strokeWidth")],n.prototype,"width",null),n}(t._BaseShape);t._ArcShape=e}(t||(t={})),function(t){!function(t){t._isArcShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.radius&&void 0!==e.width&&void 0!==e.startAngle&&void 0!==e.sweepAngle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this)||this;return l.__center=t,l.__radius=n,l.__innerRadius=i,l.__startAngle=o,l.__sweepAngle=r,l}return i(n,e),Object.defineProperty(n.prototype,"center",{get:function(){return this.__center},enumerable:!0,configurable:!0}),n.prototype._rotate=function(e,n){this.__startAngle+=e;var i=new t.Matrix;i.rotate(e,n),this.__center=t._MatrixUtility._transformPoint(i,this.__center)},Object.defineProperty(n.prototype,"radius",{get:function(){return this.__radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this.__innerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startAngle",{get:function(){return this.__startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweepAngle",{get:function(){return this.__sweepAngle},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return this._containPoint(t)},n.prototype.intersectsWith=function(e){var n=[];if(e instanceof t._PolygonShape&&(n=e.points),e instanceof t._RectangleShape&&(n=e.points),0===n.length)return!1;for(var i=new t.core.Point(this.center.x+Math.cos(this.startAngle)*this.radius,this.center.y+Math.sin(this.startAngle)*this.radius),o=new t.core.Point(this.center.x+Math.cos(this.startAngle+this.sweepAngle)*this.radius,this.center.y+Math.sin(this.startAngle+this.sweepAngle)*this.radius),r=new t.core.Point(this.center.x+Math.cos(this.startAngle)*this.innerRadius,this.center.y+Math.sin(this.startAngle)*this.innerRadius),l=new t.core.Point(this.center.x+Math.cos(this.startAngle+this.sweepAngle)*this.innerRadius,this.center.y+Math.sin(this.startAngle+this.sweepAngle)*this.innerRadius),a=n.length>2,s=0,u=0;u<n.length;++u){var _=n[u],p=n[(u+1)%n.length];if(this._containPoint(_)||this._containPoint(p)||this._arcIntersectWithLine(this.radius,_,p)||this._arcIntersectWithLine(this.innerRadius,_,p)||t._ShapeUtil.segmentsIntersect(i,r,p,_)||t._ShapeUtil.segmentsIntersect(o,l,p,_))return!0;if(a&&(a=!(t._ShapeUtil.segmentsIntersect(this.center,i,_,p)||t._ShapeUtil.segmentsIntersect(this.center,o,_,p)))){var c=t.Vector2d.pointSub(this.center,_),h=t.Vector2d.pointSub(this.center,p);s+=Math.acos(c.dot(h)/(c.moudule()*h.moudule()))}}return t._Utility._PI2-s>t._ShapeUtil.PRECISION&&(a=!1),!!a},n.prototype._containPoint=function(e){var n=t._ShapeUtil.DisPointToPoint(this.center,e);if(n>this.radius||n<this.innerRadius)return!1;var i=t._ShapeUtil.sweep(this.center,e);return!!this._angleContain(this.startAngle,this.sweepAngle,i)},n.prototype._arcIntersectWithLine=function(e,n,i){var o=this.startAngle,r=this.sweepAngle,l=this.center,a=new t.Vector2d(l.x-n.x,l.y-n.y),s=new t.Vector2d(i.x-n.x,i.y-n.y).normal(),u=s.scalar(a.dot(s)),_=new t.core.Point(u.x+n.x,u.y+n.y),p=t._ShapeUtil.DisPointToPoint(_,l);if(p>e)return!1;var c=Math.sqrt(e*e-p*p),h=t._ShapeUtil.endPoint(_,s,c),f=t._ShapeUtil.endPoint(_,s,-c);if(h.x>=Math.min(n.x,i.x)&&h.x<=Math.max(n.x,i.x)&&h.y>=Math.min(n.y,i.y)&&h.y<=Math.max(n.y,i.y)){var d=t._ShapeUtil.sweep(l,h);if(this._angleContain(o,r,d))return!0}return!!(f.x>=Math.min(n.x,i.x)&&f.x<=Math.max(n.x,i.x)&&f.y>=Math.min(n.y,i.y)&&f.y<=Math.max(n.y,i.y)&&(d=t._ShapeUtil.sweep(l,f),this._angleContain(o,r,d)))},n.prototype._angleContain=function(e,n,i){e%=t._Utility._PI2,i%=t._Utility._PI2;var o=e+n;return n>=t._Utility._PI2||(o>t._Utility._PI2?i>=e||i<=o-t._Utility._PI2:i>=e&&i<=o)},Object.defineProperty(n.prototype,"type",{get:function(){return"Donut"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IDonutShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof n){var e=t;return e.center.equalsWith(this.center)&&e.radius==this.radius&&e.innerRadius==this.innerRadius&&e.startAngle==this.startAngle&&e.sweepAngle==this.sweepAngle}return!1},n.prototype.clone=function(){return new n(this.center,this.radius,this.innerRadius,this.startAngle,this.sweepAngle)},n}(t._BaseShape);t._DonutShape=e}(t||(t={})),function(t){!function(t){t._isDonutShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.radius&&void 0!==e.innerRadius&&void 0!==e.startAngle&&void 0!==e.sweepAngle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),t||(t={}),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){!function(t){t._isShape=function(t){return null!=t&&void 0!==t.type}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){!function(t){t._isPolygonShape=function(t){return null!=t&&void 0!==t.points}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__points=t,n}return i(n,e),Object.defineProperty(n.prototype,"points",{get:function(){return this.__points},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){for(var e=this.points,n=NaN,i=NaN,o=NaN,r=NaN,l=0,a=this.points;l<a.length;l++){var s=a[l];n=s.x<n?s.x:n,i=s.x>i?s.x:i,o=s.y<o?s.y:o,r=s.y>r?s.y:r}if(t.x<n||t.x>i||t.y<o||t.y>r)return!1;for(var u=!1,_=0,p=e.length-1;_<e.length;p=_++)e[_].y>t.y!=e[p].y>t.y&&t.x<(e[p].x-e[_].x)*(t.y-e[_].y)/(e[p].y-e[_].y)+e[_].x&&(u=!u);return u},n.prototype.intersectsWith=function(t){for(var e=0,n=[this,t];e<n.length;e++)for(var i=n[e].points,o=0;o<i.length;o++){for(var r=i[o],l=i[(o+1)%i.length],a=l.y-r.y,s=r.x-l.x,u=null,_=null,p=0,c=this.points;p<c.length;p++){var h=a*(m=c[p]).x+s*m.y;(null==u||h<u)&&(u=h),(null==_||h>_)&&(_=h)}for(var f=null,d=null,y=0,g=t.points;y<g.length;y++){var m;h=a*(m=g[y]).x+s*m.y,(null==f||h<f)&&(f=h),(null==d||h>d)&&(d=h)}if((null==_?0:_)<(null==f?0:f)||(null==d?0:d)<(null==u?0:u))return!1}return!0},Object.defineProperty(n.prototype,"type",{get:function(){return"Polygon"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IPolygonShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof n){var i=e;return t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(i.points,this.points)}return!1},n.prototype.clone=function(){return new n(this.points.map((function(t){return t.clone()})))},n}(t._BaseShape);t._PolygonShape=e}(t||(t={})),function(t){!function(t){t._isPolygonalLineShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.radius&&void 0!==e.angles&&void 0!==e.width}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this)||this;return r.__center=t,r.__radius=n,r.__angles=i,r.__strokeWidth=o,r}return i(n,e),Object.defineProperty(n.prototype,"center",{get:function(){return this.__center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this.__radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angles",{get:function(){return this.__angles},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__strokeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return!1},n.prototype.intersectsWith=function(t){return!1},Object.defineProperty(n.prototype,"type",{get:function(){return"PolygonalLine"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IPolygonalLineShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof n){var e=t;return e.center.equalsWith(this.center)&&e.radius==this.radius&&e.angles==this.angles&&e.strokeWidth==this.strokeWidth}return!1},n.prototype.clone=function(){return new n(this.center,this.radius,this.angles,this.strokeWidth)},o([t.deprecated("IPolygonalLineShape.width","strokeWidth")],n.prototype,"width",null),n}(t._BaseShape);t._PolygonalLineShape=e}(t||(t={})),function(t){!function(t){t._isPolylineShape=function(t){var e=t;return null!=e&&void 0!==e.points&&void 0!==e.width&&void 0!==e.strokeWidth}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__points=t.slice(),n}return i(n,e),Object.defineProperty(n.prototype,"points",{get:function(){return this.__points.map((function(t){return t.clone()}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.strokeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(e){if(!(null==e||e>=0))throw new t.RuntimeError(t.ErrorCode.PositiveOrZeroExpected,e);this.__strokeWidth=e},enumerable:!0,configurable:!0}),n.fromArc=function(e,i,o,r,l,a,s){void 0===s&&(s=600);for(var u=[],_=r,p=l/s;_-r>=l&&(_=r+l),u.push(new t.core.Point(e+Math.cos(_)*o,i+Math.sin(_)*o)),!(_-r>=l);)_+=p;var c=new n(u);return c.strokeWidth=a,c},n.prototype._points=function(){return this.__points},n.prototype._xs=function(){return this.__points.map((function(t){return t.x}))},n.prototype._ys=function(){return this.__points.map((function(t){return t.y}))},n.prototype.containsInStroke=function(e){for(var i=0;i<this.__points.length-1;++i)if(t._Util.pointToLine(this.__points[i].x,this.__points[i].y,this.__points[i+1].x,this.__points[i+1].y,e.x,e.y)<n._getAppropriateHitestPaddingBy(this.strokeWidth))return!0;return!1},n.prototype.contains=function(t){for(var e=0;e<this.__points.length-1;e++){var n=this.__points[e],i=this.__points[e+1];if(t.x>=Math.min(n.x,i.x)&&t.x<=Math.max(n.x,i.x)&&t.y>=Math.min(n.y,i.y)&&t.y<=Math.max(n.y,i.y)){var o=(n.y-t.y)/(n.x-t.x)-(i.y-t.y)/(i.x-t.x);if(o<.1&&o>-.1)return!0}}return!1},n.prototype.intersectsWith=function(e){for(var n=0;n<this.__points.length-1;n++)for(var i=this.__points[n],o=this.__points[n+1],r=0;r<e.__points.length-1;r++){var l=e.__points[n],a=e.__points[n+1];if(t._AlgorithmUtils._isCross(i,o,l,a))return!0}return!1},n._getAppropriateHitestPaddingBy=function(t){return null==t&&(t=1),t<10?5:t/2},Object.defineProperty(n.prototype,"type",{get:function(){return"Polyline"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IPolylineShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof n){var i=e;return i.strokeWidth==this.strokeWidth&&t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(i._points(),this._points())}return!1},n.prototype.clone=function(){var t=new n(this.__points.map((function(t){return t.clone()})));return t.strokeWidth=this.strokeWidth,t},o([t.deprecated("IPolylineShape.width","strokeWidth")],n.prototype,"width",null),n}(t._BaseShape);t._PolylineShape=e}(t||(t={})),function(t){!function(t){t._isRectangleShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.size&&void 0!==e.angle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){var a=e.call(this)||this;return a.__dirty=!0,a.__center=new t.core.Point(n,i),a.__size=new t.core.Size(o,r),a.__angle=l,a}return i(n,e),n._fromLeftConnectingPoint=function(e,i,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new n(e.x+i.width/2,e.y,i.width,i.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new n(e.x+i.height/2,e.y,i.width,i.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var s=new t.core.Point(e.x+.5*i.width*a,e.y+.5*i.width*r);return new n((l=new t.core.Point(s.x+.5*i.height*r,s.y-.5*i.height*a)).x,l.y,i.width,i.height,o)}return s=new t.core.Point(e.x+.5*i.width*a,e.y+.5*i.width*r),new n((l=new t.core.Point(s.x-.5*i.height*r,s.y+.5*i.height*a)).x,l.y,i.width,i.height,o)},n._fromRightConnectingPoint=function(e,i,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new n(e.x-i.width/2,e.y,i.width,i.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new n(e.x-i.height/2,e.y,i.width,i.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var s=new t.core.Point(e.x-.5*i.width*a,e.y-.5*i.width*r);return new n((l=new t.core.Point(s.x-.5*i.height*r,s.y+.5*i.height*a)).x,l.y,i.width,i.height,o)}return s=new t.core.Point(e.x-.5*i.width*a,e.y-.5*i.width*r),new n((l=new t.core.Point(s.x+.5*i.height*r,s.y-.5*i.height*a)).x,l.y,i.width,i.height,o)},n._fromTopConnectingPoint=function(e,i,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new n(e.x,e.y+i.height/2,i.width,i.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new n(e.x,e.y+i.width/2,i.width,i.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var s=new t.core.Point(e.x+.5*i.width*a,e.y+.5*i.width*r);return new n((l=new t.core.Point(s.x-.5*i.height*r,s.y+.5*i.height*a)).x,l.y,i.width,i.height,o)}return s=new t.core.Point(e.x-.5*i.width*a,e.y-.5*i.width*r),new n((l=new t.core.Point(s.x-.5*i.height*r,s.y+.5*i.height*a)).x,l.y,i.width,i.height,o)},n._fromBottomConnectingPoint=function(e,i,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new n(e.x,e.y-i.height/2,i.width,i.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new n(e.x,e.y-i.width/2,i.width,i.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var s=new t.core.Point(e.x-.5*i.width*a,e.y-.5*i.width*r);return new n((l=new t.core.Point(s.x+.5*i.height*r,s.y-.5*i.height*a)).x,l.y,i.width,i.height,o)}return s=new t.core.Point(e.x+.5*i.width*a,e.y+.5*i.width*r),new n((l=new t.core.Point(s.x+.5*i.height*r,s.y-.5*i.height*a)).x,l.y,i.width,i.height,o)},Object.defineProperty(n.prototype,"center",{get:function(){return this.__center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.__size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftTop",{get:function(){return this.__dirty&&this._calculatePoints(),this.__leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightTop",{get:function(){return this.__dirty&&this._calculatePoints(),this.__rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftBottom",{get:function(){return this.__dirty&&this._calculatePoints(),this.__leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightBottom",{get:function(){return this.__dirty&&this._calculatePoints(),this.__rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"points",{get:function(){return this.__dirty&&this._calculatePoints(),this.__points},enumerable:!0,configurable:!0}),n.prototype.getBoundRectangle=function(){var e=[],n=[];this.points.forEach((function(t){e.push(t.x),n.push(t.y)}));var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n);return new t.core.Rect(i,o,Math.max.apply(Math,e)-i,Math.max.apply(Math,n)-o)},n.prototype.contains=function(e){return new t._PolygonShape([this.leftTop,this.rightTop,this.rightBottom,this.leftBottom]).contains(e)},n.prototype.intersectsWith=function(e){if(Math.abs(this.angle)<t._Constants.Precision&&Math.abs(e.angle)<t._Constants.Precision){var n=new t.core.Rect(this.center.x-this.size.width/2,this.center.y-this.size.height/2,this.size.width,this.size.height),i=new t.core.Rect(e.center.x-e.size.width/2,e.center.y-e.size.height/2,e.size.width,e.size.height);return n.intersectsWith(i)}var o=new t._PolygonShape([this.leftTop,this.rightTop,this.rightBottom,this.leftBottom]),r=new t._PolygonShape([e.leftTop,e.rightTop,e.rightBottom,e.leftBottom]);return o.intersectsWith(r)},n.prototype._translate=function(t,e){this._translatePoint(this.__center,t,e),this.__dirty=!0},n.prototype._translatePoint=function(t,e,n){t.x+=e,t.y+=n},n.prototype._calculatePoints=function(){if(this.__dirty){this.__dirty=!1;var e=new t.Matrix([1,0,0,1,this.center.x,this.center.y]);e.rotate(this.angle),this.__rightTop=e.transformPoint(this.size.width/2,-this.size.height/2),this.__leftTop=e.transformPoint(-this.size.width/2,-this.size.height/2),this.__leftBottom=e.transformPoint(-this.size.width/2,this.size.height/2),this.__rightBottom=e.transformPoint(this.size.width/2,this.size.height/2),this.__points=[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom]}},Object.defineProperty(n.prototype,"type",{get:function(){return"Rectangle"},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IRectangleShape"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof n){var e=t;return e.center.equalsWith(this.center)&&e.size.equalsWith(this.size)&&e.angle==this.angle}return!1},n.prototype.clone=function(){return new n(this.center.x,this.center.y,this.size.width,this.size.height,this.angle)},n}(t._BaseShape);t._RectangleShape=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._BuildRectangleShapeFromRect=function(e){var n=e.left+.5*e.width,i=e.top+.5*e.height;return new t._RectangleShape(n,i,e.width,e.height,0)},e._defaultShapeBuilder=new e,e}();t._ShapeBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildinSymbolDefinitionBuilders=function(){return null==n.__buildInSymbolDefinitionBuilders&&(n.__buildInSymbolDefinitionBuilders=new n([],n._pluginType)),n.__buildInSymbolDefinitionBuilders},n.prototype._convert=function(e){return t.models._isSymbolDefinitionBuilder(e)?e:null},n.prototype._symbolDefinitions=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,o=this._objects(t,e);i<o.length;i++){var r=o[i].item.buildSymbolDefinition();null!=r&&n.push(r)}return n},n._pluginType="Symbol",n}(t._BuildInObjectCollection);t._BuildinSymbolDefinitionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e,n){this.style=t,this.matrix=e,this._rectangle=n}return e.prototype._symbolRectangle=function(t){var e=(t=t.clone()).width<t.height?t.width:t.height;return t.width>t.height&&(t.left=t.left+(t.width-t.height)/2),t.height=e,t.width=e,t},e.prototype.render=function(e,n){t._StyleUtility._applyStyle(e,this.style)},e.prototype.contains=function(t){return null!=this._rectangle&&this._symbolRectangle(this._rectangle).contains(t)},e}(),e.Symbol=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.box=e,r}return i(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n),e.drawRect(this.box.center.x-this.box.size.width/2,this.box.center.y-this.box.size.height/2,this.box.size.width,this.box.size.height,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.BoxSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Box"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=new t._RectangleShape(n.center.x,n.center.y,o,o,0),l=t._StyleUtility._buildStyle(null,null,null,null,1);return t._StyleUtility._applyAllStyle(l,i),new e.BoxSymbol(r,l,null,n)},n}(),e.BoxSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Box",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype.buildSymbolDefinition=function(){return new t.models.BoxSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._boxSymbolDefinitionBuilder=new e,e}();t.BoxSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isBoxSymbol=function(t){return null!=t&&void 0!==t.box}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.dash=e,r}return i(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.dash.points.length>=2){var i=this.dash.points[0],o=this.dash.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}e.restoreTransform()},e}(t.Symbol);t.DashSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Dash"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=t._StyleUtility._buildStyle(null,null,null,null,2,"2,2");t._StyleUtility._applyAllStyle(r,i);var l=[];l.push(new t.core.Point(n.center.x-.5*o,n.center.y)),l.push(new t.core.Point(n.center.x+.5*o,n.center.y));var a=new t._PolylineShape(l);return a.strokeWidth=r.strokeWidth,new e.DashSymbol(a,r,null,n)},n}(),e.DashSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Dash",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildSymbolDefinition=function(){return new t.models.DashSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dashSymbolDefinitionBuilder=new e,e}();t.DashSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isDashSymbol=function(t){return null!=t&&void 0!==t.dash}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.diamond=e,r}return i(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n);var i=this.diamond.points.map((function(t){return t.x})),o=this.diamond.points.map((function(t){return t.y}));e.drawPolygon(i,o,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.DiamondSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Diamond"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=[];r.push(new t.core.Point(n.center.x,n.center.y-.5*o)),r.push(new t.core.Point(n.center.x+.5*o,n.center.y)),r.push(new t.core.Point(n.center.x,n.center.y+.5*o)),r.push(new t.core.Point(n.center.x-.5*o,n.center.y));var l=new t._PolygonShape(r),a=t._StyleUtility._buildStyle(null,null,null,null,1);return t._StyleUtility._applyAllStyle(a,i),new e.DiamondSymbol(l,a,null,n)},n}(),e.DiamondSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Diamond",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=4}return e.prototype.buildSymbolDefinition=function(){return new t.models.DiamondSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._diamondSymbolDefinitionBuilder=new e,e}();t.DiamondSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isDiamondSymbol=function(t){return null!=t&&void 0!==t.diamond}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.dot=e,r}return i(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n),e.drawEllipse(this.dot.center.x,this.dot.center.y,this.dot.radius,this.dot.radius,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.DotSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Dot"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width/2:n.height/2,r=new t._ArcShape(n.center,o,0,0,t._Utility._PI2),l=t._StyleUtility._buildStyle(null,null,null,null,1);return t._StyleUtility._applyAllStyle(l,i),new e.DotSymbol(r,l,null,n)},n}(),e.DotSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Dot",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=6}return e.prototype.buildSymbolDefinition=function(){return new t.models.DotSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dotSymbolDefinitionBuilder=new e,e}();t.DotSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isDotSymbol=function(t){return null!=t&&void 0!==t.dot}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isSymbol=function(t){var e=t;return null!=e&&void 0!==e.style&&void 0!==e.matrix&&"function"==typeof e.render&&"function"==typeof e.contains}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPathSymbol=function(t){return null!=t&&void 0!==t.path}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n,i,o,r,l){void 0===l&&(l=t.PathFillType.Nonzero);var a=e.call(this,i,o,r)||this;return a.path=n,a.fillType=l,a}return i(n,e),n.prototype.render=function(n,i){n.beginTransform(),e.prototype.render.call(this,n,i),n.drawPath(this.path,this.fillType,t.LineCap.Butt,t.LineJoin.Miter,null,this.matrix),n.restoreTransform()},n.prototype.contains=function(n){if(!e.prototype.contains.call(this,n))return!1;var i=new t.core.Point(n.x-this._rectangle.left,n.y-this._rectangle.top),o=1;null!=this.style&&null!=this.style.strokeWidth&&(o=this.style.strokeWidth);var r=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(this.path),l=new t.core.Point(i.x/this.matrix.values[0]+r.left,i.y/this.matrix.values[3]+r.top),a=new t._PathUtil;return a.contain(this.path,l.x,l.y)||a.containStroke(this.path,o,l.x,l.y)},n}(e.Symbol),e.PathSymbol=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n){this.type=e,this.__path=null!=n?n:t._PathBuilder._defaultPathBuilder._buildPath()}return n.prototype.createSymbol=function(n,i){var o=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(o,i);var r=(n=n.clone()).width<n.height?n.width:n.height;n.width>n.height&&(n.left=n.left+(n.width-n.height)/2),n.height=r,n.width=r;var l=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(this.__path),a=this._centerGraphic(n,l);n.left=a.left,n.top=a.top,n.width=a.width,n.height=a.height;var s=this._calculateTransform(l,a);return new e.PathSymbol(this.__path,o,s,n)},n.prototype._calculateTransform=function(e,n){var i=n.width/e.width,o=n.height/e.height,r=new t.Matrix;return r.translate(n.center.x-e.center.x,n.center.y-e.center.y),t._MatrixUtility._scaleAt(r,i,o,e.center),r},n.prototype._centerGraphic=function(e,n){var i,o=n.width/n.height,r=e.height*o,l=e.left,a=e.top;i=r<=e.width?e.height:(r=e.width)/o;var s=e.width-r,u=e.height-i;return s>0&&(l+=s/2),u>0&&(a+=u/2),new t.core.Rect(l,a,r,i)},n}(),e.PathSymbolDefinition=n}(t||(t={})),function(t){!function(t){t._isPlusSymbol=function(t){var e=t;return null!=e&&void 0!==e.plusLine1&&void 0!==e.plusLine2}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.plusLine1=e,l.plusLine2=n,l}return i(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.plusLine1.points.length>=2){var i=this.plusLine1.points[0],o=this.plusLine1.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}this.plusLine2.points.length>=2&&(i=this.plusLine2.points[0],o=this.plusLine2.points[1],e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)),e.restoreTransform()},e}(t.Symbol);t.PlusSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Plus"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=t._StyleUtility._buildStyle(null,null,null,null,2);t._StyleUtility._applyAllStyle(r,i);var l=[];l.push(new t.core.Point(n.center.x,n.center.y-.5*o)),l.push(new t.core.Point(n.center.x,n.center.y+.5*o));var a=new t._PolylineShape(l);a.strokeWidth=r.strokeWidth;var s=[];s.push(new t.core.Point(n.center.x-.5*o,n.center.y)),s.push(new t.core.Point(n.center.x+.5*o,n.center.y));var u=new t._PolylineShape(s);return u.strokeWidth=r.strokeWidth,new e.PlusSymbol(a,u,r,null,n)},n}(),e.PlusSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Plus",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildSymbolDefinition=function(){return new t.models.PlusSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._plusSymbolDefinitionBuilder=new e,e}();t.PlusSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isTriangleSymbol=function(t){return null!=t&&void 0!==t.triangle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.triangle=e,r}return i(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n);var i=this.triangle.points.map((function(t){return t.x})),o=this.triangle.points.map((function(t){return t.y}));e.drawPolygon(i,o,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.TriangleSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Triangle"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=n.clone();n.width>n.height&&(r.left=r.left+(n.width-o)/2,r.width=o),n.height>n.width&&(r.top=r.top+(n.height-o)/2,r.height=o);var l=new t.core.Point(r.left+r.width/2,r.top),a=new t.core.Point(r.left,r.width/2/.5773502691896257+r.top),s=new t.core.Point(r.right,a.y),u=[];u.push(l),u.push(a),u.push(s);var _=new t._PolygonShape(u),p=t._StyleUtility._buildStyle(null,null,null,null,1);return t._StyleUtility._applyAllStyle(p,i),new e.TriangleSymbol(_,p,null,n)},n}(),e.TriangleSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Triangle",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=3}return e.prototype.buildSymbolDefinition=function(){return new t.models.TriangleSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._triangleSymbolDefinitionBuilder=new e,e}();t.TriangleSymbolDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isXSymbol=function(t){var e=t;return null!=e&&void 0!==e.xLine1&&void 0!==e.xLine2}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.xLine1=e,l.xLine2=n,l}return i(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.xLine1.points.length>=2){var i=this.xLine1.points[0],o=this.xLine1.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}this.xLine2.points.length>=2&&(i=this.xLine2.points[0],o=this.xLine2.points[1],e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)),e.restoreTransform()},e}(t.Symbol);t.XSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="X"}return n.prototype.createSymbol=function(n,i){var o=n.width<n.height?n.width:n.height,r=t._StyleUtility._buildStyle(null,null,null,null,2);t._StyleUtility._applyAllStyle(r,i);var l=[];l.push(new t.core.Point(n.center.x-.5*o,n.center.y-.5*o)),l.push(new t.core.Point(n.center.x+.5*o,n.center.y+.5*o));var a=new t._PolylineShape(l);a.strokeWidth=r.strokeWidth;var s=[];s.push(new t.core.Point(n.center.x+.5*o,n.center.y-.5*o)),s.push(new t.core.Point(n.center.x-.5*o,n.center.y+.5*o));var u=new t._PolylineShape(s);return u.strokeWidth=r.strokeWidth,new e.XSymbol(a,u,r,null,n)},n}(),e.XSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="X",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype.buildSymbolDefinition=function(){return new t.models.XSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._xSymbolDefinitionBuilder=new e,e}();t.XSymbolDefinitionBuilder=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isSymbolDefinitionBuilder=function(t){return null!=t&&"function"==typeof t.buildSymbolDefinition}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(){}return t.defaultSymbolDefinitionGetPolicy=function(){return null==t.__defaultSymbolDefinitionGetPolicy&&(t.__defaultSymbolDefinitionGetPolicy=new t),t.__defaultSymbolDefinitionGetPolicy},t.prototype.getSymbolDefinition=function(t,e,n,i,o){var r=this.getSymbolDefinitionWithValue(t,e);return null!=r||null!=(r=this.getSymbolDefinitionWithName(t,n))||null!=(r=this.getSymbolDefinitionWithName(t,i))?r:r=this.getSymbolDefinitionWithName(t,o)},t.prototype.getSymbolDefinitionWithValue=function(t,e){for(var n=null,i=0,o=t;i<o.length&&null==(n=o[i].getSymbolDefinitionWithValue(e));i++);return n},t.prototype.getSymbolDefinitionWithName=function(t,e){for(var n=null,i=0,o=t;i<o.length&&null==(n=o[i].getSymbolDefinitionWithName(e));i++);return n},t}();t.SymbolDefinitionGetPolicy=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.value=t,this.symbolDefinition=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this.symbolDefinition.type},enumerable:!0,configurable:!0}),t.prototype.createSymbol=function(t,e){return this.symbolDefinition.createSymbol(t,e)},t}();t.SymbolWithDataDefinition=e}(t.models||(t.models={}))}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__provider=t,this.__symbolOffset=0}return t.prototype.next=function(t){var e=this.__symbolOffset;return t&&this.__symbolOffset++,this.__provider.getSymbolDefinitionWithIndex(e)},t.prototype.reset=function(){this.__symbolOffset=0},t.prototype.queryInterface=function(t){return null},t}();t.SymbolDefinitionIterator=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.symbolDefinitions=[],this.symbolWithDataDefinitions=[],null==t?this.symbolDefinitions=e:(this.symbolDefinitions=this._createSymbolDefinitions(t,e),this.symbolWithDataDefinitions=this._createSymbolWithDataDefinitions(t,e))}return e.prototype.getSymbolDefinitionWithIndex=function(t){return 0==this.symbolDefinitions.length?null:this.symbolDefinitions[t%this.symbolDefinitions.length]},e.prototype.getSymbolDefinitionWithName=function(t){var e=this.symbolDefinitions.concat(this.symbolWithDataDefinitions);return this._getSymbolDefinitionWithName(e,t)},e.prototype.getSymbolDefinitionWithValue=function(e){for(var n=0,i=this.symbolWithDataDefinitions;n<i.length;n++){var o=i[n];if(null!=e&&e instanceof Date&&"string"==typeof o.value){var r=t._DateStringParser._dateStringParser._parseDate(o.value);if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(e,r))return o.symbolDefinition}else if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(e,o.value))return o.symbolDefinition;if(!(null==e&&null!=o.value||null!=e&&null==o.value)&&(o.value==e||null==o.value&&null==e))return o.symbolDefinition}return null},e.prototype._getSymbolDefinitionWithName=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o.type==e)return o}return null},e.prototype._createSymbolDefinitions=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(l.type!=t.SymbolItemType.Data){var a=this._createSymbolDefinition(l,n);null!=a&&i.push(a)}}return i},e.prototype._createSymbolWithDataDefinitions=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(l.type!=t.SymbolItemType.Index){var a=this._createSymbolDefinition(l,n);null!=a&&i.push(new t.models.SymbolWithDataDefinition(l.data,a))}}return i},e.prototype._createSymbolDefinition=function(t,e){var n=t.shape;if(null==n)return null;var i=null;return null!=n.content&&""!=n.content&&(i=this._buildPathSymbolDefinition(n.name,n.content)),null==i&&null!=n.name&&""!=n.name&&(i=this._getSymbolDefinitionWithName(e,n.name)),i},e.prototype._buildPathSymbolDefinition=function(e,n){var i=n.split(":");if(null!=i&&2==i.length){var o=i[0],r=i[1];if("path"===o){var l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r);return new t.models.PathSymbolDefinition(e,l)}return null}throw new t.OptionError(t.ErrorCode.UnexpectedValue,n)},e}();t.SymbolDefinitionProvider=e}(t||(t={})),function(t){var e=function(t){this.syntaxExpression=t};t._SyntaxExpression=e}(t||(t={})),t||(t={}),function(t){t._isSyntaxEngineBuilder=function(t){return null!=t.buildSyntaxEngine}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTemplateSyntaxExpression=function(t){return null!=t.segments}}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultSyntaxEngine=function(){return null==e.__defaultSyntaxEngine&&(e.__defaultSyntaxEngine=new e),e.__defaultSyntaxEngine},e.prototype.parse=function(e){if(null==e)return null;var n=this._parseExcelTemplateWithoutBrackets(e);if(null!=n)return new t._TemplateSyntaxExpression(e,[n]);var i=this._parseTemplateWithCurlyBrackets(e);if(i.length>0)return new t._TemplateSyntaxExpression(e,i);var o=new t._LiteralTemplateSegment(e);return new t._TemplateSyntaxExpression(e,[o])},e.prototype.evaluate=function(e,n,i,o){return null==e?null:t._isTemplateSyntaxExpression(e)?e.segments.map((function(t){return t.evaluate(n,i,o)})).join(""):null},e.prototype._parseExcelTemplateWithoutBrackets=function(e){var n=/^\s*\=.+\s*$/g.exec(e);if(null!=n){var i=n[0],o=null,r=/([^\\]\:.+)$/.exec(i);return null!=r&&(o=r[0].substring(2),i=i.substring(0,r.index+1)),i=t._EscapedCharacterStringUtility._trim(i),t._BuildInTemplateSegmentBuilderCollection._defaultBuildInTemplateSegmentBuilders()._templateSegment(i,o)}return null},e.prototype._parseTemplateWithCurlyBrackets=function(e){for(var n,i=[],o=this._replaceEscapedCurlyBrackets(e),r=/\{[^\}]+\}/g,l=0,a=o.length;null!=(n=r.exec(o));){0!==n.index&&(a=n.index,i.push(new t._LiteralTemplateSegment(o.substring(l,a)))),l=r.lastIndex;var s=this._restoreEscapedCurlyBrackets(n[0].substring(1,n[0].length-1)),u=null,_=/([^\\]\:.+)$/.exec(s);null!=_&&(u=_[0].substring(2),s=s.substring(0,_.index+1)),s=t._EscapedCharacterStringUtility._trim(s);var p=t._BuildInTemplateSegmentBuilderCollection._defaultBuildInTemplateSegmentBuilders()._templateSegment(s,u);i.push(p)}return l!==o.length&&i.push(new t._LiteralTemplateSegment(o.substring(l))),i},e.prototype._replaceEscapedCurlyBrackets=function(t){return t.replace(/\\(\{)/g,"\\LEFT_CURLY_BRACKET").replace(/\\(\})/g,"\\RIGHT_CURLY_BRACKET")},e.prototype._restoreEscapedCurlyBrackets=function(t){return t.replace(/\\(LEFT_CURLY_BRACKET)/g,"\\{").replace(/\\(RIGHT_CURLY_BRACKET)/g,"\\}")},e}();t._TemplateSyntaxEngine=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.segments=n,i}return i(e,t),e}(t._SyntaxExpression);t._TemplateSyntaxExpression=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInTemplateSegmentBuilders=function(){return null==n.__buildInTemplateSegmentBuilders&&(n.__buildInTemplateSegmentBuilders=new n([t._TokenSyntaxEngine._defaultSyntaxEngine(),t._ExcelSyntaxEngine._defaultSyntaxEngine()],n._pluginType)),n.__buildInTemplateSegmentBuilders},n.prototype._convert=function(e){return t._isTemplateSegmentBuilder(e)?e:null},n.prototype._templateSegment=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);for(var r=null,l=0,a=this._objects(i,o);l<a.length;l++)if(null!=(r=a[l].item.buildTemplateSegment(e,n)))return r;return new t._LiteralTemplateSegment("")},n._pluginType="TemplateSegmentBuilder",n}(t._BuildInObjectCollection);t._BuildInTemplateSegmentBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildInTextInfoConverter=function(){return null==e.__buildInTextInfoConverter&&(e.__buildInTextInfoConverter=new e),e.__buildInTextInfoConverter},e.prototype._convertDataValue=function(e,n,i,o){return null!=o?(null==n&&(t._AnyTypeUtility._isNumber(e)?n=o.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(e)&&(n=o.defaultFormat(t.core.DataType.Date,!1))),o.format(n,e,i)):null!=e?e.toString():""},e.prototype._convertValueInfo=function(t,e,n,i){return null!=t?t._toString(e,n):null!=i?i.format(e,null,n):""},e}();t._BuildInTextInfoConverter=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInTextInfoConverterBuilders=function(){return null==n.__buildInTextInfoConverterBuilders&&(n.__buildInTextInfoConverterBuilders=new n([],n._pluginType)),n.__buildInTextInfoConverterBuilders},n.prototype._convert=function(e){return t._isTextInfoConverterBuilder(e)?e:null},n.prototype._textInfoConverter=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._build(r.option);if(null!=l)return l}return t._BuildInTextInfoConverter._buildInTextInfoConverter()},n._pluginType="TextInfoConverterBuilder",n}(t._BuildInObjectCollection);t._BuildInTextInfoConverterBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultSyntaxEngine=function(){return null==e.__defaultSyntaxEngine&&(e.__defaultSyntaxEngine=new e),e.__defaultSyntaxEngine},e.prototype.evaluate=function(e,i,o,r){if(null==e)return null;if(t._isIdentifierProxy(i)){var l=new n(i),a=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",l,o,r);return null!=a&&a.evaluate("EXPRESSION",e.syntaxExpression),l._result()}return null},e.prototype.buildTemplateSegment=function(e,n){if(void 0===n&&(n=null),null==e||e.length<=0)return null;var i=this.parse(e);return null!=i?new t._ExcelTemplateSegment(i,n):null},e.prototype.parse=function(e){return null==e?null:/^\s*(?!\\)=\s*.+$/.test(e)?(e=e.trim().substring(1).trim(),new t._SyntaxExpression(e)):null},e.prototype.queryInterface=function(t){return"ISyntaxEngine"===t||"ISyntaxParser"===t||"ITemplateSegmentBuilder"===t||"ICalculationEngineProxy"===t?this:null},e}();t._ExcelSyntaxEngine=e;var n=function(){function e(t){this.__proxy=t,this.__result=null}return e.prototype._result=function(){return this.__result},e.prototype.isIdentityExpression=function(t){return"current"==t||t.length>8&&"current."==t.substring(0,8)},e.prototype.getIdentityValue=function(t){return this.__proxy.getIdentifierValue(t)},e.prototype.resultCallback=function(e){this.__result=t._DataValueTypeExtension._toDataValueType(e)},e}()}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===n&&(n=null),this.__syntaxExpression=e,this.__format=n,this.__syntaxEngine=t._ExcelSyntaxEngine._defaultSyntaxEngine()}return Object.defineProperty(e.prototype,"_syntaxEngine",{get:function(){return this.__syntaxEngine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(e,n,i){var o=this.__syntaxEngine.evaluate(this.__syntaxExpression,e,n,i),r=this.__format,l=null,a=null;if(null!=e.queryInterface("ITextFormatProxy")){var s=e;null==r&&(r=s._getDefaultFormat(this.__syntaxExpression)),l=s._getDefaultFormatType(),a=s._getStringFormatting()}return t._BuildInTextInfoConverterBuilderCollection._defaultBuildInTextInfoConverterBuilders()._textInfoConverter(n,i)._convertDataValue(o,r,l,a)},e}();t._ExcelTemplateSegment=e}(t||(t={})),function(t){t._isIdentifierProxy=function(t){return null!=t.getIdentifierValue}}(t||(t={})),t||(t={}),function(t){t._isTemplateSegmentBuilder=function(t){return null!=t.buildTemplateSegment}}(t||(t={})),function(t){t._isTextFormatProxy=function(t){var e=t;return null!=e&&"function"==typeof e._getDefaultFormat&&"function"==typeof e._getDefaultFormatType&&"function"==typeof e._getStringFormatting}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTextInfoConverterBuilder=function(t){return null!=t&&"function"==typeof t._build}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e){this.__syntaxExpression=new t._SyntaxExpression(e),this.__format=null}return Object.defineProperty(e.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(e,n,i){return t._EscapedCharacterStringUtility._normalize(this.syntaxExpression.syntaxExpression)},e}();t._LiteralTemplateSegment=e}(t||(t={})),function(t){t._isTokenProxy=function(t){return null!=t.getTokenValue}}(t||(t={})),function(t){t._isTokenSyntaxExpression=function(t){var e=t;return void 0!==e.token&&void 0!==e.path&&void 0!==e.index}}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this.__syntaxExpression=t,this.__format=e,this.__syntaxEngine=n._defaultSyntaxEngine()}return Object.defineProperty(e.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(e,n,i){var o=this.__syntaxEngine.evaluate(this.__syntaxExpression,e,n,i),r=this.__format,l=null,a=null;if(null!=e.queryInterface("ITextFormatProxy")){var s=e;null==r&&(r=s._getDefaultFormat(this.__syntaxExpression)),l=s._getDefaultFormatType(),a=s._getStringFormatting()}return t._BuildInTextInfoConverterBuilderCollection._defaultBuildInTextInfoConverterBuilders()._textInfoConverter(n,i)._convertValueInfo(o,r,l,a)},e}(),n=function(){function n(){}return n._defaultSyntaxEngine=function(){return null==n.__defaultSyntaxEngine&&(n.__defaultSyntaxEngine=new n),n.__defaultSyntaxEngine},n.prototype.evaluate=function(e,n,i,o){if(null==e)return null;if(t._isTokenProxy(n)&&t._isTokenSyntaxExpression(e)){var r=e;return n.getTokenValue(r.token,r.path,r.index)}return null},n.prototype.buildTemplateSegment=function(t,n){if(void 0===n&&(n=null),null==t||t.length<=0)return null;var i=this.parse(t);return null!=i?new e(i,n):null},n.prototype.parse=function(e){if(null==e)return null;var n=/^((\\.|[^\.\\\"\'\:\[\]\{\}\=])+)(\[(\d+)\])?((\.(\\.|[^\.\\\"\'\:\[\]\{\}\=])*)*)\s*$/.exec(e);if(null!=n){var i=t._EscapedCharacterStringUtility._trim(n[1]);i=t._EscapedCharacterStringUtility._normalize(i);var o=null!=n[4]?parseInt(n[4],10):null,r=null;if(null!=n[5]){var l=t._EscapedCharacterStringUtility._trim(n[5]);""!==l&&(l=t._EscapedCharacterStringUtility._trim(l.substring(1)),r=t._EscapedCharacterStringUtility._normalize(l))}return null==r&&(r="value"),new t._TokenSyntaxExpression(e,i,r,o)}return null},n.prototype.queryInterface=function(t){return"ISyntaxEngine"===t||"ISyntaxParser"===t||"ITemplateSegmentBuilder"===t?this:null},n}();t._TokenSyntaxEngine=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.token=n,r.path=i,r.index=o,r}return i(e,t),e}(t._SyntaxExpression);t._TokenSyntaxExpression=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._convert=function(e){return t._isViewLayoutBuilder(e)?e:null},n.prototype._viewLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildViewLayout(t);if(null!=r)return r}return null},n._pluginType="ViewLayout",n}(t._BuildInObjectCollection);t._BuildInViewLayoutBuilderCollection=e}(t||(t={})),function(t){t._isViewLayoutBuilder=function(t){return null!=t.buildViewLayout}}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this._option=e,this._orientation=n,this._isForwardDirection=null,this.__axisViewBuilder=i,this._pluginCollection=t._pluginCollection}return t.prototype._getDefaultTitlePadding=function(){return 2},t.prototype._getDefaultLabelPadding=function(){return 2},t.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this.__axisViewBuilder:null},t}();t._AxisDefinition=e}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){this.__plots!=t&&(this.__plots=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){this.__tooltip!=t&&(null==t.scope&&(t.scope="Category"),this.__tooltip=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"trackers",{get:function(){return this.__trackers},set:function(t){this.__trackers!=t&&(this.__trackers=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlappingLabels",{get:function(){return this.__overlappingLabels},set:function(t){this.__overlappingLabels!=t&&(this.__overlappingLabels=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labels",{get:function(){return this.__labels},set:function(t){this.__labels!=t&&(this.__labels=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this.__max},set:function(t){this.__max!=t&&(this.__max=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this.__min},set:function(t){this.__min!=t&&(this.__min=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(t){this.__scale!=t&&(null==t&&(t=new e._ValueScaleOption),this.__scale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisLine",{get:function(){return this.__axisLine},set:function(t){this.__axisLine!=t&&(this.__axisLine=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelStyle",{get:function(){return this.__labelStyle},set:function(t){this.__labelStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__labelStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__titleStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorUnit",{get:function(){return this.__majorUnit},set:function(t){this.__majorUnit!=t&&(null==t&&(t=new e._AxisUnitOption),this.__majorUnit=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorUnit",{get:function(){return this.__minorUnit},set:function(t){this.__minorUnit!=t&&(null==t&&(t=new e._AxisUnitOption),this.__minorUnit=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dateMode",{get:function(){return this.__dateMode},set:function(t){this.__dateMode!=t&&(this.__dateMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorTicks",{get:function(){return this.__majorTicks},set:function(t){this.__majorTicks!=t&&(this.__majorTicks=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorTicks",{get:function(){return this.__minorTicks},set:function(t){this.__minorTicks!=t&&(this.__minorTicks=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorTickSize",{get:function(){return this.__majorTickSize},set:function(t){this.__majorTickSize!=t&&(this.__majorTickSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorTickSize",{get:function(){return this.__minorTickSize},set:function(t){this.__minorTickSize!=t&&(this.__minorTickSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorTickStyle",{get:function(){return this.__majorTickStyle},set:function(t){this.__majorTickStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__majorTickStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorTickStyle",{get:function(){return this.__minorTickStyle},set:function(t){this.__minorTickStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__minorTickStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorGrid",{get:function(){return this.__majorGrid},set:function(t){this.__majorGrid!=t&&(this.__majorGrid=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorGrid",{get:function(){return this.__minorGrid},set:function(t){this.__minorGrid!=t&&(this.__minorGrid=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorGridStyle",{get:function(){return this.__majorGridStyle},set:function(t){this.__majorGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__majorGridStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorGridStyle",{get:function(){return this.__minorGridStyle},set:function(t){this.__minorGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__minorGridStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineStyle",{get:function(){return this.__lineStyle},set:function(t){this.__lineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__lineStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"origin",{get:function(){return this.__origin},set:function(t){this.__origin!=t&&(this.__origin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"reversed",{get:function(){return this.__reversed},set:function(t){this.__reversed!=t&&(this.__reversed=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelAngle",{get:function(){return this.__labelAngle},set:function(t){this.__labelAngle!=t&&(this.__labelAngle=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"logBase",{get:function(){return this.__logBase},set:function(t){this.__logBase!=t&&(this.__logBase=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){this.__maxWidth!=t&&(this.__maxWidth=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){this.__maxHeight!=t&&(this.__maxHeight=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewSize",{get:function(){return this.__viewSize},set:function(t){this.__viewSize!=t&&(this.__viewSize=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollbarVisible",{get:function(){return this.__scrollbarVisible},set:function(t){this.__scrollbarVisible!=t&&(this.__scrollbarVisible=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupGrid",{get:function(){return this.__groupGrid},set:function(t){this.__groupGrid!=t&&(this.__groupGrid=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupGridStyle",{get:function(){return this.__groupGridStyle},set:function(t){this.__groupGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__groupGridStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useActualMax",{get:function(){return this.__useActualMax},set:function(t){this.__useActualMax!=t&&(this.__useActualMax=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useActualMin",{get:function(){return this.__useActualMin},set:function(t){this.__useActualMin!=t&&(this.__useActualMin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rules",{get:function(){return this.__rules},set:function(t){this.__rules!=t&&(this.__rules=t,null==t&&(this.__rules=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unitLabel",{get:function(){return this.__unitLabel},set:function(t){this.__unitLabel!=t&&(null==t&&(t=new e._UnitLabelOption),this.__unitLabel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){this.__plugins!=t&&(this.__plugins=t,null==t&&(this.__plugins=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axisPadding",{get:function(){return this.__axisPadding},set:function(t){this.__axisPadding!=t&&(this.__axisPadding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelTemplate",{get:function(){return this.__labelTemplate},set:function(t){this.__labelTemplate!=t&&(this.__labelTemplate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(null==t&&(t=""),this.__name=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type=t.AxisType.X,this.__plots=[],this.__title=null,this.__tooltip=null,this.__position=t.AxisPosition.Near,this.__overlappingLabels=t.OverlappingLabels.Auto,this.__labels=null,this.__max=null,this.__min=null,this.__format=new e._FormatOption(null),this.__scale=new e._ValueScaleOption(null),this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__hoverStyle=new e._TextStyleOption(null),this.__labelStyle=new e._LabelStyleOption(null),this.__titleStyle=new e._LabelStyleOption(null),this.__majorUnit=new e._AxisUnitOption(null),this.__minorUnit=new e._AxisUnitOption(null),this.__dateMode=null,this.__majorTicks=t.TickMark.Outside,this.__minorTicks=t.TickMark.None,this.__majorTickSize=t._Constants.MajorTick,this.__minorTickSize=t._Constants.MinorTick,this.__majorTickStyle=new e._LineStyleOption(null),this.__minorTickStyle=new e._LineStyleOption(null),this.__majorGrid=!1,this.__minorGrid=!1,this.__majorGridStyle=new e._LineStyleOption(null),this.__minorGridStyle=new e._LineStyleOption(null),this.__lineStyle=new e._LineStyleOption(null),this.__origin=null,this.__reversed=!1,this.__labelAngle=[],this.__logBase=t._Constants.LogBase,this.__axisLine=!0,this.__height=null,this.__width=null,this.__maxHeight=null,this.__maxWidth=null,this.__viewSize=null,this.__scrollbarVisible=!0,this.__groupGrid=t.TickMark.Outside,this.__groupGridStyle=new e._LineStyleOption(null),this.__useActualMax=!1,this.__useActualMin=!1,this.__rules=[],this.__unitLabel=new e._UnitLabelOption(null),this.__plugins=[],this.__axisPadding=0,this.__trackers=[],this.__labelTemplate=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.X)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._NameArrayOptionConverter,!0),t.ValidatorAttribute(t._NameArrayOptionValidator,!1)],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._ToolTipConverter,!0)],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._TrackerOptionOrNullConverter,!0)],r.prototype,"trackers",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisPosition,t.AxisPosition.Near)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlappingLabels,t.OverlappingLabels.Auto)],r.prototype,"overlappingLabels",null),o([t.JsonConverterAttribute(t._LabelsPositionConverter,!0,t.AxisPosition)],r.prototype,"labels",null),o([t.JsonConverterAttribute(t._ValueOptionWithNumberDateConverter,!0),t.ValidatorAttribute(t._AxisOptionMaxMinValueValidator,!0)],r.prototype,"max",null),o([t.JsonConverterAttribute(t._ValueOptionWithNumberDateConverter,!0),t.ValidatorAttribute(t._AxisOptionMaxMinValueValidator,!0,!1)],r.prototype,"min",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!1)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ValueScaleOption")],r.prototype,"scale",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"axisLine",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LabelStyleOption")],r.prototype,"labelStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LabelStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._AxisUnitOptionConverter,!1)],r.prototype,"majorUnit",null),o([t.JsonConverterAttribute(t._AxisUnitOptionConverter,!1)],r.prototype,"minorUnit",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DateMode)],r.prototype,"dateMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.Outside)],r.prototype,"majorTicks",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.None)],r.prototype,"minorTicks",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.MajorTick)],r.prototype,"majorTickSize",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.MinorTick)],r.prototype,"minorTickSize",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"majorTickStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"minorTickStyle",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"majorGrid",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"minorGrid",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"majorGridStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"minorGridStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"lineStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"origin",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"reversed",null),o([t.JsonConverterAttribute(t._LabelAngleConverter,!0),t.ValidatorAttribute(t._LabelAngleValidator,!0)],r.prototype,"labelAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.LogBase),t.ValidatorAttribute(t._LogBaseValidator,!0)],r.prototype,"logBase",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._AxisSizeValidator,!1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._AxisSizeValidator,!1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._AxisSizeValidator,!1)],r.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._AxisSizeValidator,!1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._NumberConverter,!1),t.ValidatorAttribute(t._ViewSizeValidator,!1)],r.prototype,"viewSize",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"scrollbarVisible",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.Outside)],r.prototype,"groupGrid",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"groupGridStyle",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"useActualMax",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"useActualMin",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_RuleOption")],r.prototype,"rules",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_UnitLabelOption")],r.prototype,"unitLabel",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],r.prototype,"axisPadding",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"labelTemplate",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"name",null),r}(e._Option),e._AxisOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e){return e.type==t.ElementType.PlotsPane?this:null},e.prototype.queryInterface=function(t){return null},e.prototype.horizontalViewSize=function(t,e,n){return t},e.prototype.verticalViewSize=function(t,e,n){return t},e}();t._DefaultViewSizePolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInViewSizeBuilders=function(){return null==n.__buildInViewSizeBuilders&&(n.__buildInViewSizeBuilders=new n([new t._DefaultViewSizePolicy],n._pluginType)),n.__buildInViewSizeBuilders},n.prototype._convert=function(e){return t._isViewSizePolicyBuilder(e)?e:null},n.prototype._viewSizePolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.build(e);if(null!=l)return l}return new t._DefaultViewSizePolicy},n._pluginType="ViewSizePolicy",n}(t._BuildInObjectCollection);t._BuildInViewSizeBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isViewSizePolicyBuilder=function(t){return null!=t.build}}(t||(t={})),function(t){!function(t){t._isDataLabelModel=function(t){var e=t;return null!=e&&void 0!==e.text&&void 0!==e.visible}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isViewModel=function(t){return null!=t&&void 0!==t.type}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o.__text=n.text,o.__option=i,o}return i(n,e),Object.defineProperty(n.prototype,"maxWidth",{get:function(){var t=this.__option.maxWidth;return null==t?Number.MAX_VALUE:t},enumerable:!0,configurable:!0}),n.prototype._layoutLabel=function(t,e){},n.prototype._rectangleShape=function(){return this._rotatedRectangle()},n.prototype._position=function(){return t._NativeExtension._toNonNullEnum(this.__option.position,t.TextPosition.Outside)},n.prototype._linePosition=function(){return t._NativeExtension._toNonNullEnum(this.__option.linePosition,t.LinePosition.Auto)},n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n.prototype._rotatedRectangle=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this._getTextAngle()?0:this._getTextAngle())},n.prototype._shape=function(){return this._rotatedRectangle()},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hAlign=function(){return t.HAlign.Left},n.prototype._style=function(){return null==this.__style&&(this.__style=this._createStyle()),this.__style},n.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());this.__hoverStyle=e}return this.__hoverStyle},n.prototype._paddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.__text,this._textOverflow(),this._paddings(),this._hAlign(),t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},n.prototype._measure=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutContent=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._layout=function(e,n,i){if(this._layoutContent(e,n,i),null!=this._startPoint&&null!=this._endPoint){var o=this.__option.angle;if(null!=o){o=t._Util.degree2Rad(o),this._setTextAngle(o),this._setTextLocation(this._textView()._getRectangle().center);for(var r=this._rotatedRectangle(),l=r.points,a=r.center,s=null,u=0;u<l.length;++u){var _=(u+1)%l.length;if(null!=(s=t._ShapeUtil.getSegmentsIntersection(l[u],l[_],this._startPoint,a)))break}this._endPoint=s}}},n.prototype.translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},n.prototype._drawView=function(e,n){null!=this.__text&&this._renderConnectingLine(e,n);var i=this._getTextLocation(),o=this._getTextAngle(),r=!1;Math.cos(o)<0&&(r=!0);var l=null;null!=o&&null!=i&&(r?l=t._MatrixUtility._buildRotateMatrix(o-Math.PI,i):0!=o&&(l=t._MatrixUtility._buildRotateMatrix(o,i))),this._textView()._transform=l,this._textView()._render(e,n)},n.prototype._renderConnectingLine=function(e,n){if(null!=this.__option.connectingLine){var i=this._startPoint,o=this._endPoint;null!=i&&null!=o&&(e.beginTransform(),this._applyConnectingLineStyle(e),e.drawGroup(t._CssClassName._connectingLine,null,null,(function(t){t.drawLine(i.x,i.y,o.x,o.y)})),e.restoreTransform())}},n.prototype._applyConnectingLineStyle=function(e){var n=this.__option.connectingLine;if(null!=n){var i=t._StyleUtility._buildStyle();t._StyleUtility._applyLineStyleOption(i,n),null==i.stroke&&(i.stroke=this._defaultStrokeColor()),t._StyleUtility._applyStyle(e,i)}},n.prototype._getOverlap=function(){return this.__overlap},n.prototype._setOverlap=function(t){this.__overlap=t},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(null!=this._rotatedRectangle()&&this._rotatedRectangle().contains(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPointLabel);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._isVisible=function(){return!!this._ownerView._isVisible()&&e.prototype._isVisible.call(this)},Object.defineProperty(n.prototype,"text",{get:function(){return this.__text},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n}(t._BaseView);t._DataLabelView=e}(t||(t={})),function(t){t._isDataLabelView=function(t){var e=t;return null!=e&&"function"==typeof e._layoutLabel&&"function"==typeof e._render&&"function"==typeof e._hitTest&&"function"==typeof e._rectangleShape&&"function"==typeof e._setOverlap}}(t||(t={})),t||(t={}),function(t){t._isLabelView=function(t){return null!=t&&"function"==typeof t.translate}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._pointView=function(){return this._ownerView},n.prototype._textOverflow=function(){var e=this.__option.textStyle.overflow;return null==e&&(e=this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle.overflow),null==e&&(e=this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._textAlignment=function(){var t=this.__option.textStyle.alignment;return null==t&&(t=this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle.alignment),null==t&&(t=this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._createStyle=function(){var e=t._StyleUtility._buildStyle();return t._StyleUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._ownerView._getTextOption().textStyle),t._StyleUtility._applyFill(e,t._CssColor._none()),t._StyleUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this._ownerView._getTextOption().style.backgroundColor),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,this._defaultStrokeColor()),t._StyleUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this.__option.style),e},n.prototype._defaultStrokeColor=function(){return this._ownerView._getPointColor()},n}(t._DataLabelView);t._PointDataLabelView=e}(t||(t={})),function(t){var e=function(){function e(t){this.points=this._createPoints(t)}return e.prototype._createPoints=function(e){var n=[],i=e._rectangle();if(null!=i&&i!=t.core.Rect.ReadOnlyRect){var o=i.clone();n=[],o.width<=0&&(o.width=2),o.height<=0&&(o.height=2),n.push(new t.core.Point(o.left,o.top)),n.push(new t.core.Point(o.right,o.top)),n.push(new t.core.Point(o.right,o.bottom)),n.push(new t.core.Point(o.left,o.bottom))}return n},e}();t._PointAdorner=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isZoomableView=function(t){var e=t;return null!=e._zoomBounds&&null!=e._zoomFactor&&null!=e._translate&&null!=e._zoomAt&&null!=e._reset&&null!=e._isHitTested}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this._zoomView=e;var i=t._ViewUtility._dvView(e);if(null!=i){var o=t._DvViewUtility._domManager(i);this.__zoomButtons=null==o?null:o._createZoomButtons(this,n.zoomButtons)}}return Object.defineProperty(e.prototype,"_zoomButtons",{get:function(){return this.__zoomButtons},enumerable:!0,configurable:!0}),e.prototype._active=function(){return this.__zoomButtons._isActive=!0,this.__zoomButtons._refresh(),!0},e.prototype._inactive=function(){this.__zoomButtons._isActive=!1,this.__zoomButtons._refresh()},e.prototype.dispose=function(){null!=this.__zoomButtons&&(this.__zoomButtons.dispose(),this.__zoomButtons=null)},e}();t._ZoomContainer=e}(t||(t={})),function(t){var e=function(){function e(e){this.__start=0,this.__isFirstRunning=!0,this.ease=e,this.delay=0,this.duration=0,this.state=t.AnimationState.BeforeStart,this.ishiddenBeforeStart=!0}return e.prototype._castView=function(t){return t},e.prototype._onStartAniamtion=function(t){},e.prototype._onEndAnimation=function(t){},e.prototype._onInterruptAnimation=function(t,e){this._onEndAnimation(e)},e.prototype._onPending=function(t){},e.prototype._applyTransformation=function(t,e){},e.prototype._isRunning=function(t){return t>=this.__start&&t<this.__start+this.duration},e.prototype._scale1=function(t){return this.ease((t-this.__start)/this.duration)},e.prototype.isStop=function(){return this.state==t.AnimationState.End},e.prototype.start=function(e,n){if(this.state==t.AnimationState.BeforeStart){if(this.state=t.AnimationState.Animating,this._onPending(this._castView(n)),this.duration+this.delay<=0)return void this.stop(n);this.ishiddenBeforeStart&&(n._visible=!1),this.__start=e+this.delay,this.step(e,n)}},e.prototype.stop=function(e){this.state!==t.AnimationState.Animating&&this.state!=t.AnimationState.BeforeStart||(e._visible=!0,this.state=t.AnimationState.End,this._onEndAnimation(this._castView(e)))},e.prototype.step=function(e,n){this.state==t.AnimationState.Animating&&(this._isRunning(e)?(this.__isFirstRunning&&(n._visible=!0,this._onStartAniamtion(this._castView(n)),this.__isFirstRunning=!1),this._applyTransformation(this._scale1(e),this._castView(n))):e>=this.__start+this.duration&&(this._applyTransformation(1,this._castView(n)),this.stop(n)))},e.prototype.interrupt=function(e,n){this.state!==t.AnimationState.Animating&&this.state!=t.AnimationState.BeforeStart||(n._visible=!0,this.state=t.AnimationState.End,this._onInterruptAnimation(Math.max(this._scale1(e),0),this._castView(n)))},e.prototype.reverse=function(){return null},e}();t._AnimationAction1=e}(t||(t={})),function(t){var e=function(){function t(){}return t.Linear=function(t){return t},t.Swing=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},t.EaseInQuad=function(t){return t*t},t.EaseOutQuad=function(t){return t*(2-t)},t.EaseInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.EaseInCubic=function(t){return t*t*t},t.EaseOutCubic=function(t){return--t*t*t+1},t.EaseInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.EaseInQuart=function(t){return t*t*t*t},t.EaseOutQuart=function(t){return 1- --t*t*t*t},t.EaseInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.EaseInQuint=function(t){return t*t*t*t*t},t.EaseOutQuint=function(t){return 1+--t*t*t*t*t},t.EaseInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},t.EaseInSine=function(t){return 1-Math.cos(t*(Math.PI/2))},t.EaseOutSine=function(t){return Math.sin(t*(Math.PI/2))},t.EaseInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.EaseInExpo=function(t){return 0==t?0:Math.pow(2,10*(t-1))},t.EaseOutExpo=function(t){return 1==t?1:1-Math.pow(2,-10*t)},t.EaseInOutExpo=function(t){return(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},t.EaseInCirc=function(t){return-(Math.sqrt(1-t*t)-1)},t.EaseOutCirc=function(t){return Math.sqrt(1-Math.pow(t-1,2))},t.EaseInOutCirc=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.EaseInBack=function(t){var e=1.70158;return t*t*((e+1)*t-e)},t.EaseOutBack=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},t.EaseInOutBack=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},t.EaseInBounce=function(e){return 1-t.EaseOutBounce(1-e)},t.EaseOutBounce=function(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},t.EaseInOutBounce=function(e){return e<.5?.5*t.EaseInBounce(2*e):.5*t.EaseOutBounce(2*e-1)+.5},t.EaseInElastic=function(t){return-Math.pow(2,10*(t-=1))*Math.sin((t-.075)*(2*Math.PI)/.3)},t.EaseOutElastic=function(t){return Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},t.EaseInOutElastic=function(t){return(t*=2)<1?Math.pow(2,10*(t-=1))*Math.sin((t-.1125)*(2*Math.PI)/.45)*-.5:Math.pow(2,-10*(t-=1))*Math.sin((t-.1125)*(2*Math.PI)/.45)*.5+1},t}();t._AnimationEase=e}(t||(t={})),function(t){!function(t){t[t.Percentage=0]="Percentage",t[t.Pixel=1]="Pixel"}(t.AnimationKeyFramesType||(t.AnimationKeyFramesType={}))}(t||(t={})),function(t){!function(t){t[t.BeforeStart=0]="BeforeStart",t[t.Animating=1]="Animating",t[t.End=2]="End"}(t.AnimationState||(t.AnimationState={}))}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInAxisAddtionals=function(){return null==n.__buildInAxisAddtionals&&(n.__buildInAxisAddtionals=new n([],n._pluginType)),n.__buildInAxisAddtionals},n.prototype._convert=function(e){return t._isAxisAddtionalPolicy(e)?e:null},n.prototype._applyAxisViewAddtional=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o];l.item.apply(t,e,l.option)}},n._pluginType="AxisAddtional",n}(t._BuildInObjectCollection);t._BuildInAxisAddtionalCollection=e}(t||(t={})),function(t){t._isAxisAddtionalPolicy=function(t){return null!=t&&"function"==typeof t.apply}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInJsonOptionConverters=function(){return null==n.__buildInOptionConverters&&(n.__buildInOptionConverters=new n([],n._pluginType)),n.__buildInOptionConverters},n.prototype._convert=function(e){return t._isOptionConverter(e)?e:null},n.prototype._buildOption=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i];if(r.item.canConvert(t))return r.item.convert(t)}return null},n._pluginType="OptionConverter",n}(t._BuildInObjectCollection);t._BuildInOptionConverterCollection=e}(t||(t={})),function(t){t._isOptionConverter=function(t){var e=t;return"function"==typeof e.canConvert&&"function"==typeof e.convert}}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.parent=t,this.__clipping=e,this.__transform=n}return Object.defineProperty(t.prototype,"transform",{get:function(){return this.__transform},set:function(t){this.__transform!=t&&(this.__transform=t,this._onPropertyChanged("transform"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clipping",{get:function(){return this.__clipping},set:function(t){this.__clipping!=t&&(this.__clipping=t,this._onPropertyChanged("clipping"))},enumerable:!0,configurable:!0}),t.prototype._onPropertyChanged=function(t){},t}();t._RenderEngineElement=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s){var u=t.call(this,e,a,s)||this;return u.cx=n,u.cy=i,u.rx=o,u.ry=r,u.fillOpacity=l.fillOpacity,u.fill=l.fill,u.strokeOpacity=l.strokeOpacity,u.stroke=l.stroke,u.strokeWidth=l.strokeWidth,u.strokeDasharray=l.strokeDasharray,u.scalingStroke=l.scalingStroke,u}return i(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderEllipse(this.cx,this.cy,this.rx,this.ry,this.clipping,this.transform)},e}(t._RenderEngineElement);t._EllipseRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r.className=n,r.children=[],r}return i(e,t),e.prototype.draw=function(t){t.startRenderGroup(this.className,this.clipping,this.transform);for(var e=0,n=this.children;e<n.length;e++)n[e].draw(t);t.endRenderGroup()},e}(t._RenderEngineElement);t._GroupRenderEngineElement=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(n,i,o,r,l,a,s,u){var _=e.call(this,n,i,o,r)||this;return _.__style=t._StyleCloneMaker._styleCloneMaker._cloneOf(l),_.__viewport=a,_.__width=s,_.__height=u,_.__offsetX=0,_.__offsetY=0,_}return i(n,e),Object.defineProperty(n.prototype,"styleContext",{get:function(){return this.__style},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewport",{get:function(){return this.__viewport},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetX",{get:function(){return this.__offsetX},set:function(t){this.__offsetX!=t&&(this.__offsetX=t,this._onPropertyChanged("offsetX"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetY",{get:function(){return this.__offsetY},set:function(t){this.__offsetY!=t&&(this.__offsetY=t,this._onPropertyChanged("offsetY"))},enumerable:!0,configurable:!0}),n.prototype.flush=function(){},n.prototype.dirty=function(){},n}(t._GroupRenderEngineElement);t._ReferenceGroupRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s){var u=t.call(this,e,a,s)||this;return u.image=n,u.left=i,u.top=o,u.width=r,u.height=l,u}return i(e,t),e.prototype.draw=function(t){t.renderImage(this.image,this.left,this.top,this.width,this.height,this.clipping,this.transform)},e}(t._RenderEngineElement);t._ImageRenderEngineElement=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s){var u=t.call(this,e,a,s)||this;return u.x1=n,u.y1=i,u.x2=o,u.y2=r,u.strokeOpacity=l.strokeOpacity,u.stroke=l.stroke,u.strokeWidth=l.strokeWidth,u.strokeDasharray=l.strokeDasharray,u.scalingStroke=l.scalingStroke,u}return i(e,t),e.prototype.draw=function(t){this.x1==this.x2&&this.y1==this.y2||(t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderLine(this.x1,this.y1,this.x2,this.y2,this.clipping,this.transform))},e}(t._RenderEngineElement);t._LineRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,r,l)||this;return a.xs=n,a.ys=i,a.strokeOpacity=o.strokeOpacity,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth,a.strokeDasharray=o.strokeDasharray,a.scalingStroke=o.scalingStroke,a}return i(e,t),e.prototype.draw=function(t){t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderLines(this.xs,this.ys,this.clipping,this.transform)},e}(t._RenderEngineElement);t._LinesRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s){var u=t.call(this,e,a,s)||this;return u.path=n,u.fillType=i,u.lineCap=o,u.lineJoin=r,u.fillOpacity=l.fillOpacity,u.fill=l.fill,u.strokeOpacity=l.strokeOpacity,u.stroke=l.stroke,u.strokeWidth=l.strokeWidth,u.strokeDasharray=l.strokeDasharray,u.scalingStroke=l.scalingStroke,u}return i(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderPath(this.path,this.fillType,this.lineCap,this.lineJoin,this.clipping,this.transform)},e}(t._RenderEngineElement);t._PathRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,r,l)||this;return a.xs=n,a.ys=i,a.fillOpacity=o.fillOpacity,a.fill=o.fill,a.strokeOpacity=o.strokeOpacity,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth,a.strokeDasharray=o.strokeDasharray,a.scalingStroke=o.scalingStroke,a}return i(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderPolygon(this.xs,this.ys,this.clipping,this.transform)},e}(t._RenderEngineElement);t._PolygonRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s){var u=t.call(this,e,a,s)||this;return u.left=n,u.top=i,u.width=o,u.height=r,u.fillOpacity=l.fillOpacity,u.fill=l.fill,u.strokeOpacity=l.strokeOpacity,u.stroke=l.stroke,u.strokeWidth=l.strokeWidth,u.strokeDasharray=l.strokeDasharray,u.scalingStroke=l.scalingStroke,u}return i(e,t),e.prototype.draw=function(t){this.width<=0||this.height<=0||(t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderRect(this.left,this.top,this.width,this.height,this.clipping,this.transform))},e}(t._RenderEngineElement);t._RectangleRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,null,null,null)||this;return i.width=t,i.height=n,i.children=[],i}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(e){if(e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);this.__width=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(e){if(e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);this.__height=e},enumerable:!0,configurable:!0}),n.prototype.draw=function(t){if(0!=this.width&&0!=this.height){t.setRenderViewportSize(this.width,this.height);for(var e=0,n=this.children;e<n.length;e++)n[e].draw(t)}},n}(t._RenderEngineElement);t._SurfaceRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a){var s=t.call(this,e,l,a)||this;return s.s=n,s.x=i,s.y=o,s.fontFamily=r.fontFamily,s.fontSize=r.fontSize,s.fontWeight=r.fontWeight,s.fontStyle=r.fontStyle,s.textOpacity=r.textOpacity,s.textFill=r.textFill,s.textOverline=r.textOverline,s.textLineThrough=r.textLineThrough,s.textUnderline=r.textUnderline,s.textWritingMode=r.textWritingMode,s}return i(e,t),e.prototype.draw=function(t){t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle,t.textOpacity=this.textOpacity,t.textFill=this.textFill,t.textOverline=this.textOverline,t.textLineThrough=this.textLineThrough,t.textUnderline=this.textUnderline,t.textWritingMode=this.textWritingMode,t.renderString(this.s,this.x,this.y,this.clipping,this.transform)},e}(t._RenderEngineElement);t._TextRenderEngineElement=e}(t||(t={})),function(t){var e=function(){function e(){this.__fillOpacity=null,this.__fill=null,this.__strokeOpacity=null,this.__stroke=null,this.__strokeWidth=1,this.__scalingStroke=null,this.__strokeDasharray=null,this.__fontSize=null,this.__fontFamily=this._defaultFontFamily(),this.__defaultFontFamily=this._defaultFontFamily(),this.__fontWeight=null,this.__fontStyle=null,this.__textOpacity=null,this.__textFill=null,this.__textOverline=null,this.__textLineThrough=null,this.__textUnderline=null,this.__writingMode=null,this.__rootRenderEngineElement=null,this.__currentRenderElementParent=null,this.__referenceRenderElement=null,this._epsilon=.001}return e.prototype.beginRender=function(){this.__rootRenderEngineElement=this._createRootElement(),this.__currentRenderElementParent=this.__rootRenderEngineElement,this.__referenceRenderElement=null},e.prototype.endRender=function(){null!=this.__rootRenderEngineElement&&this.__rootRenderEngineElement.draw(this._renderEngineApi())},e.prototype.setViewportSize=function(e,n){if(null==this.__rootRenderEngineElement)throw new t.AssertError(t.ErrorCode.Unknown);this.__rootRenderEngineElement.width=e,this.__rootRenderEngineElement.height=n},e.prototype.createGroup=function(e,n,i,o,r,l){if(null!=this.__currentRenderElementParent){var a=this._createReferenceGroup(this.__currentRenderElementParent,e,n,i,o,r,l);return null!=a&&(this.__currentRenderElementParent.children.push(a),this.__currentRenderElementParent=a),a}throw new t.AssertError(t.ErrorCode.Unknown)},e.prototype.startGroup=function(e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var o=new t._GroupRenderEngineElement(this.__currentRenderElementParent,e,n,i);this.__currentRenderElementParent.children.push(o),this.__currentRenderElementParent=o},e.prototype.endGroup=function(){if(null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);this.__currentRenderElementParent=this.__currentRenderElementParent.parent},e.prototype.startReferenceGroup=function(e){if(null!=this.__referenceRenderElement)throw new t.AssertError(t.ErrorCode.Unknown);this.__referenceRenderElement=this.__currentRenderElementParent,this.__currentRenderElementParent=e},e.prototype.endReferenceGroup=function(){if(null==this.__referenceRenderElement)throw new t.AssertError(t.ErrorCode.Unknown);this.__currentRenderElementParent=this.__referenceRenderElement,this.__referenceRenderElement=null},e.prototype.drawString=function(e,n,i,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var l=new t._TextRenderEngineElement(this.__currentRenderElementParent,e,n,i,this,o,r);this.__currentRenderElementParent.children.push(l)},e.prototype.drawPath=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._PathRenderEngineElement(this.__currentRenderElementParent,e,n,i,o,this,r,l);this.__currentRenderElementParent.children.push(a)},e.prototype.drawRect=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._RectangleRenderEngineElement(this.__currentRenderElementParent,e,n,i,o,this,r,l);this.__currentRenderElementParent.children.push(a)},e.prototype.drawLine=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._LineRenderEngineElement(this.__currentRenderElementParent,e,n,i,o,this,r,l);this.__currentRenderElementParent.children.push(a)},e.prototype.drawLines=function(e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var r=new t._LinesRenderEngineElement(this.__currentRenderElementParent,e,n,this,i,o);this.__currentRenderElementParent.children.push(r)},e.prototype.drawPolygon=function(e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var r=new t._PolygonRenderEngineElement(this.__currentRenderElementParent,e,n,this,i,o);this.__currentRenderElementParent.children.push(r)},e.prototype.drawEllipse=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._EllipseRenderEngineElement(this.__currentRenderElementParent,e,n,i,o,this,r,l);this.__currentRenderElementParent.children.push(a)},e.prototype.drawImage=function(e,n,i,o,r,l,a){if(void 0===l&&(l=null),void 0===a&&(a=null),null==this.__currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var s=new t._ImageRenderEngineElement(this.__currentRenderElementParent,e,n,i,o,r,l,a);this.__currentRenderElementParent.children.push(s)},e.prototype._createRootElement=function(){return new t._SurfaceRenderEngineElement(0,0)},e.prototype._createReferenceGroup=function(t,e,n,i,o,r,l){return null},e.prototype._defaultFontFamily=function(){return t._SystemUtility.DefaultFontFamily()},e.prototype._isSameValue=function(t){for(var e=t[0],n=0,i=t;n<i.length;n++){var o=i[n];if(Math.abs(o-e)>this._epsilon)return!1}return!0},e.prototype._onFillOpacityChanged=function(){},e.prototype._onFillChanged=function(){},e.prototype._onStrokeOpacityChanged=function(){},e.prototype._onStrokeChanged=function(){},e.prototype._onStrokeWidthChanged=function(){},e.prototype._onStrokeDasharrayChanged=function(){},e.prototype._onScalingStrokeChanged=function(){},e.prototype._onFontFamilyChanged=function(){},e.prototype._onFontSizeChanged=function(){},e.prototype._onFontWeightChanged=function(){},e.prototype._onFontStyleChanged=function(){},e.prototype._onTextOpacityChanged=function(){},e.prototype._onTextFillChanged=function(){},e.prototype._onTextOverlineChanged=function(){},e.prototype._onTextLineThroughChanged=function(){},e.prototype._onTextUnderlineChanged=function(){},e.prototype._onWritingModeChanged=function(){},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.__fillOpacity},set:function(t){this.__fillOpacity=t,this._onFillOpacityChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill=t,this._onFillChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){this.__strokeOpacity=t,this._onStrokeOpacityChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke=t,this._onStrokeChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth=t,this._onStrokeWidthChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray=t,this._onStrokeDasharrayChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingStroke",{get:function(){return this.__scalingStroke},set:function(t){this.__scalingStroke=t,this._onScalingStrokeChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.__fontFamily},set:function(e){if(null!=e&&e!=this.__fontFamily){if(e.indexOf(this.__defaultFontFamily)>=0)this.__fontFamily=e;else if(t._NativeExtension._isNullOrEmptyString(e))this.__fontFamily=this.__defaultFontFamily;else{var n=e.split(",");n=n.concat(this.__defaultFontFamily.split(",")),this.__fontFamily=n.join(",")}this._onFontFamilyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.__fontSize},set:function(t){this.__fontSize=t,this._onFontSizeChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.__fontWeight},set:function(t){this.__fontWeight=t,this._onFontWeightChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.__fontStyle},set:function(t){this.__fontStyle=t,this._onFontStyleChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textOpacity",{get:function(){return this.__textOpacity},set:function(t){this.__textOpacity=t,this._onTextOpacityChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textFill",{get:function(){return this.__textFill},set:function(t){this.__textFill=t,this._onTextFillChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textOverline",{get:function(){return this.__textOverline},set:function(t){this.__textOverline=t,this._onTextOverlineChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textLineThrough",{get:function(){return this.__textLineThrough},set:function(t){this.__textLineThrough=t,this._onTextLineThroughChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textUnderline",{get:function(){return this.__textUnderline},set:function(t){this.__textUnderline=t,this._onTextLineThroughChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWritingMode",{get:function(){return this.__writingMode},set:function(t){this.__writingMode=t,this._onWritingModeChanged()},enumerable:!0,configurable:!0}),e}();t.BaseRenderEngine=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){void 0===o&&(o=null);var r=e.call(this)||this;return r._defaultOpacity=1,r.__fontSizeWithUnit=null,r.__drawContext=null,r.__matrixStackForIE=[],r.__hostElement=n,r.__devicePixelRatio=i,r.__metrics=null==o?new t._CanvasTextMetrics:o,r.__isIE=t._BrowserUtility.isIE(),r.__textLayoutPolicy=new t._PunctuationAndMixedPolicy,r.__miterSize=4,r.__canvasElement=document.createElement("canvas"),r.__hostElement.appendChild(r.__canvasElement),r.__groupTransformStack=[],r}return i(n,e),Object.defineProperty(n.prototype,"_hostElement",{get:function(){return this.__hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_devicePixelRatio",{get:function(){return this.__devicePixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_canvasElement",{get:function(){return this.__canvasElement},enumerable:!0,configurable:!0}),n.prototype._renderEngineApi=function(){return this},n.prototype._defaultStyle=function(){return window.getComputedStyle(this.__hostElement)},n.prototype._fontSizeWithPixel=function(){return this.__fontSizeWithUnit},n.prototype._canvasDefaultFont=function(){return this.__canvasDefaultFont},n.prototype._context=function(){var t=this.__drawContext;return null==this.__drawContext?(this.__drawContext=this.__canvasElement.getContext("2d"),this.__drawContext):t},n.prototype._currentMatrix=function(){if(this.__isIE){for(var e=new t.Matrix([1,0,0,1,0,0]),n=0,i=this.__matrixStackForIE;n<i.length;n++){var o=i[n];e.transform(o)}return e}var r=this._context().getTransform();return new t.Matrix([r.a,r.b,r.c,r.d,r.e,r.f])},n.prototype._applyTransform=function(t,e,n,i,o){e?(t.save(),n?(i.push(e.clone()),t.transform(e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],e.values[5]),o(t),i.pop()):(t.transform(e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],e.values[5]),o(t)),t.restore()):o(t)},n.prototype._applyClippingRegion=function(t,e){e&&(t.beginPath(),this._drawRegion(t,e),t.clip(),t.closePath())},n.prototype._applyFillStyle=function(e,n,i,o,r){void 0===r&&(r=null),null!=i&&(e.globalAlpha=n,(!t.models._isCssColor(i)||"transparent"!==i.color&&"none"!==i.color)&&(e.fillStyle=this._createColor(e,i,r),e.fill(o)))},n.prototype._applyStrokeStyle=function(e,n,i,o,r,l,a,s,u){var _=this;if(void 0===u&&(u=null),null!=i&&0!=o&&(!t.models._isCssColor(i)||"none"!==i.color)){if(e.globalAlpha=n,e.lineWidth=o,r&&"none"!==r){var p=r.match(/\d+(\.\d+)?/g).map((function(t){return parseFloat(t)}));e.setLineDash(p)}switch(a){case t.LineCap.Round:e.lineCap="round";break;case t.LineCap.Square:e.lineCap="square";break;case t.LineCap.Butt:e.lineCap="butt"}switch(s){case t.LineJoin.Round:e.lineJoin="round";break;case t.LineJoin.Bevel:e.lineJoin="bevel";break;case t.LineJoin.Miter:e.lineJoin="miter",e.miterLimit=this.__miterSize}!1===l?(e.save(),e.strokeStyle=this._createColor(e,i,(function(){return _._transformBoundRectangle(u?u():null)})),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):(e.strokeStyle=this._createColor(e,i,u),e.stroke())}},n.prototype._applyFontStyle=function(e,n,i,o,r,l,a,s){var u,_="",p="",c=null,h="";o?c=o:null!=i&&null!=i.fontFamily&&(c=i.fontFamily),r?_=r:null!=i&&null!=i.fontSize&&(_=i.fontSize),l?p=t.FontStyle[l]?t.FontStyle[l]:l.toString():null!=i&&null!=i.fontStyle&&(p=i.fontStyle),a?h=a:null!=i&&null!=i.fontWeight&&(h=i.fontWeight),null!=n&&(e.globalAlpha=n),"string"==typeof s?e.fillStyle=s&&"none"!=s?s:"transparent":"string"==typeof i.textFill&&(e.fillStyle=i.textFill&&"none"!=i.textFill?i.textFill:"transparent"),_&&(u=p+" "+h+" "+_+" "+(c||"sans-serif"),e.font=u,e.font.replace(/\"/g,"'")!==u.replace(/\"/g,"'")&&(u=p+" "+h+" "+_+" "+(e.font.split(" ").splice(1).join(" ")||"sans-serif"),e.font=u))},n.prototype._drawRegion=function(e,n){if(t._isRectangleRegion(n)){var i=n;e.rect(i.left,i.top,i.width,i.height)}else if(t._isPathRegion(n)){var o=n;this._drawPathByCommands(e,o.path)}else if(t._isEllipseRegion(n)){var r=n;this._drawEllipse(e,r.cx,r.cy,r.rx,r.ry)}else if(t._isPolygonRegion(n)){var l=n;this._drawPolygon(e,l.points.map((function(t){return t.x})),l.points.map((function(t){return t.y})))}else if(t._isUnionRegion(n))for(var a=0,s=n.regions;a<s.length;a++){var u=s[a];this._drawRegion(e,u)}else if(t._isIntersectionRegion(n))for(var _=0,p=n.regions;_<p.length;_++)u=p[_],this._applyClippingRegion(e,u)},n.prototype._drawPathByCommands=function(e,n){for(var i=0,o=0,r=0,l=0,a=0,s=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(n.expression);a<s.length;a++){var u=s[a];if(u instanceof t._MoveToPathCommand)e.moveTo(u._x,u._y),i=r=u._x,o=l=u._y;else if(u instanceof t._LineToPathCommand)e.lineTo(u._x,u._y),i=u._x,o=u._y;else if(u instanceof t._CurveToPathCommand)e.bezierCurveTo(u._cpx1,u._cpy1,u._cpx2,u._cpy2,u._x,u._y),i=u._x,o=u._y;else if(u instanceof t._QuadraticCurveToPathCommand)e.quadraticCurveTo(u._cpx,u._cpy,u._x,u._y),i=u._x,o=u._y;else if(u instanceof t._ArcPathCommand){var _=u._toCircularArcPathCommand(i,o),p=u._rx,c=u._ry,h=p>c?1:p/c,f=p>c?c/p:1,d=!!_._anticlockwise;e.translate(_._x,_._y),e.rotate(u._xAxisRotation),e.scale(h,f),e.arc(0,0,_._radius,_._startAngle,_._endAngle,d),e.scale(1/h,1/f),e.rotate(-u._xAxisRotation),e.translate(-_._x,-_._y),i=_._x,o=_._y}else u instanceof t._ClosePathCommand&&(e.closePath(),i=r,o=l)}},n.prototype._drawPath=function(e,n,i){if(null!=n){e.beginPath();for(var o=0,r=0,l=0,a=0,s=0,u=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(n.expression);s<u.length;s++){var _=u[s];if(_ instanceof t._MoveToPathCommand)e.moveTo(_._x,_._y),o=l=_._x,r=a=_._y;else if(_ instanceof t._LineToPathCommand)e.lineTo(_._x,_._y),o=_._x,r=_._y;else if(_ instanceof t._CurveToPathCommand)e.bezierCurveTo(_._cpx1,_._cpy1,_._cpx2,_._cpy2,_._x,_._y),o=_._x,r=_._y;else if(_ instanceof t._QuadraticCurveToPathCommand)e.quadraticCurveTo(_._cpx,_._cpy,_._x,_._y),o=_._x,r=_._y;else if(_ instanceof t._ArcPathCommand){var p=_._toCircularArcPathCommand(o,r),c=p._x,h=p._y,f=_._xAxisRotation,d=_._rx,y=_._ry,g=d>y?1:d/y,m=d>y?y/d:1;if(isNaN(c)||isNaN(h)||isNaN(f))i.push(null);else{e.save();var v=new t.Matrix;v.translate(p._x,p._y),v.rotate(_._xAxisRotation),v.scale(g,m),i.push(v),e.transform(v.values[0],v.values[1],v.values[2],v.values[3],v.values[4],v.values[5]),e.arc(0,0,p._radius,p._startAngle,p._endAngle,p._anticlockwise),e.restore()}o=p._x,r=p._y}else _ instanceof t._ClosePathCommand&&(e.closePath(),o=l,r=a)}}},n.prototype._drawRect=function(t,e,n,i,o){t.beginPath(),t.rect(e,n,i,o)},n.prototype._drawLine=function(t,e,n,i,o){t.beginPath(),t.moveTo(e,n),t.lineTo(i,o)},n.prototype._drawLines=function(t,e,n){t.beginPath(),t.moveTo(e[0],n[0]);for(var i=1,o=Math.min(e.length,n.length);i<o;i++)t.lineTo(e[i],n[i])},n.prototype._drawPolygon=function(t,e,n){t.beginPath(),t.moveTo(e[0],n[0]);for(var i=1,o=Math.min(e.length,n.length);i<o;i++)t.lineTo(e[i],n[i]);t.closePath()},n.prototype._drawEllipse=function(e,n,i,o,r){e.beginPath(),e.ellipse?(0!=o&&0!=r||(o=0,r=0),e.ellipse(n,i,o,r,0,0,t._Utility._PI2)):(e.translate(n,i),e.scale(1,r/o),e.translate(-n,-i),e.arc(n,i,o,0,2*Math.PI),e.scale(1,1))},n.prototype._drawVerticalString=function(t,e,n,i){var o=this,r=e.split(""),l=r.map((function(t){return o.measureString(t)}));t.textBaseline="middle",t.textAlign="center",r.forEach((function(e,o){var r=l[o];t.save(),n.y+=.5*r.height;var a=i.adjustSpace(e,n,r);0!=a.rotate&&(t.translate(a.adjust.x,a.adjust.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.adjust.x,-a.adjust.y)),t.fillText(e,a.adjust.x,a.adjust.y),n.y+=.5*r.height,t.restore()}))},n.prototype._drawTextDecoration=function(e,n,i,o,r){var l=this;if(""!=e.trim()){var a=this._context();if(this.textUnderline||this.textLineThrough||this.textOverline){var s=o.width,u=o.height/1.5;if(this.textUnderline){this._drawLine(a,n,i,n+s,i);var _=function(){return l._boundRectangleOfLine(n,i,n+s,i,1)};this._applyStrokeStyle(a,r,new t._CssColor(a.fillStyle.toString()),1,"",!0,t.LineCap.Butt,t.LineJoin.Miter,_)}this.textLineThrough&&(this._drawLine(a,n,i-u/2,n+s,i-u/2),_=function(){return l._boundRectangleOfLine(n,i-u/2,n+s,i-u/2,1)},this._applyStrokeStyle(a,r,new t._CssColor(a.fillStyle.toString()),1,"",!0,t.LineCap.Butt,t.LineJoin.Miter,_)),this.textOverline&&(this._drawLine(a,n,i-u,n+s,i-u),_=function(){return l._boundRectangleOfLine(n,i-u,n+s,i-u,1)},this._applyStrokeStyle(a,r,new t._CssColor(a.fillStyle.toString()),1,"",!0,t.LineCap.Butt,t.LineJoin.Miter,_))}}},n.prototype._createColor=function(e,n,i){return void 0===i&&(i=null),null==n?null:t.models._isCssColor(n)&&"transparent"!==n.color&&"none"!==n.color?n.color:t.models._isLinearGradientColor(n)?this._createLinearCanvasGradient(e,n,i):t.models._isRadialGradientColor(n)?this._createRadialCanvasGradient(e,n,i):t.models._isPatternColor(n)?this._createCanvasPattern(e,n):null},n.prototype._createLinearCanvasGradient=function(t,e,n){void 0===n&&(n=null);var i=this._gradientDegreeToPoints(e.degree),o=n?n():null;if(null==o){var r=t.createLinearGradient(i[0]*t.canvas.width,i[1]*t.canvas.height,i[2]*t.canvas.width,i[3]*t.canvas.height);return e.colorStops.forEach((function(t){r.addColorStop(t.stop,t.color)})),r}var l=t.createLinearGradient(i[0]*o.width+o.left,i[1]*o.height+o.top,i[2]*o.width+o.left,i[3]*o.height+o.top);return e.colorStops.forEach((function(t){l.addColorStop(t.stop,t.color)})),l},n.prototype._createRadialCanvasGradient=function(t,e,n){void 0===n&&(n=null);var i=n?n():null;if(null==i)return e.radius==e.focusRadius?t.createRadialGradient(e.center.x*t.canvas.width,e.center.y*t.canvas.height,e.radius*t.canvas.width,e.focus.x*t.canvas.width,e.focus.y*t.canvas.height,0):t.createRadialGradient(e.center.x*t.canvas.width,e.center.y*t.canvas.height,e.radius*t.canvas.width,e.focus.x*t.canvas.width,e.focus.y*t.canvas.height,e.focusRadius);var o=i.width>i.height?i.height:i.width;if(e.radius==e.focusRadius){var r=t.createRadialGradient(e.focus.x*i.width+i.left,e.focus.y*i.height+i.top,0,e.center.x*i.width+i.left,e.center.y*i.height+i.top,e.radius*o);return e.colorStops.forEach((function(t){r.addColorStop(t.stop,t.color)})),r}var l=t.createRadialGradient(e.focus.x*i.width+i.left,e.focus.y*i.height+i.top,e.focusRadius*o,e.center.x*i.width+i.left,e.center.y*i.height+i.top,e.radius*o);return e.colorStops.forEach((function(t){l.addColorStop(t.stop,t.color)})),l},n.prototype._createCanvasPattern=function(e,n){var i=document.createElement("canvas"),o=i.getContext("2d"),r=this._boundRactangleSizeOfPattern(n.pattern);if(i.height=r.height,i.width=r.width,null!=n.backgroundColor){this._drawRect(o,0,0,i.width,i.height);var l=function(){return new t.core.Rect(0,0,i.width,i.height)};this._applyFillStyle(o,this._defaultOpacity,n.backgroundColor,"evenodd",l),this._applyStrokeStyle(o,this._defaultOpacity,t._CssColor._none(),0,null,null,t.LineCap.Butt,t.LineJoin.Miter,l)}for(var a=function(e){var n=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(e.content);if(null!=n){o.save();var i=[];s._drawPath(o,n,i);var r=function(){var e=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangleByMatrix(n,i);return null!=e&&0==e.size.height&&0==e.size.width?null:e},l=null,a=null;null!=e.style.stroke||null!=e.style.strokeWidth?(l=null!=e.style.stroke?e.style.stroke:t._CssColor._defaultStyleColor(),a=null!=e.style.strokeWidth?e.style.strokeWidth:1):(l=t._CssColor._none(),a=0);var u=null!=e.style.fillOpacity?e.style.fillOpacity:s._defaultOpacity,_=null!=e.style.strokeOpacity?e.style.strokeOpacity:s._defaultOpacity;s._applyFillStyle(o,u,e.style.fill,"nonzero",r),s._applyStrokeStyle(o,_,l,a,e.style.strokeDasharray,e.style.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,r),o.restore()}},s=this,u=0,_=n.pattern;u<_.length;u++)a(_[u]);return e.createPattern(i,"repeat")},n.prototype._boundRectangleOfLine=function(e,n,i,o,r){var l=Math.min(e,i),a=Math.min(n,o),s=Math.max(e,i)-l,u=Math.max(n,o)-a;return Math.abs(s)<this._epsilon&&(s=r,l-=r/2),Math.abs(u)<this._epsilon&&(u=r,a-=r/2),new t.core.Rect(l,a,s,u)},n.prototype._boundRactangleSizeOfPattern=function(e){for(var n=t.core.Rect.ReadOnlyRect,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r.content),a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l);n=t._DrawingUtility._unionOfRectangles(n,a)}return new t.core.Size(n.width,n.height)},n.prototype._gradientDegreeToPoints=function(t){var e,n,i,o,r;t<0&&(t=360+t%360);var l=Math.floor(t/180);switch(Math.floor(t%180/45)){case 0:n=(e=this._triangleEdgeValue(t)).cosEdge,o=1+e.sinEdge,i=1-e.cosEdge,r=-e.sinEdge;break;case 1:n=-(e=this._triangleEdgeValue(90-t)).sinEdge,o=1-e.cosEdge,i=1+e.sinEdge,r=e.cosEdge;break;case 2:n=-(e=this._triangleEdgeValue(t-90)).sinEdge,o=e.cosEdge,i=1+e.sinEdge,r=1-e.cosEdge;break;case 3:n=(e=this._triangleEdgeValue(180-t)).cosEdge,o=-e.sinEdge,i=1-e.cosEdge,r=1+e.sinEdge}return l%2==0?[n,o,i,r]:[i,r,n,o]},n.prototype._triangleEdgeValue=function(t){var e=.5*Math.sqrt(2)*Math.cos((t+45)/180*Math.PI);return{sinEdge:Math.abs(e*Math.sin(t/180*Math.PI)),cosEdge:Math.abs(e*Math.cos(t/180*Math.PI))}},n.prototype._transformBoundRectangle=function(e){if(null==e)return null;var n=new t.core.Point(e.left,e.top),i=new t.core.Point(e.right,e.bottom),o=this._currentMatrix();return t._MatrixUtility._transformPoint(o,n,n),t._MatrixUtility._transformPoint(o,i,i),new t.core.Rect(n.x,n.y,i.x-n.x,i.y-n.y)},n.prototype._onFontSizeChanged=function(){var t=this.fontSize;this.__fontSizeWithUnit=null==t||isNaN(t)?t:t+"px"},n.prototype._createReferenceGroup=function(e,n,i,o,r,l,a){return new t._CanvasReferenceGroupRenderEngineElement(this,e,n,i,o,r,l,a)},n.prototype.beginRender=function(){e.prototype.beginRender.call(this);var n=this._context();n.clearRect(0,0,this.__canvasElement.width,this.__canvasElement.height),n.setTransform(1,0,0,1,0,0);var i=this._defaultStyle();this.__canvasDefaultFont={fontSize:i.fontSize,fontFamily:i.fontFamily,textFill:i.color,fontWeight:i.fontWeight,fontStyle:i.fontStyle},this.__isIE&&(this.__matrixStackForIE=[new t.Matrix]),this.__metrics.begin(this.__canvasElement)},n.prototype.endRender=function(){e.prototype.endRender.call(this),this.__metrics.end()},n.prototype.setRenderViewportSize=function(e,n){var i=this.__devicePixelRatio,o=this.__canvasElement;if(e==this.__viewportWidth&&n==this.__viewportHeight||(this.__viewportWidth=e,this.__viewportHeight=n,o.width=e*i,o.height=n*i,o.style.width=e+"px",o.style.height=n+"px"),this.__isIE){var r=new t.Matrix;r.scale(i,i),this.__matrixStackForIE.push(r)}this._context().scale(i,i)},n.prototype.startRenderGroup=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=this._context();i.save(),this.__groupTransformStack.push(n),null!=n&&(this.__isIE&&this.__matrixStackForIE.push(n.clone()),i.transform(n.values[0],n.values[1],n.values[2],n.values[3],n.values[4],n.values[5])),this._applyClippingRegion(i,e)},n.prototype.endRenderGroup=function(){null!=this.__groupTransformStack.pop()&&this.__isIE&&this.__matrixStackForIE.pop(),this._context().restore()},n.prototype.startReferenceGroup=function(t){this.__metrics.begin(this._canvasElement),e.prototype.startReferenceGroup.call(this,t)},n.prototype.endReferenceGroup=function(){this.__metrics.end(),e.prototype.endReferenceGroup.call(this)},n.prototype.measureString=function(e){if(null==e)return new t.core.Size(0,0);var n="",i="",o="",r="";return null!=this.fontWeight&&(o=this.fontWeight),null!=this.fontStyle&&(r=t.FontStyle[this.fontStyle]?t.FontStyle[this.fontStyle]:this.fontStyle.toString()),this._fontSizeWithPixel()?(i=this.fontFamily||"sans-serif",n=this._fontSizeWithPixel()):this._canvasDefaultFont()&&(i=this._canvasDefaultFont().fontFamily||"sans-serif",n=this._canvasDefaultFont().fontSize),this.__metrics.measureString(e,n,i,o,r,this.textWritingMode)},n.prototype.renderString=function(e,n,i,o,r){var l=this;void 0===o&&(o=null),void 0===r&&(r=null),t._NativeExtension._isNullOrEmptyString(e)||this._applyTransform(this._context(),r,this.__isIE,this.__matrixStackForIE,(function(r){if(l.textWritingMode==t.TextWritingMode.Vertical)r.save(),l._applyClippingRegion(r,o),l._applyFontStyle(r,l.textOpacity,l._canvasDefaultFont(),l.fontFamily,l._fontSizeWithPixel(),l.fontStyle,l.fontWeight,l.textFill),l._drawVerticalString(r,e,new t.core.Point(n+l.measureString(e).width/2,i),l.__textLayoutPolicy),r.restore();else{r.save(),l._applyClippingRegion(r,o),r.textBaseline="middle",l._applyFontStyle(r,l.textOpacity,l._canvasDefaultFont(),l.fontFamily,l._fontSizeWithPixel(),l.fontStyle,l.fontWeight,l.textFill),r.fillText(e,n,i-l.measureString(e).height/2);var a=l.measureString(e),s=null!=l.strokeOpacity?l.strokeOpacity:l._defaultOpacity;l._drawTextDecoration(e,n,i,a,s),r.restore()}}))},n.prototype.renderPath=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._context(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r);var s=[];a._drawPath(l,e,s);var u=function(){var n=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangleByMatrix(e,s);return null!=n&&0==n.size.height&&0==n.size.width?null:n},_=null!=a.fillOpacity?a.fillOpacity:a._defaultOpacity,p=null!=a.strokeOpacity?a.strokeOpacity:a._defaultOpacity;a._applyFillStyle(l,_,a.fill,n===t.PathFillType.Evenodd?"evenodd":"nonzero",u),a._applyStrokeStyle(l,p,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,i,o,u),l.restore()}))},n.prototype.renderRect=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._context(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawRect(l,e,n,i,o);var s=function(){return new t.core.Rect(e,n,i,o)},u=null!=a.fillOpacity?a.fillOpacity:a._defaultOpacity,_=null!=a.strokeOpacity?a.strokeOpacity:a._defaultOpacity;a._applyFillStyle(l,u,a.fill,"evenodd",s),a._applyStrokeStyle(l,_,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,s),l.restore()}))},n.prototype.renderLine=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._context(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawLine(l,e,n,i,o);var s=null!=a.strokeOpacity?a.strokeOpacity:a._defaultOpacity;a._applyStrokeStyle(l,s,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,(function(){return a._boundRectangleOfLine(e,n,i,o,a.strokeWidth?a.strokeWidth:1)})),l.restore()}))},n.prototype.renderLines=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),e&&n&&0!==e.length&&0!==n.length&&this._applyTransform(this._context(),o,this.__isIE,this.__matrixStackForIE,(function(o){var l=r.fill;o.save(),r._applyClippingRegion(o,i),r._drawLines(o,e,n);var a=null!=r.strokeOpacity?r.strokeOpacity:r._defaultOpacity;r._applyFillStyle(o,r._defaultOpacity,t._CssColor._none(),"nonzero",null),r._applyStrokeStyle(o,a,r.stroke,r.strokeWidth,r.strokeDasharray,r.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,(function(){if(r._isSameValue(e)||r._isSameValue(n))return r._boundRectangleOfLine(e[0],n[0],e[e.length-1],n[n.length-1],r.strokeWidth?r.strokeWidth:1);var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n),l=Math.max.apply(Math,e)-i,a=Math.max.apply(Math,n)-o;return new t.core.Rect(i,o,l,a)})),o.restore(),r.fill=l}))},n.prototype.renderPolygon=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),e&&n&&0!==e.length&&0!==n.length&&this._applyTransform(this._context(),o,this.__isIE,this.__matrixStackForIE,(function(o){o.save(),r._applyClippingRegion(o,i),r._drawPolygon(o,e,n);var l=function(){var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n),r=Math.max.apply(Math,e)-i,l=Math.max.apply(Math,n)-o;return new t.core.Rect(i,o,r,l)},a=null!=r.fillOpacity?r.fillOpacity:r._defaultOpacity,s=null!=r.strokeOpacity?r.strokeOpacity:r._defaultOpacity;r._applyFillStyle(o,a,r.fill,"nonzero",l),r._applyStrokeStyle(o,s,r.stroke,r.strokeWidth,r.strokeDasharray,r.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,l),o.restore()}))},n.prototype.renderEllipse=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._context(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawEllipse(l,e,n,i,o);var s=function(){return new t.core.Rect(e-i,n-o,2*i,2*o)},u=null!=a.fillOpacity?a.fillOpacity:a._defaultOpacity,_=null!=a.strokeOpacity?a.strokeOpacity:a._defaultOpacity;a._applyFillStyle(l,u,a.fill,"nonzero",s),a._applyStrokeStyle(l,_,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,s),l.restore()}))},n.prototype.renderImage=function(e,n,i,o,r,l,a){var s=this;void 0===l&&(l=null),void 0===a&&(a=null),this._applyTransform(this._context(),a,this.__isIE,this.__matrixStackForIE,(function(a){if(t._isCanvasImageInfo(e)){var u=e;if(a.save(),s._applyClippingRegion(a,l),null!=u.sourceRect){var _=u.sourceRect,p=_.left,c=_.top,h=_.width,f=_.height;a.drawImage(u.canvasElement,p,c,h,f,n,i,o,r)}else a.drawImage(u.canvasElement,n,i,o,r);a.restore()}else if(t._isHtmlImageInfo(e)){var d=e;null!=d._imageElement&&(a.save(),s._applyClippingRegion(a,l),a.drawImage(d._imageElement,n,i,o,r),a.restore())}}))},n._renderEngineType="Canvas",n}(t.BaseRenderEngine);t._CanvasRenderEngine=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getDefaultHeight=function(){var t=16;return this.__context.font.split(" ").some((function(e){return e.indexOf("px")>-1&&(t=parseFloat(e.slice(0,-2)),!0)})),t},e.prototype.begin=function(t){this.__context=t.getContext("2d")},e.prototype.end=function(){this.__context=null},e.prototype.measureString=function(e,n,i,o,r,l){var a=this,s=this._getDefaultHeight(),u=[/italic|oblique|normal/,/small-caps|normal/,/bold|bolder|lighter|[1-9]00|normal/,/[\d.]+/,/px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q/,/.+/],_=n.match(/xx-small|x-small|small|medium|large|x-large|xx-large/);null!=_&&_.length>0&&(n={"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"}[_[0]]);var p=0,c=parseFloat(n.match(u[3])[0]);switch(n.match(u[4])[0]){case"em":case"rem":case"pc":p=c*s;break;case"pt":p=4*c/3;break;case"px":p=c;break;case"in":p=96*c;break;case"cm":p=96*c/2.54;break;case"mm":p=c*(96/25.4);break;case"q":p=c*(96/25.4/4);break;case"%":p=c*(s/100)}var h=(null!=r?r+" ":"")+(null!=o?o+" ":"")+(null!=(n=p.toString()+"px")?n+" ":"")+(null!=i?i+" ":"");this.__context.font=h,this.__context.font.replace(/\"/g,"'")!==h.replace(/\"/g,"'")&&(h=r+" "+o+" "+n+" "+(null!=i?i+" ":"sans-serif"),this.__context.font=h);var f=0,d=0;if(this.__context.font.split(" ").some((function(t){return t.indexOf("px")>-1&&(d=parseFloat(t.slice(0,-2)),!0)})),l==t.TextWritingMode.Vertical){var y=e.split("").map((function(t){return a.__context.measureText(t)})),g=0;y.forEach((function(t){var e=1.5*d;f=Math.max(f,e),g+=t.width})),d=g}else{var m=this.__context.measureText(e);f=m.width,null===r||"italic"!==r.toLocaleLowerCase()&&"oblique"!==r.toLocaleLowerCase()||(f+=d*Math.tan(.17)),d*=1.5}return new t.core.Size(f,d)},e}();t._CanvasTextMetrics=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=!0);var l=e.call(this,n,i,o)||this;return l.__applyCSSStyles=r,l.__applyCSSStyles&&(l.__svgRenderEngine=new t._SvgRenderEngine(l._hostElement,new t._SvgTextMetrics),t._DomElementExtension._remove(l.__svgRenderEngine._svgElement)),l}return i(n,e),n.prototype._defaultStyle=function(){return null!=this.__svgRenderEngine?window.getComputedStyle(this.__svgRenderEngine._svgElement):e.prototype._defaultStyle.call(this)},n.prototype._onFillOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fillOpacity=this.fillOpacity),e.prototype._onFillOpacityChanged.call(this)},n.prototype._onFillChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fill=this.fill),e.prototype._onFillChanged.call(this)},n.prototype._onStrokeOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeOpacity=this.strokeOpacity),e.prototype._onStrokeOpacityChanged.call(this)},n.prototype._onStrokeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.stroke=this.stroke),e.prototype._onStrokeChanged.call(this)},n.prototype._onStrokeWidthChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeWidth=this.strokeWidth),e.prototype._onStrokeWidthChanged.call(this)},n.prototype._onStrokeDasharrayChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeDasharray=this.strokeDasharray),e.prototype._onStrokeDasharrayChanged.call(this)},n.prototype._onScalingStrokeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.scalingStroke=this.scalingStroke),e.prototype._onScalingStrokeChanged.call(this)},n.prototype._onFontFamilyChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontFamily=this.fontFamily),e.prototype._onFontFamilyChanged.call(this)},n.prototype._onFontSizeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontSize=this.fontSize),e.prototype._onFontSizeChanged.call(this)},n.prototype._onFontWeightChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontWeight=this.fontWeight),e.prototype._onFontWeightChanged.call(this)},n.prototype._onFontStyleChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontStyle=this.fontStyle),e.prototype._onFontStyleChanged.call(this)},n.prototype._onTextOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textOpacity=this.textOpacity),e.prototype._onTextOpacityChanged.call(this)},n.prototype._onTextFillChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textFill=this.textFill),e.prototype._onTextFillChanged.call(this)},n.prototype._onTextOverlineChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textOverline=this.textOverline),e.prototype._onTextOverlineChanged.call(this)},n.prototype._onTextLineThroughChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textLineThrough=this.textLineThrough),e.prototype._onTextLineThroughChanged.call(this)},n.prototype._onTextUnderlineChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textUnderline=this.textUnderline),e.prototype._onTextUnderlineChanged.call(this)},n.prototype._onWritingModeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textWritingMode=this.textWritingMode),e.prototype._onWritingModeChanged.call(this)},n.prototype.beginRender=function(){null!=this.__svgRenderEngine&&(this._hostElement.appendChild(this.__svgRenderEngine._svgElement),this.__svgRenderEngine.beginRender()),e.prototype.beginRender.call(this)},n.prototype.endRender=function(){e.prototype.endRender.call(this),null!=this.__svgRenderEngine&&(this.__svgRenderEngine.endRender(),t._DomElementExtension._remove(this.__svgRenderEngine._svgElement))},n.prototype.setViewportSize=function(t,n){null!=this.__svgRenderEngine&&this.__svgRenderEngine.setViewportSize(t,n),e.prototype.setViewportSize.call(this,t,n)},n.prototype.startGroup=function(t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.startGroup(t,n,i),e.prototype.startGroup.call(this,t,n,i)},n.prototype.endGroup=function(){null!=this.__svgRenderEngine&&this.__svgRenderEngine.endGroup(),e.prototype.endGroup.call(this)},n.prototype.createGroup=function(n,i,o,r,l,a){var s=null;null!=this.__svgRenderEngine&&(s=this.__svgRenderEngine.createGroup(n,i,o,r,l,a));var u=e.prototype.createGroup.call(this,n,i,o,r,l,a);return u instanceof t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement&&(u.svgReferenceGroupRenderEngineElement=s),u},n.prototype.startReferenceGroup=function(n){null!=this.__svgRenderEngine&&n instanceof t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement&&this.__svgRenderEngine.startReferenceGroup(n.svgReferenceGroupRenderEngineElement),e.prototype.startReferenceGroup.call(this,n)},n.prototype.endReferenceGroup=function(){null!=this.__svgRenderEngine&&this.__svgRenderEngine.endReferenceGroup(),e.prototype.endReferenceGroup.call(this)},n.prototype._createReferenceGroup=function(e,n,i,o,r,l,a){return new t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement(this,e,n,i,o,r,l,a)},n.prototype.measureString=function(t){return null!=this.__svgRenderEngine?this.__svgRenderEngine.measureString(t):e.prototype.measureString.call(this,t)},n.prototype.drawString=function(t,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawString(t,n,i,o,r),e.prototype.drawString.call(this,t,n,i,o,r)},n.prototype.drawPath=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawPath(t,n,i,o,r,l),e.prototype.drawPath.call(this,t,n,i,o,r,l)},n.prototype.drawRect=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawRect(t,n,i,o,r,l),e.prototype.drawRect.call(this,t,n,i,o,r,l)},n.prototype.drawLine=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawLine(t,n,i,o,r,l),e.prototype.drawLine.call(this,t,n,i,o,r,l)},n.prototype.drawLines=function(t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawLines([0,1],[1,0],i,o),e.prototype.drawLines.call(this,t,n,i,o)},n.prototype.drawPolygon=function(t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawPolygon([0,1,1],[1,0,1],i,o),e.prototype.drawPolygon.call(this,t,n,i,o)},n.prototype.drawEllipse=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawEllipse(t,n,i,o,r,l),e.prototype.drawEllipse.call(this,t,n,i,o,r,l)},n.prototype.drawImage=function(t,n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawImage(t,n,i,o,r,l,a),e.prototype.drawImage.call(this,t,n,i,o,r,l,a)},n}(t._CanvasRenderEngine);t._CanvasWithSvgMetricsRenderEngine=e}(t||(t={})),function(t){var e=function(t,e){this.element=t,this.rectangle=e},n=function(n){function o(t,e,i,o,r,l,a,s){var u=n.call(this,e,i,o,r,t,l,a,s)||this;return u.__renderEngine=t,u.__caches=[],u.__offsetDirty=!1,u.__contentDirty=!1,u}return i(o,n),o.prototype.draw=function(e){var n=this.viewport,i=this.__renderEngine._devicePixelRatio,r=Math.ceil(this.width),l=Math.ceil(this.height),a=o.__maxCacheSize;if(0==this.__caches.length){var s=this.__renderEngine._hostElement,u=e;this.__caches=this._createCaches(s,i,u,r,l,n,a)}for(var _=new t.core.Rect(this.offsetX,this.offsetY,n.width,n.height),p=0,c=this.__caches;p<c.length;p++){var h=c[p];if(h.rectangle.intersectsWith(_)){var f=t._DrawingUtility._intersectionOfRectangle(h.rectangle,_),d=new t._CanvasImageInfo(h.element);d.sourceRect=new t.core.Rect((f.left-h.rectangle.left)*i,(f.top-h.rectangle.top)*i,f.width*i,f.height*i),e.renderImage(d,n.left+(f.left-this.offsetX),n.top+(f.top-this.offsetY),f.width,f.height,this.clipping,this.transform)}}},o.prototype.flush=function(){if(this.__contentDirty&&(this.__caches=[]),this.__offsetDirty||this.__contentDirty){var t=this._getRootRenderElement(this.parent);if(null!=t){var e=this.__renderEngine;e.beginRender(),t.draw(e),e.endRender()}this.__contentDirty=!1,this.__offsetDirty=!1}},o.prototype.dirty=function(){this.__contentDirty=!0},o.prototype._onPropertyChanged=function(t){"offsetX"==t||"offsetY"==t?this.__offsetDirty=!0:"transform"!=t&&"clipping"!=t&&"children"!=t||(this.__contentDirty=!0)},o.prototype._createCaches=function(i,o,r,l,a,s,u){var _=[];if(this.children.length<=0)return _;for(var p=-s.left,c=-s.top,h=Math.ceil(l/u),f=Math.ceil(a/u),d=0;d<f;d++)for(var y=0;y<h;y++){var g=l>(y+1)*u?u:l-y*u,m=a>(d+1)*u?u:a-d*u,v=y*u,w=d*u,b=t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine(t._CanvasRenderEngine._renderEngineType,i,o,null);i.removeChild(i.lastChild),t._StyleUtility._copyAllStyle(b,r),b.beginRender(),b.setRenderViewportSize(g,m);var S=new t.Matrix;S.translate(p-v,c-w),b.startRenderGroup(null,null,S),n.prototype.draw.call(this,b),b.endRenderGroup(),b.endRender(),_.push(new e(b._canvasElement,new t.core.Rect(v,w,g,m)))}return _},o.prototype._getRootRenderElement=function(e){do{if(e instanceof t._SurfaceRenderEngineElement)return e;e=e.parent}while(null!=e);return null},o.__maxCacheSize=4096,o}(t._ReferenceGroupRenderEngineElement);t._CanvasReferenceGroupRenderEngineElement=n}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._CanvasReferenceGroupRenderEngineElement);t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement=e}(t||(t={})),function(t){!function(t){t._isCanvasTextMetrics=function(t){var e=t;return null!=e.begin&&null!=e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t){this.canvasElement=t}return Object.defineProperty(t.prototype,"sourceRect",{get:function(){return this.__sourceRect},set:function(t){this.__sourceRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.canvasElement.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvasElement.height},enumerable:!0,configurable:!0}),t}();t._CanvasImageInfo=e}(t||(t={})),function(t){t._isCanvasImageInfo=function(t){return void 0!==t.canvasElement}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){this.__unAdjustable=[65306,65307,65281,65311],this.__adjustableRotated=[11834,8212,8230,65374,45,8211,8212,47,65295,12300,12301,12302,12303,8220,8221,8216,8217,65288,65289,12298,12299,12296,12297,12304,12305,12310,12311,12308,12309,65339,65341,65371,65373,65343,65103],this.__adjustable=[12290,65294,65292,12289]}return t.prototype.adjustSpace=function(t,e,n){var i=t.charCodeAt(0),o=e.clone(),r=0;return i<=256?r=90:this.__adjustable.indexOf(i)>=0?(o.x+=.5*n.width,o.y=e.y-.5*n.height):this.__unAdjustable.indexOf(i)>=0?o.x+=.5*n.width:this.__adjustableRotated.indexOf(i)>=0&&(r=90),{adjust:o,rotate:r}},t}();t._PunctuationAndMixedPolicy=e}(t||(t={})),function(t){t._isPrimitivesRenderEngine=function(e){if(!(e instanceof t.BaseRenderEngine))return!1;var n=e;return"function"==typeof n.createGroup&&"function"==typeof n.startReferenceGroup&&"function"==typeof n.endReferenceGroup}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),t.prototype.createSvgElement=function(t){this.id=t,this.__clipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this.__clipPath.setAttribute("id",t);var e=this._createRegionElement(this.__region);return this.__clipPath.appendChild(e),this.__clipPath},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._EllipseSvgClippingRegion=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__region=t,this.__definitionCollection=e,this.__precision=3}return e.prototype._createRegionElements=function(e){var n=[];if(t._isRectangleRegion(e)){var i=e;n.push(this._createRectangleRegionElement(i))}else if(t._isPathRegion(e)){var o=e;n.push(this._createPathRegionElement(o))}else if(t._isEllipseRegion(e)){var r=e;n.push(this._createEllipseRegionElement(r))}else if(t._isPolygonRegion(e)){var l=e;n.push(this._createPolygonRegionElement(l))}else if(t._isUnionRegion(e))for(var a=0,s=e.regions;a<s.length;a++){var u=s[a],_=this._createRegionElements(u);n.push.apply(n,_)}else if(t._isIntersectionRegion(e)){var p=e;n.push(this._createIntersectionRegionElement(p))}return null},e.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},e.prototype._createPathRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t.path.expression),e},e.prototype._createEllipseRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},e.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},e.prototype._createIntersectionRegionElement=function(t){for(var e=null,n=t.regions,i="",o=0;o<n.length;o++){var r=n[o],l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),a=this._generateId();l.setAttribute("id",a);var s=this._createRegionElements(r);l=this._appendChild(l,s),0===o?e=l:l.setAttribute("clip-path","url(#"+i+")"),this.__definitionCollection.svgDefsElement.appendChild(l),i=a}return e},e.prototype._generateId=function(){return(1e5*Math.random()).toFixed()},e.prototype._appendChild=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];t.appendChild(o)}return t},Object.defineProperty(e.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),e.prototype.createSvgElement=function(t){return this.id=t,this.__clipPath=this._createIntersectionRegionElement(this.__region),this.__clipPath.setAttribute("id",t),this.__clipPath},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.region.equalsWith(t.region))},e}();t._IntersectionSvgClippingRegion=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.__region=t}return t.prototype._createPathRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t.path.expression),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),t.prototype.createSvgElement=function(t){this.id=t,this.__clipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this.__clipPath.setAttribute("id",t);var e=this._createPathRegionElement(this.__region);return this.__clipPath.appendChild(e),this.__clipPath},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._PathSvgClippingRegion=e}(t||(t={})),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),t.prototype.createSvgElement=function(t){this.id=t,this.__clipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this.__clipPath.setAttribute("id",t);var e=this._createPolygonRegionElement(this.__region);return this.__clipPath.appendChild(e),this.__clipPath},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._PolygonSvgClippingRegion=e}(t||(t={})),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),t.prototype.createSvgElement=function(t){this.id=t,this.__clipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this.__clipPath.setAttribute("id",t);var e=this._createRectangleRegionElement(this.__region);return this.__clipPath.appendChild(e),this.__clipPath},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._RectangleSvgClippingRegion=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__region=t,this.__definitionCollection=e,this.__precision=3}return e.prototype._createRegionElements=function(e){var n=[];if(t._isRectangleRegion(e)){var i=e;n.push(this._createRectangleRegionElement(i))}else if(t._isPathRegion(e)){var o=e;n.push(this._createPathRegionElement(o))}else if(t._isEllipseRegion(e)){var r=e;n.push(this._createEllipseRegionElement(r))}else if(t._isPolygonRegion(e)){var l=e;n.push(this._createPolygonRegionElement(l))}else if(t._isUnionRegion(e))for(var a=0,s=e.regions;a<s.length;a++){var u=s[a],_=this._createRegionElements(u);n.push.apply(n,_)}else if(t._isIntersectionRegion(e)){var p=e;n.push(this._createIntersectionRegionElement(p))}return null},e.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},e.prototype._createPathRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t.path.expression),e},e.prototype._createEllipseRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},e.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},e.prototype._createIntersectionRegionElement=function(t){for(var e=null,n=t.regions,i="",o=0;o<n.length;o++){var r=n[o],l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),a=this._generateId();l.setAttribute("id",a);var s=this._createRegionElements(r);l=this._appendChildren(l,s),0===o?e=l:l.setAttribute("clip-path","url(#"+i+")"),this.__definitionCollection.svgDefsElement.appendChild(l),i=a}return e},e.prototype._generateId=function(){return(1e5*Math.random()).toFixed()},e.prototype._appendChildren=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];t.appendChild(o)}return t},Object.defineProperty(e.prototype,"region",{get:function(){return this.__region},enumerable:!0,configurable:!0}),e.prototype.createSvgElement=function(t){this.id=t,this.__clipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath");for(var e=0,n=this.__region.regions;e<n.length;e++){var i=n[e],o=this._createRegionElements(i);this.__clipPath=this._appendChildren(this.__clipPath,o)}return this.__clipPath.setAttribute("id",t),this.__clipPath},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.region.equalsWith(t.region))},e}();t._UnionSvgClippingRegion=e}(t||(t={})),function(t){t._isSvgDefinition=function(t){return null!=t.createSvgElement}}(t||(t={})),function(t){!function(t){t._isSvgTextMetrics=function(t){var e=t;return null!=e.begin&&null!=e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t){this.__svgDefsElement=t,this.__definitions=[]}return Object.defineProperty(t.prototype,"svgDefsElement",{get:function(){return this.__svgDefsElement},enumerable:!0,configurable:!0}),t.prototype._useSvgDefinition=function(e){if(null==e)return"none";for(var n=0,i=this.__definitions;n<i.length;n++){var o=i[n];if(o.equalsWith(e))return"url(#"+o.id+")"}var r="svgDef"+t.__idCounter++,l=e.createSvgElement(r);return this.__svgDefsElement.appendChild(l),this.__definitions.push(e),"url(#"+r+")"},t.__idCounter=0,t}();t._SvgDefinitionCollection=e}(t||(t={})),function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.__precision=3,this.color=t,this.boundRect=e}return t.prototype.createSvgElement=function(t){return this.id=t,this.element=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),null==this.boundRect?this._setGradientElementPosition():this._setGradientElementPositionWithBoundBox(),this._setGradientElementColorStops(),this.element.setAttribute("id",t),this.element},t.prototype._setGradientElementPosition=function(){var t=this._convertDegreeToPoint(this.color.degree);this.element.setAttribute("x1",t[0].toFixed(this.__precision)),this.element.setAttribute("y1",t[1].toFixed(this.__precision)),this.element.setAttribute("x2",t[2].toFixed(this.__precision)),this.element.setAttribute("y2",t[3].toFixed(this.__precision))},t.prototype._setGradientElementPositionWithBoundBox=function(){this.element.setAttribute("gradientUnits","userSpaceOnUse");var t=this._convertDegreeToPoint(this.color.degree),e=t[0]*this.boundRect.width+this.boundRect.left,n=t[1]*this.boundRect.height+this.boundRect.top,i=t[2]*this.boundRect.width+this.boundRect.left,o=t[3]*this.boundRect.height+this.boundRect.top;this.element.setAttribute("x1",e.toFixed(this.__precision)),this.element.setAttribute("y1",n.toFixed(this.__precision)),this.element.setAttribute("x2",i.toFixed(this.__precision)),this.element.setAttribute("y2",o.toFixed(this.__precision))},t.prototype._convertDegreeToPoint=function(t){var e,n,i,o,r;t<0&&(t=360+t%360);var l=Math.floor(t/180);switch(Math.floor(t%180/45)){case 3:n=(e=this._getTriangleEdgeValue(180-t)).cosEdge,o=-e.sinEdge,i=1-e.cosEdge,r=1+e.sinEdge;break;case 2:n=-(e=this._getTriangleEdgeValue(t-90)).sinEdge,o=e.cosEdge,i=1+e.sinEdge,r=1-e.cosEdge;break;case 1:n=-(e=this._getTriangleEdgeValue(90-t)).sinEdge,o=1-e.cosEdge,i=1+e.sinEdge,r=e.cosEdge;break;default:n=(e=this._getTriangleEdgeValue(t)).cosEdge,o=1+e.sinEdge,i=1-e.cosEdge,r=-e.sinEdge}return l%2==0?[n,o,i,r]:[i,r,n,o]},t.prototype._getTriangleEdgeValue=function(t){var e=.5*Math.sqrt(2)*Math.cos((t+45)/180*Math.PI);return{sinEdge:Math.abs(e*Math.sin(t/180*Math.PI)),cosEdge:Math.abs(e*Math.cos(t/180*Math.PI))}},t.prototype._setGradientElementColorStops=function(){var t=this;this.color.colorStops.forEach((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e.stop.toString()),n.setAttribute("stop-color",e.color.toLocaleLowerCase()),t.element.appendChild(n)}))},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&!!this.color.equalsWith(e.color)&&(null==this.boundRect&&null==e.boundRect||null!=this.boundRect&&null!=e.boundRect&&this.boundRect.equalsWith(e.boundRect)))},t}();t._SvgLinearGradient=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.color=t,this.__definitionCollection=e,this.__precision=3}return e.prototype.createSvgElement=function(t){this.id=t,this.element=document.createElementNS("http://www.w3.org/2000/svg","pattern"),this.element.setAttribute("patternUnits","userSpaceOnUse");var e=this._calculatePatternBoundingSize();return this.element.setAttribute("width",e.height.toString()+"px"),this.element.setAttribute("height",e.width.toString()+"px"),this.element.setAttribute("id",t),e.height>0&&e.width>0&&(this._setBackgroundColor(this.element,this.color.backgroundColor,e),this._setPattern(this.element,this.color)),this.element},e.prototype._calculatePatternBoundingSize=function(){for(var e=new t.core.Rect(0,0,0,0),n=0,i=this.color.pattern;n<i.length;n++){var o=i[n],r=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o.content);if(null!=r){var l=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(r);e=t._DrawingUtility._unionOfRectangles(e,l)}}return new t.core.Size(e.width,e.height)},e.prototype._setBackgroundColor=function(t,e,n){var i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("stroke-width","0"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("width",n.width.toString()),i.setAttribute("height",n.height.toString()),i.setAttribute("fill",this._applyColor(e)),t.appendChild(i)},e.prototype._setPattern=function(e,n){for(var i=0,o=n.pattern;i<o.length;i++){var r=o[i],l=document.createElementNS("http://www.w3.org/2000/svg","path");if(l.setAttribute("d",r.content),null!=r.style.strokeWidth||null!=r.style.stroke&&r.style.strokeWidth>0){var a=t._NativeExtension._toNonNullNumber(r.style.strokeWidth,1),s=null!=r.style.stroke?r.style.stroke:t._CssColor._defaultStyleColor();l.setAttribute("stroke-width",a.toFixed(this.__precision)),l.setAttribute("stroke",this._applyColor(s)),null!=r.style.strokeDasharray&&l.setAttribute("stroke-dasharray",r.style.strokeDasharray)}l.setAttribute("fill",this._applyColor(r.style.fill)),e.appendChild(l)}},e.prototype._applyColor=function(e){if(t.models._isCssColor(e))return e.color.toLowerCase();if(t.models._isLinearGradientColor(e)){var n=e;return this.__definitionCollection._useSvgDefinition(new t._SvgLinearGradient(n))}if(t.models._isRadialGradientColor(e)){var i=e;return this.__definitionCollection._useSvgDefinition(new t._SvgRadialGradient(i))}return"none"},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.color.equalsWith(t.color))},e}();t._SvgPattern=e}(t||(t={})),function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.__precision=3,this.color=t,this.boundRect=e}return t.prototype.createSvgElement=function(t){return this.id=t,this.element=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),null==this.boundRect?this._setGradientElementPosition():this._setGradientElementPositionWithBoundBox(),this._setGradientElementColorStops(),this.element.setAttribute("id",t),this.element},t.prototype._setGradientElementPosition=function(){this.element.setAttribute("cx",this.color.center.x.toFixed(this.__precision)),this.element.setAttribute("cy",this.color.center.y.toFixed(this.__precision)),this.element.setAttribute("fx",this.color.focus.x.toFixed(this.__precision)),this.element.setAttribute("fy",this.color.focus.y.toFixed(this.__precision)),this.color.focusRadius==this.color.radius?this.element.setAttribute("r",this.color.focusRadius.toFixed(this.__precision)):(this.element.setAttribute("r",this.color.focusRadius.toFixed(this.__precision)),this.element.setAttribute("fr",this.color.focusRadius.toFixed(this.__precision)))},t.prototype._setGradientElementPositionWithBoundBox=function(){this.element.setAttribute("gradientUnits","userSpaceOnUse");var t=this.color.focus.x*this.boundRect.width+this.boundRect.left,e=this.color.focus.y*this.boundRect.height+this.boundRect.top,n=this.color.center.x*this.boundRect.width+this.boundRect.left,i=this.color.center.y*this.boundRect.height+this.boundRect.top,o=this.color.radius,r=this.color.focusRadius;this.boundRect.width>this.boundRect.height?o*=this.boundRect.height:(this.boundRect.width,this.boundRect.height,o*=this.boundRect.width),this.element.setAttribute("cx",t.toFixed(this.__precision)),this.element.setAttribute("cy",e.toFixed(this.__precision)),this.element.setAttribute("fx",n.toFixed(this.__precision)),this.element.setAttribute("fy",i.toFixed(this.__precision)),r==o?this.element.setAttribute("r",o.toFixed(this.__precision)):(this.element.setAttribute("r",o.toFixed(this.__precision)),this.element.setAttribute("fr",r.toFixed(this.__precision)))},t.prototype._setGradientElementColorStops=function(){var t=this;this.color.colorStops.forEach((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e.stop.toString()),n.setAttribute("stop-color",e.color.toLocaleLowerCase()),t.element.appendChild(n)}))},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&!!this.color.equalsWith(e.color)&&(null==this.boundRect&&null==e.boundRect||null!=this.boundRect&&null!=e.boundRect&&this.boundRect.equalsWith(e.boundRect)))},t}();t._SvgRadialGradient=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o,r,l,a,s){var u=e.call(this,n,i,o,r,t,l,a,s)||this;return u.__renderEngine=t,u.__cachedGroup=null,u.__transformDirty=!1,u.__childrenDirty=!1,u}return i(o,e),o.prototype.draw=function(t){t instanceof n&&(null==this.__cachedGroup&&(this.__cachedGroup=this._drawCache(t,t),t._appendChild(this.__cachedGroup)),this.__transformDirty&&this._applyTransform(t,this.__cachedGroup,this.transform,this.offsetX,this.offsetY),this.__clippingDirty&&this._applyClipping(t,this.__cachedGroup,this.clipping))},o.prototype.flush=function(){if(this.__childrenDirty){var t=this.__renderEngine,e=this.__cachedGroup,n=this._drawCache(t,this.styleContext);null!=e?e.parentNode.replaceChild(n,e):t._svgElement.appendChild(n),this.__cachedGroup=n,this.__childrenDirty=!1}this.__transformDirty&&(this._applyTransform(this.__renderEngine,this.__cachedGroup,this.transform,this.offsetX,this.offsetY),this.__transformDirty=!1),this.__clippingDirty&&(this._applyClipping(this.__renderEngine,this.__cachedGroup,this.clipping),this.__clippingDirty=!1)},o.prototype.dirty=function(){this.__childrenDirty=!0},o.prototype._onPropertyChanged=function(t){"offsetX"==t||"offsetY"==t||"transform"==t?this.__transformDirty=!0:"clipping"==t?this.__clippingDirty=!0:"children"==t&&(this.__childrenDirty=!0)},o.prototype._drawCache=function(n,i){var o=n._groupElement,r=t._StyleCloneMaker._styleCloneMaker._cloneOf(n);t._StyleUtility._copyAllStyle(n,i),n.startRenderGroup(null,null,null);var l=n._groupElement;return l.parentNode.removeChild(l),e.prototype.draw.call(this,n),n.endRenderGroup(),t._StyleUtility._copyAllStyle(n,r),n._groupElement=o,l.removeChild(l.firstChild)},o.prototype._applyTransform=function(e,n,i,o,r){var l=null!=i?i.clone():new t.Matrix;l.translate(-o,-r),e._applyTransform(n,l)},o.prototype._applyClipping=function(t,e,n){t._applyClippingRegion(e,n,t._definitionCollection)},o}(t._ReferenceGroupRenderEngineElement),n=function(n){function o(e,i){void 0===i&&(i=null);var o=n.call(this)||this;return o._defaultOpacity=1,o.__fontSizeWithUnit=null,o.__hostElement=e,o.__metrics=null==i?new t._SvgTextMetrics:i,o.__precision=3,o.__isIEOrEdge=t._BrowserUtility.isIE()||t._BrowserUtility.isEdge(),o.__svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),o.__hostElement.appendChild(o.__svgElement),o}return i(o,n),Object.defineProperty(o.prototype,"_definitionCollection",{get:function(){return this.__definitionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_hostElement",{get:function(){return this.__hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_svgElement",{get:function(){return this.__svgElement},enumerable:!0,configurable:!0}),o.prototype._renderEngineApi=function(){return this},o.prototype._appendChild=function(t){null!=this._groupElement?this._groupElement.appendChild(t):this.__svgElement.appendChild(t)},o.prototype._applyClassName=function(t,e){e&&t.setAttribute("class",e)},o.prototype._applyTransform=function(t,e,n){null==n&&(n=this.__isIEOrEdge),null!=e&&(n?t.setAttribute("transform","matrix("+e.values.join(",")+")"):t.style.setProperty("transform","matrix("+e.values.join(",")+")"))},o.prototype._applyClippingRegion=function(e,n,i){if(null!=n){var o=null;if(t._isRectangleRegion(n)){var r=n;o=new t._RectangleSvgClippingRegion(r)}else if(t._isPathRegion(n)){var l=n;o=new t._PathSvgClippingRegion(l)}else if(t._isEllipseRegion(n)){var a=n;o=new t._EllipseSvgClippingRegion(a)}else if(t._isPolygonRegion(n)){var s=n;o=new t._PolygonSvgClippingRegion(s)}else if(t._isUnionRegion(n)){var u=n;o=new t._UnionSvgClippingRegion(u,i)}else if(t._isIntersectionRegion(n)){var _=n;o=new t._IntersectionSvgClippingRegion(_,i)}e.setAttribute("clip-path",i._useSvgDefinition(o))}},o.prototype._applyFill=function(e,n,i,o,r){if(e.setAttribute("fill-opacity",t._NativeExtension._toNonNullNumber(n,1).toFixed(o)),null!=i)if(t.models._isCssColor(i)){var l=i;e.setAttribute("fill",l.color.toLowerCase())}else if(t.models._isLinearGradientColor(i)){var a=i;e.setAttribute("fill",r._useSvgDefinition(new t._SvgLinearGradient(a)))}else if(t.models._isRadialGradientColor(i)){var s=i;e.setAttribute("fill",r._useSvgDefinition(new t._SvgRadialGradient(s)))}else if(t.models._isPatternColor(i)){var u=i;e.setAttribute("fill",r._useSvgDefinition(new t._SvgPattern(u,r)))}else e.setAttribute("fill","none")},o.prototype._applyStroke=function(e,n,i,o,r,l){if(void 0===l&&(l=null),e.setAttribute("stroke-opacity",t._NativeExtension._toNonNullNumber(n,1).toFixed(o)),null!=i)if(t.models._isCssColor(i)){var a=i;e.setAttribute("stroke",a.color.toLowerCase())}else if(t.models._isLinearGradientColor(i)){var s=i;e.setAttribute("stroke",r._useSvgDefinition(new t._SvgLinearGradient(s,null!=l?l():null)))}else if(t.models._isRadialGradientColor(i)){var u=i;e.setAttribute("stroke",r._useSvgDefinition(new t._SvgRadialGradient(u,null!=l?l():null)))}else if(t.models._isPatternColor(i)){var _=i;e.setAttribute("stroke",r._useSvgDefinition(new t._SvgPattern(_,r)))}else e.setAttribute("stroke","none")},o.prototype._applyStrokeStyle=function(e,n,i,o,r,l,a,s,u){void 0===u&&(u=null);var _=t._NativeExtension._toNonNullNumber(o,0);_>0&&(e.setAttribute("stroke-width",_.toFixed(a)),this._applyStroke(e,n,i,a,s,u),r&&e.setAttribute("stroke-dasharray",r),!1===l&&e.setAttribute("vector-effect","non-scaling-stroke"))},o.prototype._applyTextStyle=function(e,n,i,o,r,l,a,s,u,_,p,c){if(e.setAttribute("opacity",t._NativeExtension._toNonNullNumber(n,1).toFixed(c)),null!=i&&e.setAttribute("fill",i),null!=r&&e.setAttribute("font-size",r),null!=o&&e.setAttribute("font-family",o),null!=l&&e.setAttribute("font-weight",l.toLowerCase()),null!=a&&e.setAttribute("font-style",t.FontStyle[this.fontStyle].toLowerCase()),null!=s||null!=u||null!=_){var h=[];t._NativeExtension._toNonNullBoolean(u,!1)&&h.push("line-through"),t._NativeExtension._toNonNullBoolean(s,!1)&&h.push("overline"),t._NativeExtension._toNonNullBoolean(_,!1)&&h.push("underline"),h.length>0&&e.setAttribute("text-decoration",h.join(" "))}e.style.setProperty("white-space","pre"),p==t.TextWritingMode.Vertical?e.style.setProperty("writing-mode","tb-rl"):p==t.TextWritingMode.Horizontal&&e.style.setProperty("writing-mode","lr-tb")},o.prototype._applyText=function(t,e){var n=null!=e?e.toString():null;t.textContent=n},o.prototype._fixedBoundRectangleForTheGradientColorOfLine=function(e,n,i,o,r){var l=Math.min(e,i),a=Math.min(n,o),s=Math.max(e,i)-l,u=Math.max(n,o)-a,_=t._NativeExtension._toNonNullNumber(r,1);return Math.abs(s)<this._epsilon?new t.core.Rect(l-_/2,a,_,u):Math.abs(u)<this._epsilon?new t.core.Rect(l,a-_/2,s,_):null},o.prototype._replaceFormFeed=function(t){return t.replace(/\f/g," ")},o.prototype._createReferenceGroup=function(t,n,i,o,r,l,a){return new e(this,t,n,i,o,r,l,a)},o.prototype._drawRect=function(t,e,n,i,o){t.setAttribute("x",e.toFixed(this.__precision)),t.setAttribute("y",n.toFixed(this.__precision)),i>0&&i<this._epsilon?t.setAttribute("width",this._epsilon.toString()):t.setAttribute("width",i.toFixed(this.__precision)),o>0&&o<this._epsilon?t.setAttribute("height",this._epsilon.toString()):t.setAttribute("height",o.toFixed(this.__precision))},o.prototype._drawPolygon=function(t,e,n){for(var i="",o=Math.min(e.length,n.length),r=0;r<o;r++)i+=e[r].toFixed(this.__precision)+","+n[r].toFixed(this.__precision)+" ";t.setAttribute("points",i)},o.prototype._drawEllipse=function(t,e,n,i,o){t.setAttribute("cx",e.toFixed(this.__precision)),t.setAttribute("cy",n.toFixed(this.__precision)),t.setAttribute("rx",i.toFixed(this.__precision)),t.setAttribute("ry",o.toFixed(this.__precision))},o.prototype.beginRender=function(){n.prototype.beginRender.call(this);var e=document.createElementNS("http://www.w3.org/2000/svg","defs");t._DomElementExtension._empty(this.__svgElement),this.__svgElement.appendChild(e),this.__definitionCollection=new t._SvgDefinitionCollection(e),this.__metrics.begin(this.__svgElement),this._groupElement=null},o.prototype.endRender=function(){n.prototype.endRender.call(this),this.__metrics.end()},o.prototype.setRenderViewportSize=function(t,e){this.__svgElement.setAttribute("width",t.toString()),this.__svgElement.setAttribute("height",e.toString())},o.prototype.startRenderGroup=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=document.createElementNS("http://www.w3.org/2000/svg","g");this._applyClassName(i,t),this._applyTransform(i,n,this.__isIEOrEdge),this._applyClippingRegion(i,e,this.__definitionCollection),this._appendChild(i),this._groupElement=i},o.prototype.endRenderGroup=function(){if(null!=this._groupElement){var t=this._groupElement.parentNode;t==this.__svgElement?this._groupElement=null:this._groupElement=t}},o.prototype.startReferenceGroup=function(t){this.__metrics.begin(this._svgElement),n.prototype.startReferenceGroup.call(this,t)},o.prototype.endReferenceGroup=function(){this.__metrics.end(),n.prototype.endReferenceGroup.call(this)},o.prototype.measureString=function(e){return null==e?new t.core.Size(0,0):(e=this._replaceFormFeed(e),this.__metrics.measureString(e,this.__fontSizeWithUnit,this.fontFamily,this.fontWeight,null!=this.fontStyle?t.FontStyle[this.fontStyle]:null,this.textWritingMode))},o.prototype.renderString=function(e,n,i,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),null!=e&&(e=this._replaceFormFeed(e),!t._NativeExtension._isNullOrEmptyString(e))){var l=document.createElementNS("http://www.w3.org/2000/svg","text");this._applyTransform(l,r,this.__isIEOrEdge),this._applyClippingRegion(l,o,this.__definitionCollection),this._applyTextStyle(l,this.textOpacity,this.textFill,this.fontFamily,this.__fontSizeWithUnit,this.fontWeight,this.fontStyle,this.textOverline,this.textLineThrough,this.textUnderline,this.textWritingMode,this.__precision),this._applyText(l,e),t._BrowserUtility.isSafari()?this.textWritingMode==t.TextWritingMode.Vertical?l.setAttribute("dx","0.5em"):l.setAttribute("dy","-0.25em"):l.setAttribute("dominant-baseline","ideographic"),l.setAttribute("x",n.toFixed(this.__precision)),l.setAttribute("y",i.toFixed(this.__precision)),this._appendChild(l)}},o.prototype.renderPath=function(e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null);var a=document.createElementNS("http://www.w3.org/2000/svg","path");switch(this._applyTransform(a,l,this.__isIEOrEdge),this._applyClippingRegion(a,r,this.__definitionCollection),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),n==t.PathFillType.Evenodd&&a.setAttribute("fill-rule","evenodd"),i){case t.LineCap.Butt:break;case t.LineCap.Round:a.setAttribute("stroke-linecap","round");break;case t.LineCap.Square:a.setAttribute("stroke-linecap","square")}switch(o){case t.LineJoin.Miter:break;case t.LineJoin.Round:a.setAttribute("stroke-linejoin","round");break;case t.LineJoin.Bevel:a.setAttribute("stroke-linejoin","bevel")}a.setAttribute("d",e.expression),this._appendChild(a)},o.prototype.renderRect=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=null==this.fillOpacity?this._defaultOpacity:this.fillOpacity;if(Math.abs(l-1)<this._epsilon){var a=document.createElementNS("http://www.w3.org/2000/svg","rect");this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawRect(a,t,e,n,i),this._appendChild(a)}else Math.abs(l)>=this._epsilon&&(a=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawRect(a,t,e,n,i),this._appendChild(a)),null!=this.strokeWidth&&this.strokeWidth>0&&(a=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),a.setAttribute("fill","none"),this._drawRect(a,t,e,n,i),this._appendChild(a))},o.prototype.renderLine=function(t,e,n,i,o,r){var l=this;void 0===o&&(o=null),void 0===r&&(r=null);var a=document.createElementNS("http://www.w3.org/2000/svg","line");this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection,(function(){return l._fixedBoundRectangleForTheGradientColorOfLine(t,e,n,i,l.strokeWidth)})),a.setAttribute("x1",t.toFixed(this.__precision)),a.setAttribute("x2",n.toFixed(this.__precision)),a.setAttribute("y1",e.toFixed(this.__precision)),a.setAttribute("y2",i.toFixed(this.__precision)),this._appendChild(a)},o.prototype.renderLines=function(t,e,n,i){var o=this;if(void 0===n&&(n=null),void 0===i&&(i=null),null!=t&&null!=e){var r=Math.min(t.length,e.length);if(!(r<=0)){var l=document.createElementNS("http://www.w3.org/2000/svg","polyline");this._applyTransform(l,i,this.__isIEOrEdge),this._applyClippingRegion(l,n,this.__definitionCollection),this._applyStrokeStyle(l,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection,(function(){return o._isSameValue(t)||o._isSameValue(e)?o._fixedBoundRectangleForTheGradientColorOfLine(t[0],e[0],t[t.length-1],e[e.length-1],o.strokeWidth):null})),l.setAttribute("fill","none");for(var a="",s=0;s<r;s++)a+=t[s].toFixed(this.__precision)+","+e[s].toFixed(this.__precision)+" ";l.setAttribute("points",a),this._appendChild(l)}}},o.prototype.renderPolygon=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),!(null==t||null==e||Math.min(t.length,e.length)<=0)){var o=null==this.fillOpacity?this._defaultOpacity:this.fillOpacity;if(Math.abs(o-1)<this._epsilon){var r=document.createElementNS("http://www.w3.org/2000/svg","polygon");this._applyTransform(r,i,this.__isIEOrEdge),this._applyClippingRegion(r,n,this.__definitionCollection),this._applyFill(r,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(r,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawPolygon(r,t,e),this._appendChild(r)}else Math.abs(o)>=this._epsilon&&(r=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this._applyTransform(r,i,this.__isIEOrEdge),this._applyClippingRegion(r,n,this.__definitionCollection),this._applyFill(r,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawPolygon(r,t,e),this._appendChild(r)),null!=this.strokeWidth&&this.strokeWidth>0&&(r=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this._applyTransform(r,i,this.__isIEOrEdge),this._applyClippingRegion(r,n,this.__definitionCollection),this._applyStrokeStyle(r,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),r.setAttribute("fill","none"),this._drawPolygon(r,t,e),this._appendChild(r))}},o.prototype.renderEllipse=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=null==this.fillOpacity?this._defaultOpacity:this.fillOpacity;if(Math.abs(l-1)<this._epsilon){var a=document.createElementNS("http://www.w3.org/2000/svg","ellipse");this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawEllipse(a,t,e,n,i),this._appendChild(a)}else Math.abs(l)>=this._epsilon&&(a=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawEllipse(a,t,e,n,i),this._appendChild(a)),null!=this.strokeWidth&&this.strokeWidth>0&&(a=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this._applyTransform(a,r,this.__isIEOrEdge),this._applyClippingRegion(a,o,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),a.setAttribute("fill","none"),this._drawEllipse(a,t,e,n,i),this._appendChild(a))},o.prototype.renderImage=function(t,e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null);var a=document.createElementNS("http://www.w3.org/2000/svg","image");this._applyTransform(a,l,this.__isIEOrEdge),this._applyClippingRegion(a,r,this.__definitionCollection),a.setAttributeNS("http://www.w3.org/1999/xlink","href",t.src),a.setAttribute("x",e.toFixed(this.__precision)),a.setAttribute("y",n.toFixed(this.__precision)),a.setAttribute("width",i.toFixed(this.__precision)),a.setAttribute("height",o.toFixed(this.__precision)),a.setAttribute("preserveAspectRatio","none"),this._appendChild(a)},o.prototype._onFontSizeChanged=function(){var t=this.fontSize;this.__fontSizeWithUnit=null==t||isNaN(t)?t:t+"px"},o._renderEngineType="Svg",o}(t.BaseRenderEngine);t._SvgRenderEngine=n}(t||(t={})),function(t){var e=function(){function e(t){this.__svgElement=t,this.__textGroupElement=this._createTextGroupElement(),this.__svgElement.appendChild(this.__textGroupElement),this.__textElement=this._createTextElement(),this.__textGroupElement.appendChild(this.__textElement)}return Object.defineProperty(e.prototype,"_textElement",{get:function(){return this.__textElement},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t._DomElementExtension._remove(this.__textElement),t._DomElementExtension._remove(this.__textGroupElement)},e.prototype._createTextElement=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("x","-1000"),t.setAttribute("y","-1000"),t.setAttribute("dominant-baseline","ideographic"),t},e.prototype._createTextGroupElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","g")},e}(),n=function(){function n(){this.__isIEOrEdge=t._BrowserUtility.isIE()||t._BrowserUtility.isEdge(),this.__cache={}}return n.prototype.begin=function(t){this.__svgElement=t,this.__context=this._createContext(t)},n.prototype.end=function(){null!=this.__context&&(this.__context.dispose(),this.__context=null),this.__svgElement=null},n.prototype.measureString=function(e,n,i,o,r,l){var a=this._textElement;i&&a.setAttribute("font-family",i),n&&a.setAttribute("font-size",n),o&&a.setAttribute("font-weight",o.toLowerCase()),this.__isIEOrEdge?a.style.setProperty("line-height","normal"):r&&a.setAttribute("font-style",r.toLowerCase()),a.style.setProperty("white-space","pre"),l==t.TextWritingMode.Vertical?a.style.setProperty("writing-mode","tb-rl"):l==t.TextWritingMode.Horizontal&&a.style.setProperty("writing-mode","lr-tb"),a.textContent=e;var s=this._buildKey(a);return null==this.__cache[s]&&(this.__cache[s]=this._calculateRectangle(a)),l==t.TextWritingMode.Vertical?null!=this.__context&&(this.__context.dispose(),this.__context=null):(a.textContent=null,a.style.removeProperty("writing-mode"),a.style.removeProperty("white-space"),a.removeAttribute("font-style"),a.style.removeProperty("line-height"),a.removeAttribute("font-weight"),a.removeAttribute("font-size"),a.removeAttribute("font-family")),this.__cache[s].size},Object.defineProperty(n.prototype,"_textElement",{get:function(){if(null==this.__context){if(null==this.__svgElement)throw new t.RuntimeError(t.ErrorCode.Unknown);this.__context=this._createContext(this.__svgElement)}return this.__context._textElement},enumerable:!0,configurable:!0}),n.prototype._createContext=function(t){return new e(t)},n.prototype._buildKey=function(t){var e=t.getAttribute("font-size"),n=t.getAttribute("font-family"),i=t.getAttribute("font-weight"),o=t.getAttribute("font-style"),r=t.style.getPropertyValue("writing-mode");return e+","+(this.__isIEOrEdge?t.textContent:t.innerHTML)+","+n+","+i+","+o+","+r},n.prototype._calculateRectangle=function(e){var n=e.getBBox(),i=new t.core.Rect(n.x,n.y,n.width,n.height);return i.height=Math.round(1e4*i.height)/1e4,i.width=Math.round(1e4*i.width)/1e4,i},n}();t._SvgTextMetrics=n}(t||(t={})),function(t){var e=function(t,e){this.xs=t,this.ys=e};t._Polyline=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.__k=.002,this.__x=e,this.__y=n,this.__a=[],this.__b=[],this.__c=[],this.__d=[],this.__m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]];var i=this.__len=Math.min(e.length,n.length);if(i>=3)for(var o=0;o<i-1;o++){var r=0==o?new t.core.Point(e[o],n[o]):new t.core.Point(e[o-1],n[o-1]),l=new t.core.Point(e[o],n[o]),a=new t.core.Point(e[o+1],n[o+1]),s=o==i-2?new t.core.Point(e[o+1],n[o+1]):new t.core.Point(e[o+2],n[o+2]),u=new t.core.Point(0,0),_=new t.core.Point(0,0),p=new t.core.Point(0,0),c=new t.core.Point(0,0);u.x=r.x*this.__m[0][0]+l.x*this.__m[0][1]+a.x*this.__m[0][2]+s.x*this.__m[0][3],_.x=r.x*this.__m[1][0]+l.x*this.__m[1][1]+a.x*this.__m[1][2]+s.x*this.__m[1][3],p.x=r.x*this.__m[2][0]+l.x*this.__m[2][1]+a.x*this.__m[2][2]+s.x*this.__m[2][3],c.x=r.x*this.__m[3][0]+l.x*this.__m[3][1]+a.x*this.__m[3][2]+s.x*this.__m[3][3],u.y=r.y*this.__m[0][0]+l.y*this.__m[0][1]+a.y*this.__m[0][2]+s.y*this.__m[0][3],_.y=r.y*this.__m[1][0]+l.y*this.__m[1][1]+a.y*this.__m[1][2]+s.y*this.__m[1][3],p.y=r.y*this.__m[2][0]+l.y*this.__m[2][1]+a.y*this.__m[2][2]+s.y*this.__m[2][3],c.y=r.y*this.__m[3][0]+l.y*this.__m[3][1]+a.y*this.__m[3][2]+s.y*this.__m[3][3],this.__a.push(u),this.__b.push(_),this.__c.push(p),this.__d.push(c)}}return e.prototype._calculatePoint=function(e){var n=Math.floor(e);n<0&&(n=0),n>this.__len-2&&(n=this.__len-2);var i=e-n,o=((this.__a[n].x*i+this.__b[n].x)*i+this.__c[n].x)*i+this.__d[n].x,r=((this.__a[n].y*i+this.__b[n].y)*i+this.__c[n].y)*i+this.__d[n].y;return new t.core.Point(o,r)},e.prototype.calculate=function(e,n){if(void 0===e&&(e=1),void 0===n&&(n=1),this.__len<=2)return new t._Polyline(this.__x,this.__y);var i=[],o=[],r=this._calculatePoint(0);i.push(r.x),o.push(r.y);for(var l=this.__len*this.__k,a=3*e,s=3*n,u=null,_=0;_<this.__len-1;++_){for(var p=l;p<1;p+=l)u=this._calculatePoint(p+_),(Math.abs(r.x-u.x)>=a||Math.abs(r.y-u.y)>=s)&&(i.push(u.x),o.push(u.y),r=u);i.push(this.__x[_+1]),o.push(this.__y[_+1])}return null==u||i[i.length-1]==u.x&&o[o.length-1]==u.y||(i.push(u.x),o.push(u.y)),new t._Polyline(i,o)},e}();t._Spline=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t){return e.call(this,t,n._pluginType)||this}return i(n,e),n._defaultBuildInDataSourceTransforms=function(){return null==n.__buildInDataSourceTransformsCollection&&(n.__buildInDataSourceTransformsCollection=new n([])),n.__buildInDataSourceTransformsCollection},n.prototype._convert=function(e){return t._isDataSourceTransform(e)?e:null},n.prototype._transformDataSources=function(t,e,n,i){void 0===i&&(i=null);var o=t._dataSources;if(null!=o&&o.length>0)for(var r=this._objects(n,i),l=0,a=e;l<a.length;l++)for(var s=a[l],u=0,_=r;u<_.length;u++)_[u].item.transform(t,s,i)},n._pluginType="DataSourceTransform",n}(t._BuildInObjectCollection);t._BuildInDataSourceTransformCollection=e}(t||(t={})),function(t){t._isDataSourceTransform=function(t){return null!=t.transform}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(null,"#666666",null,"#666666",1)),this.__defaultStyle},e._defaultTextStyle=function(){return null==this.__defaultTextStyle&&(this.__defaultTextStyle=t._StyleUtility._buildStyle(),this.__defaultTextStyle.textFill="#666666"),this.__defaultTextStyle},e._defaultLineStyle=function(){return null==this.__defaultLineStyle&&(this.__defaultLineStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1)),this.__defaultLineStyle},e._defaultBorderStyle=function(){return null==this.__defaultBorderStyle&&(this.__defaultBorderStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",0)),this.__defaultBorderStyle},e._dvView=function(e){return t._isDvView(e)?e:null==(e=e._getOwnerView())?null:this._dvView(e)},e._isHover=function(e){return!!t._isHoverView(e)&&e._hover},e}();t._ViewUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.toAggregateString=function(e){return t.Aggregate[e]},e.toColorOptionOrNull=function(e){if(null==e)return null;if(t.options._isColorOption(e))return t.options._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e);var n=t._ColorOptionConverter._toColorOption(e);if(null!=n)return n;throw new t.OptionError(t.ErrorCode.UnexpectedValue,e)},e._toNumberOptionOrNull=function(e,n,i,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),null==e)return null;if("number"==typeof e&&!isNaN(e)){if(null!=n&&e<n){if(!o)throw new t.OptionError(t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,e,n);e=n}if(null!=i&&e>i){if(!o)throw new t.OptionError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,e,i);e=i}return e}throw new t.OptionError(t.ErrorCode.LegalNumberValueRequired,e)},e.toAnimationOption=function(e){return null==e?null:t.options._isAnimationOption(e)?t.options._AnimationOptionCloneMaker._animationOptionCloneMaker._cloneOf(e):new t.options._AnimationOption(e)},e}();t._CastExtension=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildData=function(e,n,i){var o=new t.options._DataOption(null);return o.name=e,o.values=n,o.dateFormats=i,o},e}();t._DataUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._split=function(n,i){var o=i;if(null==o||1!==o.length||"\\"===o[0])throw new t.AssertError(t.ErrorCode.InvalidArgument,o);if(""==n)return[];if(n.indexOf(o)>=0){var r=n.match(/(\\+)$/);if(null!=r&&r[0].length%2==1)return[];var l=e._getPlaceHolder(n),a=new RegExp(l,"g");return n.replace(new RegExp("(\\\\+)"+e._escapeRegExp(o),"g"),(function(t,e){var n=e.length;return n%2==0?t:e.substr(0,n-1)+l})).split(o).map((function(t){return t.replace(a,o)}))}return[n]},e._normalize=function(t){return""==t?t:t.replace(/\\(.)/g,"$1")},e._trim=function(t){if(""==t)return t;for(t=t.replace(/^(\s+)/,"");null!==/\s$/.exec(t)&&!/\\\s{1}$/.test(t);)t=t.slice(0,-1);return t},e._escapeRegExp=function(t){return t.replace(/[\.\*\+\?\^\$\{\}\(\)\|\[\]\\]/g,"\\$&")},e._getReplaceRegExp=function(t){var e=t.join("").replace(/[\]\\]/g,"\\$&");return new RegExp("(["+e+"])","g")},e._getPlaceHolder=function(e){var n=0;do{var i=String.fromCharCode(n);if(-1==e.indexOf(i))return i;0==n?n=55296:n++}while(n<57344);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._getPlaceHolderPairs=function(e){var n=55296;do{var i=String.fromCharCode(n),o=String.fromCharCode(n+1);if(-1==e.indexOf(i)&&-1==e.indexOf(o))return i+o;n+=2}while(n<57344);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._replaceStringWithPlaceHolderPairs=function(e,n,i,o){if(null==n||null==i||n.length!=i.length)throw new t.AssertError(t.ErrorCode.NoMatchedPlace,n,i);if(o){for(var r=i.length,l=0;l<r;l++)e=e.replace(new RegExp(i[l],"g"),n[l]);return e}return e.replace(/\\(.)/g,(function(t,e){var o=i[n.indexOf(e)];return null!=o&&""!==o?o:t}))},e._getEscapeString=function(t,n){return t.replace(e._getReplaceRegExp(n),"\\$1")},e.getTemplateValueSection=function(t,n,i){var o=" .,:|>\\{}=".split(""),r=e._getEscapeString(t,o);return n=null!=n&&""!==n?":"+e._getEscapeString(n,o):"",e.templateItemStrings[i?0:1].replace(/@/g,r)+n+"}"},e.slicePathArray=function(t){var n=e._split(t,"."),i=[],o=n.length;if(o>0){for(var r=e._getPlaceHolderPairs(t),l=0;l<o;l++){var a=n[l],s=(a=e._replaceStringWithPlaceHolderPairs(a,"[]",r,!1)).split(/^(.*?)\s*\[\s*|\s*\]\s*\[\s*|\s*\]\s*$/);(s=s.filter((function(t){return null!=t&&""!=t}))).length>0?i=i.concat(s):i.push(a)}return i.map((function(t){return e._replaceStringWithPlaceHolderPairs(e._normalize(t),"[]",r,!0)}))}return i},e.templateItemStrings=["{@.name}: {@.value","{@.value"],e}();t._EscapedCharacterStringUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._mergeOptions=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=new t.options._LegendOption(null);i.groupHAlign=t.HAlign.Left,i.groupVAlign=t.VAlign.Top,i.groupOrientation=t.Orientation.Vertical,i.groupPadding=t._PaddingUtility._buildPadding(0,0,0,0);for(var o=0,r=e;o<r.length;o++){var l=r[o];null!=l.left&&(i.left=l.left),null!=l.top&&(i.top=l.top),null!=l.groupHAlign&&(i.groupHAlign=l.groupHAlign),null!=l.groupVAlign&&(i.groupVAlign=l.groupVAlign),null!=l.groupOrientation&&(i.groupOrientation=l.groupOrientation),null!=l.groupPadding&&(i.groupPadding=l.groupPadding)}return i},e._isType=function(n,i){return null!=i&&(t._isSingleLegendDataModel(n)?n._definition._legendType==i:t._isMergedLegendDataModel(n)?n._definitions.some((function(t){return t._legendType==i})):!!t._isCombinedLegendDataModel(n)&&n._legends.some((function(t){return e._isType(t,i)})))},e._typeToKind=function(e){if(e==t.LegendType.Color)return t._LegendKind.PlotColor;if(e==t.LegendType.Shape)return t._LegendKind.PlotShape;if(e==t.LegendType.Size)return t._LegendKind.PlotSize;if(e==t.LegendType.BackgroundColor)return t._LegendKind.BackgroundColor;if(e==t.LegendType.Overlay)return t._LegendKind.OverlayColor;if(e==t.LegendType.Lightness)return t._LegendKind.Lightness;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue)},e._getRelatedPointViewsStyle=function(e){var n=e._legendItemView()._data;if(n instanceof t._ItemizedPointLegendItemDataModel){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].style,r=1;r<i.length;++r)if(!this._isStyleEqual(o,i[r].style))return null;return o}}return null},e._getRelatedPointViewsSelectedStyle=function(e){var n=e._legendItemView()._data;if(n instanceof t._ItemizedPointLegendItemDataModel){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].selectedStyle,r=1;r<i.length;++r)if(!this._isSelectionStyleEqual(o,i[r].selectedStyle))return null;return o}}return null},e._getRelatedPointViewsUnselectedStyle=function(e){var n=e._legendItemView()._data;if(n instanceof t._ItemizedPointLegendItemDataModel){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].unselectedStyle,r=1;r<i.length;++r)if(!this._isSelectionStyleEqual(o,i[r].unselectedStyle))return null;return o}}return null},e._getRelatedPointViewsTextStyle=function(e){var n=e._legendItemView()._data;if(n instanceof t._ItemizedPointLegendItemDataModel){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].text.textStyle,r=1;r<i.length;++r)if(!this._isTextStyleEqual(o,i[r].text.textStyle))return null;return o}}return null},e._isStyleEqual=function(e,n){return!!(t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.opacity,n.opacity)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.strokeOpacity,n.strokeOpacity)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.fill,n.fill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.backgroundColor,n.backgroundColor)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&t._StrokeWidthOptionEqualityComparer._defaultStrokeWidthOptionEqualityComparer._equalsWith(e.strokeWidth,n.strokeWidth)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.strokeDasharray,n.strokeDasharray)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.symbolShape,n.symbolShape)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.symbolOpacity,n.symbolOpacity)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.symbolStrokeOpacity,n.symbolStrokeOpacity)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolFill,n.symbolFill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolStroke,n.symbolStroke)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.symbolStrokeWidth,n.symbolStrokeWidth)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.symbolStrokeDasharray,n.symbolStrokeDasharray)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.symbolSize,n.symbolSize))},e._isSelectionStyleEqual=function(t,e){return!!this._isStyleEqual(t,e)&&t.adorners==e.adorners},e._isTextStyleEqual=function(e,n){return!!(t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.color,n.color)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.opacity,n.opacity)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.fontSize,n.fontSize)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.fontFamily,n.fontFamily)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.fontWeight,n.fontWeight)&&e.fontStyle==n.fontStyle&&t._TextDecorationOptionEqualityComparer._textDecorationOptionEqualityComparer._equalsWith(e.textDecoration,n.textDecoration)&&e.overflow==n.overflow&&e.writingMode==n.writingMode&&e.alignment==n.alignment)},e._updateLegendItemSelectedState=function(e){for(var n=0,i=e.legends;n<i.length;n++){var o=i[n];if(t.models._isItemizedLegendModel(o))for(var r=0,l=o.items;r<l.length;r++){for(var a=l[r],s=null,u=0,_=a.relatedModels();u<_.length;u++){var p=_[u];if(p.type==t.ElementType.DataPoint){var c=p;null==s?s=c.selected:1!=s||c.selected||(s=!1)}else if(p.type==t.ElementType.Series){var h=p;null==s?s=h.selected:1!=s||h.selected||(s=!1)}}a.selected=null!=s&&s}}},e}();t._LegendUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildMargin=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._MarginOption(null);return null!=e&&(r.left=e),null!=n&&(r.top=n),null!=i&&(r.right=i),null!=o&&(r.bottom=o),r},e}();t._MarginUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildRotateMatrix=function(e,n){void 0===n&&(n=null);var i=new t.Matrix;return i.rotate(e,n),i},e._transformPoint=function(t,e,n){return void 0===n&&(n=null),t.transformPoint(e.x,e.y,n)},e._transformPoints=function(t,n){return n.map((function(n){return e._transformPoint(t,n)}))},e._transformCurve=function(e,n,i){if(n.length!=i.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,n,i);for(var o=new t._Polyline([],[]),r=0,l=n.length;r<l;r++){var a=e.transformPoint(n[r],i[r]);o.xs.push(a.x),o.ys.push(a.y)}return o},e._transformCoordinatePoint=function(t,e,n,i){null==i&&(i=[]);var o=t.transformPoint(e,n);return null==i||i.length<2?((i=new Array).push(o.x),i.push(o.y)):(i[0]=o.x,i[1]=o.y),i},e._matrixIdentify=function(t){return t.values.join("")},e._scaleAt=function(e,n,i,o){void 0===o&&(o=null);var r=[n,0,0,i,(null==o?0:o.x)*(1-n),(null==o?0:o.y)*(1-i)];e.transform(new t.Matrix(r))},e._translatePrepend=function(e,n,i){var o=new t.Matrix([1,0,0,1,n,i]);o.transform(e),e.reset(),e.transform(o)},e}();t._MatrixUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toStringColorFromString=function(e){if("none"===(e=e.trim()))return"none";var n=t._NativeColorBuilder._colorBuilder._build(e);return null!=n?n._toCss():null},e}();t._OptionUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildPadding=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._PaddingOption(null);return null!=e&&(r.left=e),null!=n&&(r.top=n),null!=i&&(r.right=i),null!=o&&(r.bottom=o),r},e}();t._PaddingUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildRectangleWithBorderRadius=function(e,n,i,o,r){if(null==r||0==i||0==o)return null;if(t.shapes._BorderRadiusExtension._isValueEmpty(r.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(r.verticalRadius))return null;var l=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(r,i,o),a=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topLeft,i,l),s=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topLeft,o,l),u=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topRight,i,l),_=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topRight,o,l),p=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomRight,i,l),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomRight,o,l),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomLeft,i,l),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomLeft,o,l),d=t._PathBuilder._defaultPathBuilder._buildPath();return d.moveto(parseFloat((e+a).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),d.lineto(parseFloat((e+i-u).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),d.quadraticBezierCurve(parseFloat((e+i).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision)),parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+_).toFixed(this.__precision))),d.lineto(parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+o-c).toFixed(this.__precision))),d.quadraticBezierCurve(parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision)),parseFloat((e+i-p).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),d.lineto(parseFloat((e+h).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),d.quadraticBezierCurve(parseFloat(e.toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision)),parseFloat(e.toFixed(this.__precision)),parseFloat((n+o-f).toFixed(this.__precision))),d.lineto(parseFloat(e.toFixed(this.__precision)),parseFloat((n+s).toFixed(this.__precision))),d.quadraticBezierCurve(parseFloat(e.toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision)),parseFloat((e+a).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),d.close(),d},e._buildDonutSegmentWithBorderRadius=function(e,n,i,o,r,l,a){var s=.5*(i+o),u=s*l,_=i-o;if(null==a||0==_||0==u)return null;if(t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius))return null;var p=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(a,_,u),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topLeft,_,p),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topLeft,u,p),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topRight,_,p),d=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topRight,u,p),y=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomRight,_,p),g=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomRight,u,p),m=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomLeft,_,p),v=r+l,w=r+(u-h)/s,b=r+(u-d)/s,S=r+t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomLeft,u,p)/s,P=r+g/s,C=t._PathBuilder._defaultPathBuilder._buildPath(),x=new t.core.Point(e,n);x.x+=(i-c)*Math.cos(v),x.y+=(i-c)*Math.sin(v),C.moveto(parseFloat(x.x.toFixed(this.__precision)),parseFloat(x.y.toFixed(this.__precision)));var V=new t.core.Point(e,n);V.x+=(o+f)*Math.cos(v),V.y+=(o+f)*Math.sin(v),C.lineto(parseFloat(V.x.toFixed(this.__precision)),parseFloat(V.y.toFixed(this.__precision)));var D=new t.core.Point(e,n);D.x+=o*Math.cos(v),D.y+=o*Math.sin(v);var A=new t.core.Point(e,n);A.x+=o*Math.cos(b),A.y+=o*Math.sin(b),C.quadraticBezierCurve(parseFloat(D.x.toFixed(this.__precision)),parseFloat(D.y.toFixed(this.__precision)),parseFloat(A.x.toFixed(this.__precision)),parseFloat(A.y.toFixed(this.__precision)));var O=new t.core.Point(e,n);O.x+=o*Math.cos(P),O.y+=o*Math.sin(P);var L=parseFloat(o.toFixed(this.__precision));Math.abs(P-b)>Math.PI?C.arcTo(L,L,0,1,0,parseFloat(O.x.toFixed(this.__precision)),parseFloat(O.y.toFixed(this.__precision))):C.arcTo(L,L,0,0,0,parseFloat(O.x.toFixed(this.__precision)),parseFloat(O.y.toFixed(this.__precision)));var T=new t.core.Point(e,n);T.x+=o*Math.cos(r),T.y+=o*Math.sin(r);var M=new t.core.Point(e,n);M.x+=(o+y)*Math.cos(r),M.y+=(o+y)*Math.sin(r),C.quadraticBezierCurve(parseFloat(T.x.toFixed(this.__precision)),parseFloat(T.y.toFixed(this.__precision)),parseFloat(M.x.toFixed(this.__precision)),parseFloat(M.y.toFixed(this.__precision)));var I=new t.core.Point(e,n);I.x+=(i-m)*Math.cos(r),I.y+=(i-m)*Math.sin(r),C.lineto(parseFloat(I.x.toFixed(this.__precision)),parseFloat(I.y.toFixed(this.__precision)));var E=new t.core.Point(e,n);E.x+=i*Math.cos(r),E.y+=i*Math.sin(r);var B=new t.core.Point(e,n);B.x+=i*Math.cos(S),B.y+=i*Math.sin(S),C.quadraticBezierCurve(parseFloat(E.x.toFixed(this.__precision)),parseFloat(E.y.toFixed(this.__precision)),parseFloat(B.x.toFixed(this.__precision)),parseFloat(B.y.toFixed(this.__precision)));var R=new t.core.Point(e,n);R.x+=i*Math.cos(w),R.y+=i*Math.sin(w);var k=parseFloat(i.toFixed(this.__precision));Math.abs(S-w)>Math.PI?C.arcTo(k,k,0,1,1,parseFloat(R.x.toFixed(this.__precision)),parseFloat(R.y.toFixed(this.__precision))):C.arcTo(k,k,0,0,1,parseFloat(R.x.toFixed(this.__precision)),parseFloat(R.y.toFixed(this.__precision)));var F=new t.core.Point(e,n);return F.x+=i*Math.cos(v),F.y+=i*Math.sin(v),C.quadraticBezierCurve(parseFloat(F.x.toFixed(this.__precision)),parseFloat(F.y.toFixed(this.__precision)),parseFloat(x.x.toFixed(this.__precision)),parseFloat(x.y.toFixed(this.__precision))),C.close(),C},e._buildRectangleShape=function(e){var n=t._PathBuilder._defaultPathBuilder._buildPath(),i=e.center.x-e.size.width/2,o=e.center.y-e.size.height/2,r=e.size.width,l=e.size.height;return n.moveto(parseFloat(i.toFixed(this.__precision)),parseFloat(o.toFixed(this.__precision))),n.lineto(parseFloat((i+r).toFixed(this.__precision)),parseFloat(o.toFixed(this.__precision))),n.lineto(parseFloat((i+r).toFixed(this.__precision)),parseFloat((o+l).toFixed(this.__precision))),n.lineto(parseFloat(i.toFixed(this.__precision)),parseFloat((o+l).toFixed(this.__precision))),n.close(),n},e._buildLineShapes=function(e){for(var n=t._PathBuilder._defaultPathBuilder._buildPath(),i=0,o=e;i<o.length;i++){for(var r=o[i].points,l=0;l<r.length;l++){var a=r[l];0==l?n.moveto(parseFloat(a.x.toFixed(this.__precision)),parseFloat(a.y.toFixed(this.__precision))):n.lineto(parseFloat(a.x.toFixed(this.__precision)),parseFloat(a.y.toFixed(this.__precision)))}r.length>0&&n.close()}return n},e._buildPolygonShape=function(e){for(var n=t._PathBuilder._defaultPathBuilder._buildPath(),i=e.points,o=0;o<i.length;o++){var r=i[o];0==o?n.moveto(parseFloat(r.x.toFixed(this.__precision)),parseFloat(r.y.toFixed(this.__precision))):n.lineto(parseFloat(r.x.toFixed(this.__precision)),parseFloat(r.y.toFixed(this.__precision)))}return i.length>0&&n.close(),n},e._buildArcShape=function(e){return t._PathBuilder._defaultPathBuilder._buildArc(e.center.x,e.center.y,e.radius,e.startAngle,e.sweepAngle)},e.__precision=3,e}();t._PathUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildStrokeWidth=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._StrokeWidthOption(null);return null!=e&&(r.left=e),null!=n&&(r.top=n),null!=i&&(r.right=i),null!=o&&(r.bottom=o),r},e}();t._StrokeWidthUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildStyle=function(e,n,i,o,r,l,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null);var s=new t._Style;return null!=e&&(s.fillOpacity=e),null!=n&&(s.fill=new t._CssColor(n)),null!=i&&(s.strokeOpacity=i),null!=o&&(s.stroke=new t._CssColor(o)),null!=r&&(s.strokeWidth=r),null!=l&&(s.strokeDasharray=l),null!=a&&(s.scalingStroke=a),s},e._buildStrokeStyle=function(e,n,i,o,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null);var l=new t._Style;return null!=e&&(l.strokeOpacity=e),null!=n&&(l.stroke=new t._CssColor(n)),null!=i&&(l.strokeWidth=i),null!=o&&(l.strokeDasharray=o),null!=r&&(l.scalingStroke=r),l},e._buildFillStyle=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new t._Style;return null!=e&&(i.fillOpacity=e),null!=n&&(i.fill=new t._CssColor(n)),i},e._applyTextStyleOption=function(e,n){null!=n&&(null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontStyle&&(e.fontStyle=t._NativeExtension._toNonNullEnum(n.fontStyle,t.FontStyle.Normal)),null!=n.opacity&&(e.textOpacity=n.opacity),null!=n.color&&(e.textFill=n.color),null!=n.textDecoration&&(null!=n.textDecoration.overline&&(e.textOverline=n.textDecoration.overline),null!=n.textDecoration.lineThrough&&(e.textLineThrough=n.textDecoration.lineThrough),null!=n.textDecoration.underline&&(e.textUnderline=n.textDecoration.underline)),null!=n.writingMode&&(e.textWritingMode=n.writingMode))},e._applyLineStyleOption=function(t,n){null!=n&&(null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataPointStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.opacity&&(t.fillOpacity=n.opacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth.top),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataPointSymbolStyleOption=function(t,n){null!=n&&(null!=n.symbolFill&&(t.fill=e._colorFromOption(n.symbolFill)),null!=n.symbolOpacity&&(t.fillOpacity=n.symbolOpacity),null!=n.symbolStroke&&(t.stroke=e._colorFromOption(n.symbolStroke)),null!=n.symbolStrokeOpacity&&(t.strokeOpacity=n.symbolStrokeOpacity),null!=n.symbolStrokeWidth&&(t.strokeWidth=n.symbolStrokeWidth),null!=n.symbolStrokeDasharray&&(t.strokeDasharray=n.symbolStrokeDasharray))},e._applyOverlayStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.opacity&&(t.fillOpacity=n.opacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyTrackAreaStyleOption=function(t,n){null!=n&&(t.fillOpacity=n.opacity,t.fill=e._colorFromOption(n.fill))},e._applyTrackLineStyleOption=function(t,n){null!=n&&(t.strokeOpacity=n.opacity,t.stroke=e._colorFromOption(n.stroke),t.strokeWidth=n.strokeWidth,null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataLabelStyleFromStyleOption=function(t,n){null!=n&&(null!=n.backgroundColor&&(t.fill=e._colorFromOption(n.backgroundColor)),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyLineStyleFromStyleOption=function(t,n){null!=n&&(null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyInnerLineStyleFromStyleOption=function(t,n){null!=n&&(null!=n.innerStroke&&(t.stroke=e._colorFromOption(n.innerStroke)),null!=n.innerStrokeWidth&&(t.strokeWidth=n.innerStrokeWidth),null!=n.innerStrokeDasharray&&(t.strokeDasharray=n.innerStrokeDasharray))},e._applyStrokeOption=function(t,n){null!=n&&(t.stroke=e._colorFromOption(n))},e._applyFillOption=function(t,n){null!=n&&(t.fill=e._colorFromOption(n))},e._applyFillStyle=function(t,e){null!=e&&(null!=e.fillOpacity&&(t.fillOpacity=e.fillOpacity),null!=e.fill&&(t.fill=e.fill))},e._applyStrokeStyle=function(t,e){null!=e&&(null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.scalingStroke&&(t.scalingStroke=e.scalingStroke))},e._applyStyle=function(t,e){null!=e&&(null!=e.fillOpacity&&(t.fillOpacity=e.fillOpacity),null!=e.fill&&(t.fill=e.fill),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.scalingStroke&&(t.scalingStroke=e.scalingStroke))},e._applyAllStyle=function(e,n){null!=n&&(null!=n.fillOpacity&&(e.fillOpacity=n.fillOpacity),null!=n.fill&&(e.fill=n.fill),null!=n.strokeOpacity&&(e.strokeOpacity=n.strokeOpacity),null!=n.stroke&&(e.stroke=n.stroke),null!=n.strokeWidth&&(e.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray),null!=n.scalingStroke&&(e.scalingStroke=n.scalingStroke),null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontStyle&&(e.fontStyle=t._NativeExtension._toNonNullEnum(n.fontStyle,t.FontStyle.Normal)),null!=n.textOpacity&&(e.textOpacity=n.textOpacity),null!=n.textFill&&(e.textFill=n.textFill),null!=n.textOverline&&(e.textOverline=n.textOverline),null!=n.textLineThrough&&(e.textLineThrough=n.textLineThrough),null!=n.textUnderline&&(e.textUnderline=n.textUnderline),null!=n.textWritingMode&&(e.textWritingMode=n.textWritingMode))},e._applyStroke=function(t,e){null!=e&&(t.stroke=e)},e._applyFill=function(t,e){null!=e&&(t.fill=e)},e._copyAllStyle=function(t,e){null!=e&&(t.fillOpacity=e.fillOpacity,t.fill=e.fill,t.strokeOpacity=e.strokeOpacity,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeDasharray=e.strokeDasharray,t.scalingStroke=e.scalingStroke,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontWeight=e.fontWeight,t.fontStyle=e.fontStyle,t.textOpacity=e.textOpacity,t.textFill=e.textFill,t.textOverline=e.textOverline,t.textLineThrough=e.textLineThrough,t.textUnderline=e.textUnderline,t.textWritingMode=e.textWritingMode)},e._colorFromOption=function(n){return n instanceof t.options._CssColorOption?e._cssColorFromOption(n):n instanceof t.options._LinearGradientOption?e._linearGradientColorFromOption(n):n instanceof t.options._RadialGradientOption?e._RadialGradientColorFromOption(n):n instanceof t.options._PatternOption?e._patternColorFromOption(n):null},e._createStyleFromOption=function(n){var i=new t._Style;return null==n?null:(null!=n.fill&&(i.fill=e._colorFromOption(n.fill)),null!=n.stroke&&(i.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(i.strokeWidth=n.strokeWidth),i)},e._areDataPointStyleOptionLineStyleEquals=function(e,n){return null==e&&null==n||(null!=e&&null==n?null==e.stroke&&null==e.strokeDasharray&&null==e.strokeWidth&&null==e.strokeDasharray:null==e&&null!=n?null==n.stroke&&null==n.strokeDasharray&&null==n.strokeWidth&&null==n.strokeDasharray:!!t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.strokeOpacity==n.strokeOpacity&&(null==e.strokeWidth?null:e.strokeWidth.top)==(null==n.strokeWidth?null:n.strokeWidth.top)&&e.strokeDasharray==n.strokeDasharray)},e._cssColorFromOption=function(e){return new t._CssColor(e.color)},e._linearGradientColorFromOption=function(e){return new t._LinearGradientColor(e.angle,this._colorStopsFromOptions(e.colorStops))},e._RadialGradientColorFromOption=function(n){var i=n,o=e._getCenter(i.position),r=e._calcRadius(i.extentKeyword,o);return new t._RadialGradientColor(o,r,o,r,this._colorStopsFromOptions(i.colorStops))},e._getCenter=function(e){var n=new t.core.Point(.5,.5);if(null==e||e.length<=0)return n;switch(e[0].keyword){case t.GradientPositionKeyword.Left:n.x=e[0].offset;break;case t.GradientPositionKeyword.Right:n.x=1-e[0].offset}switch(e[1].keyword){case t.GradientPositionKeyword.Top:n.y=e[1].offset;break;case t.GradientPositionKeyword.Bottom:n.y=1-e[1].offset}return n},e._calcRadius=function(e,n){var i=Math.min(n.x,1-n.x),o=Math.min(n.y,1-n.y);switch(e){case t.GradientExtentKeyword.ClosestSide:return Math.min(i,o);case t.GradientExtentKeyword.ClosestCorner:return Math.sqrt(i*i+o*o);case t.GradientExtentKeyword.FarthestSide:return Math.max(1-i,1-o);case t.GradientExtentKeyword.FarthestCorner:return Math.sqrt((1-i)*(1-i)+(1-o)*(1-o));default:return.5}},e._patternColorFromOption=function(n){for(var i=e._colorFromOption(n.color),o=[],r=0,l=n.pattern;r<l.length;r++){var a=l[r],s=null;s=null==a.style?e._buildFillStyle(null,"#666666"):e._createStyleFromOption(a.style);var u=a.content.split(":");null!=u&&2==u.length&&"path"==u[0]?o.push(new t._PathWithStyle(s,u[1])):o.push(new t._PathWithStyle(s,a.content))}return new t._PatternColor(i,o)},e._colorStopsFromOptions=function(n){for(var i=0,o=0,r=0,l=0,a=n.length,s=[],u=0;u<n.length;u++){var _=n[u];null==_.stop?(0==u&&(o=u,i=0),u==a-1&&(r=1,(l=u)>o&&(s.push.apply(s,e._calculateGradientStops(n,i,o,r,l)),o=l,i=r))):(0==u&&(o=u,i=_.stop),l=u,r=_.stop,l>o&&(s.push.apply(s,e._calculateGradientStops(n,i,o,r,l)),o=l,i=r))}return s.push(new t._ColorStop(n[l].color,r)),s},e._calculateGradientStops=function(e,n,i,o,r){if(i>=r)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n,i,o,r);for(var l=(o-n)/(r-i),a=[],s=i;s<r;s++){var u=e[s];a.push(new t._ColorStop(u.color,n+(s-i)*l))}return a},e}();t._StyleUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._plotModel=function(n){return null==n?null:n.type==t.ElementType.Plot?n:e._plotModel(n.parent)},e._plotsPanelModel=function(e){for(;null!=e;){if(e.type==t.ElementType.PlotsPane)return e;e=e.parent}return null},e._plotAreaModel=function(e){for(;null!=e;){if(e.type==t.ElementType.PlotArea)return e;e=e.parent}return null},e._dvModel=function(e){for(;null!=e;){if(e.type==t.ElementType.Control)return e;e=e.parent}return null},e._legendItemModel=function(t){if(null!=t){var e=t.queryInterface("ILegendItemModel");return null!=e?e:this._legendItemModel(t.parent)}return null},e._legendItemView=function(t){var n=e._legendItemModel(t);return null==n?null:n},e}();t._ViewModelUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._coordinateSystemZoomView=function(e){var n=t._PlotAreaViewModelUtility._toPlotAreaView(e);if(null!=n)for(var i=0,o=n._plotViews();i<o.length;i++){var r=o[i],l=r._getLayoutView()._coordinateSystemView(r._getDefinition().coordinateSystemDefinition);if(null!=l&&t._isZoomableView(l))return l}return null},e._isZoomEnabled=function(t){var n=e._zoomConfig(t);if(null!=n){if(n.enableMouseDoubleClick||n.enableMouseWheel)return!0;var i=n.zoomButtons;if(null!=i&&i.showButtons&&(i.showZoomInButton||i.showZoomOutButton))return!0}return!1},e._showZoomButton=function(t){var n=e._zoomConfig(t);if(null!=n){var i=n.zoomButtons;if(null!=i&&i.showButtons&&(i.showZoomInButton||i.showZoomOutButton))return!0}return!1},e._zoomConfig=function(e){var n=t._ViewModelUtility._plotModel(e);if(null!=n&&null!=(p=n.option.config.zoom))return p;var i=t._ViewModelUtility._plotsPanelModel(e);if(null!=i)for(var o=0,r=i.plots;o<r.length;o++)if(null!=(p=r[o].option.config.zoom))return p;var l=t._ViewModelUtility._plotAreaModel(e);if(null!=l)for(var a=0,s=l.plotsPanes;a<s.length;a++)for(var u=0,_=s[a].plots;u<_.length;u++){var p;if(null!=(p=_[u].option.config.zoom))return p}return null},e}();t._ZoomInteractionUtility=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._plotViews=function(){for(var t=[],e=0,n=this._getLayoutViews();e<n.length;e++){var i=n[e];t.push.apply(t,i._findAllPlotViews())}return t},e.prototype._layoutData=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)e[t]._layoutData()},e.prototype._createLayoutView=function(t,e){return null!=e._layoutViewBuilderCallback?e._layoutViewBuilderCallback(t,e):null},e.prototype._getLayoutViews=function(){return null==this.__layoutViews&&(this.__layoutViews=this._createLayoutViews()),this.__layoutViews},e.prototype.dispose=function(){if(null!=this.__layoutViews)for(var t=0,e=this.__layoutViews;t<e.length;t++)e[t].dispose()},e}(t._RectangleView);t._BaseLayoutListView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInDvDefinitionBuilders=function(){return null==n.__buildInDvDefinitionBuilders&&(n.__buildInDvDefinitionBuilders=new n([],n._pluginType)),n.__buildInDvDefinitionBuilders},n.prototype._convert=function(e){return t._isDvDefinitionBuilder(e)?e:null},n.prototype._dvDefinition=function(e,n,i,o,r,l){for(var a=0,s=this._objects(r,l);a<s.length;a++){var u=s[a].item._buildDvDefinition(e,n,l,i);if(null!=u)return u}return new t._DvDefinition(e,n,l,i,o)},n._pluginType="Dv",n}(t._BuildInObjectCollection);t._BuildInDvDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){this._dvConfigOption=e.config,this._plotOptions=e.plots,this._pluginCollection=i,this.__dataSources=n,this._dvViewBuilderCallback=null!=r?r:function(e){return new t._DvView(e,null,null)};var l=null!=o?o:t._ImageInfoBuilder._imageInfoBuilder;this._asyncResourcePool=this._createAsyncResourcePool(),this._imageProvider=this._createImageProvider(l,this._asyncResourcePool),this._symbolDefinitionProvider=this._createSymbolDefinitionProvider(i),this._paletteColorProvider=this._createPaletteColorProvider(this._dvConfigOption.palette),this._valueColorProvider=this._createValueColorProvider(this._dvConfigOption.palette)}return e.prototype._createImageProvider=function(e,n){return new t._ImageProvider(e,n)},e.prototype._createAsyncResourcePool=function(){return new t._AsyncResourcePool},e.prototype._createSymbolDefinitionProvider=function(e){var n=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],e);return new t.SymbolDefinitionProvider(this._dvConfigOption.shapes,n,e)},e.prototype._createPaletteColorProvider=function(e){return new t._PaletteColorProvider(e)},e.prototype._createValueColorProvider=function(e){return new t._ValueColorProvider(null,e)},e.prototype._getDefaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.fill=new t._CssColor("none"),this.__defaultStyle.stroke=new t._CssColor("#666666"),this.__defaultStyle.strokeWidth=0,this.__defaultStyle.fontFamily=null,this.__defaultStyle.fontSize="14",this.__defaultStyle.textFill="#666666"),this.__defaultStyle},e.prototype._findDataSchema=function(t){return this.__dataSources._dataSource(t)._schema},e}();t._DvDefinition=e}(t||(t={})),t||(t={}),function(t){t._isDvDefinitionBuilder=function(t){return"function"==typeof t._buildDvDefinition}}(t||(t={})),function(t){var e=function(){function t(){}return t._toDvModel=function(t){return null!=t.queryInterface("IDvModel")?t:null},t._toDvView=function(t){return null!=t.queryInterface("IDvView")?t:null},t}();t._DvViewModelUtility=e}(t||(t={})),function(t){!function(t){t._isDvModel=function(t){var e=t;return void 0!==e.option&&null!=e.plotAreas}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(e,n,i){this._transform=null,this._visible=!0,this._zLevel=0,this._zIndex=0,this.__rectangle=t.core.Rect.ReadOnlyRect,this._definition=e,this._headerView=this._createHeaderView(this._definition._dvConfigOption,n),this._footerView=this._createFooterView(this._definition._dvConfigOption,i),this._plotAreaViews=this._createPlotAreaViews(this._definition._dvConfigOption.plotAreas,this._definition._plotOptions)}return e.prototype._layoutData=function(){for(var t=0,e=this._plotAreaViews;t<e.length;t++)e[t]._layoutData()},e.prototype._updateRectangle=function(t){this.__rectangle=t.clone()},e.prototype._paddings=function(){return this._definition._dvConfigOption.padding},e.prototype._layoutContent=function(t,e,n){t.beginTransform(),this._applyBorderStyle(t);var i=this._calculateInnerRectangle(t,this._getRectangle());t.restoreTransform(),this._layoutInnerContent(t,i,n)},e.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;this._zLevel==n._currentZLevel&&e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform();var r=this._paddings();null!=r&&(i=new t.core.Rect(i.left+r.left,i.top+r.top,i.width-r.left-r.right,i.height-r.top-r.bottom)),this._renderInnerContent(e,i,n)},e.prototype._layoutInnerContent=function(e,n,i){i._headerLabels=[],i._footerLabels=[],e.beginTransform(),this._applyStyle(e),(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=n.clone(),r=this._headerView;if(null!=r){var l=r._measure(e,new t.core.Size(n.width,n.height)),a=new t.core.Rect(o.left+(o.width-l._size.width)/2,o.top,l._size.width,l._size.height);r._layout(e,i,a),o.top+=a.height,o.height-=a.height}var s=this._footerView;if(null!=s){var u=o.clone(),_=s._measure(e,new t.core.Size(n.width,n.height)),p=this._definition._dvConfigOption.footer.width,c=u.width;null!=p&&(p.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(p.value,t.HeaderFooterWidthOptionType.Auto)&&(c=_._size.width):p.type==t.ValueOptionType.Pixel?c=p.value:p.type==t.ValueOptionType.Percentage&&(c=p.value*u.width)),c<u.width&&(u.left+=(u.width-c)/2,u.width=c);var h=this._definition._dvConfigOption.footer.height,f=this._definition._dvConfigOption.footer.maxHeight;if(null!=f){var d=Number.MAX_VALUE;f.type==t.ValueOptionType.Percentage?d=f.value*n.height:f.type===t.ValueOptionType.Pixel&&(d=f.value),_._size.height>d&&(_._size.height=d)}else null!=h&&(h.type==t.ValueOptionType.Percentage?_._size.height=h.value*n.height:h.type===t.ValueOptionType.Pixel&&(_._size.height=h.value));_._size.height>o.height&&(_._size.height=o.height),s._layout(e,i,new t.core.Rect(u.left,o.bottom-_._size.height,u.width,_._size.height)),o.height-=_._size.height}new t._PlotAreaLayout(this._definition._dvConfigOption.plotAreaLayout)._analyse(this._plotAreaViews,o);for(var y=0,g=this._plotAreaViews;y<g.length;y++){var m=g[y];m._layout(e,i,m._getRectangle())}e.restoreTransform(),i._footerLabels=[],i._headerLabels=[]},e.prototype._renderInnerContent=function(t,e,n){n._headerLabels=[],n._footerLabels=[],t.beginTransform(),this._applyStyle(t);var i=this._headerView;null!=i&&i._render(t,n);var o=this._footerView;null!=o&&o._render(t,n);for(var r=0,l=this._plotAreaViews;r<l.length;r++)l[r]._render(t,n);t.restoreTransform(),n._footerLabels=[],n._headerLabels=[]},e.prototype._applyStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._definition._getDefaultStyle());t._StyleUtility._applyAllStyle(e,n),t._StyleUtility._applyStyleOption(e,this._definition._dvConfigOption.style),t._StyleUtility._applyTextStyleOption(e,this._definition._dvConfigOption.textStyle)},e.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyLineStyleFromStyleOption(e,this._definition._dvConfigOption.style),t._StyleUtility._applyLineStyleOption(e,this._definition._dvConfigOption.borderStyle)},e.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none()),t._StyleUtility._applyFillOption(e,this._definition._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this._definition._dvConfigOption.backgroundColor)},e.prototype._calculateInnerRectangle=function(e,n){var i=n.clone();if(null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;i.inflate(-o,-o)}var r=this._paddings();return null!=r&&(i=new t.core.Rect(i.left+r.left,i.top+r.top,i.width-r.left-r.right,i.height-r.top-r.bottom)),i},e.prototype._createHeaderView=function(e,n){return null!=e.header&&null!=e.header.title&&e.header.title.length>0?null!=n?n(this,e.header):new t._HeaderView(this,e.header):null},e.prototype._createFooterView=function(e,n){return null!=e.footer&&null!=e.footer.title&&e.footer.title.length>0?null!=n?n(this,e.footer):new t._FooterView(this,e.footer):null},e.prototype._createPlotAreaViews=function(e,n){var i=[];if(null!=e&&e.length>0)for(var o=0,r=e;o<r.length;o++){var l=r[o];null!=(s=this._createPlotAreaView(this._createPlotAreaDefinition(l,n)))&&i.push(s)}else for(var a=0;a<n.length;a++){var s;(l=new t.options._PlotAreaOption(null)).row=a,l.column=0,null!=(s=this._createPlotAreaView(this._createPlotAreaDefinition(l,[n[a]])))&&i.push(s)}return i},e.prototype._createPlotAreaView=function(t){return(0,t._plotAreaViewBuilderCallback)(this,t)},e.prototype._createPlotAreaDefinition=function(e,n){return t._BuildInPlotAreaDefinitionBuilderCollection._buildInPlotAreaDefinitionBuilders()._plotAreaDefinition(this._definition,e,n,this._definition._dvConfigOption.plugins,this._definition._pluginCollection)},e.prototype._getDefinition=function(){return this._definition},e.prototype._getPlotAreaViews=function(){return this._plotAreaViews},e.prototype._indexOfPlotAreaView=function(t){return this._plotAreaViews.indexOf(t)},e.prototype._traversePlotAreaView=function(t){for(var e=0,n=this._plotAreaViews;e<n.length;e++)t(n[e])},e.prototype._traversePlotView=function(t){this._traversePlotAreaView((function(e){for(var n=0,i=e._getLayoutViews();n<i.length;n++)for(var o=0,r=i[n]._findAllPlotViews();o<r.length;o++){var l=r[o];t(l)}}))},e.prototype._loadDataSources=function(t){for(var e=0,n=this._plotAreaViews;e<n.length;e++)n[e]._loadDataSources(t)},e.prototype._query=function(t){for(var e=[],n=0,i=this._plotAreaViews;n<i.length;n++)for(var o=0,r=i[n]._plotViews();o<r.length;o++){var l=r[o];e=e.concat(l._query(t))}return e},e.prototype._select=function(e,n){void 0===n&&(n=null);for(var i=0,o=this.plotAreas;i<o.length;i++)for(var r=0,l=(f=o[i]).plotsPanes;r<l.length;r++)for(var a=0,s=l[r].plots;a<s.length;a++)for(var u=0,_=s[a].points;u<_.length;u++){var p=_[u];p.selected=e.indexOf(p)>=0,p.additionalKind=n}for(var c=0,h=this.plotAreas;c<h.length;c++){var f=h[c];t._LegendUtility._updateLegendItemSelectedState(f)}},e.prototype._getRectangle=function(){return this.__rectangle},e.prototype._layout=function(t,e,n){this._updateRectangle(n),this._layoutContent(t,n,e)},e.prototype._render=function(t,e){var n=this,i=this._getRectangle();i.width<=0||i.height<=0||this._isVisible()&&t.drawGroup(null,null,this._transform,(function(t){n._drawView(t,e)}))},e.prototype._hitTest=function(e,n,i){var o=null,r=this._getRectangle();if(null!=r&&r.contains(e)){for(var l=0,a=this._plotAreaViews.concat().reverse();l<a.length;l++)if(null!=(o=a[l]._hitTest(e,n,i)))return o;var s=this._footerView;if(null!=s&&null!=(o=s._hitTest(e,n,i)))return o;var u=this._headerView;if(null!=u&&null!=(o=u._hitTest(e,n,i)))return o;if(this._zLevel==n)return o=new t.HitTestResult(e,this,this,t.ElementType.Control),null==i||null!=i&&i.predicate(o)?o:null}return null},e.prototype._getOwnerView=function(){return null},e.prototype._isVisible=function(){return this._visible},e.prototype.dispose=function(){for(var t=0,e=this._plotAreaViews;t<e.length;t++)e[t].dispose()},Object.defineProperty(e.prototype,"type",{get:function(){return t.ElementType.Control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"option",{get:function(){return this._definition._dvConfigOption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return null!=this._headerView&&t.models._isHeaderFooterModel(this._headerView)?this._headerView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return null!=this._footerView&&t.models._isHeaderFooterModel(this._footerView)?this._footerView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotAreas",{get:function(){return this._plotAreaViews.map((function(e){return t.models._isPlotAreaModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"IDvModel"==t||"IDvView"==t?this:null},e}();t._DvView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._control=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._control},t._domManager=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._domElementManager},t._render=function(t){var e=this._control(t);return null==e?null:e._graphicsRender().defaultSurfaceRender()._render()},t}();t._DvViewUtility=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,i,o,r)||this;return l.__control=n,l._domElementManager=new t._DomElementManager(n.hostElement),l}return i(n,e),Object.defineProperty(n.prototype,"_control",{get:function(){return this.__control},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.__control},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){e.prototype.dispose.call(this),this._domElementManager.dispose()},n.prototype.queryInterface=function(t){return"IControlAsOwnerModel"==t||"IFlexDvModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._DvView);t._FlexDvView=e}(t||(t={})),function(t){t._isDvView=function(t){var e=t;return"function"==typeof e._getDefinition&&"function"==typeof e._getPlotAreaViews&&"function"==typeof e._traversePlotAreaView&&"function"==typeof e._traversePlotView&&"function"==typeof e._loadDataSources&&"function"==typeof e._query&&"function"==typeof e._select&&"function"==typeof e._layoutData}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__option=t}return e.prototype._option=function(){return this.__option},e.prototype._analyse=function(e,n){for(var i=NaN,o=NaN,r=0,l=e;r<l.length;r++){var a=(c=l[r])._getDefinition()._plotAreaOption;o=isNaN(o)?a.column:Math.max(o,a.column),i=isNaN(i)?a.row:Math.max(i,a.row)}if(!isNaN(i)&&!isNaN(o)){i++,o++;for(var s=this._calculateLengths(n.width,o,this.__option.columnWidths),u=this._calculateLengths(n.height,i,this.__option.rowHeights),_=0,p=e;_<p.length;_++){for(var c,h=null==(a=(c=p[_])._getDefinition()._plotAreaOption).row?0:a.row,f=null==a.column?0:a.column,d=0,y=0;y<s.length;y++){var g=s[y];d+=y<f?g:0}var m=0;for(y=0;y<u.length;y++){var v=u[y];m+=y<h?v:0}c._updateRectangle(new t.core.Rect(n.left+d,n.top+m,s[a.column],u[a.row]))}}},e.prototype._calculateLengths=function(e,n,i){var o=[],r=0,l=0,a=this._isFull(i);if(1===n)return o.push(e),o;for(var s=0;s<n;s++){var u=null;s>=0&&s<i.length&&(u=i[s]),a||0!=s?null==u?(o.push(NaN),l+=1):u.type==t.ValueOptionType.Pixel?(o.push(u.value),r+=u.value):u.type==t.ValueOptionType.Available&&(o.push(NaN),l+=u.value):(o.push(NaN),l+=1)}var _=(e-r)/l;for(s=0;s<n;s++)u=null,s>=0&&s<i.length&&(u=i[s]),a||0!=s?null==u?o[s]=_:u.type==t.ValueOptionType.Pixel?o[s]=u.value:o[s]=_*u.value:o[s]=_;return o},e.prototype._isFull=function(e){for(var n=0,i=0,o=e;i<o.length;i++)o[i].type==t.ValueOptionType.Pixel&&(n+=1);return!(n===e.length&&e.length>=1)},e}();t._PlotAreaLayout=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._option=n,i}return i(n,e),n.prototype._dvConfigOption=function(){return this._ownerView._getDefinition()._dvConfigOption},n.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},n.prototype._title=function(){return this._option.title},n.prototype._className=function(){return"gcdv-footer"},n.prototype._textOverflow=function(){var e=this._option.textStyle.overflow;return null==e&&(e=this._dvConfigOption().textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Wrap)},n.prototype._textAlignment=function(){var t=this._option.textStyle.alignment;return null==t&&(t=this._dvConfigOption().textStyle.alignment),t},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._dvConfigOption().textStyle),t._StyleUtility._applyTextStyleOption(e,this._option.textStyle),this.__style=e}return this.__style},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),this._option.padding,this._option.hAlign,this._option.vAlign,this._style(),null,this._textAlignment())),this.__textView},n.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._StyleUtility._applyLineStyleFromStyleOption(n,this._dvConfigOption().style),t._StyleUtility._applyLineStyleFromStyleOption(n,this._option.style),t._StyleUtility._applyLineStyleOption(n,this._option.borderStyle)},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillOption(n,this._dvConfigOption().backgroundColor),t._StyleUtility._applyFillOption(n,this._dvConfigOption().style.backgroundColor),t._StyleUtility._applyFillOption(n,this._option.style.backgroundColor)},n.prototype._measure=function(n,i){var o=this._option.width,r=i.width,l=!1;null!=o&&(o.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(o.value,t.HeaderFooterWidthOptionType.Auto)&&(r=Number.MAX_VALUE,l=!0):o.type==t.ValueOptionType.Pixel?r=o.value:o.type==t.ValueOptionType.Percentage&&(r=o.value*i.width));var a=this._option.maxHeight,s=Number.MAX_VALUE,u=this._option.height,_=!1,p=i.height;null==a&&null!=u?u.type==t.ValueOptionType.Percentage?(p=u.value*i.height,_=!0):u.type===t.ValueOptionType.Pixel&&(p=u.value,_=!0):null!=a&&(a.type==t.ValueOptionType.Percentage?p=s=a.value*i.height:a.type===t.ValueOptionType.Pixel&&(p=s=a.value));var c=e.prototype._measure.call(this,n,new t.core.Size(r,p));return l||(c._size.width=r),c._size.height>s?c._size.height=s:_&&(c._size.height=p),c},n.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._getRectangle().clone(),l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);e.drawGroup(null,l,null,(function(t){o._textView()._render(t,i),i._headerLabels.push(o._textView()._getRectangle())}))},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Footter);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(n.prototype,"title",{get:function(){return this._title()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Footter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IHeaderFooterModel"==t||"IFooterView"==t?this:null},n}(t._RectangleView);t._FooterView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._option=n,i}return i(n,e),n.prototype._getDvConfigOption=function(){return this._ownerView._getDefinition()._dvConfigOption},n.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},n.prototype._title=function(){return this._option.title},n.prototype._className=function(){return"gcdv-header"},n.prototype._textOverflow=function(){var e=this._option.textStyle.overflow;return null==e&&(e=this._getDvConfigOption().textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Wrap)},n.prototype._textAlignment=function(){var t=this._option.textStyle.alignment;return null==t&&(t=this._getDvConfigOption().textStyle.alignment),t},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._getDvConfigOption().textStyle),t._StyleUtility._applyTextStyleOption(e,this._option.textStyle),this.__style=e}return this.__style},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),this._option.padding,this._option.hAlign,this._option.vAlign,this._style(),null,this._textAlignment())),this.__textView},n.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._StyleUtility._applyLineStyleFromStyleOption(n,this._getDvConfigOption().style),t._StyleUtility._applyLineStyleFromStyleOption(n,this._option.style),t._StyleUtility._applyLineStyleOption(n,this._option.borderStyle)},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillOption(n,this._getDvConfigOption().backgroundColor),t._StyleUtility._applyFillOption(n,this._getDvConfigOption().style.backgroundColor),t._StyleUtility._applyFillOption(n,this._option.style.backgroundColor)},n.prototype._measure=function(n,i){var o=this._option.width,r=i.width,l=!1;null!=o&&(o.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(o.value,t.HeaderFooterWidthOptionType.Auto)&&(r=Number.MAX_VALUE,l=!0):o.type==t.ValueOptionType.Pixel?r=o.value:o.type==t.ValueOptionType.Percentage&&(r=o.value*i.width));var a=this._option.maxHeight,s=Number.MAX_VALUE,u=this._option.height,_=!1,p=i.height;null==a&&null!=u?u.type==t.ValueOptionType.Percentage?(p=u.value*i.height,_=!0):u.type===t.ValueOptionType.Pixel&&(p=u.value,_=!0):null!=a&&(a.type==t.ValueOptionType.Percentage?p=s=a.value*i.height:a.type===t.ValueOptionType.Pixel&&(p=s=a.value));var c=e.prototype._measure.call(this,n,new t.core.Size(r,p));return l||(c._size.width=r),c._size.height>s?c._size.height=s:_&&(c._size.height=p),c},n.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._getRectangle().clone(),l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);e.drawGroup(null,l,null,(function(t){o._textView()._render(t,i),i._headerLabels.push(o._textView()._getRectangle())}))},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._textView()._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Header);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(n.prototype,"title",{get:function(){return this._title()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Header},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IHeaderFooterModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._RectangleView);t._HeaderView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e){this.__motionEventProvider=t,this.__draggingInteractions=e,this.__captureProvider=null,this.__startX=0,this.__startY=0,this.__lastX=0,this.__lastY=0,this._activeDraggingInteraction=null,this.__isCapturing=!1}return e.prototype._dragStart=function(t,e){for(var n=0,i=this.__draggingInteractions;n<i.length;n++){var o=i[n];if(o.isModel(t,e))return this._activeDraggingInteraction=o,this.__startX=t.x,this.__startY=t.y,this.__lastX=t.x,this.__lastY=t.y,o.onStart(t)}return 0},e.prototype._dragging=function(t,e){var n=this._activeDraggingInteraction;if(null!=n&&(t.x!=this.__lastX||t.y!=this.__lastY)){var i=t.x-this.__startX,o=t.y-this.__startY;return this.__lastX=t.x,this.__lastY=t.y,this._toggleCapture(!0),n.onDragging(t,e,i,o)}return 0},e.prototype._dragEnd=function(t,e){var n=this._activeDraggingInteraction;return null!=n?(this._toggleCapture(!1),this._activeDraggingInteraction=null,n.onEnd(t,e,t.x-this.__startX,t.y-this.__startY)):0},e.prototype._toggleCapture=function(e){if(e!=this.__isCapturing)if(this.__isCapturing=e,e){if(null==this.__captureProvider){var n=this;this.__captureProvider=new t._MouseCaptureProvider(this.__motionEventProvider,(function(e){var i=e.action;i==t.MotionEvent.ACTION_MOUSE_MOVE||i==t.MotionEvent.ACTION_MOVE?n._dragging(e,null):i!=t.MotionEvent.ACTION_MOUSE_UP&&i!=t.MotionEvent.ACTION_CANCEL&&i!=t.MotionEvent.ACTION_UP||n._dragEnd(e,null)}))}this.__captureProvider._startCapturing()}else null!=this.__captureProvider&&this.__captureProvider._endCapturing()},e.prototype._process=function(e,n){var i=-1,o=e.action;if(o==t.MotionEvent.ACTION_MOUSE_DOWN||o==t.MotionEvent.ACTION_DOWN)(r=this._dragStart(e,n))>i&&(i=r);else if(o==t.MotionEvent.ACTION_MOUSE_MOVE||o==t.MotionEvent.ACTION_MOVE)(r=this._dragging(e,n))>i&&(i=r);else if(o==t.MotionEvent.ACTION_MOUSE_UP||o==t.MotionEvent.ACTION_CANCEL||o==t.MotionEvent.ACTION_UP){var r;(r=this._dragEnd(e,n))>i&&(i=r)}return i},e.prototype.dispose=function(){null!=this.__captureProvider&&(this.__captureProvider.dispose(),this.__captureProvider=null),this._activeDraggingInteraction=null,this.__isCapturing=!1},e}();t._DraggingInteractionProcessor=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this.__hoverInteractions=[],this.__pinchInteractions=[],this.__control=e,this.__draggingProcessor=new t._DraggingInteractionProcessor(n,this._draggingInteractions())}return e.prototype._process=function(t){var e=-1,n=this._processClickInteraction(t);n>e&&(e=n);var i=this._processHoverInteraction(t);i>e&&(e=i);var o=this._processDoubleClickInteraction(t);o>e&&(e=o);var r=this._processWheelInteraction(t);r>e&&(e=r);var l=this.__draggingProcessor._process(t.event,t.model);l>e&&(e=l);var a=this._processPinchInteraction(t);a>e&&(e=a),1==e?this.__control.invalidate():e>2?(this.__control._layoutData(),this.__control.refresh()):e>1&&this.__control.refresh()},e.prototype._processHoverInteraction=function(e){var n=-1;if(e.event.action!=t.MotionEvent.ACTION_MOUSE_MOVE&&e.event.action!=t.MotionEvent.ACTION_MOUSE_OVER&&e.event.action!=t.MotionEvent.ACTION_WHEEL&&e.event.action!=t.MotionEvent.ACTION_MOVE||null==e.model){if(null==e.model||e.event.action==t.MotionEvent.ACTION_MOUSE_LEAVE){for(var i=0,o=this.__hoverInteractions;i<o.length;i++)(a=(l=o[i]).onLeave(e.event))>n&&(n=a);this.__hoverInteractions=[]}}else{for(var r=this.__hoverInteractions.length-1;r>=0;r--){var l;if((l=this.__hoverInteractions[r]).isModel(e.event,e.model))(a=l.onMove(e.event))>n&&(n=a);else{var a=l.onLeave(e.event);this.__hoverInteractions.splice(r,1),a>n&&(n=a)}}for(var s=this._hoverInteractions(),u=function(t){if(!_.__hoverInteractions.some((function(e){return e.name==t.name}))&&t.hover(e.event,e.model)){_.__hoverInteractions.push(t);var i=t.onEnter(e.event);i>n&&(n=i)}},_=this,p=0,c=s;p<c.length;p++)u(c[p])}return n},e.prototype._processClickInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_CLICK)for(var i=0,o=this._clickInteractions();i<o.length;i++){var r=o[i].onClick(e.event,e.model);r>n&&(n=r)}return n},e.prototype._processDoubleClickInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_DOUBLE_CLICK)for(var i=0,o=this._doubleClickInteractions();i<o.length;i++){var r=o[i].onDoubleClick(e.event,e.model);r>n&&(n=r)}return n},e.prototype._processWheelInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_WHEEL){for(var i=0,o=this._wheelInteractions();i<o.length;i++){var r=o[i].onWheel(e.event,e.model);r>n&&(n=r)}-1!=n&&e.event.originalEvent.preventDefault()}return n},e.prototype._isTouchEvent=function(e){var n=e.action;return n==t.MotionEvent.ACTION_DOWN||n==t.MotionEvent.ACTION_MOVE||n==t.MotionEvent.ACTION_UP||n==t.MotionEvent.ACTION_CANCEL},e.prototype._isSameTouches=function(t,e){if(t.length==e.length){for(var n=0;n<t.length;n++)if(t[n].identifier!=e[n].identifier)return!1;return!0}return!1},e.prototype._processPinchInteraction=function(e){var n=-1;if(null==e.model||!this._isTouchEvent(e.event)){for(var i=0,o=this.__pinchInteractions;i<o.length;i++)(g=o[i].onEnd(null))>n&&(n=g);return this.__pinchInteractions=[],n}var r=e.event.action,l=e.event.originalEvent,a=r==t.MotionEvent.ACTION_DOWN&&2==l.touches.length&&this._isSameTouches(l.touches,l.targetTouches),s=r==t.MotionEvent.ACTION_MOVE&&2==l.touches.length&&this._isSameTouches(l.touches,l.targetTouches);if(a)for(var u=function(t){if(!_.__pinchInteractions.some((function(e){return e.name==t.name}))&&t.isModel(e.event,e.model)){_.__pinchInteractions.push(t);var i=t.onStart(e.event);i>n&&(n=i)}},_=this,p=0,c=this._pinchInteractions();p<c.length;p++)u(c[p]);else if(s)for(var h=0,f=this.__pinchInteractions;h<f.length;h++)(g=f[h].onPinch(e.event))>n&&(n=g);else{for(var d=0,y=this.__pinchInteractions;d<y.length;d++){var g;(g=y[d].onEnd(e.event))>n&&(n=g)}this.__pinchInteractions=[]}return-1!=n&&e.event.originalEvent.cancelable&&e.event.originalEvent.preventDefault(),n},e.prototype._clickInteractions=function(){var e=this.__control.model.option.plugins;return t._BuildInClickInteractionBuilderCollection._defaultBuildInClickInteractionBuilders()._clickInteractions(this.__control,e,this.__control.pluginCollection)},e.prototype._hoverInteractions=function(){return t._BuildInHoverInteractionBuilderCollection._defaultBuildInHoverInteractionBuilders()._hoverInteractions(this.__control,[],this.__control.pluginCollection)},e.prototype._doubleClickInteractions=function(){return t._BuildInDoubleClickInteractionBuilderCollection._defaultBuildInDoubleClickInteractionBuilders()._doubleClickInteractions(this.__control,[],this.__control.pluginCollection)},e.prototype._wheelInteractions=function(){return t._BuildInWheelInteractionBuilderCollection._defaultBuildInWheelInteractionBuilders()._wheelInteractions(this.__control,[],this.__control.pluginCollection)},e.prototype._draggingInteractions=function(){return t._BuildInDraggingInteractionBuilderCollection._defaultBuildInDraggingInteractionBuilders()._draggingInteractions(this.__control,[],this.__control.pluginCollection)},e.prototype._pinchInteractions=function(){return t._BuildInPinchInteractionBuilderCollection._defaultBuildInPinchInteractionBuilders()._pinchInteractions(this.__control,[],this.__control.pluginCollection)},e.prototype.dispose=function(){for(var t=0,e=this.__hoverInteractions;t<e.length;t++)e[t].dispose();this.__draggingProcessor.dispose()},e}();t._InteractionProcessor=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o._definition=i,o}return i(n,e),n.prototype._createIdentityContent=function(){var e=this._ownerView._getLayoutViews().indexOf(this).toString();return t._Util.HashCode("layout"+e)},n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},n.prototype._getPlotAreaView=function(){return this._ownerView._getPlotAreaView()},n.prototype._getDefinition=function(){return this._definition},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._ownerView._id()+this._createIdentityContent()),this.__cachedId},n.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"ILayoutModel"==t||"ILayoutView"==t?this:null},n}(t._BaseView);t._BaseLayoutView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n,i){this._dvConfigOption=t._dvConfigOption,this._plotAreaOption=t._plotAreaOption,this._plotOptions=e,this._axisOptions=n,this._pluginCollection=t._pluginCollection,this._imageProvider=t._imageProvider,this._symbolDefinitionProvider=t._symbolDefinitionProvider,this._paletteColorProvider=t._paletteColorProvider,this._valueColorProvider=t._valueColorProvider,this._layoutViewBuilderCallback=i,this.__definition=t}return t.prototype._findDataSchema=function(t){return this.__definition._findDataSchema(t)},t}();t._BaseLayoutDefinition=e}(t||(t={})),function(t){t._isPlotsLayoutDefinition=function(t){var e=t;return void 0!==e._coordinateSystemDefinitions&&"function"==typeof e._findDataSchema}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,i,o,r){var l=e.call(this,t,i,o,null==r?n.__viewBuilderCallback:r)||this;return l.__majorAxisXOption=l._findMajorXOption(l._axisOptions),l.__majorAxisYOption=l._findMajorYOption(l._axisOptions),l}return i(n,e),n.prototype._createPlotOptionWithAxisOptionsList=function(e,n){var i=[];if(n.length>0)for(var o={},r=0,l=n;r<l.length;r++){var a=l[r];if(null!=a.plots)for(var s=function(n){if(!t._Util.hasKey(o,n)){var r=t._Util.find(e,(function(t){return t.name==n}));null!=r&&(o[n]=new t._PlotOptionWithAxisOptions(r,[]),i.push(o[n]))}if(t._Util.hasKey(o,n)){var l=o[n]._axisOptions;-1==l.indexOf(a)&&l.push(a)}},u=0,_=a.plots;u<_.length;u++)s(_[u])}else for(var p=0,c=e;p<c.length;p++){var h=c[p];i.push(new t._PlotOptionWithAxisOptions(h,[]))}return i},n.prototype._createCoordinateSystemDefinitionList=function(e,n){for(var i=[],o=this._createPlotOptionWithAxisOptionsList(e,n),r=this.__majorAxisXOption,l=this.__majorAxisYOption,a=0,s=o;a<s.length;a++){var u=s[a];if(null==(f=this._findPlotDefinitionFromPlotOption(u._plotOption,i))&&(f=this._createPlotDefinition(u._plotOption,i)),null!=f&&(null==(d=this._findCoordinateSystemDefinitionFromPlotDefinition(f,i))&&null!=(d=this._createCoordinateSystemDefinition(f._getCoordinateSystemType(),f._plotConfigOption.hAlign,f._plotConfigOption.vAlign))&&i.push(d),null!=d)){d._plotDefinitions.push(f),f.coordinateSystemDefinition=d;for(var _=0,p=u._axisOptions;_<p.length;_++){var c=p[_];null==(y=this._findAxisDefinitionFromAxisOption(d,c))&&(y=this._createAxisDefinition(d,f,c)),null!=y&&f.axisDefinitions.push(y)}f.axisDefinitions.some((function(e){return e._option.type==t.AxisType.X}))||null!=(y=this._createAxisDefinition(d,f,r))&&f.axisDefinitions.push(y),f.axisDefinitions.some((function(e){return e._option.type==t.AxisType.Y}))||null!=(y=this._createAxisDefinition(d,f,l))&&f.axisDefinitions.push(y)}}if(i.length<=0){var h=new t.options._PlotOption(null);h.type="Empty";var f,d,y,g=null!=(f=this._createPlotDefinition(h,[]))?f._getCoordinateSystemType():"Xy",m=null!=f?f._plotConfigOption.hAlign:null,v=null!=f?f._plotConfigOption.vAlign:null;null!=(d=this._createCoordinateSystemDefinition(g,m,v))&&(i.push(d),null!=f&&(d._plotDefinitions.push(f),f.coordinateSystemDefinition=d,null!=(y=this._createAxisDefinition(d,f,r))&&f.axisDefinitions.push(y),null!=(y=this._createAxisDefinition(d,f,l))&&f.axisDefinitions.push(y)))}return i},n.prototype._createAxisDefinition=function(e,n,i){return t._BuildInAxisDefinitionBuilderCollection._defaultBuildInAxisDefinitionBuilders()._axisDefinition(e,n,i,[])},n.prototype._createPlotDefinition=function(e,n){return null!=e.type?t._BuildInPlotDefinitionBuilderCollection._buildInPlotDefinitionBuilders()._plotDefinition(this,e,n,this._dvConfigOption.plugins,this._pluginCollection):null},n.prototype._findMajorXOption=function(e){var n=e.filter((function(e){return e.plots.length<=0&&e.type==t.AxisType.X}));return n.length<=0?t._AxisUtility._buildEmptyAxis(t.AxisType.X):n[0]},n.prototype._findMajorYOption=function(e){var n=e.filter((function(e){return e.plots.length<=0&&e.type==t.AxisType.Y}));return n.length<=0?t._AxisUtility._buildEmptyAxis(t.AxisType.Y):n[0]},n.prototype._createCoordinateSystemDefinition=function(e,n,i){return t._BuildInCoordinateSystemDefinitionBuilderCollection._defaultBuildInCoordinateSystemBuilders()._coordinateSystemDefinition(this,e,n,i,this._dvConfigOption.plugins,this._pluginCollection)},n.prototype._findPlotDefinitionFromPlotOption=function(t,e){for(var n=0,i=e;n<i.length;n++)for(var o=0,r=i[n]._plotDefinitions;o<r.length;o++){var l=r[o];if(l._plotOption==t)return l}return null},n.prototype._findCoordinateSystemDefinitionFromPlotDefinition=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._type===t._getCoordinateSystemType()&&o._hAlign===t._plotConfigOption.hAlign&&o._vAlign===t._plotConfigOption.vAlign)return o}return null},n.prototype._findAxisDefinitionFromAxisOption=function(t,e){for(var n=0,i=t._plotDefinitions;n<i.length;n++)for(var o=0,r=i[n].axisDefinitions;o<r.length;o++){var l=r[o];if(l._option===e)return l}return null},Object.defineProperty(n.prototype,"_coordinateSystemDefinitions",{get:function(){return null==this.__coordinateSystemDefinitions&&(this.__coordinateSystemDefinitions=this._createCoordinateSystemDefinitionList(this._plotOptions,this._axisOptions)),this.__coordinateSystemDefinitions},enumerable:!0,configurable:!0}),n.__viewBuilderCallback=function(e,n){if(t._isPlotsLayoutDefinition(n)){var i=n;return new t._PlotListLayoutView(e,i)}return null},n}(t._BaseLayoutDefinition);t._PlotListLayoutDefinition=e}(t||(t={})),function(t){var e=function(t,e){this._plotOption=t,this._axisOptions=e};t._PlotOptionWithAxisOptions=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__coordinateSystemViews=[],i}return i(n,e),n.prototype._findAllPlotViews=function(){for(var t=[],e=0,n=this._coordinateSystemViews();e<n.length;e++){var i=n[e]._getPlotViews();t.push.apply(t,i);for(var o=0,r=i;o<r.length;o++){var l=r[o];t.push.apply(t,this._getSubPlotViews(l))}}return t},n.prototype._coordinateSystemViews=function(){return this.__coordinateSystemViews},n.prototype._dataLabelsRectangle=function(){return this._getPlotAreaView()._getRectangle()},n.prototype._layoutData=function(){for(var t=0,e=this._coordinateSystemViews();t<e.length;t++)e[t]._layoutData()},n.prototype._coordinateSystemView=function(t){for(var e=0,n=this._coordinateSystemViews();e<n.length;e++){var i=n[e];if(i._getDefinition()._type==t._type&&i._getDefinition()._hAlign==t._hAlign&&i._getDefinition()._vAlign==t._vAlign)return i}return null},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i);for(var o=0,r=this._coordinateSystemViews();o<r.length;o++)r[o]._layout(t,n,i)},n.prototype._drawChildren=function(t,e){for(var n=0,i=this._coordinateSystemViews();n<i.length;n++){var o=i[n];o._render(t,e),e._renderLabel=!0,o._render(t,e),e._renderLabel=!1}},n.prototype._applyStyle=function(e){t._StyleUtility._applyStyleOption(e,this._definition._plotAreaOption.style),t._StyleUtility._applyTextStyleOption(e,this._definition._plotAreaOption.textStyle)},n.prototype._createCoordinateSystemViews=function(t){for(var e=[],n=0,i=t._coordinateSystemDefinitions;n<i.length;n++){for(var o=i[n],r=null,l=0,a=e;l<a.length;l++){var s=a[l];if(s._getDefinition()._type==o._type&&s._getDefinition()._hAlign==o._hAlign&&s._getDefinition()._vAlign==o._vAlign){r=s;break}}null==r&&null!=(r=this._createCoordinateSystemView(o))&&e.push(r)}return e},n.prototype._plotDefinitions=function(){for(var t=[],e=0,n=this._definition._coordinateSystemDefinitions;e<n.length;e++)for(var i=0,o=n[e]._plotDefinitions;i<o.length;i++){var r=o[i];t.push(r)}return t},n.prototype._createAttachPlotView=function(t,e){var n=t.coordinateSystemDefinition,i=this._coordinateSystemView(n);if(null!=i){var o=this._createPlotView(t,e);null!=o&&i._getPlotViews().push(o)}},n.prototype._createCoordinateSystemView=function(t){return t._viewBuilder._buildCoordinateSystemView(this,t)},n.prototype._createPlotData=function(t,e){return t._plotDataBuilder._buildPlotData(t,e)},n.prototype._createPlotView=function(t,e){var n=null;if(null!=t._plotDataBuilder){var i=this._createPlotData(t,e);null!=t._plotViewBuilder&&(n=t._plotViewBuilder._buildPlotView(this,t,i))}return n},n.prototype._hitTest=function(t,n,i){for(var o=0,r=this._coordinateSystemViews().concat().reverse();o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._getSubPlotViews=function(t){for(var e=[],n=0,i=t._getPointViews();n<i.length;n++){var o=i[n]._pointLayoutListView();if(null!=o)for(var r=0,l=o._getLayoutViews();r<l.length;r++){var a=l[r];e.push.apply(e,a._findAllPlotViews())}}return e},n.prototype.dispose=function(){for(var t=0,e=this._coordinateSystemViews();t<e.length;t++)e[t].dispose()},n.prototype._plotsPaneViews=function(){return[this]},n.prototype._loadDataSlices=function(t){this.__coordinateSystemViews=this._createCoordinateSystemViews(this._definition);for(var e=0,n=this._plotDefinitions();e<n.length;e++){var i=n[e];this._createAttachPlotView(i,t)}},n.prototype._loadDataSources=function(t){this.__coordinateSystemViews=this._createCoordinateSystemViews(this._definition);for(var e=0,n=this._plotDefinitions();e<n.length;e++){var i=n[e],o=t._dataSource(i._dataSchema._name);this._createAttachPlotView(i,o._slice())}},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.PlotsPane},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plots",{get:function(){return this._findAllPlotViews().map((function(e){return t._PlotViewModelUtility._toPlotModel(e)})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){if("IPlotsPaneModel"==t)return this;for(var n=0,i=this._coordinateSystemViews();n<i.length;n++){var o=i[n].queryInterface(t);if(null!=o)return o}return e.prototype.queryInterface.call(this,t)},n}(t._BaseLayoutView);t._PlotListLayoutView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInLayoutBuilders=function(){return null==n.__buildInLayoutBuilders&&(n.__buildInLayoutBuilders=new n([],n._pluginType)),n.__buildInLayoutBuilders},n.prototype._convert=function(e){return t._isLayoutBuilder(e)?e:null},n.prototype._layoutDefinition=function(e,n,i,o,r){for(var l=0,a=this._objects(r,e._pluginCollection);l<a.length;l++){var s=a[l].item._buildLayoutDefinition(e,n,i,o);if(null!=s)return s}return new t._PlotListLayoutDefinition(e,i,o,null)},n._pluginType="Layout",n}(t._BuildInObjectCollection);t._BuildInLayoutDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isLayoutBuilder=function(t){return null!=t._buildLayoutDefinition}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLayoutDefinitions=function(e,i,o){for(var r=[],l=new n(null,[]),a=0,s=i;a<s.length;a++){var u=s[a],_=u.encodings.layout;null==_?(null==l._layoutOption&&(l._layoutOption=new t.options._LayoutEncodingOption(null)),l._plotOptions.push(u)):null==l._layoutOption?(l._layoutOption=_,l._plotOptions.push(u)):l._layoutOption.type==_.type?l._plotOptions.push(u):(r.push(l),(l=new n(_,[]))._plotOptions.push(u))}null!=l._layoutOption&&r.push(l);for(var p=[],c=0,h=r;c<h.length;c++){var f=h[c];p.push(t._BuildInLayoutDefinitionBuilderCollection._defaultBuildInLayoutBuilders()._layoutDefinition(e,f._layoutOption,f._plotOptions,o,[]))}return p.length<=0&&(i=[],p.push(new t._PlotListLayoutDefinition(e,i,o,null))),p},e.__layoutDefinitionListBuilder=new e,e}();t._LayoutDefinitionListBuilder=e;var n=function(t,e){this._layoutOption=t,this._plotOptions=e}}(t||(t={})),function(t){var e=function(){function t(){}return t._toLayoutModel=function(t){return null!=t.queryInterface("ILayoutModel")?t:null},t._toLayoutView=function(t){return null!=t.queryInterface("ILayoutView")?t:null},t}();t._LayoutViewModelUtility=e}(t||(t={})),function(t){var e=function(){function t(t,e){this._dataSource=t,this._indexes=e}return Object.defineProperty(t.prototype,"_length",{get:function(){return this._indexes.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_items",{get:function(){var t=this;return this._indexes.map((function(e){return t._dataSource._items[e]}))},enumerable:!0,configurable:!0}),t.prototype.forEach=function(e){var n=this;this._indexes.forEach((function(i){e(new t(n._dataSource,[i]))}))},t.prototype.list=function(){var e=this,n=[];return this._indexes.forEach((function(i){n.push(new t(e._dataSource,[i]))})),n},t.prototype.clone=function(){return new t(this._dataSource,this._indexes.slice())},t}();t._DataSlices=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this._items=t,this._schema=n,this._reIndexes(e)}return Object.defineProperty(e.prototype,"_dataSource",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_length",{get:function(){return this.__indexes.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.__indexes.slice()},enumerable:!0,configurable:!0}),e.prototype._reIndexes=function(t){this.__indexes=null==t?this._items.map((function(t,e){return e})):t},e.prototype._slice=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=e&&null!=n&&e>=0&&n>=0?new t._DataSlices(this,this.__indexes.slice(e,n)):null!=e&&e>=0?new t._DataSlices(this,this.__indexes.slice(e)):new t._DataSlices(this,this.__indexes.slice())},e.prototype.equalsWith=function(t){return this==t},e}();t._DataSource=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__dataSlices=t,n}return i(n,e),n.prototype.query=function(){for(var e=this,n=new t.QueryResult,i=new t._DataSlices(this.__dataSlices._dataSource,this.__dataSlices._indexes.slice()),o=0,r=this._filterOptions;o<r.length;o++){var l=r[o];i=this._filterImp(l,i)}for(var a=0,s=this._orderByOptions;a<s.length;a++){var u=s[a];i=this._orderByImp(u,i)}for(var _=this._groupByImp(this._groupByOptions.slice(),i),p=0,c=this._groupByOptions;p<c.length;p++){var h=c[p];n.info.groupFields.push(h.groupingDefinition._groupingFieldDefinition._dataField._name)}for(var f=0;f<this._aggregateOptions.length;f++){var d=(w=this._aggregateOptions[f]).dataFieldDefinition._dataField._name+f;n.info.aggregateFields.push(d)}if(_.length>0){this._traverse(_,0,(function(i,o){for(var r=0;r<e._aggregateOptions.length;r++){var l=e._aggregateOptions[r],a=l.dataFieldDefinition._dataField._name+r;n.info.aggregateFields.push(a),t._NativeExtension.setPropertyValue(i.item,n.info.aggregateFields[r],e._aggregateImp(l,i._dataSlices))}}));for(var y=0,g=_;y<g.length;y++){var m=g[y];n.groups.push(m)}}else if(this._aggregateOptions.length>0){var v=new t._ItemsQueryGrouping(null,i,null,null);for(f=0;f<this._aggregateOptions.length;f++){var w=this._aggregateOptions[f];t._NativeExtension.setPropertyValue(v.item,n.info.aggregateFields[f],this._aggregateImp(w,i))}n.groups.push(v)}return this._groupByOptions=[],this._orderByOptions=[],this._filterOptions=[],this._aggregateOptions=[],n},n.prototype._traverse=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];n(r,e),this._traverse(r.children,e+1,n)}},n.prototype._filterImp=function(t,e){return e},n.prototype._orderByImp=function(e,n){return new t._ItemsDataSlicesSorter(e.sortDefinion,e.dataFieldDefinition)._sort(n)},n.prototype._groupByImp=function(e,n,i){return void 0===i&&(i=null),e.length<=0?[]:t._ItemsQueryGroupingsBuilder._defaultGroupingsBuilder._buildGroupings(n,e,i)},n.prototype._aggregateImp=function(e,n){return t._ItemsDataSlicesAggregate._defaultAggregate._aggregate(n,e.dataFieldDefinition._dataField,e.aggregate)},n}(t.Query);t._ItemsQuery=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ItemsQuery",this.type=t._BuildInQueryBuilderCollection._pluginType,this.priority=0}return e.prototype._buildQuery=function(e){return e instanceof t._DataSlices?new t._ItemsQuery(e):null},e.prototype.queryInterface=function(t){return"IQueryBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ItemsQueryPlugin=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o){return new t._ItemsQueryGrouping(e,n,i,o)},e}();t._ItemsQueryGroupingBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__dataField=t}return e.prototype._buildGroupingKey=function(e){return t._DataSlicesAggregate._defaultAggregate._aggregate(e,this.__dataField,t.Aggregate.List)},e}();t._ItemsQueryGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,i,o,r,l){var a=[];r=new t._ItemsDataSlicesFilter(l.groupingDefinition._filter,[l.groupingDefinition._groupingFieldDefinition._dataField._name])._filter(r);var s=new t._Map,u=[];r.forEach((function(t){var e=i._buildGroupingKey(t),o=s._get(e);if(null!=o)u[o]._mergeDataSlices(t);else{var r=new n(e,t);u.push(r),s._set(e,u.length-1)}}));for(var _=0,p=u;_<p.length;_++){var c=p[_],h=e._buildGrouping(c._key,c._dataSlices,o,l.groupingDefinition._groupingFieldDefinition);null!=h&&a.push(h)}var f=new t._DefaultGroupingsSorter(l.groupingDefinition._sortDefinition);return new t._ItemsQueryGroupingsSorter(f)._sort(a),a},e.prototype._buildGroupings=function(n,i,o){if(0==i.length)return[];var r=i.shift(),l=new t._ItemsQueryGroupingBuilder,a=new t._ItemsQueryGroupingKeyBuilder(r.groupingDefinition._groupingFieldDefinition._dataField),s=this._buildGrouping(l,a,o,n,r);if(null!=o){var u=o.children;s.forEach((function(t){return u.push(t)}))}if(i.length>0)for(var _=0,p=s;_<p.length;_++){var c=p[_];e._defaultGroupingsBuilder._buildGroupings(c._dataSlices,i.slice(),c)}return s},e._defaultGroupingsBuilder=new e,e}();t._ItemsQueryGroupingsBuilder=e;var n=function(){function e(t,e){this._key=t,this.__dataSlices=[e]}return Object.defineProperty(e.prototype,"_dataSlices",{get:function(){var e=[];return this.__dataSlices.forEach((function(t){e.push.apply(e,t._indexes)})),new t._DataSlices(this.__dataSlices[0]._dataSource,e)},enumerable:!0,configurable:!0}),e.prototype._mergeDataSlices=function(t){this.__dataSlices.push(t)},e}()}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.__sorter=t}return t.prototype._sort=function(t){null!=this.__sorter&&this.__sorter._sort(t)},t}();t._ItemsQueryGroupingsSorter=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n)||this;return r.key=e,r.parent=i,r.children=[],r.item={},r.definition=o,r}return i(e,t),e}(t._DataModel);t._ItemsQueryGrouping=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n,i,o){void 0===o&&(o=null);var r=null!=e?e._items:[];if(i==t.Aggregate.List)return null!=o&&o<=r.length?this._toItem(n,r.slice(0,o)):this._toItem(n,r);n=this._getDataField(n);var l=new t._DataItemBinding(n._name);if(i==t.Aggregate.Sum||i==t.Aggregate.Average){for(var a=!0,s=0,u=r;s<u.length;s++){var _=u[s];if(null!=l._getValue(_)){a=!1;break}}if(a)return null;for(var p=!0,c=0,h=r;c<h.length;c++){_=h[c];var f=l._getValue(_);if(null==f||"number"!=typeof f||!isNaN(f)){p=!1;break}}if(p)return NaN}return t._AggregateValueBuilder._defaultAggregateValueBuilder._build(i,r,l)},e.prototype._toItem=function(e,n){if(e=this._getDataField(e),t._isNumberDataField(e)){var i=e;return this._toNumberItem(i,n)}if(t._isStringDataField(e)){var o=e;return this._toStringItem(o,n)}if(t._isDateDataField(e)){var r=e;return this._toDateItem(r,n)}if(t._isBooleanDataField(e)){var l=e;return this._toBooleanItem(l,n)}if(t._isNullDataField(e)){var a=e;return this._toNullItem(a,n)}return null},e.prototype._getDataField=function(e){if(t._isBinDataField(e)){var n=e;return this._getDataField(n.originalField())}return e},e.prototype._toStringItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._stringValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._stringValueOrNull(n,e._name);return null},e.prototype._toNumberItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._numberValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._numberValueOrNull(n,e._name);return null},e.prototype._toBooleanItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._boolValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._boolValueOrNull(n,e._name);return null},e.prototype._toDateItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._dateValueOrNull(r,e._name,e._dateParser());if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._dateValueOrNull(n,e._name,e._dateParser());return null},e.prototype._toNullItem=function(t,e){return null},e._defaultAggregate=new e,e}();t._ItemsDataSlicesAggregate=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__filter=t,this.__keys=e}return e.prototype._filter=function(e){var n=this;if(null==this.__filter)return e;if(0==this.__keys.length)return e;var i=e._indexes.slice().filter((function(t){for(var i=!1,o=0,r=n.__keys;o<r.length;o++){var l=r[o];i=i||n.__filter.filter(e._dataSource._items[t],l)}return i}));return new t._DataSlices(e._dataSource,i)},e}();t._ItemsDataSlicesFilter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sortDefinition=t,this.__dataFieldDefinition=e}return e.prototype._sort=function(e){var n=this;if(null==this.__sortDefinition)return e;var i=e._indexes.slice();if(t._isFieldSortDefinition(this.__sortDefinition)){var o=this.__sortDefinition;i.sort((function(n,i){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[n],e._dataSource._items[i],o._dataField)}))}else null!=this.__dataFieldDefinition&&i.sort((function(i,o){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[i],e._dataSource._items[o],n.__dataFieldDefinition._dataField)}));return this.__sortDefinition._isAscending||i.reverse(),new t._DataSlices(e._dataSource,i)},e}();t._ItemsDataSlicesSorter=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"#B3D6F2",null,"#047AD8",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var o=0,r=i;o<r.length;o++){var l=r[o];n.drawEllipse(l.x,l.y,e.__radius,e.__radius,null)}n.restoreTransform()},e._buildInAdornerRender=new e,e.__radius=3,e}();t._BuildInAdornerRender=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInAdornerRenderBuilders=function(){return null==n.__buildInAdornerRenderBuilders&&(n.__buildInAdornerRenderBuilders=new n([],n._pluginType)),n.__buildInAdornerRenderBuilders},n.prototype._convert=function(e){return t._isAdornerRenderBuilder(e)?e:null},n.prototype._adornerRender=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildAdornerRender(e);if(null!=l)return l}return t._BuildInAdornerRender._buildInAdornerRender},n._pluginType="AdornerRender",n}(t._BuildInObjectCollection);t._BuildInAdornerRenderBuilderCollection=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isAdornerRenderBuilder=function(t){return null!=t.buildAdornerRender}}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.units=[],this.datas=[]}return t.prototype.addData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.datas.push(o)}},t.prototype.addUnit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.units.push(o)}},t.prototype.classify=function(){return this.groups=[],this.order=0,this.groups},t}();t.Classifier=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInClickInteractionBuilders=function(){return null==n.__buildInClickInteractionBuilders&&(n.__buildInClickInteractionBuilders=new n([],n._pluginType)),n.__buildInClickInteractionBuilders},n.prototype._convert=function(e){return t._isClickInteractionBuilder(e)?e:null},n.prototype._clickInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o],a=l.item.buildClickInteraction(t,l.option);i.push(a)}return i},n._pluginType="ClickInteraction",n}(t._BuildInObjectCollection);t._BuildInClickInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInCoordinateSystemLayoutBuilderCollection=function(){return null==n.__buildInCoordinateSystemLayoutBuilderCollection&&(n.__buildInCoordinateSystemLayoutBuilderCollection=new n([new t.models._DefaultLineCartesianCoordinateSystemMirrorLayout,new t.models._DefaultLineCartesianCoordinateSystemLayout,new t.models._DefaultRadialCartesianCoordinateSystemMirrorLayout,new t.models._DefaultRadialCartesianCoordinateSystemLayout],n._pluginType)),n.__buildInCoordinateSystemLayoutBuilderCollection},n.prototype._convert=function(e){return t._isCoordinateSystemLayoutBuilder(e)?e:null},n.prototype.coordinateSystemLayout=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildCoordinateSystemLayout(e);if(null!=l)return l}throw new t.AssertError(t.ErrorCode.AssertPrompt)},n._pluginType="CoordinateSystemLayout",n}(t._BuildInObjectCollection);t._BuildInCoordinateSystemLayoutBuilderCollection=e}(t||(t={})),function(t){var e=function(){this.plotLogicRect=null,this.plotRect=null};t._CartesianCoordinateSystemLayoutResult=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"===t?this:null},t}();t._CoordinateSystemLayoutBuilder=e}(t||(t={})),t||(t={}),function(t){t._isCoordinateSystemLayoutBuilder=function(t){return null!=t._buildCoordinateSystemLayout}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._setVerticalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.bottom,e.top]):t._scaleModel._internalSetRange([e.bottom,e.top])},n.prototype._setHorizontalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.left,e.right]):t._scaleModel._internalSetRange([e.left,e.right])},n.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a,s){for(var u=r.top,_=r.bottom,p=e._getLayoutCount(),c=0,h=0,f=new t.core.Size(l.width,i.height),d=0;d<p;d++){var y=this._getHorizontalAxisViewHeight(e,f,n);c=y[0],h=y[1];var g=e._getAcutalOrigin(),m=e.getViewPosition(),v=e.getLabelPosition(),w=e._hasOtherSide(),b=u;if(null==g)m==t.Position.Bottom?b=_:m==t.Position.Top?b=u-c:c=1;else if(null!=s){var S=s._scaleModel._value(g);m==t.Position.Bottom?b=null!=S?S:_:m==t.Position.Top?b=null!=S?S-c:u-c:c=1}var P=new t.core.Rect(l.left,b,l.width,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,a.height),w){var C=u;v==t.Position.Top?C=u-h:v==t.Position.Bottom&&(C=_),o._otherSideRect=new t.core.Rect(l.left,C,l.width,h),e._layout(n,P,o),o._otherSideRect=null}else e._layout(n,P,o);if(o._lineCartesianCoordinateSystemContent=null,d==p-1||!e._isLabelViewsOverlapped()){if(null==g)m==t.Position.Bottom?_+=c:m==t.Position.Top&&(u-=c);else if(null!=s){var x=s._scaleModel._value(g),V=null==x?0:x;m==t.Position.Bottom?_+=Math.max(0,V+c-l.bottom):m==t.Position.Top&&(u-=Math.max(0,l.top-(V-c)))}w&&(v==t.Position.Bottom?_+=h:v==t.Position.Top&&(u-=h));break}e._autoAngle=e._autoChangeAngle()}return r.top=u,r.height=_-u,r},n.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,s){var u,_=r.left,p=r.right,c=0,h=new t.core.Size(i.width,l.height),f=this._getVerticanAxisViewWidth(e,h,n);c=f[0],u=f[1];var d=e._getAcutalOrigin(),y=e.getViewPosition(),g=e.getLabelPosition(),m=e._hasOtherSide(),v=_;if(null==d)y==t.Position.Left?v=_-c:y==t.Position.Right?v=p:c=1;else if(null!=s){var w=s._scaleModel._value(d);y==t.Position.Left?v=null!=w?w-c:_:y==t.Position.Right?v=null!=w?w:p:c=1}var b=new t.core.Rect(v,l.top,l.height,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),m){var S=_;g==t.Position.Left?S=_-u:g==t.Position.Right&&(S=p),o._otherSideRect=new t.core.Rect(S,l.top,l.height,u),e._layout(n,b,o),o._otherSideRect=null}else e._layout(n,b,o);if(o._lineCartesianCoordinateSystemContent=null,null==d)y==t.Position.Left?_-=c:y==t.Position.Right&&(p+=c);else if(null!=s){var P=s._scaleModel._value(d);y==t.Position.Left?_+=Math.max(0,(null==P?0:P)-c-l.left):y==t.Position.Right&&(p+=Math.max(0,(null==P?0:P)+c-l.right))}return m&&(g==t.Position.Right?p+=u:g==t.Position.Left&&(_-=u)),r.left=_,r.width=p-_,r},n.prototype._getHorizontalAxisViewHeight=function(e,n,i){var o=0,r=0,l=e._getSuggestHeight(n.height),a=e._measure(i,new t.core.Size(n.width,l));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var s=e._getForceHeight(n.height);null!=s&&(o=s);var u=e._getForceMaxHeight(n.height);return null!=u&&o>u&&(o=u),[o,r]},n.prototype._getVerticanAxisViewWidth=function(e,n,i){var o=0,r=0,l=e._getSuggestWidth(n.width),a=e._measure(i,new t.core.Size(l,n.height));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var s=e._getForceWidth(n.width);null!=s&&(o=s);var u=e._getForceMaxWidth(n.width);return null!=u&&o>u&&(o=u),[o,r]},n.prototype._initVerticlAxisViewTickNumber=function(e,n,i){var o=n.height,r=e._getSuggestWidth(n.width),l=new t.core.Size(r,o),a=e._measureMaxLabelSize(i,l),s=e._scaleModel._scale,u=s._getMajorUnit(),_=isNaN(u);if(!_&&Math.ceil((s.max()-s.min())/u)+1>t._Constants.MaxMajorTickCount&&(_=!0),_)if(o>0){var p=o/(a.height+6);e._scaleModel._setTickNumber(p<1?1:p)}else e._scaleModel._setTickNumber(1)},n.prototype._initHorizontalAxisViewTickNumber=function(e,n,i){var o=n.width,r=e._getSuggestHeight(n.height),l=new t.core.Size(o,r),a=e._measureMaxLabelSize(i,l),s=e._scaleModel._scale,u=s._getMajorUnit(),_=isNaN(u);if(!_&&Math.ceil((s.max()-s.min())/u)+1>t._Constants.MaxMajorTickCount&&(_=!0),_)if(o>0){var p=o/(a.width+6);e._scaleModel._setTickNumber(p<1?1:p)}else e._scaleModel._setTickNumber(1)},n.prototype._initPlotViewsAxisScale=function(e,n){for(var i=0,o=e._plotViews;i<o.length;i++){var r=o[i];t._isCartesianPlotView(r)&&r._initAxisScale(n)}},n.prototype._inithAxisesScale=function(e,n,i,o,r){for(var l=new t.core.Size(n.width,i.height),a=0,s=e.verticalAxisViews;a<s.length;a++){var u=s[a];this._setVerticalAxisRange(u,i,r),r&&this._initVerticlAxisViewTickNumber(u,l,o)}for(var _=new t.core.Size(i.width,n.height),p=0,c=e.horizontalAxisViews;p<c.length;p++){var h=c[p];this._setHorizontalAxisRange(h,i,r),r&&this._initHorizontalAxisViewTickNumber(h,_,o)}},n.prototype._layoutPlotsShapes=function(e,n,i,o){var r=[];o._layout(e,i,n);for(var l=0,a=o._plotViews;l<a.length;l++){var s=a[l];if(t._isCartesianPlotView(s)){var u=s;r.push.apply(r,u._getLayoutShapes())}}return r},n.prototype._preLayoutShapesInPlotLogicRect=function(e,n,i,o,r,l){i._innerPlotAreaRect=t._DrawingUtility._inflateRectangle(r,1e4,1e4);for(var a=0,s=o.horizontalAxisViews;a<s.length;a++)s[a]._autoAngle=null;return this._layoutShapesInPlotLogicRect(e,n,i,o,r,l,!0)},n.prototype._layoutShapesInPlotLogicRect=function(t,e,n,i,o,r,l,a){void 0===a&&(a=null),n._axisLabels=[],null==a&&(a=o),this._inithAxisesScale(i,e,o,t,l),this._initPlotViewsAxisScale(i._plotsView,t);for(var s=i.horizontalAxisViews,u=i.verticalAxisViews,_=a.clone(),p=0,c=u;p<c.length;p++){var h=c[p];_=this._layoutVerticalAxisView(h,t,e,n,_,o,a,s[0])}_=a.clone();for(var f=0,d=s;f<d.length;f++){var y=d[f];_=this._layoutHorizontalAxisView(y,t,e,n,_,o,a,u[0])}var g=r?this._layoutPlotsShapes(t,e,n,i._plotsView):[],m=this._getVerticalAxisViewsShapeRect(u,e.width,o),v=this._getHorizonalAxisViewsShapeRect(s,e.height,o),w=this._unionRect(m,v),b=this._calcShapesRect(g),S=this._unionRect(w,o.clone()),P=this._unionRect(b,S);return[P=this._fixShapeRect(e,P,o,s,u),S=this._fixShapeRect(e,S,o,s,u)]},n.prototype._fixShapeRect=function(e,n,i,o,r){for(var l=null,a=null,s=!0,u=0,_=r;u<_.length;u++){var p=_[u];null==p._getForceWidth(e.width)&&null==p._getForceMaxWidth(e.width)||(s=!1);var c=p._getSuggestWidth(e.width);(S=p.getViewPosition())==t.Position.Left?l=(null==l?0:l)+c:S==t.Position.Right&&(a=(null==a?0:a)+c)}var h,f=e.width*(s?t._Constants.AxisMaxWidthOrHeight:1);if(null!=l){var d=Math.min(f,l);(h=i.left-n.left)>d&&(n.left+=h-d,n.width-=h-d)}null!=a&&(d=Math.min(f,a),(h=n.right-i.right)>d&&(n.width-=h-d));for(var y=null,g=null,m=!0,v=0,w=o;v<w.length;v++){var b=w[v];null==b._getForceHeight(e.height)&&null==b._getForceMaxHeight(e.height)||(m=!1);var S,P=b._getSuggestHeight(e.height);(S=b.getViewPosition())==t.Position.Bottom?y=(null==y?0:y)+P:S==t.Position.Top&&(g=(null==g?0:g)+P)}var C,x=e.height*(m?t._Constants.AxisMaxWidthOrHeight:1);if(null!=y){var V=Math.min(x,y);(C=n.bottom-i.bottom)>V&&(n.height-=C-V)}return null!=g&&(V=Math.min(x,g),(C=i.top-n.top)>V&&(n.top+=C-V,n.height-=C-V)),n},n.prototype._getVerticalAxisViewsShapeRect=function(e,n,i){for(var o=null,r=!0,l=!1,a=!1,s=0,u=e;s<u.length;s++){var _=u[s];null==_._getForceWidth(n)&&null==_._getForceMaxWidth(n)||(r=!1);var p=_.getLabelPosition(),c=_.getViewPosition(),h=p==t.Position.Left||c==t.Position.Left,f=p==t.Position.Right||c==t.Position.Right,d=this._getVerticalAxisViewShapesRect(_,n);if(h&&!f&&null!=d&&d.right>i.right){var y=d.right-i.right;d.width-=y}!h&&f&&null!=d&&d.left<i.left&&(y=i.left-d.left,d.left+=y,d.width-=y),l=!!h||l,a=!!f||a,o=this._unionRect(o,d)}if(null!=o&&r){var g=n*t._Constants.AxisMaxWidthOrHeight,m=Math.max(0,i.left-o.left),v=Math.max(0,o.right-i.right);if(m+v>g)if(y=m+v-g,0==m&&(l=!1),0==v&&(a=!1),l&&a){var w=t._Constants.AxisMaxWidthOrHeight/2*n;if(m>w&&v>w){var b=m-w;o.left+=b,o.width-=b;var S=v-w;o.width-=S}else m>w?(o.left+=y,o.width-=y):v>w&&(o.width-=y)}else l?(o.left+=y,o.width-=y):a&&(o.width-=y)}return o},n.prototype._getHorizonalAxisViewsShapeRect=function(e,n,i){for(var o=null,r=!0,l=!1,a=!1,s=0,u=e;s<u.length;s++){var _=u[s];null==_._getForceHeight(n)&&null==_._getForceMaxHeight(n)||(r=!1);var p=_.getLabelPosition(),c=_.getViewPosition(),h=this._getHorizontalAxisViewShapesRect(_,n),f=p==t.Position.Top||c==t.Position.Top,d=p==t.Position.Bottom||c==t.Position.Bottom;if(f&&!d&&null!=h&&h.bottom>i.bottom){var y=h.bottom-i.bottom;h.height-=y}!f&&d&&null!=h&&h.top<i.top&&(y=i.top-h.top,h.top+=y,h.height-=y),l=!!f||l,a=!!d||a,o=this._unionRect(o,h)}if(null!=o&&r){var g=n*t._Constants.AxisMaxWidthOrHeight,m=Math.max(0,i.top-o.top),v=Math.max(0,o.bottom-i.bottom);if(m+v>g)if(y=m+v-g,0==m&&(l=!1),0==v&&(a=!1),l&&a){var w=t._Constants.AxisMaxWidthOrHeight/2*n;if(m>w&&v>w){var b=m-w;o.top+=b,o.height-=b;var S=v-w;o.height-=S}else m>w?(o.top+=y,o.height-=y):v>w&&(o.height-=y)}else l?(o.top+=y,o.height-=y):a&&(o.height-=y)}return o},n.prototype._getVerticalAxisViewShapesRect=function(e,n){if(e.position==t.AxisPosition.None)return null;if(e._hasOtherSide()){var i=this._calcShapesRect(e._getLayoutLineShapes());this._fixVerticalAxisViewShapesRectWidth(i,e,n);var o=this._calcShapesRect(e._getLayoutLabelShapes());return this._unionRect(i,o)}var r=this._calcShapesRect(e._getLayoutShapes(!0));if(null!=r){var l=e.getViewPosition(),a=e._rectangle().clone();l==t.Position.Right?(a.right>r.right&&(a.width-=a.right-r.right),r=this._unionRect(r,a)):l==t.Position.Left&&(a.left<r.left&&(a.left+=r.left-a.left,a.width-=r.left-a.left),r=this._unionRect(r,a))}return this._fixVerticalAxisViewShapesRectWidth(r,e,n),r},n.prototype._getHorizontalAxisViewShapesRect=function(e,n){if(e.position==t.AxisPosition.None)return null;if(e._hasOtherSide()){var i=this._calcShapesRect(e._getLayoutLineShapes());this._fixHorizontalAxisViewShapesRectHeight(i,e,n);var o=this._calcShapesRect(e._getLayoutLabelShapes());return this._unionRect(i,o)}var r=this._calcShapesRect(e._getLayoutShapes(!0));if(null!=r){var l=e.getViewPosition(),a=e._rectangle().clone();l==t.Position.Bottom?(a.bottom>r.bottom&&(a.height-=a.bottom-r.bottom),r=this._unionRect(r,a)):l==t.Position.Top&&(a.top<r.top&&(a.top+=r.top-a.top,a.height-=r.top-a.top),r=this._unionRect(r,a))}return this._fixHorizontalAxisViewShapesRectHeight(r,e,n),r},n.prototype._fixVerticalAxisViewShapesRectWidth=function(e,n,i){var o=n._getForceWidth(i),r=n._getForceMaxWidth(i);if((null!=o||null!=r)&&null!=e){var l=n._getSuggestWidth(i),a=n.getViewPosition();a==t.Position.Left&&e.width>l?(e.left+=e.width-l,e.width=l):a==t.Position.Right&&e.width>l&&(e.width=l)}},n.prototype._fixHorizontalAxisViewShapesRectHeight=function(e,n,i){var o=n._getForceHeight(i),r=n._getForceMaxHeight(i);if((null!=o||null!=r)&&null!=e){var l=n._getSuggestHeight(i),a=n.getViewPosition();a==t.Position.Top&&e.height>l?(e.top+=e.height-l,e.height=l):a==t.Position.Bottom&&e.height>l&&(e.height=l)}},n.prototype._unionRect=function(e,n){return null!=e&&null!=n?t._DrawingUtility._unionOfRectangles(e,n):null!=e?e:null!=n?n:null},n.prototype._isEqualsRect=function(t,e){var n=.5;return Math.abs(e.width-t.width)<n&&Math.abs(e.height-t.height)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.top-t.top)<n},n.prototype._isInnerSize=function(t,e){return(t.width<e.width||Math.abs(t.width-e.width)<.5)&&(t.height<e.height||Math.abs(t.height-e.height)<.5)},n.prototype._isInnerShape=function(e,n){var i=t._DrawingUtility._intersectionOfRectangle(e,n);return this._isEqualsRect(e,i)||this._isEqualsRect(e,n)},n.prototype._isGreaterThanLastShape=function(t,e){return!(t.width<e.width||t.height<e.height||t.left>e.left||t.top>e.top||t.bottom<e.bottom||t.right<e.right)},n.prototype._isStepToPrecision=function(t,e){var n=.5;return Math.abs(e.right-t.right)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n},n.prototype._adjustPlotRect=function(t,e,n){var i=e.left-n.left,o=e.right-n.right,r=e.top-n.top,l=e.bottom-n.bottom,a=Math.abs(i);i<0&&(a<t.width?(t.left+=a,t.width-=a):(t.left+=t.width,t.width=0));var s=Math.abs(o);o>0&&(s<t.width?t.width-=s:t.width=0);var u=Math.abs(r);r<0&&(u<t.height?(t.top+=u,t.height-=u):(t.top+=t.height,t.height=0));var _=Math.abs(l);return l>0&&(_<t.height?t.height-=_:t.height=0),t},n.prototype._adjustPlotRectByMinSize=function(e,n,i){var o=i._innerMinSize();if(null==o)return e;var r=i.horizontalAxisViews,l=i.verticalAxisViews,a=null,s=o.height;null!=s&&(s.type==t.ValueOptionType.Percentage?a=s.value*n.height:s.type===t.ValueOptionType.Pixel&&(a=s.value));var u=null,_=o.width;if(null!=_&&(_.type==t.ValueOptionType.Percentage?u=_.value*n.width:_.type===t.ValueOptionType.Pixel&&(u=_.value)),null!=u&&e.width<u){for(var p=e.left-n.left,c=n.right-e.right,h=u-e.width,f=!1,d=!1,y=0,g=l;y<g.length;y++)(D=g[y])._getDefinition()._option.position==t.AxisPosition.Near?f=!0:D._getDefinition()._option.position==t.AxisPosition.Far&&(d=!0);if(f&&d)e.left-=.5*h,e.width+=h;else if(f)if(c<h){var m=h-c;e.left-=m,e.width+=c+m}else e.width+=h;else if(d)if(p<h){var v=h-p;e.left-=p,e.width+=p+v}else e.left-=h,e.width+=h}if(null!=a&&e.height<a){for(var w=e.top-n.top,b=n.bottom-e.bottom,S=a-e.height,P=!1,C=!1,x=0,V=r;x<V.length;x++){var D;(D=V[x])._getDefinition()._option.position==t.AxisPosition.Near?C=!0:D._getDefinition()._option.position==t.AxisPosition.Far&&(P=!0)}if(P&&C)e.top-=.5*S,e.height+=S;else if(P)if(b<S){var A=S-b;e.top-=A,e.height+=S}else e.height+=S;else C&&(w<S||(e.top-=S),e.height+=S)}return e},n.prototype._adjustPlotLocation=function(t,e,n){var i=e.left-n.left,o=n.right-e.right,r=e.top-n.top,l=n.bottom-e.bottom,a=Math.abs(i),s=Math.abs(o);i>=0&&o<=0?t.left-=a>s?s:a:o>=0&&i<=0&&(t.left+=s>a?a:s);var u=Math.abs(r),_=Math.abs(l);return r>=0&&l<=0?t.top-=u>_?_:u:l>=0&&r<=0&&(t.top+=_>u?u:_),t},n.prototype._adjustPlotRectByStep=function(t,e,n,i){var o=e.left-n.left,r=n.right-e.right,l=e.top-n.top,a=n.bottom-e.bottom;return o>0&&(t.left-=o*i,t.width+=o*i),r>0&&(t.width+=r*i),l>0&&(t.top-=l*i,t.height+=l*i),a>0&&(t.height+=a*i),t},n.prototype._adjustPlotRectByAxisViewsSize=function(t,e,n,i){var o=i.horizontalAxisViews,r=i.verticalAxisViews;return r.length>0&&(t=this._adjustPlotRectWidthByVerticalAxisViewsWidth(t,e,n,r)),o.length>0&&(t=this._adjustPlotRectHeightByHorizontalAxisViewsHeight(t,e,n,o)),this._adjustPlotRectByMinSize(t,n,i)},n.prototype._adjustPlotRectWidthByVerticalAxisViewsWidth=function(e,n,i,o){for(var r=i.width,l=!1,a=!1,s=!1,u=0,_=o;u<_.length;u++){var p=_[u];l||null==p._getForceWidth(r)&&null==p._getForceMaxWidth(r)||(l=!0);var c=p.getLabelPosition(),h=p.getViewPosition();c!=t.Position.Left&&h!=t.Position.Left||(a=!0),c!=t.Position.Right&&h!=t.Position.Right||(s=!0)}var f=Math.max(0,e.left-Math.min(n.left,i.left)),d=Math.max(0,Math.max(n.right,i.right)-e.right),y=f/r,g=d/r;if(l){if(y+g>1){var m=t._Constants.AxisSetValueMaxWidthOrHeight,v=s&&g>=m;(w=a&&y>=m)&&v?(e.left=i.left+r*m,e.width=0):w&&s?(e.left=i.right-d,e.width=0):v&&a&&(e.left=i.left+f,e.width=0)}}else{var w,b=1-t._Constants.AxisMaxWidthOrHeight;y+g>t._Constants.AxisMaxWidthOrHeight&&(m=t._Constants.AxisMaxWidthOrHeight/2,v=s&&g>=m,(w=a&&y>=m)&&v?(e.left=i.left+r*m,e.width=r*b):w?(e.left=i.right-d-r*b,e.width=r*b):v&&(e.left=i.left+f,e.width=r*b))}return e},n.prototype._adjustPlotRectHeightByHorizontalAxisViewsHeight=function(e,n,i,o){for(var r=i.height,l=!1,a=!1,s=!1,u=0,_=o;u<_.length;u++){var p=_[u];l||null==p._getForceHeight(r)&&null==p._getForceMaxHeight(r)||(l=!0);var c=p.getLabelPosition(),h=p.getViewPosition();c!=t.Position.Top&&h!=t.Position.Top||(a=!0),c!=t.Position.Bottom&&h!=t.Position.Bottom||(s=!0)}var f=Math.max(0,e.top-Math.min(n.top,i.top)),d=Math.max(0,Math.max(n.bottom,i.bottom)-e.bottom),y=f/r,g=d/r;if(l){if(y+g>1){var m=t._Constants.AxisSetValueMaxWidthOrHeight,v=s&&g>=m;(w=a&&y>=m)&&v?(e.top=i.top+r*m,e.height=0):w&&s?(e.top=i.bottom-d,e.height=0):v&&a&&(e.top=i.top+f,e.height=0)}}else{var w,b=1-t._Constants.AxisMaxWidthOrHeight;y+g>t._Constants.AxisMaxWidthOrHeight&&(m=t._Constants.AxisMaxWidthOrHeight/2,v=s&&g>=m,(w=a&&y>=m)&&v?(e.top=i.top+r*m,e.height=r*b):w?(e.top=i.bottom-d-r*b,e.height=r*b):v&&(e.top=i.top+f,e.height=r*b))}return e},n.prototype._calcShapesRect=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=Math.min(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),a=Math.max(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),s=Math.min(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),u=Math.max(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),_=new t.core.Rect(l,s,a-l,u-s);n=this._unionRect(n,_)}return n},n.prototype._calcLogicRect=function(e,n,i){return new t.core.Rect(e.left,e.top,e.width/n,e.height/i)},n.prototype._applyMarginRect=function(t,e){t.left<e.left&&(t.width-=e.left-t.left,t.left=e.left),t.right>e.right&&(t.width-=t.right-e.right),t.top<e.top&&(t.height-=e.top-t.top,t.top=e.top),t.bottom>e.bottom&&(t.height-=t.bottom-e.bottom)},n.prototype._layoutCoordinateSystem=function(e,n,i,o){var r=this._calcLogicRect(n,o._horizontalViewSize,o._verticalViewSize),l=r.clone(),a=!o._canScroll(),s=this._preLayoutShapesInPlotLogicRect(e,n,i,o,l,a),u=s[0],_=s[1];i._checkOverlap=!0;for(var p=r.size,c=null;null==c;){var h=this._adjustPlotRect(l.clone(),u,r);if(h=this._adjustPlotRectByMinSize(h,n,o),this._isEqualsRect(h,l)){if(a){a=!1,l=r.clone(),u=_;continue}break}if((h.width<=0||h.height<=0)&&a)a=!1,l=r.clone(),u=_;else{if(l=h,u=this._layoutShapesInPlotLogicRect(e,n,i,o,l,a,!0)[0],l.width<=0||l.height<=0)break;this._isInnerSize(u.size,p)&&(c=l)}}var f=null;if(null!=c)if(this._isEqualsRect(u,r))f=c;else for(l=c;null==f;){if(h=this._adjustPlotLocation(l.clone(),u,r),this._isEqualsRect(h,l)){f=l;break}if(l=h,u=this._layoutShapesInPlotLogicRect(e,n,i,o,l,a,!1)[0],this._isInnerShape(u,r)){f=l;break}}if(i._innerPlotAreaRect=r,null!=f){l=f;var d=[];d.push(l);for(var y=1,g=u;!this._isEqualsRect(u,r)&&d.length<10&&y>.001&&(h=this._adjustPlotRectByStep(l.clone(),u,r,y),!this._isStepToPrecision(h,l));)l=h,d.push(l.clone()),u=this._layoutShapesInPlotLogicRect(e,n,i,o,l,a,!1)[0],this._isGreaterThanLastShape(u,g)&&this._isInnerShape(u,r)?g=u:(d.pop(),l=d[d.length-1],u=g,y/=2)}l=this._adjustPlotRectByAxisViewsSize(l,u,n,o);var m=new t._CartesianCoordinateSystemLayoutResult,v=i._marginRectangle;if(o._canScroll()){var w=n.clone();w.left+=Math.abs(r.left-l.left),w.top+=Math.abs(r.top-l.top),w.width-=Math.abs(r.width-l.width),w.height-=Math.abs(r.height-l.height),null!=v&&this._applyMarginRect(w,v);var b=this._calcLogicRect(w,o._horizontalViewSize,o._verticalViewSize);this._layoutShapesInPlotLogicRect(e,n,i,o,b,!0,!1,w),m.plotRect=w}else null!=v&&this._applyMarginRect(l,v),this._layoutShapesInPlotLogicRect(e,n,i,o,l,!0,!1)[0],m.plotRect=l;return i._checkOverlap=!1,m.plotLogicRect=l,m},n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)?this:null},n}(t._CoordinateSystemLayoutBuilder),e._DefaultLineCartesianCoordinateSystemLayout=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)&&e._horizontalAxisViews().some((function(t){return t._isMirror()}))?this:null},n.prototype._setHorizontalAxisRange=function(t,n,i){t._isMirror()?1==t._getIsForwardDirection()?i?t._scaleModel._setRange([n.left+.5*n.width,n.right]):t._scaleModel._internalSetRange([n.left+.5*n.width,n.right]):i?t._scaleModel._setRange([n.left,n.right-.5*n.width]):t._scaleModel._internalSetRange([n.left,n.right-.5*n.width]):e.prototype._setHorizontalAxisRange.call(this,t,n,i)},n.prototype._layoutHorizontalAxisView=function(n,i,o,r,l,a,s,u){if(!n._isMirror())return e.prototype._layoutHorizontalAxisView.call(this,n,i,o,r,l,a,s,u);var _=s.top,p=s.bottom,c=n._getLayoutCount(),h=0,f=0,d=n._getAcutalOrigin(),y=n.getViewPosition(),g=n.getLabelPosition(),m=n._hasOtherSide(),v=.5*a.width,w=a.left;1==n._getIsForwardDirection()&&(w=a.left+v);for(var b=0;b<c;b++){var S=n._getSuggestHeight(o.height),P=n._measure(i,new t.core.Size(v,S));m?(h=P._linesSize.height>S?S:P._linesSize.height,f=P._lablesSize.height):h=P._size.height>S?S:P._size.height,null!=n._getForceHeight(o.height)&&(h=n._getForceHeight(o.height));var C=_;if(null==d)y==t.Position.Bottom?C=p:y==t.Position.Top?C=_-h:h=1;else if(null!=u){var x=u._scaleModel._value(d);y==t.Position.Bottom?C=null!=x?x:p:y==t.Position.Top?C=null!=x?x-h:_-h:h=1}var V=new t.core.Rect(w,C,v,h);if(r._lineCartesianCoordinateSystemContent=new t.core.Rect(w,a.top,v,s.height),m){var D=_;g==t.Position.Top?D=_-f:g==t.Position.Bottom&&(D=p),r._otherSideRect=new t.core.Rect(w,D,v,f),n._layout(i,V,r),r._otherSideRect=null}else n._layout(i,V,r);if(r._lineCartesianCoordinateSystemContent=null,b==c-1||!n._isLabelViewsOverlapped())break;1==n._getIsForwardDirection()?n._autoAngle=-n._autoChangeAngle():n._autoAngle=n._autoChangeAngle()}return l},n.prototype._layoutVerticalAxisView=function(n,i,o,r,l,a,s,u){null!=u&&u._isMirror()||e.prototype._layoutVerticalAxisView.call(this,n,i,o,r,l,a,s,u);var _=l.left,p=l.right,c=0,h=0,f=n.getViewPosition(),d=n.getLabelPosition(),y=n._hasOtherSide(),g=n._getSuggestWidth(o.width),m=n._measure(i,new t.core.Size(g,a.height));y?(c=m._linesSize.height>g?g:m._linesSize.height,h=m._lablesSize.height):c=m._size.height>g?g:m._size.height,null!=n._getForceWidth(o.width)&&(c=n._getForceWidth(o.width));var v=a.left+.5*s.width;f==t.Position.Left?v-=c:f==t.Position.Right||(c=1);var w=new t.core.Rect(v,a.top,a.height,c);if(r._lineCartesianCoordinateSystemContent=new t.core.Rect(a.left,a.top,s.width,a.height),y){var b=_;d==t.Position.Left?b=_-h:d==t.Position.Right&&(b=p),r._otherSideRect=new t.core.Rect(b,a.top,a.height,h),n._layout(i,w,r),r._otherSideRect=null}else n._layout(i,w,r);return r._lineCartesianCoordinateSystemContent=null,y&&(d==t.Position.Right?p+=h:d==t.Position.Left&&(_-=h)),l.left=_,l.width=p-_,l},n}(e._DefaultLineCartesianCoordinateSystemLayout),e._DefaultLineCartesianCoordinateSystemMirrorLayout=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?this:null},n.prototype._getStartAngle=function(t){return t._startAngle()},n.prototype._getRadialRectangle=function(e,n,i){for(var o=[],r=0,l=e;r<l.length;r++){for(var a=l[r],s=this._getStartAngle(a),u=t._Utility._toFixed(s+a._sweep,16,!0),_=[],p=Math.ceil(s/(Math.PI/2))*(Math.PI/2);p<u;p+=Math.PI/2)_.push(t._Utility._toFixed(p,16,!0));_.indexOf(s)<0&&_.push(s),_.indexOf(u)<0&&_.push(u);for(var c=a._innerRadius*i,h=0,f=_;h<f.length;h++){p=f[h];var d=Math.cos(p),y=Math.sin(p);(C=n.clone()).x+=i*d,C.y+=i*y,o.push(C);var g=n.clone();g.x+=c*d,g.y+=c*y,o.push(g)}}for(var m=NaN,v=NaN,w=NaN,b=NaN,S=0,P=o;S<P.length;S++){var C=P[S];m=isNaN(m)?C.x:Math.min(C.x,m),w=isNaN(w)?C.x:Math.max(C.x,w),v=isNaN(v)?C.y:Math.min(C.y,v),b=isNaN(b)?C.y:Math.max(C.y,b)}return new t.core.Rect(m,v,w-m,b-v)},n.prototype._setVerticalAxisRange=function(t,e,n){t._scaleModel._setRange([e,e+n])},n.prototype._setHorizontalAxisRange=function(t,e,n){t._scaleModel._setRange([e,n])},n.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,s,u){i._axisLabels=[];for(var _=a[0],p=l[0],c=0,h=a;c<h.length;c++){var f=h[c];this._setVerticalAxisRange(f,f._startAngle(),f._sweep)}for(var d=0,y=l;d<y.length;d++){var g=y[d];this._setHorizontalAxisRange(g,g._innerRadius*r,r)}if(null!=p)for(var m=null==p._scaleModel._minimum?0:p._scaleModel._minimum,v=null==p._scaleModel._maximum?0:p._scaleModel._maximum,w=0,b=a;w<b.length;w++){var S=(f=b[w])._getAcutalOrigin();if(null!=S&&S>=m&&S<=v){var P=p._scaleModel._value(S+(null!=p?p._getRadiusOffset():0));f._setOriginRadius(P)}}if(null!=_)for(var C=null==_._scaleModel._minimum?0:_._scaleModel._minimum,x=null==_._scaleModel._maximum?0:_._scaleModel._maximum,V=0,D=l;V<D.length;V++){var A=(g=D[V])._getAcutalOrigin();if(null!=A&&A>=C&&A<=x){var O=_._scaleModel._value(A);g._setOriginAngle(O)}}for(var L=0,T=0,M=a;T<M.length;T++){f=M[T];var I=new t.core.Size(n.width,n.height);if(!t._isOrdinalAxisScale(f._scaleModel._scale)){var E=f._measureMaxLabelSize(e);f._scaleModel._setTickNumber(f._getAnnoNumber(!0,I.height,E))}f._getDefinition()._option.position!=t.AxisPosition.None&&(L=f._axisLabelHeight)}for(var B=0,R=l;B<R.length;B++)if((g=R[B])._getDefinition()._option.position!=t.AxisPosition.None&&(I=new t.core.Size(n.width,n.height-L),g._measure(e,I)),!t._isOrdinalAxisScale(g._scaleModel._scale)){E=g._measureMaxLabelSize(e);var k=2*(L+r);g._scaleModel._setTickNumber(g._getAnnoNumber(!1,k,E))}for(var F=0,N=u._plotViews;F<N.length;F++){var U=N[F];t._isCartesianPlotView(U)&&U._initAxisScale(e)}for(var z=[],j=[],G=this._getRadialRectangle(a,o,r),W=0,q=a;W<q.length;W++)(f=q[W])._radius=r,f._cx=o.x,f._cy=o.y,f._layout(e,G,i),z.push.apply(z,f._getLayoutShapes(!1));for(var H=0,J=l;H<J.length;H++)(g=J[H])._radius=r,g._cx=o.x,g._cy=o.y,g._layout(e,G,i),i._ignoreWrap=!0,g._titleView()._layout(e,G,i),i._ignoreWrap=!1,z.push.apply(z,g._getLayoutShapes(!1));for(var X=s,Y=0,Z=X;Y<Z.length;Y++)(U=Z[Y])._setCenter(o.clone());u._layout(e,i,n);for(var K=0,Q=X;K<Q.length;K++)U=Q[K],j.push.apply(j,U._getLayoutShapes());for(var $=G.clone(),tt=0,et=z;tt<et.length;tt++){var nt=et[tt],it=Math.min(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),ot=Math.max(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),rt=Math.min(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),lt=Math.max(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y);$=t._DrawingUtility._unionOfRectangles($,new t.core.Rect(it,rt,ot-it,lt-rt))}for(var at=$.clone(),st=0,ut=j;st<ut.length;st++)nt=ut[st],it=Math.min(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),ot=Math.max(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),rt=Math.min(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),lt=Math.max(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),at=t._DrawingUtility._unionOfRectangles(at,new t.core.Rect(it,rt,ot-it,lt-rt));return at},n.prototype._searchBestRadius=function(t,e,n,i,o,r,l,a,s,u){var _=o,p=null,c=o,h=r;for(n._checkOverlap=!1;c<=h;)if(_=(h-c)/2+c,(p=this._layoutShapesRect(t,e,n,i,_,l,a,s,u)).width>e.width||p.height>e.height)h=_-.1;else{if(!(p.width<e.width&&p.height<e.height))break;c=_+.1}return n._checkOverlap=!1,[_,p]},n.prototype._makeCenter=function(t,e,n,i,o){var r=Math.abs(e+n);e>Math.abs(n)?t.x-=.5*r:t.x+=.5*r;var l=Math.abs(i+o);return i>Math.abs(o)?t.y-=.5*l:t.y+=.5*l,t},n.prototype._adjustPlotRectBySize=function(e,n,i){if(null==i)return e;var o=null,r=i.height;null!=r&&(r.type==t.ValueOptionType.Percentage?o=r.value*n.height:r.type===t.ValueOptionType.Pixel&&(o=r.value));var l=null,a=i.width;if(null!=a&&(a.type==t.ValueOptionType.Percentage?l=a.value*n.width:a.type===t.ValueOptionType.Pixel&&(l=a.value)),null!=l&&e.width<l){var s=l-e.width;e.left-=.5*s,e.width+=s}if(null!=o&&e.height<o){var u=o-e.height;e.top-=.5*u,e.height+=u}return e},n.prototype._layoutAxisView=function(t,e,n,i,o,r){t._radius=o,t._cx=r.x,t._cy=r.y,t._layout(e,i,n),t._titleView()._layout(e,i,n)},n.prototype._layoutVerticalAxisView=function(t,e,n,i,o,r,l,a,s){return this._setVerticalAxisRange(t,t._startAngle(),t._sweep),this._layoutAxisView(t,e,n,i,o,r),l+=a,i.height-=s,l},n.prototype._layoutCoordinateSystem=function(e,n,i,o){for(var r=o._horizontalCanScroll()?o._horizontalViewSize:1,l=o._verticalCanScroll()?o._verticalViewSize:1,a=o.horizontalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),s=o.verticalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),u=o._plotsView,_=o._getPlotViews(),p=new t.core.Rect(n.left,n.top,n.width/r,n.height/l),c=0,h=[],f=[],d=0;d<s.length;d++){var y=s[d];if(h.push(0),f.push(0),y._getDefinition()._option.position!=t.AxisPosition.None){var g=new t.core.Size(p.width,p.height),m=y._measure(e,g)._size;f[d]+=m.height,h[d]+=m.height-y._axisLabelHeight-y._getAxisLineWidth(),c+=h[d]}}var v=p.clone();v.height-=c;var w=new t.core.Point(n.left+n.width/2,n.top+n.height/2),b=1e3,S=this._getRadialRectangle(s,w,b),P=Math.min(v.width/S.width,v.height/S.height)*b,C=this._searchBestRadius(e,v,i,w,0,P,a,s,_,u);b=C[0];var x=C[1];if(null!=x){var V=(w=new t.core.Point(w.x-x.left,w.y-x.top)).x-b,D=w.y-b,A=2*b,O=2*b,L=new t.core.Rect(V,D,A,O),T=u._getOwnerView()._getDefinition()._plotAreaOption.innerMinSize;null!=T&&null!=(L=this._adjustPlotRectBySize(L,n,T))&&(A=L.right-L.left,O=L.bottom-L.top,b=.5*Math.min(A,O),A>O?(w.x=L.left+.5*L.width,w.y=L.top+b):(w.x=L.left+b,w.y=L.top+.5*L.height));var M=i._marginRectangle;if(null!=M)L.left<M.left&&(L.left=M.left),L.right>M.right?L.width=M.right-L.left:L.width+=M.right-L.right,L.top<M.top&&(L.top=M.top),L.bottom>M.bottom?L.height=M.bottom-L.top:L.height+=M.bottom-L.bottom,A=L.right-L.left,O=L.bottom-L.top,b=.5*Math.min(A,O),A>O?(w.x=L.left+.5*L.width,w.y=L.top+b):(w.x=L.left+b,w.y=L.top+.5*L.height),this._layoutShapesRect(e,v,i,w,b,a,s,_,u);else{var I=this._layoutShapesRect(e,v,i,w,b,a,s,_,u);if(null!=I){var E=I.left-v.left,B=I.right-v.right,R=I.top-v.top,k=I.bottom-v.bottom;w=this._makeCenter(w,E,B,R,k)}}}b>=1&&(b-=.5);var F=p.clone(),N=0;for(d=0;d<s.length;d++)y=s[d],b-=N,N=this._layoutVerticalAxisView(y,e,i,F,b,w,N,f[d],h[d]);for(var U=0,z=a;U<z.length;U++){var j=z[U];this._setHorizontalAxisRange(j,j._innerRadius*b,b),this._layoutAxisView(j,e,i,F,b,w)}var G=new t._CartesianCoordinateSystemLayoutResult;return G.plotLogicRect=new t.core.Rect(w.x-b,w.y-b,2*b,2*b),G},n}(t._CoordinateSystemLayoutBuilder),e._DefaultRadialCartesianCoordinateSystemLayout=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&e._verticalAxisViews().some((function(t){return t._isMirror()}))?this:null},n.prototype._getStartAngle=function(t){return t._startAngle()-.5*t._sweep},n.prototype._setVerticalAxisRange=function(t,n,i){t._isMirror()?1==t._getIsForwardDirection()?t._scaleModel._setRange([n,n+.5*i]):t._scaleModel._setRange([n,n-.5*i]):e.prototype._setHorizontalAxisRange.call(this,t,n,i)},n.prototype._layoutVerticalAxisView=function(t,n,i,o,r,l,a,s,u){return t._isMirror()?(this._layoutAxisView(t,n,i,o,r,l),a):e.prototype._layoutVerticalAxisView.call(this,t,n,i,o,r,l,a,s,u)},n}(e._DefaultRadialCartesianCoordinateSystemLayout),e._DefaultRadialCartesianCoordinateSystemMirrorLayout=n}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.__lines=t,this.__pointview=e}return t.prototype._point=function(){return this.__pointview},Object.defineProperty(t.prototype,"text",{get:function(){return null!=this.__lines?this.__lines.join("\n"):null},enumerable:!0,configurable:!0}),t}();t._DataLabelContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){this.value=e,this._pointViews=i,this.__axisView=n,this._region=o,this._scaleValue=r,this.type=t.ElementType.Axis}return e.prototype.contains=function(t){return this._region.contains(t)},e.prototype._layout=function(t){this._region=t},Object.defineProperty(e.prototype,"parent",{get:function(){return this.__axisView},enumerable:!0,configurable:!0}),e.prototype._getTick=function(){return this.__tick},e.prototype._setTick=function(t){this.__tick=t},e.prototype._trackersOption=function(){return null!=this.__axisView?this.__axisView._getDefinition()._option.trackers:[]},e.prototype._tooltipOption=function(){return null!=this.__axisView?this.__axisView._getDefinition()._option.tooltip:null},Object.defineProperty(e.prototype,"_orientation",{get:function(){return t.Orientation.Horizontal},enumerable:!0,configurable:!0}),e.prototype._tooltipContent=function(){return null},e.prototype._tracker=function(){for(var t=[],e=0,n=this._trackersOption();e<n.length;e++){var i=n[e],o=this._getTrackerWithOption(i);null!=o&&t.push(o)}return t},e.prototype._getTrackerWithOption=function(t){return null},Object.defineProperty(e.prototype,"points",{get:function(){return this._pointViews.map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(t){return"ICategoryValueModel"==t||"IShowTooltipModel"==t||"IShowTrackerViewModel"==t?this:null},e}();t._CategoryValueView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){return n.call(this,t,e,i,o,r)||this}return i(o,n),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=new t.core.Rect(i.leftTop.x,i.leftTop.y,i.size.width,i.size.height);if(n.type==t.TrackerType.Area){var r=new t.core.Size(o.width,o.height),l=new t.core.Point(o.left,o.top);return new e._CartesianTrackArea(n,l,r,o)}return null},o}(t._CategoryValueView),e._CartesianCategoryValueView=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(t._CategoryValueView),e._RadialCategoryValueView=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){return n.call(this,t,e,i,o,r)||this}return i(o,n),Object.defineProperty(o.prototype,"_orientation",{get:function(){return t.Orientation.Horizontal},enumerable:!0,configurable:!0}),o.prototype._getTrackerWithOption=function(i){var o=this._region,r=new t.core.Rect(o.leftTop.x,o.leftTop.y,o.size.width,o.size.height);if(i.type==t.TrackerType.CrossY){var l=new t.core.Point(this._scaleValue,r.top),a=new t.core.Point(this._scaleValue,r.bottom);return new e._CartesianTrackLine(i,l,a,r)}return n.prototype._getTrackerWithOption.call(this,i)},o}(e._CartesianCategoryValueView),e._HorizontalCartesianCategoryValueView=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){return n.call(this,t,e,i,o,r)||this}return i(o,n),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=i.clone();if(n.type==t.TrackerType.Area)return new e._RadialTrackArea(n,o,i);if(n.type==t.TrackerType.CrossY){var r=this._scaleValue;return new e._RadialTrackLine(n,i.center.x,i.center.y,r,i.startAngle,i.sweepAngle,i)}return null},o}(e._RadialCategoryValueView),e._HorizontalRadialCategoryValueView=n}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){return n.call(this,t,e,i,o,r)||this}return i(o,n),Object.defineProperty(o.prototype,"_orientation",{get:function(){return t.Orientation.Vertical},enumerable:!0,configurable:!0}),o.prototype._getTrackerWithOption=function(i){var o=this._region,r=new t.core.Rect(o.leftTop.x,o.leftTop.y,o.size.width,o.size.height);if(i.type==t.TrackerType.CrossY){var l=new t.core.Point(r.left,this._scaleValue),a=new t.core.Point(r.right,this._scaleValue);return new e._CartesianTrackLine(i,l,a,r)}return n.prototype._getTrackerWithOption.call(this,i)},o}(e._CartesianCategoryValueView),e._VerticalCartesianCategoryValueView=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e,i,o,r){return n.call(this,t,e,i,o,r)||this}return i(o,n),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=this._region.clone();if(n.type==t.TrackerType.Area)return new e._RadialTrackArea(n,o,i);if(n.type==t.TrackerType.CrossY){var r=this._calculatePoint(i.innerRadius),l=this._calculatePoint(i.radius);return new e._TrackStraightLine(n,r,l,i)}return null},o.prototype._calculatePoint=function(e){var n=this._region,i=this._scaleValue-3*Math.PI/2,o=n.center.x+Math.sin(i)*e,r=n.center.y-Math.cos(i)*e;return new t.core.Point(o,r)},o}(e._RadialCategoryValueView),e._VerticalRadialCategoryValueView=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInAxisDefinitionBuilders=function(){return null==n.__buildInAxisDefinitionBuilders&&(n.__buildInAxisDefinitionBuilders=new n([],n._pluginType)),n.__buildInAxisDefinitionBuilders},n.prototype._convert=function(e){return t._isAxisDefinitionBuilder(e)?e:null},n.prototype._axisDefinition=function(t,e,n,i){for(var o=0,r=this._objects(i,e._pluginCollection);o<r.length;o++){var l=r[o].item._buildAxisDefinition(t,e,n);if(null!=l)return l}return null},n._pluginType="Axis",n}(t._BuildInObjectCollection);t._BuildInAxisDefinitionBuilderCollection=e}(t||(t={})),function(t){t._isAxisDefinitionBuilder=function(t){return null!=t._buildAxisDefinition}}(t||(t={})),function(t){t._isAxisViewBuilder=function(t){return null!=t&&"function"==typeof t.buildAxisView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e,n,i){this._layoutDefinitions=t._LayoutDefinitionListBuilder.__layoutDefinitionListBuilder._buildLayoutDefinitions(e,n,i)};t._InnerPlotAreaDefinition=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__definition=t}return t.prototype._definition=function(){return this.__definition},t.prototype.queryInterface=function(t){return this._definition().queryInterface(t)},t}();t._OverlayLegendItemsBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){var r=new t._OrdinalDimensionBuilder,l=r.build(e,n,i,o);return null!=l||null!=(l=(r=new t._LinearDimensionBuilder).build(e,n,i,o))?l:(r=new t._EmptyDimensionBuilder).build(e,n,i,o)},e}();t._DimensionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){return new t._EmptyDimension},e.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},e}();t._EmptyDimensionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype.build=function(n,i,o,r){var l=null;if(null==n)return l;if(null!=o&&null!=o._option.scale.type)o._option.scale.type==t.ValueScaleType.Linear||o._option.scale.type==t.ValueScaleType.Percentage?(null!=(a=n.queryInterface("IXFieldDimensionDefinition"))&&null!=a._fieldDefinition()&&a._fieldDefinition()._dataField._type()==t.core.DataType.Date&&(l=new e._LinearDimension(n,t.ValueScaleType.Date)),null==l&&(l=new e._LinearDimension(n,t.ValueScaleType.Linear))):o._option.scale.type==t.ValueScaleType.Logarithmic?l=new e._LinearDimension(n,t.ValueScaleType.Logarithmic):o._option.scale.type==t.ValueScaleType.Date&&(l=new e._LinearDimension(n,t.ValueScaleType.Date));else if(null==o||null==o._option.scale.type){var a,s=n.queryInterface("IValueDimensionDefinition");if(null!=s){var u=s.queryInterface("IXyValueDimensionDefinition");null==u||null==u._fieldDefinition()||u._fieldDefinition()._dataField._type()==t.core.DataType.String&&u._fieldDefinition()._dataField._type()==t.core.DataType.Boolean&&u._aggregate()==t.Aggregate.List||(l=new e._LinearDimension(n,t.ValueScaleType.Linear));var _=s.queryInterface("IAggregateValueDimensionDefinition");null==_||null==_._fieldDefinition()||_._fieldDefinition()._dataField._type()==t.core.DataType.String&&_._fieldDefinition()._dataField._type()==t.core.DataType.Boolean&&_._aggregate()==t.Aggregate.List||(l=new e._LinearDimension(n,t.ValueScaleType.Linear)),null!=s.queryInterface("IRangeValueDimensionDefinition")&&(l=new e._LinearDimension(n,t.ValueScaleType.Linear))}null!=(a=n.queryInterface("IXFieldDimensionDefinition"))&&null!=a._fieldDefinition()&&(a._fieldDefinition()._dataField._type()==t.core.DataType.Date?l=new e._LinearDimension(n,t.ValueScaleType.Date):a._fieldDefinition()._dataField._type()==t.core.DataType.String&&a._fieldDefinition()._dataField._type()==t.core.DataType.Boolean||(l=new e._LinearDimension(n,t.ValueScaleType.Linear)))}return l},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}(),e._LinearDimensionBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype.build=function(e,i,o,r){if(null==e)return null;var l=null;if(t._isCartesianCategoryDimensionDefinition(e)){var a=e;l=this._createHierarchicalCategoryDimension(a,r)}if(null!=l)return this._buildCategoryDimensionValues(l),l;var s=null,u=i.length>0?i[0]:null;return n._isOrdinalDimension(e,u,o)&&(s=this._createOrdinalDimension(e,r)),null!=s?s:null},n._isOrdinalDimension=function(e,n,i){if(null!=i&&i._option.scale.type==t.ValueScaleType.Ordinal)return!0;if((null==i||null==i._option.scale.type)&&null!=e){var o=e.queryInterface("IValueDimensionDefinition");if(null!=o&&(null==n||null!=n&&t._isClusterGroupDetailEncodingDefintion(n))){var r=o.queryInterface("IXyValueDimensionDefinition");if(null!=r&&null!=r._fieldDefinition()&&(r._fieldDefinition()._dataField._type()==t.core.DataType.String||r._fieldDefinition()._dataField._type()==t.core.DataType.Boolean)&&r._aggregate()==t.Aggregate.List)return!0;var l=o.queryInterface("IAggregateValueDimensionDefinition");if(null!=l&&null!=l._fieldDefinition()&&(l._fieldDefinition()._dataField._type()==t.core.DataType.String||l._fieldDefinition()._dataField._type()==t.core.DataType.Boolean)&&l._aggregate()==t.Aggregate.List)return!0}var a=e.queryInterface("IXFieldDimensionDefinition");if(null!=a&&null!=a._fieldDefinition()&&(a._fieldDefinition()._dataField._type()==t.core.DataType.String||a._fieldDefinition()._dataField._type()==t.core.DataType.Boolean))return!0}return!1},n.prototype._createHierarchicalCategoryDimension=function(e,n){for(var i=new t._CategoryDimension(e),o=e._getCartesianCategoryEncodingDefinition(),r=this._createCategoryModels(o,n),l=i._dimensionValueGroups(),a=0,s=r;a<s.length;a++){var u=s[a];l.push(u)}return i},n.prototype._createCategoryModels=function(e,n){for(var i=e._hierarchicalGroupingDefinitions.slice(),o=new t._DataSlicesSorter(e._dataSliceSortDefinition,i[0]._dataFieldDefinition),r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(o._sort(n),null),l=[],a=0,s=i.reverse();a<s.length;a++){var u=s[a];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(u._dataFieldDefinition,e._sortDefinition,u._filter)))}var _=r.groupBy(l).query().groups,p=[];return t._TreeNodeUtility._traverseGrouping(_,null,0,(function(e,n,i){var o=new t._DimensionValueGroup(n.key,n._dataSlices,e);return null!=e?e.children.push(o):p.push(o),o})),p},n.prototype._createOrdinalDimension=function(n,i){var o=new e._OrdinalDimension(n),r=null,l=!1,a=null;if(t._isXyValueDimensionDefinition(n)){var s=n;l=s._getValueEncodingDefinition()._excludeNulls,a=s._getValueEncodingDefinition()._sortDefinition,r=s._fieldDefinition()}else if(t._isAggregateValueDimensionDefinition(n)){var u=n;l=u._getValueEncodingDefinition()._excludeNulls,a=u._getValueEncodingDefinition()._sortDefinition,r=u._fieldDefinition()}else if(t._isXFieldDimensionDefinition(n)){var _=n;l=_._getXFieldEncodingDefinition()._excludeNulls,a=_._getXFieldEncodingDefinition()._sortDefinition,r=_._fieldDefinition()}if(null!=r){var p=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),c=[];c.push(new t.QueryGroupByOption(new t._GroupingDefinition(r,a)));var h=p.groupBy(c).query().groups,f=l;t._TreeNodeUtility._traverseDFS(h,(function(e,n){if(!f||null!=e.key){var i=e.key,r=new t._DimensionValue(i);o._dimensionValues().push(r),r._updatevalue(o._dimensionValues().length);var l=new t._DimensionValueGroup(e.key,e._dataSlices,null);l._dimensionValues().push(r),o._dimensionValueGroups1().push(l)}}))}return o},n.prototype._buildCategoryDimensionValues=function(e){var n=this,i=e._dimensionValueGroups();t._TreeNodeUtility._traverseDFS(i,(function(i,o){var r;if(0==i.children.length){var l=new t._OrdinalDimensionValue(i.key),a=n._getGroupPath(i);(r=l.path).push.apply(r,a),i._dimensionValues().push(l),e._dimensionValues().push(l),l._updatevalue(e._dimensionValues().length)}}))},n.prototype._getGroupPath=function(t){var e=[];null!=t.parent&&(e=this._getGroupPath(t.parent));var n=t.key;return e.push(n),e},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}(),e._OrdinalDimensionBuilder=n}(t||(t={})),function(t){!function(t){t._isDimensionBuilder=function(t){return null!=t&&"function"==typeof t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(){return t.call(this,null)||this}return i(e,t),e}(t._Dimension),e._EmptyDimension=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__scaleType=n,i}return i(n,e),n.prototype._setMin=function(t){this.__min=t},n.prototype._setMax=function(t){this.__max=t},n.prototype._scaleType=function(){return this.__scaleType},n.prototype._min=function(){if(null!=this.__min)return this.__min;for(var e=[],n=0,i=this._dimensionValues();n<i.length;n++){var o=i[n];null!=o._value()&&e.push(o._value())}return e.length>0?this.__scaleType==t.ValueScaleType.Logarithmic?t._MathExtension.min(e.filter((function(t){return t>0}))):t._MathExtension.min(e):null},n.prototype._max=function(){if(null!=this.__max)return this.__max;for(var e=[],n=0,i=this._dimensionValues();n<i.length;n++){var o=i[n];null!=o._value()&&e.push(o._value())}return e.length>0?this.__scaleType==t.ValueScaleType.Logarithmic?t._MathExtension.max(e.filter((function(t){return t>0}))):t._MathExtension.max(e):null},n.prototype.queryInterface=function(t){return"ILinearDimension"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._Dimension),e._LinearDimension=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e){var n=t.call(this,e)||this;return n.__groups1=[],n}return i(e,t),e.prototype._dimensionValueGroups1=function(){return this.__groups1},e.prototype._indexBase=function(){return e.__ORDINALDIMENSION_INDEXBASE__},e.prototype._count=function(){return this._dimensionValues().length},e.prototype.queryInterface=function(e){return"IOrdinalDimension"==e?this:t.prototype.queryInterface.call(this,e)},e.__ORDINALDIMENSION_INDEXBASE__=1,e}(t._Dimension),e._OrdinalDimension=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(){return t.call(this,0)||this}return i(e,t),e.prototype._value=function(){return 0},e}(t._DimensionValue),e._ZeroDimensionValue=n}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__groups=[],n}return i(e,t),e.prototype._dimensionValueGroups=function(){return this.__groups},e.prototype.queryInterface=function(e){return"ICategoryDimension"==e?this:t.prototype.queryInterface.call(this,e)},e}(t.models._OrdinalDimension);t._CategoryDimension=e}(t||(t={})),function(t){t._isCategoryDimension=function(e){var n=e;return null!=n&&t._isOrdinalDimension(n)&&"function"==typeof n._dimensionValueGroups}}(t||(t={})),function(t){!function(t){t._isLinearDimension=function(t){var e=t;return null!=e._min&&null!=e._max&&null!=e._setMin&&null!=e._setMax&&null!=e._scaleType}}(t.models||(t.models={}))}(t||(t={})),function(t){t._isOrdinalDimension=function(t){var e=t;return null!=e&&"function"==typeof e._dimensionValueGroups1&&"function"==typeof e._indexBase&&"function"==typeof e._count}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n){var i=t.call(this,null)||this;return i.__min=e,i.__max=n,i}return i(e,t),e.prototype._overlayMin=function(){return this.__min},e.prototype._overlayMax=function(){return this.__max},e}(t._Dimension),e._OverlayDimension=n}(t||(t={})),function(t){!function(t){t._isOverlayDimension=function(t){var e=t;return"function"==typeof e._overlayMin&&"function"==typeof e._overlayMax}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n)||this;return o.key=e,o.__values=[],o.parent=i,o.children=[],o}return i(e,t),e.prototype._dimensionValues=function(){return this.__values},e.prototype.queryInterface=function(t){return"IDimensionValueGroup"==t?this:null},e}(t._DataModel);t._DimensionValueGroup=e}(t||(t={})),function(t){t._isDimensionValueGroup=function(e){var n=e;return null!=n&&t._isTreeNode(e)&&"function"==typeof n._dimensionValues}}(t||(t={})),function(t){t._isOrdinalDimensionValue=function(t){return null!=t&&void 0!==t.path}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInDimensionMergePolicyBuilders=function(){return null==n.__buildInDimensionMergePolicyBuilders&&(n.__buildInDimensionMergePolicyBuilders=new n([new t.models._DefaultDimensionMergePolicy],n._pluginType)),n.__buildInDimensionMergePolicyBuilders},n.prototype._convert=function(e){return t.models._isDimensionMergePolicyBuilder(e)?e:null},n.prototype.dimensionMergePolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.build(e);if(null!=l)return l}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="DimensionMerge",n}(t._BuildInObjectCollection);t._BuildInDimensionMergePolicyBuilderCollection=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.prototype.canMerge=function(t,e){return!0},t.prototype.merge=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];null!=o&&t.indexOf(o)<0&&t.push(o)}return t},t.prototype.build=function(t){return this},t.prototype.queryInterface=function(t){return"IDimensionMergePolicy"===t||"IDimensionMergePolicyBuilder"===t?this:null},t}();t._DefaultDimensionMergePolicy=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isDimensionMergePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.canMerge&&"function"==typeof e.merge}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isDimensionMergePolicyBuilder=function(t){return null!=t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__path=[],n}return i(e,t),Object.defineProperty(e.prototype,"path",{get:function(){return this.__path},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(e){return"IOrdinalDimensionValue"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._DimensionValue);t._OrdinalDimensionValue=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,e){this.__min=null,this.__max=null,this.__dimensions=t,this.__scaleType=e}return n.prototype._min=function(){return null==this.__min&&this._calculateDimensionMinMax(this.__dimensions),this.__min},n.prototype._max=function(){return null==this.__max&&this._calculateDimensionMinMax(this.__dimensions),this.__max},Object.defineProperty(n.prototype,"dimensions",{get:function(){return this.__dimensions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleType",{get:function(){return this.__scaleType},enumerable:!0,configurable:!0}),n.prototype._calculateDimensionMinMax=function(n){for(var i=0,o=n;i<o.length;i++){var r=o[i];t._isOrdinalDimension(r)?this._calculateOrdinalDimensionMinMax(r):e._isLinearDimension(r)&&this._calculateLinearDimensionMinMax(r)}},n.prototype._calculateOrdinalDimensionMinMax=function(t){var e=t._indexBase(),n=t._count();(null==this.__min||e<this.__min)&&(this.__min=e),(null==this.__max||n>this.__max)&&(this.__max=n)},n.prototype._calculateLinearDimensionMinMax=function(t){var e=t._min(),n=t._max();(null==this.__min||null!=e&&e<this.__min)&&(this.__min=e),(null==this.__max||null!=n&&n>this.__max)&&(this.__max=n)},n.prototype._itemValue=function(n){if(this.__scaleType==t.ValueScaleType.Date)return new Date(n);if(this.__scaleType==t.ValueScaleType.Ordinal){for(var i=0,o=this.__dimensions.slice().reverse();i<o.length;i++)for(var r=0,l=(c=o[i])._dimensionValues();r<l.length;r++){var a=l[r];if(a._value()===n){var s=a.rawValue;if(null!=s)return s}}return null}for(var u=n,_=0,p=this.__dimensions.slice().reverse();_<p.length;_++){var c=p[_];if(e._isLinearDimension(c)){var h=c;if(h._scaleType()==t.ValueScaleType.Linear||h._scaleType()==t.ValueScaleType.Logarithmic){var f=c._definition();if(null!=f){var d=f.queryInterface("IXyValueDimensionDefinition");null!=d&&null!=d._fieldDefinition()&&d._fieldDefinition()._dataField._type()==t.core.DataType.Date&&(u=new Date(n));var y=f.queryInterface("IAggregateValueDimensionDefinition");null!=y&&null!=y._fieldDefinition()&&y._fieldDefinition()._dataField._type()==t.core.DataType.Date&&y._aggregate()==t.Aggregate.List&&(u=new Date(n));var g=f.queryInterface("IRangeValueDimensionDefinition");if(null!=g&&null!=g._lowerFieldDefinition&&g._lowerFieldDefinition._dataField._type()==t.core.DataType.Date&&(u=new Date(n)),null!=u)break}}}}return u},n}(),e._ScaleDimension=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInScaleDimensionBuilders=function(){return null==n.__buildInScaleDimensionBuilders&&(n.__buildInScaleDimensionBuilders=new n([new t.models._DefaultScaleDimensionBuilder],n._pluginType)),n.__buildInScaleDimensionBuilders},n.prototype._convert=function(e){return t.models._isScaleDimensionBuilder(e)?e:null},n.prototype.scaleDimension=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildScaleDimension(e);if(null!=l)return l}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="ScaleDimension",n}(t._BuildInObjectCollection);t._BuildInScaleDimensionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildScaleDimension=function(n){for(var i=!1,o=!1,r=!1,l=!1,a=0,s=n;a<s.length;a++){var u=s[a];if(t._isOrdinalDimension(u))i=!0;else if(e._isLinearDimension(u)){var _=u;_._scaleType()==t.ValueScaleType.Logarithmic?r=!0:_._scaleType()==t.ValueScaleType.Date?l=!0:_._scaleType()==t.ValueScaleType.Linear&&(o=!0)}}var p=t.ValueScaleType.Linear;return r&&!o?p=t.ValueScaleType.Logarithmic:l&&!o?p=t.ValueScaleType.Date:i&&!o&&(p=t.ValueScaleType.Ordinal),new e._ScaleDimension(n,p)},n.prototype.queryInterface=function(t){return"IScaleDimensionBuilder"===t?this:null},n}(),e._DefaultScaleDimensionBuilder=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isScaleDimensionBuilder=function(t){return null!=t&&"function"==typeof t._buildScaleDimension}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInDimensionValueBuilders=function(){return null==n.__buildInDimensionValueBuilders&&(n.__buildInDimensionValueBuilders=new n([new t._AggregateValueDefinitionDimensionValueBuilder,new t._DateRangeValueDefinitionDimensionValueBuilder,new t._NumberRangeValueDefinitionDimensionValueBuilder,new t._XyValueDefinitionDimensionValueBuilder,new t._XFieldDefinitionDimensionValueBuilder],n._pluginType)),n.__buildInDimensionValueBuilders},n.prototype._convert=function(e){return t._isDimensionValueBuilder(e)?e:null},n.prototype._dimensionValueBuilder=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildDimensionBuilder(t);if(null!=r)return r}return null},n._pluginType="DimensionValueBuilder",n}(t._BuildInObjectCollection);t._BuildInDimensionValueBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isAggregateValueDimensionDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isAggregateValueDimensionDefinition(i)){var o=i,r=[];if((e=new t._DataSlicesKeysFilter(o._excludeNullsFilter,[o._fieldDefinition()._dataField._name])._filter(e))._length<=0)return r;var l=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._fieldDefinition()._dataField,o._aggregate());if(null!=n){var a=n.queryInterface("IOrdinalDimension");if(null!=a)for(var s=0,u=a._dimensionValues();s<u.length;s++){var _=u[s];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(_.rawValue,l)){r.push(_);break}}else _=new t._DimensionValue(l),r.push(_),n._dimensionValues().push(_)}else _=new t._DimensionValue(l),r.push(_);return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._AggregateValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){if(t._isRangeValueDimensionDefinition(e)){var n=e;if(t._isDateDataFieldDefinition(n._lowerFieldDefinition)&&t._isDateDataFieldDefinition(n._upperFieldDefinition))return this}return null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isRangeValueDimensionDefinition(i)){var o=i;if(t._isDateDataFieldDefinition(o._lowerFieldDefinition)&&t._isDateDataFieldDefinition(o._upperFieldDefinition)){var r=[],l=[];if(null!=o._lowerFieldDefinition&&l.push(o._lowerFieldDefinition._dataField._name),null!=o._upperFieldDefinition&&l.push(o._upperFieldDefinition._dataField._name),(e=new t._DataSlicesKeysFilter(o._excludeNullsFilter,l)._filter(e))._length<=0)return r;var a=this._toDateRangeItem(e,o._lowerFieldDefinition,o._upperFieldDefinition),s=a[0],u=a[1],_=new t._DimensionValue(u),p=new t._DimensionValue(s);return r.push(_),r.push(p),n._dimensionValues().push(_),n._dimensionValues().push(p),r}}return null},e.prototype._toDateRangeItem=function(e,n,i){for(var o=null,r=null,l=0,a=e.list();l<a.length;l++){var s=a[l];if(null!=n&&t._isDateDataFieldDefinition(n)){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(s,n._dataField,t.Aggregate.List);null!=u&&(null==r||r.valueOf()>u.valueOf())&&(r=u)}if(null!=i&&t._isDateDataFieldDefinition(i)){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(s,i._dataField,t.Aggregate.List);null!=_&&(null==o||o.valueOf()<_.valueOf())&&(o=_)}}return[o,r]},e.prototype.queryInterface=function(t){return null},e}();t._DateRangeValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){if(t._isRangeValueDimensionDefinition(e)){var n=e;if(t._isNumberDataFieldDefinition(n._lowerFieldDefinition)&&t._isNumberDataFieldDefinition(n._upperFieldDefinition))return this}return null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isRangeValueDimensionDefinition(i)){var o=i;if(t._isNumberDataFieldDefinition(o._lowerFieldDefinition)&&t._isNumberDataFieldDefinition(o._upperFieldDefinition)){var r=[],l=[];if(null!=o._lowerFieldDefinition&&l.push(o._lowerFieldDefinition._dataField._name),null!=o._upperFieldDefinition&&l.push(o._upperFieldDefinition._dataField._name),(e=new t._DataSlicesKeysFilter(o._excludeNullsFilter,l)._filter(e))._length<=0)return r;var a=o._lowerFieldDefinition,s=o._upperFieldDefinition;if(null!=a&&null!=s){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(e,a._dataField,t.Aggregate.Min),_=new t._DimensionValue(u),p=t._DataSlicesAggregate._defaultAggregate._aggregate(e,s._dataField,t.Aggregate.Max),c=new t._DimensionValue(p);r.push(_),r.push(c),n._dimensionValues().push(_),n._dimensionValues().push(c)}return r}}return null},e.prototype.queryInterface=function(t){return null},e}();t._NumberRangeValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isXFieldDimensionDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isXFieldDimensionDefinition(i)){var o=i,r=[];if(null!=o._fieldDefinition()){if(o._getXFieldEncodingDefinition()._excludeNulls){var l=t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,o._getXFieldEncodingDefinition()._plotDefinition._pluginCollection);e=new t._DataSlicesKeysFilter(l,[o._fieldDefinition()._dataField._name])._filter(e)}if(e._length<=0)return r;var a=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._fieldDefinition()._dataField,t.Aggregate.List);if(null!=n){var s=n.queryInterface("IOrdinalDimension");if(null!=s)for(var u=0,_=s._dimensionValues();u<_.length;u++){var p=_[u];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(p.rawValue,a)){r.push(p);break}}else p=new t._DimensionValue(a),r.push(p),n._dimensionValues().push(p)}else p=new t._DimensionValue(a),r.push(p)}return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._XFieldDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isXyValueDimensionDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isXyValueDimensionDefinition(i)){var o=i,r=[];if((e=new t._DataSlicesKeysFilter(o._excludeNullsFilter,[o._fieldDefinition()._dataField._name])._filter(e))._length<=0)return r;var l=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._fieldDefinition()._dataField,o._aggregate());if(null!=n){var a=n.queryInterface("IOrdinalDimension");if(null!=a)for(var s=0,u=a._dimensionValues();s<u.length;s++){var _=u[s];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(_.rawValue,l)){r.push(_);break}}else _=new t._DimensionValue(l),r.push(_),n._dimensionValues().push(_)}else _=new t._DimensionValue(l),r.push(_);return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._XyValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){t._isDimensionValueBuilder=function(t){var e=t;return null!=e&&"function"==typeof e._buildDimensionBuilder&&"function"==typeof e._buildDimensionValues}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInDoubleClickInteractionBuilders=function(){return null==n.__buildInDoubleClickInteractionBuilders&&(n.__buildInDoubleClickInteractionBuilders=new n([],n._pluginType)),n.__buildInDoubleClickInteractionBuilders},n.prototype._convert=function(e){return t._isDoubleClickInteractionBuilder(e)?e:null},n.prototype._doubleClickInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildDoubleClickInteraction(t);i.push(l)}return i},n._pluginType="DoubleClickInteraction",n}(t._BuildInObjectCollection);t._BuildInDoubleClickInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInDraggingInteractionBuilders=function(){return null==n.__buildInDraggingInteractionBuilders&&(n.__buildInDraggingInteractionBuilders=new n([],n._pluginType)),n.__buildInDraggingInteractionBuilders},n.prototype._convert=function(e){return t._isDraggingInteractionBuilder(e)?e:null},n.prototype._draggingInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildDraggingInteraction(t);i.push(l)}return i},n._pluginType="DraggingInteraction",n}(t._BuildInObjectCollection);t._BuildInDraggingInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(t){this._index=t}return t.prototype._filter=function(t){if(null!=t){var e=this._index<0?Math.max(0,this._index+t.length):Math.min(t.length-1,this._index),n=[];return 0<=e&&e<t.length&&n.push(t[e]),n}return null},t}();t._IndexFilter=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._start=t,this._end=e,this._step=n}return t.prototype._filter=function(t){if(null!=t){var e=t.length,n=null==this._start||isNaN(this._start)?0:this._start,i=null==this._end||0==this._end||isNaN(this._end)?t.length:this._end,o=null==this._step||0==this._step||isNaN(this._step)?1:this._step;n=n<0?Math.max(0,n+e):Math.min(e,n),i=i<0?Math.max(0,i+e):Math.min(e,i);for(var r=[],l=n;l<i&&l>=0;l+=o)r.push(t[l]);return r}return null},t}();t._SliceFilter=e}(t||(t={})),t||(t={}),function(t){!function(t){var e=function(){function e(){}return e.prototype.tooltipManager=function(){return new t.ToolTipManager},e.globalModel=new e,e}();t.GlobalModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__modelTypes=t}return e.prototype.predicate=function(e){var n=null!=e&&null!=e.model?e.model.type:null;return!(null!=n&&this.__modelTypes.indexOf(t.ElementType[n].toString())>=0)},e}(),e.ExcludingModelPrediction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__modelTypes=t}return e.prototype.predicate=function(e){var n=null!=e?e.model.type:null;return null!=n&&this.__modelTypes.indexOf(t.ElementType[n].toString())>=0},e}(),e.IncludingModelPrediction=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInHoverInteractionBuilders=function(){return null==n.__buildInHoverInteractionBuilders&&(n.__buildInHoverInteractionBuilders=new n([],n._pluginType)),n.__buildInHoverInteractionBuilders},n.prototype._convert=function(e){return t._isHoverInteractionBuilder(e)?e:null},n.prototype._hoverInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildHoverInteraction(t);i.push(l)}return i},n._pluginType="HoverInteraction",n}(t._BuildInObjectCollection);t._BuildInHoverInteractionBuilderCollection=e}(t||(t={})),function(t){t._isAxialPaddingConsumer=function(t){var e=t;return null!=e&&"function"==typeof e._xRangePadding&&"function"==typeof e._yRangePadding&&"function"==typeof e._preparePadding}}(t||(t={})),t||(t={}),t||(t={}),function(t){!function(t){var e=function(){function t(){this.__trackers=[]}return t.prototype.render=function(t){for(var e=0,n=this.__trackers;e<n.length;e++)n[e].draw(t)},t.prototype.hitTest=function(t){return null},t.prototype._appendTracker=function(t){this.__trackers.push(t)},t.prototype._removeTracker=function(t){this.__trackers.splice(this.__trackers.indexOf(t),1)},t.prototype._reset=function(){this.__trackers=[]},t}();t._WidgetLayer=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInPinchInteractionBuilders=function(){return null==n.__buildInPinchInteractionBuilders&&(n.__buildInPinchInteractionBuilders=new n([],n._pluginType)),n.__buildInPinchInteractionBuilders},n.prototype._convert=function(e){return t._isPinchInteractionBuilder(e)?e:null},n.prototype._pinchInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildPinchInteraction(t);i.push(l)}return i},n._pluginType="PinchInteraction",n}(t._BuildInObjectCollection);t._BuildInPinchInteractionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._applyPlotConditionFormattingRules=function(e,n){var i=this;n.forEach((function(n){if(null!=n)if("DataPoint"==n.type){var o=[],r=e._getDefinition()._pluginCollection;null!=(l=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,o,r))&&i._applyPointConditionFormattingRule(e,l)}else if("Group"==n.type){var l;o=[],r=e._getDefinition()._pluginCollection,null!=(l=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,o,r))&&i._applyGroupConditionFormattingRule(e,l)}}))},e.prototype._applyConditionalFormattingRules=function(t){this._applyPlotConditionFormattingRules(t,t._getDefinition()._plotConfigOption.rules)},e}(),e._ConditionalFormattingRuleRunner=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){null!=t&&t._traverseCartesianGroupView((function(t){for(var n=0,i=t._getCartesianSeriesViews();n<i.length;n++){var o=i[n];e.evaluate(o)}}))},e.prototype._applyPointConditionFormattingRule=function(t,e){if(null!=t)for(var n=0,i=t._getPointViews();n<i.length;n++){var o=i[n];e.evaluate(o)}},e}(t._ConditionalFormattingRuleRunner);t._CartesianConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._filter=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++){var l=r[o],a=l._data(),s=e._getYValue(a);null==s.upperY||isNaN(s.upperY)||a instanceof t._RangeValuePointDataModel&&(null==s.lowerY||isNaN(s.lowerY))||null==a._value()&&e._isStack()&&e._showNulls()!=t.ShowNulls.Zeros||i.push(l)}return i},e}(),e._CartesianPlotDataFilter=n}(t||(t={})),function(t){!function(e){var n=function(){function e(){}return e.prototype._seriesGroup=function(t){for(var e=[],n=function(t){for(var n=function(n){var o=n._valueDefinition(),r=n._detailDimension(),l=null==r?null:r._definition(),a=e.filter((function(e){return e.valueDefinition==o&&e.detailDefinition==l&&e.group==t})),s=void 0;0==a.length?(s=new i(o,l,[],t),e.push(s)):s=a[0],s.seriesList.push(n)},o=0,r=t._filteredSeriesList();o<r.length;o++)n(r[o])},o=0,r=t._groups();o<r.length;o++)n(r[o]);return e},e.prototype._layout=function(e){for(var n=0,i=this._seriesGroup(e);n<i.length;n++){for(var o=i[n],r=0,l=o.seriesList;r<l.length;r++)for(var a=0,s=l[r]._filterPoints();a<s.length;a++)s[a]._resetLayout();null!=o.detailDefinition&&t._isStackGroupDetailEncodingDefintion(o.detailDefinition)?this._stack(o.seriesList,"stack","previous"):this._cluster(o.seriesList,"cluster","previous")}},e.prototype._cluster=function(t,e,n){for(var i=0,o=t;i<o.length;i++)for(var r=0,l=o[i]._filterPoints();r<l.length;r++)l[r]._setDimValue(n,null)},e.prototype._stack=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,s=l[r]._filterPoints();a<s.length;a++){var u=s[a],_=u.xDimensionValue._value(),p=o._get(_),c=null,h=u.queryInterface("INumberValue");null!=h&&null==(c=h.value)&&(c=0);var f=u.queryInterface("INumberRangeValue");null!=f&&(null==p&&(p=0),c=(null==f.upper?0:f.upper)-(null==f.lower?0:f.lower)),u._setDimValue(i,p),null==o._get(_)?o._set(_,c):o._set(_,o._get(_)+(null==c?0:c)),u._setDimValue(n,o._get(_))}},e.prototype._percentagewise=function(t){for(var e=0,n=this._seriesGroup(t);e<n.length;e++){var i=n[e];this._percentage(i.seriesList,"percentage","previous")}},e.prototype._percentage=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,s=l[r]._filterPoints();a<s.length;a++){var u=(y=s[a]).xDimensionValue._value(),_=0,p=null;null!=(g=y.queryInterface("INumberStackValue"))&&(null!=g.previous&&(_=g.previous),p=g.value),null==p&&(p=0),null==o._get(u)?o._set(u,Math.abs(p-_)):o._set(u,o._get(u)+Math.abs(p-_))}for(var c=0,h=e;c<h.length;c++)for(var f=0,d=h[c]._filterPoints();f<d.length;f++){u=(y=d[f]).xDimensionValue._value();var y,g,m=o._get(u);null!=m&&0!=m&&(_=0,p=null,null!=(g=y.queryInterface("INumberStackValue"))&&(null!=g.previous&&(_=g.previous/m,y._setDimValue(i,_)),p=null==g.value?0:g.value/m),y._setDimValue(n,p))}},e.prototype.buildPlotLayout=function(e,n){return t._isCartesianPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayout"==t||"ICartesianPlotLayoutBuilder"===t?this:null},e}();e._CartesianPlotLayout=n;var i=function(t,e,n,i){this.valueDefinition=t,this.detailDefinition=e,this.seriesList=n,this.group=i}}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e){this.__definition=t,this.__key=e}return e.prototype._definition=function(){return this.__definition},e.prototype._key=function(){return this.__key},e.prototype._keyEquals=function(e){var n=this.__definition._dataFieldDefinition._dataField;if(t._AnyTypeUtility._isString(e)&&t._isDateDataField(n)){var i=n._dateParser(),o=null!=i?i._parseDate(e.toString()):null;null!=o&&(e=t._DataValueTypeExtension._toDataValueType(o))}return t._DataValueTypeEqualityComparer._comparer._equalsWith(this.__key,e)},e.prototype._equalsWith=function(n){if(this==n)return!0;if(n instanceof e){if(!t._DataValueTypeEqualityComparer._comparer._equalsWith(this._key(),n._key()))return!1;var i=this._definition(),o=n._definition();if(null!=i&&null!=o){if(!i.equalsWith(o))return!1}else if(null!=i||null!=o)return!1;return!0}return!1},e}(),e._DetailDimension=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._apply=function(t){this._applyAxisLabelConditionFormattingRules(t,this._createAxisLabelConditionalFormattingRules(t,t._getDefinition()._option.rules))},e.prototype._applyAxisLabelConditionFormattingRules=function(t,e){for(var n=0,i=e;n<i.length;n++)for(var o=i[n],r=0,l=t._labelViews();r<l.length;r++){var a=l[r];o.evaluate(a)}},e.prototype._createAxisLabelConditionalFormattingRules=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++){var l=r[o];if(null!=l){var a=e._getCoordinateSystemView()._getDefinition()._pluginCollection,s=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(l,[],a);null!=s&&i.push(s)}}return i},e}(),e._AxisConditionalFormattingRuleRunner=n}(t||(t={})),function(t){!function(t){var e=function(){function e(t){this.__categoryValues=t}return Object.defineProperty(e.prototype,"categoryValues",{get:function(){return this.__categoryValues.map((function(e){return t._isAxisCategoryModel(e)?e:null}))},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(t){return null},e}();t._AxisCategoryModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__axisLabelViews=t}return t.prototype.labels=function(){return this.__axisLabelViews},t.prototype.queryInterface=function(t){return null},t}();t._AxisLabel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__axisTitleView=t}return e.prototype.title=function(){var e=this.__axisTitleView.queryInterface("IAxisTitleModel");if(null!=e)return e;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue)},e.prototype.queryInterface=function(t){return null},e}(),e._AxisTitle=n}(t||(t={})),function(t){!function(t){t._isAxisCategoryModel=function(t){return null!=t&&void 0!==t.categoryValues}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isAxisLabel=function(t){return null!=t&&"function"==typeof t.labels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.defaultBuildInCartesianPlotLayoutBuilders=function(){return null==n.__buildInCartesianPlotLayoutBuilders&&(n.__buildInCartesianPlotLayoutBuilders=new n([new t._WaterfallPlotLayout,new t._BarPlotLayout,new t.models._CartesianPlotLayout],n._pluginType)),n.__buildInCartesianPlotLayoutBuilders},n.prototype._convert=function(e){return t.models._isCartesianPlotLayoutBuilder(e)?e:null},n.prototype._cartesianPlotLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildPlotLayout(t,e);if(null!=r)return r}return null},n._pluginType="PlotLayout",n}(t._BuildInObjectCollection);t._BuildInCartesianPlotLayoutBuilderCollection=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__gridLineViews=t}return t.prototype.gridLines=function(){for(var t=[],e=0,n=this.__gridLineViews;e<n.length;e++){var i=n[e];if(i._visible){var o=i.queryInterface("IGridLineModel");if(null!=o){var r=o;t.push(r)}}}return t},t.prototype.queryInterface=function(t){return null},t}();t._GridLine=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isGridLine=function(t){return null!=t&&"function"==typeof t.gridLines}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPlotLayout=function(t){var e=t;return null!=e&&"function"==typeof e._layout&&"function"==typeof e._percentagewise}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPlotLayoutBuilder=function(t){return null!=t.buildPlotLayout}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isCartesianPlotModel=function(t){return null!=t&&void 0!==t.seriesList}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPointModel=function(t){var e=t;return null!=e&&void 0!==e.valueDefinition&&void 0!==e.detail&&void 0!==e.dimension&&void 0!==e.value&&void 0!==e.series&&void 0!==e.index&&void 0!==e.previous&&void 0!==e.next&&void 0!==e.isMax&&void 0!==e.isMin&&void 0!==e.offset}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianRangePointModel=function(t){var e=t;return null!=e&&void 0!==e.upper&&void 0!==e.lower}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.axisX&&void 0!==e.axisY&&void 0!==e.valueDefinition&&void 0!==e.detail}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCategoryValueModel=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.points}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isQueryShowTooltipModel=function(t){return null!=t&&"function"==typeof t.queryRelatedTooltipViewModel}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isQueryShowTooltipViewModel=function(t){return null!=t.queryRelatedTooltipViewModel}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowTooltipModel=function(t){var e=t;return null!=e&&"function"==typeof e.contains&&"function"==typeof e._tooltipContent}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this._pointView=e,this.__contentDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._pluginCollection)}return n.prototype._point=function(){if(null==this._pointView._data())throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return this._pointView._data()},n.prototype._contentDefinitions=function(){return this.__contentDefinitions},n.prototype._getDefaultFormat=function(e){var n;return"PercentageCategory"==(n=e instanceof t._TokenSyntaxExpression?e.token:e.syntaxExpression)||"PercentageDetail"==n||"PercentagePlot"==n?this.__stringFormatting.defaultFormat(t.core.DataType.Number,!0):null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){if(null==t)return null;var i=e.split(".");return"PercentageCategory"===t?this._getPercentageCategoryProperty(i):"PercentageDetail"===t?this._getPercentageDetailProperty(i):"PercentagePlot"===t?this._getPercentagePlotProperty(i):"valueField"===t?this._getValueFieldProperty(i):"xField"===t?this._getXFieldProperty(i):"categoryField"===t?this._getCategoryFieldProperty(i,n):"detailFields"===t?this._getDetailFieldsProperty(i):"colorField"===t?this._getColorFieldProperty(i):"shapeField"===t?this._getShapeFieldProperty(i):"sizeField"===t?this._getSizeFieldProperty(i):this._getTokenProperty(t,i)},n.prototype._getPropertyValue=function(e,n){if(null!=n&&n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];return new t._AnyValueBinding(r)._getValue(e)}throw new t.RuntimeError(t.ErrorCode.UnexpectedEmptyArray,n)},n.prototype._getPercentageCategoryProperty=function(t){var n=t.shift();if("name"==n)return new e._DataValueInfo("PercentageCategory",this.__stringFormatting);if("value"==n){var i=this._point()._percentageCategory();if(null!=i)return new e._DataValueInfo(i,this.__stringFormatting)}return null},n.prototype._getPercentageDetailProperty=function(t){var n=t.shift();if("name"==n)return new e._DataValueInfo("PercentageDetail",this.__stringFormatting);if("value"==n){var i=this._point()._percentageDetail();if(null!=i)return new e._DataValueInfo(i,this.__stringFormatting)}return null},n.prototype._getPercentagePlotProperty=function(t){var n=t.shift();return"name"==n?new e._DataValueInfo("PercentagePlot",this.__stringFormatting):"value"==n?new e._DataValueInfo(this._point()._percentagePlot(),this.__stringFormatting):null},n.prototype._getValueFieldProperty=function(n){var i=n.shift(),o=this._point()._group()._y();if("name"==i){if(null!=o._definition()){var r=o._definition().label();if(null!=r)return new e._DataValueInfo(r,this.__stringFormatting)}return null}if("value"==i){if(t._isRangeValuePointDataModel(this._point())){var l=this._point();if(t._AnyTypeUtility._isDate(l.lower)&&t._AnyTypeUtility._isDate(l.upper)){var a=new e._DateRangeValueInfo(l.lower,l.upper,this.__stringFormatting);if(null==n||n.length<=0)return a;var s=this._getPropertyValue(a,n);return new e._DataValueInfo(s,this.__stringFormatting)}return t._AnyTypeUtility._isNumber(l.lower)&&t._AnyTypeUtility._isNumber(l.upper)?(a=new e._NumberRangeValueInfo(l.lower,l.upper,this.__stringFormatting),null==n||n.length<=0?a:null!=(s=this._getPropertyValue(a,n))?new e._DataValueInfo(s,this.__stringFormatting):null):null}var u=this._getValueByValueDefinition(this._point()._valueDefinition(),this._point()._dataSlices);return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==i){var _=o._definition();if(null!=_){var p=_.queryInterface("IAggregateValueDimensionDefinition");if(null!=p){var c=p._aggregate();return null!=c&&null!=(h=t._CastExtension.toAggregateString(c))?new e._DataValueInfo(h,this.__stringFormatting):null}var h,f=_.queryInterface("IXyValueDimensionDefinition");if(null!=f)return null!=(h=t._CastExtension.toAggregateString(f._aggregate()))?new e._DataValueInfo(h,this.__stringFormatting):null}}return null},n.prototype._getXFieldProperty=function(t){var n=t.shift(),i=this._point()._group()._x();if("name"==n){if(null!=i._definition()){var o=i._definition().label();return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}return null}if("value"==n){var r=this._point().xDimensionValue.rawValue;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}return null},n.prototype._getCategoryFieldProperty=function(n,i){var o=n.shift(),r=this._point()._group()._x();if(r instanceof t._CategoryDimension){null==i&&(i=0);var l=null;if(t._isCartesianCategoryDimensionDefinition(r._definition())&&null!=(l=r._definition()._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions)&&i>=0&&i<l.length){if("name"==o){var a=l[i].label();return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}if("value"==o){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l[i]._dataFieldDefinition._dataField,t.Aggregate.List);return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}}}return null},n.prototype._getDetailFieldsProperty=function(t){var n=t.shift(),i=this._point()._detailDimension();if(null!=i&&null!=i._definition()){if("name"==n){var o=i._definition()._dataFieldDefinition._label;return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}if("value"==n){var r=i._key();return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}}return null},n.prototype._getColorFieldProperty=function(n){var i=n.shift(),o=this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getCartesianPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(o instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i)return null!=(s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("aggregate"==i)return null!=(u=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}else if(o instanceof t._NumbericLegendEncodingDefinition){if("name"==i){var l=o._fieldDefinition()._label;return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("value"==i)return null!=(s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("aggregate"==i)return null!=(u=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}else if(o instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==i){var a=o._fieldDefinition()._label;return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}var s,u,_;if("value"==i)return null!=(s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("aggregate"==i)return null!=(u=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}return null},n.prototype._getShapeFieldProperty=function(n){var i=n.shift(),o=this._point()._plot()._cartesianPlotDefinition()._encodingsDefinition._getShapeEncodingDefinition();if(o instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate());return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("aggregate"==i){var a=t._CastExtension.toAggregateString(o._aggregate());return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}}return null},n.prototype._getSizeFieldProperty=function(n){var i=n.shift(),o=this._point()._plot()._cartesianPlotDefinition()._encodingsDefinition._getSizeEncodingDefinition();if(o instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate());return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("aggregate"==i){var a=t._CastExtension.toAggregateString(o._aggregate());return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}}return null},n.prototype._getTokenProperty=function(n,i){for(var o=i.shift(),r=0,l=this._contentDefinitions();r<l.length;r++){var a=l[r];if(t._isAggregateContentEncodingDefinition(a)){var s=a;if(s._dataFieldDefinition._dataField._name==n){if("name"==o){var u=s._dataFieldDefinition._label;return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}if("value"==o){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,s._dataFieldDefinition._dataField,s._aggregate);return null!=_?new e._DataValueInfo(_,this.__stringFormatting):null}if("aggregate"==o){var p=t._CastExtension.toAggregateString(s._aggregate);return null!=p?new e._DataValueInfo(p,this.__stringFormatting):null}}}}return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this._pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this._pointView?new t._AnyValueBinding(e.substring(8))._getValue(this._pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n.prototype._getValueByValueDefinition=function(e,n){var i=null;if(t._isXyValueDimensionDefinition(e)){var o=e;i=t._DataSlicesAggregate._defaultAggregate._aggregate(n,o._fieldDefinition()._dataField,o._aggregate())}else if(t._isAggregateValueDimensionDefinition(e)){var r=e;i=t._DataSlicesAggregate._defaultAggregate._aggregate(n,r._fieldDefinition()._dataField,r._aggregate())}return i},n}(),e._CartesianTextProxy=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._getDefaultFormat=function(e){return null!=this._pointView.text.format&&null!=this._pointView.text.format.value?this._pointView.text.format.value:t.prototype._getDefaultFormat.call(this,e)},e.prototype._getDefaultFormatType=function(){return null!=this._pointView.text.format&&null!=this._pointView.text.format.type?this._pointView.text.format.type:null},e}(t._CartesianTextProxy);t._CartesianDataLabelTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isStringifyable=function(t){return null!=t&&"function"==typeof t._stringify}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.type=t,this.value=e}return t._attribute=function(t,e){return'"'+t+'":"'+e+'"'},t._Json_Stringify=function(e){return"{"+t._attribute("type",e.type)+","+t._attribute("value",e.value)+"}"},t._Json_Parse=function(e){var n=e.match(/"type":"(.*?)"/),i=e.match(/"value":"(.*?)"/);return new t(null==n?null:n[1],null==i?null:i[1])},t._toTemplateString=function(e){return null!=e?"<%"+t._Json_Stringify(e)+"%>":""},t._parse=function(e){for(var n,i=/<%(.*?)%>/g,o=0,r=[];null!=(n=i.exec(e));){var l=n.index;l>o&&r.push(new t("text",e.substr(o,l))),r.push(t._Json_Parse(n[1])),o=l+n[0].length}return o<e.length&&r.push(new t("text",e.substr(o,e.length))),r},t}();t.StringObject=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){null!=t&&t._traverseCartesianGroupView((function(t){for(var n=0,i=t._getCartesianSeriesViews();n<i.length;n++){var o=i[n];e.evaluate(o)}}))},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t){e.evaluate(t)}))},e}(t._ConditionalFormattingRuleRunner);t._TextConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isFilter=function(t){return null!=t&&"function"==typeof t.filter}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"propertyChanged",{set:function(t){this.__propertyChanged=t},enumerable:!0,configurable:!0}),t.prototype._onPropertyChanged=function(t){null!=this.__propertyChanged&&this.__propertyChanged(this,t)},t}();t._NotifyPropertyChange=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.__map={}}return e.prototype.get=function(e){for(var n=this.__map,i=0;i<e.length;++i){if(i==e.length-1){if(t._NativeExtension.hasProperty(n,e[i],!1))return new t.PropertyValueResult(t._NativeExtension.getPropertyValue(n,e[i]));break}if(null==(n=t._NativeExtension.getPropertyValue(n,e[i]))||"object"!=typeof n)break}return null},e.prototype.set=function(e,n){if(0!=e.length){for(var i=this.__map,o=0;o<e.length-1;++o){var r=t._NativeExtension.getPropertyValue(i,e[o]);if(null==r){var l={};t._NativeExtension.setPropertyValue(i,e[o],l),r=l}else if("object"!=typeof i)return;i=r}t._NativeExtension.setPropertyValue(i,e[e.length-1],n)}},e}(),e.AssignedRecorder=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isModelProxy=function(t){var e=t;return null!=e&&"function"==typeof e.get&&"function"==typeof e.set}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this.__assignedRecord=new e.AssignedRecorder,this.__model=t}return n.prototype.get=function(e,n){void 0===n&&(n=!1);var i=t._EscapedCharacterStringUtility.slicePathArray(e);if(i.length<=0)return null;var o=this.__assignedRecord.get(i);if(null==o&&!n){var r=new t._AnyValueBinding(e);o=new t.PropertyValueResult(r._getValue(this.__model))}return o},n.prototype.set=function(e,n){var i=t._EscapedCharacterStringUtility.slicePathArray(e);i.length>0&&this.__assignedRecord.set(i,n)},n.prototype.queryInterface=function(t){return null},n}(),e.ModelProxy=n}(t||(t={})),function(t){var e=function(t){this.value=t};t.PropertyValueResult=e}(t||(t={})),function(t){var e=function(){function e(t){this.__domain=[],this.__range=[],this.__origin=NaN,this.__reversed=!1,this.__majorUnit=NaN,this.__minorUnit=NaN,this.__dirty=!0,this.__majorTicks=[],this.__minorTicks=[],this.__actualMajorUnit=NaN,this.__actualMinorUnit=NaN,this.___majorTickValueModels=[],this.__majorTickValueModelBuilder=t}return e.prototype.ticks=function(){return this._refresh(),this._getMajorTicks()},e.prototype.max=function(){return this._refresh(),this._max()},e.prototype.min=function(){return this._refresh(),this._min()},e.prototype.start=function(){return this._refresh(),this._start()},e.prototype.end=function(){return this._refresh(),this._end()},e.prototype._getDomain=function(){return this.__domain},e.prototype._setDomain=function(t){1==t.length?(this.__domain=[t[0],t[0]],this._onDomainChanged()):t.length>1&&(null==t[0]?this.__domain=[t[1],t[1]]:null==t[1]?this.__domain=[t[0],t[0]]:this.__domain=t.slice(),this._onDomainChanged())},e.prototype._getRange=function(){return this.__range.slice()},e.prototype._setRange=function(t){this.__range=t.slice(),this._onRangeChanged()},e.prototype._internalSetRange=function(t){this.__range=t},e.prototype._getOrigin=function(){return this.__origin},e.prototype._setOrigin=function(t){this.__origin=t,this._onOriginChanged()},e.prototype._getReversed=function(){return this.__reversed},e.prototype._setReversed=function(t){this.__reversed=t,this._onReversedChanged()},e.prototype._getMajorUnit=function(){return this.__majorUnit},e.prototype._setMajorUnit=function(e){if(this.__majorUnit!=e)if(null==e)this.__majorUnit=NaN,this._onMajorUnitChanged();else if("number"==typeof e){if(!isNaN(e)&&e<=0)throw new t.AssertError(t.ErrorCode.PositiveNumberExpected,e);this.__majorUnit=e,this._onMajorUnitChanged()}},e.prototype._getMinorUnit=function(){return this.__minorUnit},e.prototype._setMinorUnit=function(t){this.__minorUnit!=t&&(this.__minorUnit=t,this._onMinorUnitChanged())},e.prototype._onDomainChanged=function(){this._dirty()},e.prototype._onRangeChanged=function(){this._dirty()},e.prototype._onOriginChanged=function(){this._dirty()},e.prototype._onReversedChanged=function(){this._dirty()},e.prototype._onMajorUnitChanged=function(){this._dirty()},e.prototype._onMinorUnitChanged=function(){this._dirty()},e.prototype._getActualMajorUnit=function(){return this.__actualMajorUnit},e.prototype._setActualMajorUnit=function(t){this.__actualMajorUnit=t},e.prototype._getActualMinorUnit=function(){return this.__actualMinorUnit},e.prototype._setActualMinorUnit=function(t){this.__actualMinorUnit=t},e.prototype._majorTickValueModels=function(){if(null!=this.__majorTickValueModelBuilder&&this.__majorTicks.length>=0&&this.___majorTickValueModels.length<=0){for(var t=0,e=this.ticks();t<e.length;t++){var n=e[t],i=this.__majorTickValueModelBuilder.build(n);null!=i&&this.___majorTickValueModels.push(i)}this.___majorTickValueModels.length>0&&this.__majorTickValueModelBuilder.applyConditionalFormat()}return this.___majorTickValueModels},e.prototype._getMajorTicks=function(){return this.__majorTicks},e.prototype._setMajorTicks=function(t){this.__majorTicks=t,this.___majorTickValueModels=[]},e.prototype._getMinorTicks=function(){return this.__minorTicks},e.prototype._setMinorTicks=function(t){this.__minorTicks=t},e.prototype._getActualValue=function(t){return t},e.prototype._dirty=function(){this.__dirty=!0},e.prototype._refresh=function(){this.__dirty&&(this._calculate(),this.__dirty=!1)},e}();t._AxisScale=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.__domainPadding=[0,0],n.__rangePadding=[0,0],n.__start=NaN,n.__end=NaN,n.___min=NaN,n.___max=NaN,n}return i(n,e),n.prototype._getDomainPadding=function(){return this.__domainPadding.slice()},n.prototype._setDomainPadding=function(e){if(2!==e.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__domainPadding=e,this._onDomainPaddingChanged()},n.prototype._getRangePadding=function(){return this.__rangePadding.slice()},n.prototype._setRangePadding=function(e){if(2!==e.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__rangePadding=e,this._onRangePaddingChanged()},n.prototype._onDomainPaddingChanged=function(){this._dirty()},n.prototype._onRangePaddingChanged=function(){this._dirty()},n.prototype._min=function(){return this.___min-this.__domainPadding[0]},n.prototype._max=function(){return this.___max+this.__domainPadding[1]},n.prototype._internalSetRange=function(t){e.prototype._internalSetRange.call(this,t),this._calculateRange()},n.prototype._start=function(){var t=this.__start>this.__end?-1:1,e=Math.abs(this.__start-this.__end),n=this.__rangePadding[0],i=this.__rangePadding[1],o=this.__domainPadding[0],r=n+i;if(r>0&&r>e){var l=n/r;return this.__start+t*l*e}if(0!=o){var a=n-(e-r)*o/(this.___max-this.___min);return a>0?this.__start+t*a:this.__start}return this.__start+t*n},n.prototype._end=function(){var t=this.__start>this.__end?1:-1,e=Math.abs(this.__start-this.__end),n=this.__rangePadding[0],i=this.__rangePadding[1],o=this.__domainPadding[1],r=n+i;if(r>0&&r>e){var l=i/r;return this.__end+t*l*e}if(0!=o){var a=i-(e-r)*o/(this.___max-this.___min);return a>0?this.__end+t*a:this.__end}return this.__end+t*i},n.prototype.value=function(t){if(null==t||isNaN(t))return null;this._refresh();var e=t,n=this._max(),i=this._min(),o=this._start(),r=this._end();return n==i?(r-o)/2+o:(r-o)/(n-i)*(e-i)+o},n.prototype._calculate=function(){this._calculateRange(),this._calculateDomain(),this._calculateDomainOrigin()},n.prototype._calculateRange=function(){var t=this._getRange();2==t.length&&(this._getReversed()?(this.__start=t[1],this.__end=t[0]):(this.__start=t[0],this.__end=t[1]))},n.prototype._calculateDomain=function(){var t=this._getDomain(),e=t[0],n=t[1];null==e&&null==n||isNaN(e)&&isNaN(n)?e=n=0:null==e?e=n:null==n&&(n=e),this.___min=e,this.___max=n},n.prototype._calculateDomainOrigin=function(){if(!isNaN(this._getOrigin())){var t=this._getOrigin();t<this.___min?this.___min=t:t>this.___max&&(this.___max=t)}},n}(t._AxisScale);t._PaddingAxisScale=e}(t||(t={})),function(t){var e=function(e){function n(t,i){var o=e.call(this,i)||this;return o.__tickNumber=n.__defaultTickNumber,o._policy=t,o}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ValueScaleType.Linear},enumerable:!0,configurable:!0}),n.prototype._getTickNumber=function(){return this.__tickNumber},n.prototype._setTickNumber=function(e){if(this.__tickNumber!=e){if(null==e||e<=0)throw new t.OptionError(t.ErrorCode.PositiveNumberExpected);this.__tickNumber=e,null==this.__tickNumber&&(this.__tickNumber=n.__defaultTickNumber),this._dirty()}},n.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this),this._fixSameMinMax()||this._calculateMinMax()},n.prototype._fixSameMinMax=function(){if(this.___min==this.___max)if(this.___min<0)this.___max=0;else{if(!(this.___max>0))return this.___min-=.5,this.___max+=.5,!0;this.___min=0}return!1},n.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=t.min,this.___max=t.max},n.prototype._min=function(){var t=this._getDomain()[0],n=e.prototype._min.call(this);return null==t||isNaN(t)?this.__niceMin:n<this.__niceMin?n:this.__niceMin},n.prototype._max=function(){var t=this._getDomain()[1],n=e.prototype._max.call(this);return null==t||isNaN(t)?this.__niceMax:n>this.__niceMax?n:this.__niceMax},n.prototype._calculate=function(){e.prototype._calculate.call(this);var n=this.___min,i=this.___max,o=i-n,r=isNaN(this._getMajorUnit());if(!r&&this._calcTickNumber(o,this._getMajorUnit())>t._Constants.MaxMajorTickCount&&(r=!0),r){var l=this._calculateMajorUnit(o,this.__tickNumber);this._setActualMajorUnit(l)}else this._setTickNumber(this._calcTickNumber(o,this._getMajorUnit())),this._setActualMajorUnit(this._getMajorUnit());0==this._getActualMajorUnit()&&this._setActualMajorUnit(NaN);var a=isNaN(this._getMinorUnit());!a&&this._calcTickNumber(o,this._getMinorUnit())>t._Constants.MaxMinorTickCount&&(a=!0),a?this._setActualMinorUnit(.5*this._getActualMajorUnit()):this._setActualMinorUnit(this._getMinorUnit()),this.__niceMax=this._createNiceMaxValue(i,this._getActualMajorUnit()),this.__niceMin=this._createNiceMinValue(n,this._getActualMajorUnit());var s=this._tickPrecision(o),u=this._createTicks(this.__niceMin,this.__niceMax,this._getActualMajorUnit(),s);t._Util.numberArrayEquals(u,this._getMajorTicks())||this._setMajorTicks(u),this._setMinorTicks(this._createTicks(this.__niceMin,this.__niceMax,this._getActualMinorUnit(),s))},n.prototype._calcTickNumber=function(t,e){return Math.ceil(t/e)+1},n.prototype._calculateMajorUnit=function(t,e){return this._policy.calculateMajorUnit(t,e)},n.prototype._createNiceMinValue=function(t,e){return this._policy.calculateNiceMin(t,e)},n.prototype._createNiceMaxValue=function(t,e){return this._policy.calculateNiceMax(t,e)},n.prototype._createTicks=function(t,e,n,i){var o=[];if(null==t||isNaN(t)||null==e||isNaN(e))return o;var r=this._getDomain();return null==r[0]||null==r[1]||isNaN(r[0])||isNaN(r[1])||(o=this._policy.calculateTicks(t,e,n,i)),o},n.prototype._tickPrecision=function(t){if(t<=0||isNaN(t))return 0;t>=1&&(t=1);var e=Math.log(t)/Math.LN10,n=Math.floor(e)-1;return Math.min(Math.pow(10,n),1e-10)},n.__defaultTickNumber=10,n}(t._PaddingAxisScale);t._LinearAxisScale=e}(t||(t={})),function(t){var e=function(e){function n(i,o,r){var l=e.call(this,r)||this;if(l.__tickNumber=n.__defaultTickNumber,1===i)throw new t.AssertError(t.ErrorCode.InvalidArgument,i);return l._logBase=i,l._policy=o,l}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ValueScaleType.Logarithmic},enumerable:!0,configurable:!0}),n.prototype._getTickNumber=function(){return this.__tickNumber},n.prototype._setTickNumber=function(t){this.__tickNumber!=t&&(this.__tickNumber=t,null==this.__tickNumber&&(this.__tickNumber=n.__defaultTickNumber),this._dirty())},n.prototype._min=function(){var t=this._getDomain()[0];if(null!=t&&!isNaN(t)){var n=e.prototype._min.call(this);if(n>0&&n<this.__niceMin)return n}return this.__niceMin},n.prototype._max=function(){var t=this._getDomain()[1],n=this.__niceMax;return null==t||isNaN(t)?n:Math.max(e.prototype._max.call(this),n)},n.prototype.value=function(t){if(null==t||isNaN(t)||t<=0)return null;this._refresh();var e,n=t,i=this._max(),o=this._min(),r=this._start(),l=this._end();return this._logBase>1?0==(e=Math.log(i/o))?null:Math.log(n/o)/e*(l-r)+r:this._logBase<1?0==(e=Math.log(o/i))?null:Math.log(n/i)/e*(l-r)+r:null},n.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this),this._calculateMinMax()},n.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=t.min,this.___max=t.max},n.prototype._calculate=function(){e.prototype._calculate.call(this),this._logBase>0&&(this.__niceMax=this._createNiceMaxValue(this.___max),this.__niceMin=this._createNiceMinValue(this.___min),(this.__niceMin<=0||isNaN(this.__niceMin))&&(this.__niceMin=1),isNaN(this.__niceMax)&&(this.__niceMax=this.___max),this.__niceMax<this.__niceMin&&(this.__niceMax=this.__niceMin+1));var n=this._createMajorTicks(this.__niceMin,this.__niceMax,this._getMajorUnit());t._Util.numberArrayEquals(n,this._getMajorTicks())||this._setMajorTicks(n);var i=this._createMinorTicks(this.__niceMin,this.__niceMax,this._getMinorUnit());this._setMinorTicks(i)},n.prototype._createNiceMinValue=function(t){return this._policy.calculateNiceMin(t,this._logBase)},n.prototype._createNiceMaxValue=function(t){return this._policy.calculateNiceMax(t,this._logBase)},n.prototype._createMajorTicks=function(t,e,n){return this._policy.generateMajorTicks(t,e,this._logBase,n)},n.prototype._createMinorTicks=function(t,e,n){return this._policy.generateMinorTicks(t,e,this._logBase,n)},n.__defaultTickNumber=10,n}(t._PaddingAxisScale);t._LogAxisScale=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,n)||this;return o.__dataTicks=[],o.__dataTicksChangeCallBack=i,o._policy=t,o}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ValueScaleType.Ordinal},enumerable:!0,configurable:!0}),n.prototype._getTickNumber=function(){return Math.floor(this.___max)+1},n.prototype._setTickNumber=function(t){},n.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this);var t=this._getDomain(),n=t[0],i=t[1];(isNaN(n)&&isNaN(i)||null==n&&null==i)&&(n=-.5,i=.5),this.___min=n,this.___max=i},n.prototype.ticks=function(){return this._refresh(),this.__labels},n.prototype._dataTicks=function(){return this._refresh(),this.__dataTicks},n.prototype._calculate=function(){if(e.prototype._calculate.call(this),isNaN(this._getMajorUnit())){var t=this._policy.calculateMajorUnit(this.___min,this.___max);this._setActualMajorUnit(t)}else this._setActualMajorUnit(this._getMajorUnit());isNaN(this._getMinorUnit())?this._setActualMinorUnit(.5*this._getActualMajorUnit()):this._setActualMinorUnit(this._getMinorUnit()),this._calculateTicks()},n.prototype._calculateTicks=function(){var t=this._getDomain(),e=t[0],n=t[1],i=this._getOrigin();isNaN(i)||((null==e?0:e)>i?e=i:(null==n?0:n)<i&&(n=i)),this._generateTicks(e,n),this._generateDataTicks(e,n)},n.prototype._generateDataTicks=function(t,e){null==t||null==e||isNaN(t)||isNaN(e)?this.__dataTicks=[]:(this.__dataTicks=this._policy.generateMajorTicks(Math.round(t),Math.floor(e),1),null!=this.__dataTicksChangeCallBack&&this.__dataTicksChangeCallBack(this))},n.prototype._generateTicks=function(e,n){if(null!=e&&null!=n&&!isNaN(e)&&!isNaN(n)){var i=this._policy.generateMajorTicks(Math.round(e),Math.floor(n),this._getActualMajorUnit());t._Util.numberArrayEquals(i,this._getMajorTicks())||this._setMajorTicks(i);var o=this._policy.generateMinorTicks(this._min(),this._max(),this._getActualMajorUnit(),this._getActualMinorUnit());this._setMinorTicks(o);var r=this._policy.generateLabels(e,n,this._getActualMajorUnit());t._Util.numberArrayEquals(r,this.__labels)||(this.__labels=r,this.___majorTickValueModels=[])}},n}(t._PaddingAxisScale);t._OrdinalAxisScale=e}(t||(t={})),function(t){var e=function(e){function n(t){var i=e.call(this,t)||this;return i.__baseDateMode=null,i.__majorDateMode=null,i.__minorDateMode=null,i.__tickNumber=n.__defaultTickNumber,i.__actualDateMode=null,i}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ValueScaleType.Date},enumerable:!0,configurable:!0}),n.prototype._getBaseDateMode=function(){return this.__baseDateMode},n.prototype._setBaseDateMode=function(t){this.__baseDateMode!=t&&(this.__baseDateMode=t,this._onBaseDateModeChanged())},n.prototype._getMajorDateMode=function(){return this.__majorDateMode},n.prototype._setMajorDateMode=function(t){this.__majorDateMode!=t&&(this.__majorDateMode=t,this._onMajorDateModeChanged())},n.prototype._getMinorDateMode=function(){return this.__minorDateMode},n.prototype._setMinorDateMode=function(t){this.__minorDateMode!=t&&(this.__minorDateMode=t,this._onMinorDateModeChanged())},n.prototype._onBaseDateModeChanged=function(){this._dirty()},n.prototype._onMajorDateModeChanged=function(){this._dirty()},n.prototype._onMinorDateModeChanged=function(){this._dirty()},n.prototype._getTickNumber=function(){return this.__tickNumber},n.prototype._setTickNumber=function(e){if(this.__tickNumber!=e){if(null==e||e<=0)throw new t.OptionError(t.ErrorCode.PositiveNumberExpected,e);this.__tickNumber=e,null==this.__tickNumber&&(this.__tickNumber=n.__defaultTickNumber),this._dirty()}},n.prototype._getActualDateMode=function(){return this.__actualDateMode},n.prototype._setActualDateMode=function(t){this.__actualDateMode!=t&&(this.__actualDateMode=t)},n.prototype._getActualValue=function(t){return this._refresh(),this._getValueByDateMode(t,this._getActualDateMode())},n.prototype._getBaseValue=function(){return this._refresh(),this._getDateUnitInMilliSecond(1,this._getActualDateMode())},n.prototype._getValueByDateMode=function(e,n){var i=new Date(e);switch(n){case t.DateMode.Year:return new Date(i.getFullYear(),0,1).valueOf();case t.DateMode.Month:return new Date(i.getFullYear(),i.getMonth(),1).valueOf();case t.DateMode.Week:case t.DateMode.Day:return new Date(i.getFullYear(),i.getMonth(),i.getDate()).valueOf();case t.DateMode.Hour:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours()).valueOf();case t.DateMode.Minute:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()).valueOf();case t.DateMode.Second:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()).valueOf();case t.DateMode.MilliSecond:}return e},n.prototype._calculateDomain=function(){var t=this._getDomain(),e=null==t[0]?0:t[0],n=null==t[1]?0:t[1];this.___min=this._getValueByDateMode(e,this._getActualDateMode()),this.___max=this._getValueByDateMode(n,this._getActualDateMode())},n.prototype._calculate=function(){this._setActualDateMode(null==this._getBaseDateMode()?t.DateMode.Day:this._getBaseDateMode()),e.prototype._calculate.call(this);var n=this._getMajorDateMode();if(isNaN(this._getMajorUnit()))if(null!=n)n<this._getActualDateMode()?(n=this._getActualDateMode(),this._setActualMajorUnit(this._getDateUnitInMilliSecond(1,n))):this._setActualMajorUnit(this._calculateMajorUnit(this.___min,this.___max,n));else{var i=this._calculateDefaultMajorUnit(this.___min,this.___max);this._setActualMajorUnit(i[0]),n=i[1]}else(n=null!=n?n:this._getActualDateMode())<this._getActualDateMode()?(n=this._getActualDateMode(),this._setActualMajorUnit(this._calculateMajorUnit(this.___min,this.___max,n))):this._setActualMajorUnit(this._getDateUnitInMilliSecond(Math.round(this._getMajorUnit()),n));var o=this._getMinorDateMode();if(isNaN(this._getMinorUnit())){var r=this._calculateDefaultMinorUnit(this._getActualMajorUnit(),n);this._setActualMinorUnit(r[0]),o=r[1]}else o=null!=o?o:this._getActualDateMode(),this._setActualMinorUnit(this._getDateUnitInMilliSecond(Math.round(this._getMinorUnit()),o));var l=this._createTicks(this.___min,this.___max,this._getActualMajorUnit(),n,t._Constants.MaxMajorTickCount);null==l&&(i=this._calculateDefaultMajorUnit(this.___min,this.___max),this._setActualMajorUnit(i[0]),n=i[1],l=this._createTicks(this.___min,this.___max,this._getActualMajorUnit(),n)),t._Util.numberArrayEquals(l,this._getMajorTicks())||this._setMajorTicks(l);var a=this._createTicks(this.___min,this.___max,this._getActualMinorUnit(),o,t._Constants.MaxMinorTickCount);null==a&&(r=this._calculateDefaultMinorUnit(this._getActualMajorUnit(),n),this._setActualMinorUnit(r[0]),o=r[1],a=this._createTicks(this.___min,this.___max,this._getActualMinorUnit(),o)),this._setMinorTicks(a)},n.prototype._calculateDefaultMajorUnit=function(t,e){var n,i;return null!=this._getBaseDateMode()?(n=this._getBaseDateMode(),i=this._calculateMajorUnit(t,e,n)):(i=this._calculateMajorUnit(t,e),(n=this._getUnitMode(i,t))<this._getActualDateMode()&&(n=this._getActualDateMode(),i=this._getDateUnitInMilliSecond(1,n))),[i,n]},n.prototype._calculateDefaultMinorUnit=function(t,e){var n=e,i=t/this._getDateUnitInMilliSecond(1,n);return[i==Math.round(i)&&i%2==0?this._getDateUnitInMilliSecond(i/2,n):t/2,n]},n.prototype._calculateMajorUnit=function(e,n,i){if(void 0===i&&(i=null),null!=i){var o=new t._TimeSpan(.001*(n-e)*t._TimeSpan.TicksPerSecond),r=this._getDateUnitInMilliSecond(1,i),l=o.Ticks/1e4/r;return l>12?this._getDateUnitInMilliSecond(Math.ceil(l/12),i):r}var a=this._getTickNumber();a>12&&(a=12);var s=new t._TimeSpan(.001*(n-e)/a*t._TimeSpan.TicksPerSecond);return 1e3*t._TimeHelper.NiceTimeSpan(s,this._getMajorDateMode()).TotalSeconds},n.prototype._getUnitMode=function(e,n){var i=new Date(n),o=new t._TimeSpan(.001*e*t._TimeSpan.TicksPerSecond);return o.TotalDays>=365?t.DateMode.Year:o.TotalDays>=30||o.TotalDays>=28&&t._DateTimeUtility._isMonthLastDay(i)?t.DateMode.Month:o.TotalDays>=7?t.DateMode.Week:o.TotalDays>=1?t.DateMode.Day:o.TotalSeconds>3600?t.DateMode.Hour:o.TotalSeconds>60?t.DateMode.Minute:o.TotalSeconds>1?t.DateMode.Second:t.DateMode.MilliSecond},n.prototype._getDateUnitInMilliSecond=function(e,n){switch(n){case t.DateMode.Year:return 365*e*24*3600*1e3;case t.DateMode.Month:return 30*e*24*3600*1e3;case t.DateMode.Week:return 7*e*24*3600*1e3;case t.DateMode.Day:return 24*e*3600*1e3;case t.DateMode.Hour:return 3600*e*1e3;case t.DateMode.Minute:return 60*e*1e3;case t.DateMode.Second:return 1e3*e;case t.DateMode.MilliSecond:}return e},n.prototype._createTicks=function(e,n,i,o,r){void 0===r&&(r=null);var l=[],a=new Date(e),s=new Date(n),u=new t._TimeSpan(.001*i*t._TimeSpan.TicksPerSecond),_=Math.round(u.TotalDays/365),p=Math.round(u.TotalDays/30),c=Math.round(u.TotalDays/7),h=Math.round(u.TotalDays),f=function(t){for(var e=a;e<=s;t(e)){var n=e.valueOf();if(l.push(n),null!=r&&l.length>r)break}};switch(o){case t.DateMode.Year:var d=_<=0?1:_;f((function(t){t.setFullYear(t.getFullYear()+d)}));break;case t.DateMode.Month:var y=p<=0?1:p;f((function(e){var n=new Date(e.valueOf());n.setMonth(e.getMonth()+y),n.getMonth()!=(e.getMonth()+y)%12||t._DateTimeUtility._isMonthLastDay(e)?(e.setDate(1),e.setMonth(e.getMonth()+y+1),e.setDate(0)):e.setMonth(e.getMonth()+y)}));break;case t.DateMode.Week:var g=c<=0?1:c;f((function(t){t.setDate(t.getDate()+7*g)}));break;case t.DateMode.Day:var m=h<=0?1:h;f((function(t){t.setDate(t.getDate()+m)}));break;case t.DateMode.Hour:var v=Math.round(u.TotalSeconds/3600),w=v<=0?1:v;f((function(t){t.setHours(t.getHours()+w)}));break;case t.DateMode.Minute:var b=Math.round(u.TotalSeconds/60),S=b<=0?1:b;f((function(t){t.setMinutes(t.getMinutes()+S)}));break;case t.DateMode.Second:var P=Math.round(u.TotalSeconds),C=P<=0?1:P;f((function(t){t.setSeconds(t.getSeconds()+C)}));break;case t.DateMode.MilliSecond:var x=Math.round(u.Ticks/1e3),V=x<=0?1:x;f((function(t){t.setMilliseconds(t.getMilliseconds()+V)}))}return null!=r&&l.length>r?null:l},n.__defaultTickNumber=12,n}(t._PaddingAxisScale);t._TimeAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,r,l)||this;return a.__fixedSameMinMax=!1,a.__minValue=e,a.__maxValue=n,a.__useActualMin=i,a.__useActualMax=o,a}return i(e,t),e.prototype._fixSameMinMax=function(){return this.__fixedSameMinMax=t.prototype._fixSameMinMax.call(this),this.__fixedSameMinMax&&(null!=this.__minValue&&(this.___min=this.__minValue),null!=this.__maxValue&&(this.___max=this.__maxValue)),this.__fixedSameMinMax},e.prototype._calculateMajorUnit=function(e,n){if(this.__fixedSameMinMax){for(var i=0;n>=10;)i++,n=Math.floor(n/10);n>=5?n=5*Math.pow(10,i):n>=2?n=2*Math.pow(10,i):n>=1&&(n=1*Math.pow(10,i))}return t.prototype._calculateMajorUnit.call(this,e,n)},e.prototype._createNiceMinValue=function(e,n){return null!=this.__minValue||this.__useActualMin||this.__fixedSameMinMax?e:t.prototype._createNiceMinValue.call(this,e,n)},e.prototype._createNiceMaxValue=function(e,n){return null!=this.__maxValue||this.__useActualMax||isNaN(this._getMajorUnit())&&this.__fixedSameMinMax?e:t.prototype._createNiceMaxValue.call(this,e,n)},e.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);if(null!=this.__minValue&&null!=this.__maxValue){var e=this._calculateByMinMax(this.__minValue,this.__maxValue);this.___min=e[0],this.___max=e[1]}else null!=this.__minValue&&null==this.__maxValue?(e=this._calculateByMinValue(this.__minValue,t.max,this.__useActualMax,this.___min,this.___max),this.___min=e[0],this.___max=e[1]):null!=this.__maxValue&&null==this.__minValue?(e=this._calculateByMaxValue(this.__maxValue,t.min,this.__useActualMin,this.___min,this.___max),this.___min=e[0],this.___max=e[1]):(this.__useActualMin||(this.___min=t.min),this.__useActualMax||(this.___max=t.max))},e.prototype._calculateByMinValue=function(t,e,n,i,o){var r=i,l=o;return e<=0?t>0?(r=0,l=t):0==t?(r=-.5,l=.5):e<=t&&t<0?(r=t,l=0):(r=t,l=n?l:e):t<e?(r=t,l=n?l:e):(r=0,l=t),[r,l]},e.prototype._calculateByMaxValue=function(t,e,n,i,o){var r=i,l=o;return e>=0?t<0?(r=t,l=0):0==t?(r=-.5,l=.5):0<t&&t<=e?(r=0,l=t):(r=n?r:e,l=t):t>e?(r=n?r:e,l=t):(r=t,l=0),[r,l]},e.prototype._calculateByMinMax=function(t,e){var n,i;return t==e?e>0?(i=e,n=0):t<0?(n=t,i=0):(i=.5,n=-.5):(n=t,i=e),[n,i]},e.prototype._createTicks=function(t,e,n,i){var o=[];return null==t||isNaN(t)||null==e||isNaN(e)?o:o=this._policy.calculateTicks(t,e,n,i)},e}(t._LinearAxisScale);t._CustomLinearAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,e,o,r)||this;return l.__minValue=n,l.__maxValue=i,l}return i(e,t),e.prototype._createNiceMinValue=function(e){return null!=this.__minValue?e:t.prototype._createNiceMinValue.call(this,e)},e.prototype._createNiceMaxValue=function(e){return null!=this.__maxValue?e:t.prototype._createNiceMaxValue.call(this,e)},e.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);null!=this.__minValue?this.___min=this.__minValue:this.___min=t.min,null!=this.__maxValue?this.___max=this.__maxValue:this.___max=t.max},e}(t._LogAxisScale);t._CustomLogAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.__minValue=e,l.__maxValue=n,l}return i(e,t),e.prototype._calculateDomain=function(){t.prototype._calculateDomain.call(this),this._calculateMinMax()},e.prototype._calculateMinMax=function(){null!=this.__minValue&&(this.___min=this.__minValue),null!=this.__maxValue&&(this.___max=this.__maxValue)},e.prototype._calculateTicks=function(){var t=this._getDomain(),e=t[0],n=t[1];(null==e||isNaN(e)||null!=this.__minValue)&&(e=this.___min),(null==n||isNaN(n)||null!=this.__maxValue)&&(n=this.___max),this._generateTicks(e,n),this._generateDataTicks(e,n)},e}(t._OrdinalAxisScale);t._CustomOrdinalAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o.__minValue=e,o.__maxValue=n,o}return i(e,t),e.prototype._calculateDomain=function(){t.prototype._calculateDomain.call(this),this._calculateMinMax()},e.prototype._calculateMinMax=function(){null!=this.__minValue&&(this.___min=this._getValueByDateMode(this.__minValue,this._getActualDateMode())),null!=this.__maxValue&&(this.___max=this._getValueByDateMode(this.__maxValue,this._getActualDateMode()))},e}(t._TimeAxisScale);t._CustomTimeAxisScale=e}(t||(t={})),function(t){var e=function(t,e){this.min=t,this.max=e};t._DataDomain=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._setDefaultMode=function(t){var e=this._defaultDateMode(t._getDomain());t._setBaseDateMode(e),t._setMajorDateMode(e),t._setMinorDateMode(e)},e.prototype._defaultDateMode=function(e){var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e);if(null!=n&&null!=i){var o=(i-n)/12;return this._getMode(o,n)}return t.DateMode.Day},e.prototype._getMode=function(e,n){var i=new Date(n),o=new t._TimeSpan(.001*e*t._TimeSpan.TicksPerSecond);return o.TotalDays>=365?t.DateMode.Year:o.TotalDays>=30||o.TotalDays>=28&&t._DateTimeUtility._isMonthLastDay(i)?t.DateMode.Month:o.TotalDays>=7?t.DateMode.Week:o.TotalDays>=1?t.DateMode.Day:o.TotalSeconds>3600?t.DateMode.Hour:o.TotalSeconds>60?t.DateMode.Minute:o.TotalSeconds>1?t.DateMode.Second:t.DateMode.MilliSecond},e}();t._TimeAxisScaleDefault=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInAxisScalePolicyBuilders=function(){return null==n.__buildInAxisScalePolicyBuilders&&(n.__buildInAxisScalePolicyBuilders=new n([],n._pluginType)),n.__buildInAxisScalePolicyBuilders},n.prototype._convert=function(e){return t._isAxisScalePolicyBuilder(e)?e:null},n.prototype._axisScalePolicy=function(e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildAxisScalePolicy(e,n);if(null!=a)return a}return n.scaleType===t.ValueScaleType.Ordinal?t._OrdinalAxisScalePolicy._ordinalAxisScalePolicy:n.scaleType===t.ValueScaleType.Linear?e.axisType===t.AxisType.X?t._XLinearAxisScalePolicy._xLinearAxisScalePolicy:t._YLinearAxisScalePolicy._yLinearAxisScalePolicy:n.scaleType===t.ValueScaleType.Logarithmic?t._ExcelLogAxisScalePolicy._excelLogAxisScalePolicy:null},n._pluginType="ScalePolicy",n}(t._BuildInObjectCollection);t._BuildInAxisScalePolicyBuilderCollection=e}(t||(t={})),function(t){t._isAxisScalePolicy=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isAxisScalePolicyBuilder=function(t){return null!=t.buildAxisScalePolicy}}(t||(t={})),function(t){t._isLinearAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.calculateMinMax&&"function"==typeof e.calculateNiceMax&&"function"==typeof e.calculateNiceMin&&"function"==typeof e.calculateMajorUnit}}(t||(t={})),t||(t={}),function(t){t._isLogAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.calculateMinMax&&"function"==typeof e.calculateNiceMax&&"function"==typeof e.calculateNiceMin&&"function"==typeof e.generateMajorTicks&&"function"==typeof e.generateMinorTicks}}(t||(t={})),t||(t={}),function(t){t._isOrdinalAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.generateMajorTicks&&"function"==typeof e.generateMinorTicks&&"function"==typeof e.generateLabels}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._nicePrecision=function(t){if(t<=0||isNaN(t))return 0;var e,n=Math.log(t)/Math.LN10;e=n>=0?Math.floor(n):Math.ceil(n);var i=t/Math.pow(10,e);return i<3&&(e=1-e,(i=t/Math.pow(10,e))<3&&(e+=1)),e},e.prototype._niceNumber=function(t,e,n){if(0==t)return t;t<0&&(t=-t);var i=t/Math.pow(10,e),o=10;return n?i<1.5?o=1:i<3?o=2:i<4.5?o=4:i<7&&(o=5):i<=1?o=1:i<=2?o=2:i<=5&&(o=5),o*Math.pow(10,e)},e.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,n=Math.floor(e),i=t/Math.pow(10,n),o=10;return i<=1?o=1:i<=2?o=2:i<=5&&(o=5),o*Math.pow(10,n)},e.prototype.calculateMinMax=function(e,n){return new t._DataDomain(e,n)},e.prototype.calculateNiceMax=function(t,e){return 0==e&&(e=1),Math.floor(t/e)*e==t?t:(Math.floor(t/e)+1)*e},e.prototype.calculateNiceMin=function(t,e){return 0==e&&(e=1),Math.floor(t/e)*e},e.prototype.calculateMajorUnit=function(t,e){var n=this._nicePrecision(t),i=t/e,o=this._niceNumber(2*i,-n,!0);return o<i&&(o=this._niceNumber(i,1-n,!1)),o<i&&(o=this._niceTickNumber(i)),o},e.prototype.calculateTicks=function(t,e,n,i){var o=[];if(null!=t&&null!=e&&!isNaN(t)&&!isNaN(e))if(t<=0&&e>=0){for(var r=0;t-r<=i&&(o.push(r),(l=r-n)!=r);)r=l;for(o.reverse(),r=n;r-e<=i&&(o.push(r),(l=r+n)!=r);)r=l}else if(t!=e)for(r=t;r-e<=i;){var l;if(o.push(r),(l=r+n)==r)break;r=l}return o},e.prototype.queryInterface=function(t){return"ILinearAxisScalePolicy"===t?this:null},e}();t._BaseLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Linear&&e.axisType==t.AxisType.X?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n._xLinearAxisScalePolicy=new n,n}(t._BaseLinearAxisScalePolicy);t._XLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.calculateMinMax=function(e,n){null==e&&null==n&&(e=0,n=0),e==n&&(e=Math.min(0,e),n=Math.max(0,n));var i=((null==n?0:n)-(null==e?0:e))/1.5;return null!=e&&e>0?(e-=i)<0&&(e=0):null!=n&&n<0&&(n+=i)>0&&(n=0),new t._DataDomain(e,n)},n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Linear&&e.axisType==t.AxisType.Y?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n._yLinearAxisScalePolicy=new n,n}(t._BaseLinearAxisScalePolicy);t._YLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.calculateMinMax=function(e,n){return new t._DataDomain(e,n)},e.prototype.calculateNiceMax=function(t,e){var n=Math.log(e);if(e>1){var i=Math.ceil(Math.log(t)/n-1e-9);return Math.pow(e,i)}return e<1?(i=Math.floor(Math.log(t)/n-1e-9),t<=1&&(i=i<0?0:i),Math.ceil(Math.pow(e,i))):null},e.prototype.calculateNiceMin=function(t,e){var n=Math.log(e);if(e>1){var i=Math.floor(Math.log(t)/n+1e-9);return Math.pow(e,i)}return e<1?(i=Math.abs(Math.ceil(Math.log(t)/n-1e-9)),Math.pow(e,i)):null},e.prototype.generateMajorTicks=function(t,e,n,i){var o=[],r=Math.log(n),l=Math.floor(Math.log(t)/r),a=Math.ceil(Math.log(e)/r),s=n,u=!0;i>0&&(u=!1,s=i),s<n&&(s=n);for(var _=l;_<=a;_+=1)if(u)for(var p=Math.pow(n,_),c=0;c*s<n-1;c++){var h;(h=p*(1+c*s))>=t&&h<=e&&(0==c?o.unshift(h):o.push(h))}else(h=Math.pow(s,_))>=t&&h<=e&&o.push(h);return o},e.prototype.generateMinorTicks=function(t,e,n,i){return[]},e.prototype.queryInterface=function(t){return"ILogAxisScalePolicy"===t?this:null},e}();t._BaseLogAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.calculateMinMax=function(e,n){return null==e&&null==n&&(e=1,n=1),e==n&&(e=Math.min(1,e),n=Math.max(1,n)),null!=e&&e>1?e=1:(null==n||n<1)&&(n=1),new t._DataDomain(e,n)},n.prototype.generateMajorTicks=function(t,e,n,i){var o=[],r=n;if(!isNaN(i)&&i>0&&1!=i&&i>=n&&(r=i),r>1)for(var l=t;l<=e;l*=r)o.push(l);else if(r<1){for(l=t;l<=e;l/=r)o.push(l);o.reverse()}return o},n.prototype.generateMinorTicks=function(t,e,n,i){var o=[],r=n;if(!isNaN(i)&&i>0&&1!=i&&i>=n&&(r=i),n>1){for(var l=Math.pow(n,2);r>l;)r/=n;for(var a=t/n*r;a<=e;){for(var s=1;s<n;++s){var u=s*a;u>=t&&u<=e&&o.push(s*a)}a*=r}}return o},n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Logarithmic?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n._excelLogAxisScalePolicy=new n,n}(t._BaseLogAxisScalePolicy);t._ExcelLogAxisScalePolicy=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._getNiceMajorUnit=function(t,e,n){var i=e-t;return n>0&&i/n>999?Math.ceil(i/999):n},t.prototype._getNiceMinorUnit=function(t,e,n,i){var o=e-t;return i>0&&o/i>1999?n>0&&o/n>999?.5*Math.ceil(o/999):.5*n:i},t.prototype._createLabels=function(t,e,n){n<1&&(n=1);for(var i=[],o=Math.round(t);o<=Math.floor(e);o+=n)i.push(parseFloat(o.toFixed(1/n)));return i},t.prototype._createMajorTicks=function(t,e,n){for(var i=[],o=t;o<=e;o+=n)i.push(parseFloat(o.toFixed(1/n)));return i},t.prototype._createMinorTicks=function(t,e,n){for(var i=[],o=t;o<=e;o+=n)i.push(o);return i},t.prototype.calculateMajorUnit=function(t,e){return 1},t.prototype.generateMajorTicks=function(t,e,n){return this._createMajorTicks(t,e,this._getNiceMajorUnit(t,e,n))},t.prototype.generateMinorTicks=function(t,e,n,i){return this._createMinorTicks(t,e,this._getNiceMinorUnit(t,e,n,i))},t.prototype.generateLabels=function(t,e,n){return this._createLabels(t,e,this._getNiceMajorUnit(t,e,n))},t.prototype.queryInterface=function(t){return"IOrdinalAxisScalePolicy"===t?this:null},t}();t._BaseOrdinalAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Ordinal?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n._ordinalAxisScalePolicy=new n,n}(t._BaseOrdinalAxisScalePolicy);t._OrdinalAxisScalePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,s=e.useActualMax,u=i;return null!=r||null!=l||a||s?new t._CustomLinearAxisScale(r,l,a,s,u,n):new t._LinearAxisScale(u,n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.value),n},e.defaultLinearAxisScaleBuilder=new e,e}();t._LinearAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,s=e.useActualMax,u=i;return null!=r||null!=l||a||s?new t._CustomLogAxisScale(e.logBase,r,l,u,n):new t._LogAxisScale(e.logBase,u,n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.type==t.ValueOptionType.Date?null:e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.type==t.ValueOptionType.Date?null:e.max.value),n},e.defaultLogAxisScaleBuilder=new e,e}();t._LogAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,s=e.useActualMax,u=i;return null!=r||null!=l||a||s?new t._CustomOrdinalAxisScale(r,l,u,n,o):new t._OrdinalAxisScale(u,n,o)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.type==t.ValueOptionType.Date?null:e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.type==t.ValueOptionType.Date?null:e.max.value),n},e.defaultOrdinalAxisScaleBuilder=new e,e}();t._OrdinalAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e);return null!=r||null!=l?new t._CustomTimeAxisScale(r,l,n):new t._TimeAxisScale(n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.value),n},e.defaultTimeAxisScaleBuilder=new e,e}();t._TimeAxisScaleBuilder=e}(t||(t={})),function(t){t._isAxisScale=function(t){var e=t;return null!=e&&void 0!==e.type&&"function"==typeof e.ticks&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.start&&"function"==typeof e.end&&"function"==typeof e.value&&"function"==typeof e._setTickNumber&&"function"==typeof e._setDomain&&"function"==typeof e._setRange&&"function"==typeof e._internalSetRange&&"function"==typeof e._setOrigin&&"function"==typeof e._setReversed&&"function"==typeof e._setMajorUnit&&"function"==typeof e._setMinorUnit&&"function"==typeof e._setActualMajorUnit&&"function"==typeof e._setActualMinorUnit&&"function"==typeof e._majorTickValueModels&&"function"==typeof e._setMajorTicks&&"function"==typeof e._setMinorTicks&&"function"==typeof e._getActualValue&&"function"==typeof e._refresh}}(t||(t={})),function(t){t._isLinearAxisScale=function(e){return!!t._isAxisScale(e)&&e.type===t.ValueScaleType.Linear}}(t||(t={})),function(t){t._isLogAxisScale=function(e){return!!t._isAxisScale(e)&&e.type===t.ValueScaleType.Logarithmic}}(t||(t={})),function(t){t._isOrdinalAxisScale=function(e){if(!t._isAxisScale(e))return!1;var n=e;return n.type===t.ValueScaleType.Ordinal&&"function"==typeof n._dataTicks}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTimeAxisScale=function(e){if(!t._isAxisScale(e))return!1;var n=e;return n.type===t.ValueScaleType.Date&&"function"==typeof n._setBaseDateMode&&"function"==typeof n._setMajorDateMode&&"function"==typeof n._setMinorDateMode&&"function"==typeof n._getBaseValue}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._updateDomain(t,e),this._reversed=!1}return e.prototype._convertToOffset=function(t){if(null==t)return 0;var e=(t-this._getMinimum())/(this._getMaximum()-this._getMinimum());return e>1?e=1:e<0&&(e=0),e},e.prototype._updateDomain=function(e,n){if(null==e&&null==n)this.__minimum=-.5,this.__maximum=.5;else if(null!=e&&null!=n)(i=t._NativeExtension._toNonNullNumber(e,-.5))<(o=t._NativeExtension._toNonNullNumber(n,.5))?(this.__minimum=i,this.__maximum=o):i>o?(this.__minimum=o,this.__maximum=i):(this.__minimum=i-.5,this.__maximum=i+.5);else if(null!=e){var i=t._NativeExtension._toNonNullNumber(e,-.5);this.__minimum=i-.5,this.__maximum=i+.5}else if(null!=n){var o=t._NativeExtension._toNonNullNumber(n,.5);this.__minimum=o-.5,this.__maximum=o+.5}},e.prototype._getMinimum=function(){return this.__minimum},e.prototype._getMaximum=function(){return this.__maximum},e.prototype._getRange=function(){return this.__range},e.prototype._updateRange=function(t){this.__range=t},e.prototype._scaleValue=function(e){for(var n=new t._ColorStop(null,this._convertToOffset(e)),i=0,o=0;o<this.__range.length;o++){var r=this.__range[o];if(n.stop<r.stop){i=o-1;break}if(n.stop==r.stop){i=o;break}}var l,a,s=0;if(i==this.__range.length-1)return n.color=this.__range[1].color,n;this.__range[i+1].stop!=this.__range[i].stop&&(s=(n.stop-this.__range[i].stop)/(this.__range[i+1].stop-this.__range[i].stop)),this._reversed?(l=t._NativeColorUtility._toRgba(t._NativeColorBuilder._colorBuilder._build(this.__range[i+1].color)),a=t._NativeColorUtility._toRgba(t._NativeColorBuilder._colorBuilder._build(this.__range[i].color))):(l=t._NativeColorUtility._toRgba(t._NativeColorBuilder._colorBuilder._build(this.__range[i].color)),a=t._NativeColorUtility._toRgba(t._NativeColorBuilder._colorBuilder._build(this.__range[i+1].color)));var u=l._red,_=l._green,p=l._blue,c=l._alpha,h=(a._red-u)*s,f=(a._green-_)*s,d=(a._blue-p)*s,y=(a._alpha-c)*s;return n.color=new t._RgbaNativeColor(Math.floor(h+u),Math.floor(f+_),Math.floor(d+p),y+c)._toCss(),n},e.prototype._calculateColorStopsOfRange=function(e,n){var i=[],o=this._scaleValue(e),r=this._scaleValue(n);i.push(new t._ColorStop(o.color,0));for(var l=this._convertToOffset(e),a=this._convertToOffset(n),s=0,u=this.__range;s<u.length;s++){var _=u[s];if(_.stop<a&&_.stop>l){var p=this._getMinimum(),c=this._getMaximum(),h=(_.stop*(c-p)+p-e)/(n-e);i.push(new t._ColorStop(_.color,h))}}return i.push(new t._ColorStop(r.color,1)),i},e}();t._LinearGradientColorScale=e}(t||(t={})),function(t){!function(t){t._isShapeModel=function(t){return null!=t&&void 0!==t.shapes}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var i=e.call(this)||this;return i.__strictMode=n,i.__option=t,i}return i(n,e),n.prototype.option=function(){return this.__option},n.prototype.validate=function(e){return t._ReflectorUtility._validateOptionValue(e,this,this.__strictMode)},n}(t._NotifyPropertyChange),e._NotifyPropertyChangeOptionModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n){var i=e.call(this,null==n?null:n.option())||this;return i.__isChanged=!1,t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._copy(n,i),i}return i(n,e),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=e.prototype.validate.call(this,t),this._onPropertyChanged("opacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=e.prototype.validate.call(this,t),this._onPropertyChanged("strokeOpacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill!=t&&(this.__fill=t,this._onPropertyChanged("fill"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){this.__backgroundColor!=t&&(this.__backgroundColor=t,this._onPropertyChanged("backgroundColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=t,this._onPropertyChanged("stroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t,this._onPropertyChanged("strokeWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t,this._onPropertyChanged("strokeDasharray"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolShape",{get:function(){return this.__symbolShape},set:function(t){this.__symbolShape!=t&&(this.__symbolShape=t,this._onPropertyChanged("symbolShape"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolOpacity",{get:function(){return this.__symbolOpacity},set:function(t){null!=this.__symbolOpacity&&this.__symbolOpacity==t||(this.__symbolOpacity=e.prototype.validate.call(this,t),this._onPropertyChanged("symbolOpacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeOpacity",{get:function(){return this.__symbolStrokeOpacity},set:function(t){this.__symbolStrokeOpacity!=t&&(this.__symbolStrokeOpacity=e.prototype.validate.call(this,t),this._onPropertyChanged("symbolStrokeOpacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolFill",{get:function(){return this.__symbolFill},set:function(t){this.__symbolFill!=t&&(this.__symbolFill=t,this._onPropertyChanged("symbolFill"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStroke",{get:function(){return this.__symbolStroke},set:function(t){this.__symbolStroke!=t&&(this.__symbolStroke=t,this._onPropertyChanged("symbolStroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeWidth",{get:function(){return this.__symbolStrokeWidth},set:function(t){this.__symbolStrokeWidth!=t&&(this.__symbolStrokeWidth=e.prototype.validate.call(this,t),this._onPropertyChanged("symbolStrokeWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeDasharray",{get:function(){return this.__symbolStrokeDasharray},set:function(t){this.__symbolStrokeDasharray!=t&&(this.__symbolStrokeDasharray=t,this._onPropertyChanged("symbolStrokeDasharray"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){null!=this.__symbolSize&&this.__symbolSize==t||(this.__symbolSize=t,this._onPropertyChanged("symbolSize"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){null!=this.__borderRadius&&this.__borderRadius==t||(this.__borderRadius=t,this._onPropertyChanged("borderRadius"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pattern",{get:function(){return this.__pattern},set:function(t){this.__pattern!=t&&(this.__pattern=t,this._onPropertyChanged("pattern"))},enumerable:!0,configurable:!0}),n.prototype._merge=function(e){null!=e&&(null!=e.opacity&&(this.opacity=e.opacity),null!=e.strokeOpacity&&(this.strokeOpacity=e.strokeOpacity),null!=e.fill&&(this.fill=e.fill),null!=e.backgroundColor&&(this.backgroundColor=e.backgroundColor),null!=e.stroke&&(this.stroke=e.stroke),null!=e.strokeWidth&&(this.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(this.strokeDasharray=e.strokeDasharray),null!=e.symbolShape&&(this.symbolShape=e.symbolShape),null!=e.symbolOpacity&&(this.symbolOpacity=e.symbolOpacity),null!=e.symbolStrokeOpacity&&(this.symbolStrokeOpacity=e.symbolStrokeOpacity),null!=e.symbolFill&&(this.symbolFill=e.symbolFill),null!=e.symbolStroke&&(this.symbolStroke=e.symbolStroke),null!=e.symbolStrokeWidth&&(this.symbolStrokeWidth=e.symbolStrokeWidth),null!=e.symbolStrokeDasharray&&(this.symbolStrokeDasharray=e.symbolStrokeDasharray),null!=e.symbolSize&&(this.symbolSize=e.symbolSize),null==e.borderRadius||t.shapes._BorderRadiusExtension._isEmpty(e.borderRadius)||(this.borderRadius=t.options._BorderRadiusOptionCloneMaker._borderRadiusOptionCloneMaker._cloneOf(e.borderRadius)))},n.prototype._onPropertyChanged=function(t){this.__isChanged=!0,e.prototype._onPropertyChanged.call(this,t)},n.prototype._isChanged=function(){return this.__isChanged},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._StrokeWidthOptionConverter,!1)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"symbolShape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"symbolOpacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"symbolStrokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"symbolFill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"symbolStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"symbolStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"symbolStrokeDasharray",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"symbolSize",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],n.prototype,"borderRadius",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PatternOption")],n.prototype,"pattern",null),n}(e._NotifyPropertyChangeOptionModel),e._DataPointStyleOptionModel=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__adorners=e.adorners,n}return i(e,t),Object.defineProperty(e.prototype,"adorners",{get:function(){return this.__adorners},set:function(t){this.__adorners!==t&&(this.__adorners=t,this._onPropertyChanged("adorners"))},enumerable:!0,configurable:!0}),e.prototype._merge=function(e){if(null!=e){var n=e;this.adorners=n.adorners,t.prototype._merge.call(this,n)}},e}(t._DataPointStyleOptionModel);t._DataPointSelectionStyleOptionModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i,o,r){if(i<n)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,i,n);if(r<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,r);this.__logBase=e,this.__minimum=n,this.__maximum=i,this.__round=o,this.__count=r}return e.prototype._getUnit=function(){return this.__unit},e.prototype._setUnit=function(t){this.__unit!=t&&(this.__unit=t,this.__ticks=null)},e.prototype._ticks=function(){return null==this.__ticks&&(this.__ticks=this._calculateTicks(this._minimum(),this._maximum())),this.__ticks},e.prototype._logBase=function(){return this.__logBase},e.prototype._minimum=function(){return this.__minimum},e.prototype._maximum=function(){return this.__maximum},e.prototype._round=function(){return this.__round},e.prototype._count=function(){return this.__count},e.prototype._calculateTicks=function(t,e){var n=[],i=this._logBase(),o=Math.log(i),r=Math.floor(Math.log(this._minimum())/o),l=Math.ceil(Math.log(this._maximum())/o),a=i,s=!0;this._getUnit()>0&&(s=!1,(a=this._getUnit())<i&&(a=i));for(var u=r;u<=l;u+=1)if(s)for(var _=Math.pow(i,u),p=0;p*a<i-1;p++){var c;(c=_*(1+p*a))>=this._minimum()&&c<=this._maximum()&&(0==p?n.unshift(c):n.push(c))}else(c=Math.pow(a,u))>=this._minimum()&&c<=this._maximum()&&n.push(c);return n},e}(),e._LogNumberTicksGenerator=n}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){if(n<e)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,n,e);if(o<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,o);this.__minimum=e,this.__maximum=n,this.__round=i,this.__count=o}return e.prototype._getUnit=function(){return this.__unit},e.prototype._setUnit=function(t){this.__unit=t},e.prototype._ticks=function(){return null==this.__ticks&&(this.__ticks=this._calculateTicks(this._minimum(),this._maximum())),this.__ticks},e.prototype._minimum=function(){return this.__minimum},e.prototype._maximum=function(){return this.__maximum},e.prototype._round=function(){return this.__round},e.prototype._count=function(){return this.__count},e.prototype._calculateTicks=function(t,e){var n=[];if(t==e)n.push(t);else{var i=this._getUnit();null==i&&(i=this._calculateUnit(t,e,this._count()));for(var o=Math.floor(t/i)*i,r=Math.ceil(e/i)*i,l=r<0?r:-i;l-o>=0&&(n.push(l),l-=i,this._round()||!(l-t<0)););for(n.reverse(),l=o>=0?o:0;r-l>=0&&(n.push(l),l+=i,this._round()||!(e-l<0)););}return n},e.prototype._calculateUnit=function(n,i,o){if(i<n)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,i,n);if(o<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,o);var r=(i-n)/o,l=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/l;return a>=e.__e10?l*=10:a>=e.__e5?l*=5:a>=e.__e2&&(l*=2),l},e.__e10=Math.sqrt(50),e.__e5=Math.sqrt(10),e.__e2=Math.sqrt(2),e}();t._NumberTicksGenerator=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__pointView=t}return t.prototype.html=function(){return this.__pointView._createTooltipHtmlContent(this.__pointView.tooltip)},t.prototype.queryInterface=function(t){return this.__pointView.queryInterface(t)},t}();t._DataPointTooltipInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t,e){this.text=t,this.style=e};t._TextTooltipContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){};t.HtmlTooltipContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){this.type="Default"}return e.prototype.build=function(){return new t.HtmlTooltip},e}();t.DefaultTooltipBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.__hideAutoTipBnd=this.close.bind(this),this.__elementToolip=null}return e.prototype.open=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),null==i&&(i=new t.options._TooltipOption),this.__option=i,null!=this.__tooltipTimer&&(clearTimeout(this.__tooltipTimer),this.__tooltipTimer=null),this.__option.showDelay>0?this.__tooltipTimer=window.setTimeout((function(){r.__tooltipTimer=null,r._show(e,n,o),r._hideDelay(r.__option.hideDelay)}),this.__option.showDelay):(this._show(e,n,o),this._hideDelay(this.__option.hideDelay))},e.prototype.close=function(t){void 0===t&&(t=null),null!=this.__tooltipTimer&&(clearTimeout(this.__tooltipTimer),this.__tooltipTimer=null),this._hide(t)},e.prototype.containsFocus=function(){if(null==this.__elementToolip)return!1;var e=t._DomElementExtension._getActiveElement();return null!=e&&t._DomElementExtension._contains(this.__elementToolip,e)},e.prototype.dispose=function(){null!=this.__elementToolip&&t._DomElementExtension._remove(this.__elementToolip)},e.prototype._show=function(e,n,i){var o=this.__elementToolip,r=document.body;if(null!=o&&null!=o.parentElement&&document.body.contains(o)||(o=this.__elementToolip=document.createElement("div"),t._DomElementExtension._addClass(o,"gcdv-tooltip"),o.style.visibility="none",r.appendChild(o)),t._DomElementExtension._setCss(o,{position:"fixed",visibility:"hidden",display:""}),n.update(o),o.style.minWidth="",r.contains(o)){var l=getComputedStyle(o),a=parseFloat(l.marginTop)+parseFloat(l.marginBottom),s=parseFloat(l.marginLeft)+parseFloat(l.marginRight),u=new t.core.Size(o.offsetWidth+s,o.offsetHeight+a),_=new t.core.Point(0,0);e&&null!=e.x&&null!=e.y&&(e.x=e.x+this.__option.offsetX-o.offsetWidth/2,e.y=e.y-this.__option.offsetY);var p=parseFloat(l.minWidth);_.x=Math.max(0,Math.min(e.x,innerWidth-u.width)),e.x<0?_.x=this.__option.offsetX:e.x>innerWidth-u.width?_.x=innerWidth-u.width-this.__option.offsetX:_.x=e.x;var c=e.y+5+2*this.__option.offsetY,h=e.y,f=innerHeight-c;_.y=h>u.height||h>f?Math.max(0,e.y-u.height):c,p=Math.max(p,o.offsetWidth),(t._BrowserUtility.isIE()||t._BrowserUtility.isEdge())&&(p-=o.offsetWidth-(o.clientWidth+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10)));var d=new t.core.Point(-pageXOffset,-pageYOffset);t._DomElementExtension._setCss(o,{position:"fixed",left:_.x-d.x,top:_.y-d.y,minWidth:p,display:"",visibility:"",zIndex:1500}),document.addEventListener("mousedown",this.__hideAutoTipBnd),null!=i&&i()}},e.prototype._hideDelay=function(t){var e=this;t>0&&(this.__tooltipTimer=window.setTimeout((function(){e.__tooltipTimer=null,e._hide(null)}),t))},e.prototype._hide=function(e){null!=this.__elementToolip&&t._DomElementExtension._remove(this.__elementToolip),document.removeEventListener("mousedown",this.__hideAutoTipBnd),null==this.__option.closeCalllback||"function"!=typeof this.__option.closeCalllback?"function"==typeof e&&e():this.__option.closeCalllback()},e}(),e.HtmlTooltip=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n){var i=e.call(this)||this;return i.text=t,i.style=n,i}return i(n,e),n.prototype.update=function(t){null!=this.style&&this._applyTooltipStyle(t,this.style),t.innerHTML=this.text},n.prototype._applyTooltipStyle=function(e,n){var i=n.fill;e.style.backgroundColor="string"==typeof i?i:null;var o=n.stroke;if(e.style.borderColor="string"==typeof o?o:null,e.style.borderWidth=null==n.strokeWidth?null:n.strokeWidth+"px",null==n.textOpacity||"string"!=typeof n.textFill||t._ColorUtility._isStringColorTransparent(n.textFill))e.style.color=n.textFill;else{var r=t._NativeColorBuilder._colorBuilder._build(n.textFill);r._alpha=r._alpha*n.textOpacity,e.style.color=r._toCss()}var l=n.fontFamily;(null==l||l.indexOf(t._SystemUtility.DefaultFontFamily())<0)&&(l=null!=l&&l.length>0?[].concat(l.split(","),t._SystemUtility.DefaultFontFamily().split(",")).join(","):t._SystemUtility.DefaultFontFamily()),e.style.fontFamily=l,e.style.fontSize=null==n.fontSize?null:n.fontSize+"px",e.style.fontStyle=t.FontStyle[n.fontStyle],e.style.fontWeight=n.fontWeight;var a=[];n.textLineThrough&&a.push("line-through"),n.textOverline&&a.push("overline"),n.textUnderline&&a.push("underline"),e.style.textDecoration=a.join(" ")},n}(e.HtmlTooltipContent),e._TextHtmlContent=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTooltipInfo=function(t){return null!=t&&"function"==typeof t.html}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__activeUserTooltip=null,this.tooltipsBuilder=new t.TooltipsBuilder(e)}return e.prototype.activate=function(t){t.equalsWith(this.__activeUserTooltip)&&this.deactivate(),this.__activeUserTooltip=t},e.prototype.deactivate=function(){null!=this.__activeUserTooltip&&this.__activeUserTooltip.close(),this.__activeUserTooltip=null},e.prototype.tooltip=function(e,n){return void 0===n&&(n=null),new t.UserTooltip(this,e,n)},e.prototype.dispose=function(){this.tooltipsBuilder.dispose()},e}();t.ToolTipManager=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){if(void 0===t&&(t=null),this.__tooltips={},this.__tooltipBuilders={},null==t)this.__tooltipBuilders.Default=new e.DefaultTooltipBuilder;else for(var n=0,i=t;n<i.length;n++){var o=i[n];this.__tooltipBuilders[o.type]=o}}return n.prototype.dispose=function(){var e=this,n=t._NativeExtension.properties(this.__tooltips,!0);n.length>0&&n.forEach((function(t){e.__tooltips[t].dispose()}))},n.prototype.tooltip=function(t){void 0===t&&(t=null),null==t&&(t="Default");var e=this.__tooltips[t];return null==e&&null!=this.__tooltipBuilders[t]&&(e=this.__tooltipBuilders[t].build(),this.__tooltips[t]=e),null==e?null:e},n}(),e.TooltipsBuilder=n}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e,n){void 0===n&&(n=null),this.owner=t,this.type=n,this.user=e}return t.prototype.open=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this.owner.activate(this),this.__tooltip=this.owner.tooltipsBuilder.tooltip(this.type),null!=this.__tooltip&&this.__tooltip.open(t,e,n,i)},t.prototype.close=function(t){void 0===t&&(t=null),null!=this.__tooltip&&(this.__tooltip.close(t),this.__tooltip=null,this.owner.deactivate())},t.prototype.containsFocus=function(){return null!=this.__tooltip&&this.__tooltip.containsFocus()},t.prototype.equalsWith=function(t){return null!=t&&t.type==this.type&&t.user==this.user&&t.owner==this.owner},t.prototype.dispose=function(){this.close()},t}();t.UserTooltip=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.option=t}return t.prototype.draw=function(t){},t.prototype.contains=function(t){return!1},t}();t._Tracker=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(t._Tracker);t._TrackArea=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o){var r=e.call(this,t)||this;return r.__location=n,r.__size=i,r.__region=o,r}return i(n,e),n.prototype.draw=function(e){var n=this.option;e.beginTransform(),t._StyleUtility._applyTrackAreaStyleOption(e,n),e.drawRect(this.__location.x,this.__location.y,this.__size.width,this.__size.height),e.restoreTransform()},n.prototype.contains=function(t){return this.__region.contains(t)},n}(e._TrackArea),e._CartesianTrackArea=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o.__region=i,o.__area=n,o}return i(n,e),n.prototype.draw=function(e){var n=this.__area,i=this.option;e.beginTransform(),t._StyleUtility._applyTrackAreaStyleOption(e,i),e.drawDonut(n.center.x,n.center.y,n.radius,n.innerRadius,n.startAngle,n.sweepAngle),e.restoreTransform()},n.prototype.contains=function(t){return this.__region.contains(t)},n}(e._TrackArea),e._RadialTrackArea=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(t._Tracker);t._TrackLine=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o){var r=e.call(this,t)||this;return r.__p1=n,r.__p2=i,r.__region=o,r}return i(n,e),n.prototype.draw=function(e){var n=this.option;e.beginTransform(),t._StyleUtility._applyTrackLineStyleOption(e,n),e.drawLine(this.__p1.x,this.__p1.y,this.__p2.x,this.__p2.y),e.restoreTransform()},n.prototype.contains=function(t){return this.__region.contains(t)},n}(e._TrackLine),e._CartesianTrackLine=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t)||this;return s.__cx=n,s.__cy=i,s.__radius=o,s.__startAngle=r,s.__sweep=l,s.__region=a,s}return i(n,e),n.prototype.draw=function(e){var n=this.option,i=this.__radius;e.beginTransform(),e.fill=t._CssColor._none(),t._StyleUtility._applyTrackLineStyleOption(e,n),e.drawDonut(this.__cx,this.__cy,i,i,this.__startAngle,this.__sweep),e.restoreTransform()},n.prototype.contains=function(t){return this.__region.contains(t)},n}(e._TrackLine),e._RadialTrackLine=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i,o){var r=e.call(this,t)||this;return r.__p1=n,r.__p2=i,r.__region=o,r}return i(n,e),n.prototype.draw=function(e){var n=this.__p1,i=this.__p2,o=this.option;e.beginTransform(),e.fill=t._CssColor._none(),t._StyleUtility._applyTrackLineStyleOption(e,o),e.drawLine(n.x,n.y,i.x,i.y),e.restoreTransform()},n.prototype.contains=function(t){return this.__region.contains(t)},n}(e._TrackLine),e._TrackStraightLine=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.prototype.queryInterface=function(t){return null},t}();t._ValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._NumberValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._BooleanValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t){var e=n.call(this)||this;return e.__value=t,e}return i(o,n),o.prototype._toString=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),e.StringObject._toTemplateString(this._stringify())},o.prototype._toCssColor=function(e){return e instanceof t._CssColor?e.color:null},Object.defineProperty(o.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),o.prototype._stringify=function(){var t=this._toCssColor(this.__value);return null!=t?new e.StringObject("color",t):null},o.prototype.queryInterface=function(t){return"IStringifyable"===t||"IColorValue"===t?this:null},o}(e._ValueInfo),e._ColorValueInfo=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n){var i=e.call(this)||this;return i.__value=t,i.__stringFormatting=n,i}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),n.prototype._toString=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting?(null==e&&(t._AnyTypeUtility._isNumber(this.__value)?e=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(this.__value)&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1))),this.__stringFormatting.format(e,this.__value,n)):null!=this.__value?this.__value.toString():""},n}(e._ValueInfo),e._DataValueInfo=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__lower=t,o.__upper=n,o.__stringFormatting=i,o}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return new n(this.__lower,this.__upper,null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lower",{get:function(){return this.__lower},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upper",{get:function(){return this.__upper},enumerable:!0,configurable:!0}),n.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1)),this.__stringFormatting.format(e,this.__lower,n)+", "+this.__stringFormatting.format(e,this.__upper,n);var i="";return i+=null!=this.__lower?this.__lower.toString():"",(i+=", ")+(null!=this.__upper?this.__upper.toString():"")},n}(e._ValueInfo),e._DateRangeValueInfo=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._DateValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i){var o=e.call(this)||this;o.__lower=t,o.__upper=n;var r=null==t?0:t,l=null==n?0:n;return o.__distance=l-r,o.__stringFormatting=i,o}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return new n(this.__lower,this.__upper,null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lower",{get:function(){return this.__lower},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upper",{get:function(){return this.__upper},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distance",{get:function(){return this.__distance},enumerable:!0,configurable:!0}),n.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1)),this.__stringFormatting.format(e,this.__lower,n)+", "+this.__stringFormatting.format(e,this.__upper,n);var i="";return i+=null!=this.__lower?this.__lower.toString():"",(i+=", ")+(null!=this.__upper?this.__upper.toString():"")},n}(e._ValueInfo),e._NumberRangeValueInfo=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__previous=n,i}return i(e,t),Object.defineProperty(e.prototype,"previous",{get:function(){return this.__previous},enumerable:!0,configurable:!0}),e}(t._NumberValueInfo);t._NumberStackValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!0,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._StringValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isBooleanValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isColorValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDataValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDateRangeValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.lower&&void 0!==e.upper}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDateValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNumberRangeValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.distance&&void 0!==e.lower&&void 0!==e.upper}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNumberStackValue=function(t){return null!=t&&void 0!==t.previous}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNumberValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isStringValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isValue=function(t){return null!=t&&"function"==typeof t._toString}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n){void 0===n&&(n=null),this.__success=!0,this.__proxy=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,[],n),this.__vectorExpressions=this._parseExpress(e)}return e.prototype._current=function(){return this.__current},e.prototype.evaluate=function(t){if(this.__success=!0,null!=this.__proxy){this.__current=t;for(var e=0,n=this.__vectorExpressions;e<n.length;e++){var i=n[e];if(!this.__success)break;null==this.getIdentityValue(i)&&this.__proxy.evaluate("CONDITION",i)}}return this.__success},e.prototype._parseExpress=function(t){for(var e=[],n=0,i=("]."+t+".[").split("].[");n<i.length;n++){var o=i[n],r=o.trim();null!=r&&""!==r&&e.push(o)}return e},e.prototype.isIdentityExpression=function(t){return!0},e.prototype.getIdentityValue=function(e){var n=this._current();try{var i=new t._AnyValueBinding(e),o=i._getValue(n.item);return null==o&&(o=i._getValue(n)),o}catch(t){}return null},e.prototype.resultCallback=function(t){null!=t&&1==t||(this.__success=!1)},e}(),e._VectorConditionalRule=n}(t||(t={})),function(t){!function(t){t._isAxisLabelModel=function(t){var e=t;return null!=e&&void 0!==e.hover&&void 0!==e.value&&void 0!==e.textStyle&&"function"==typeof e.relatedModels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isAxisUnitLabelModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isGridLineModel=function(t){var e=t;return null!=e&&void 0!==e.orientation&&void 0!==e.isMajor}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isHeaderFooterModel=function(t){return null!=t&&void 0!==t.title}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPlotAreaModel=function(t){var e=t;return void 0!==e.row&&void 0!==e.column&&void 0!==e.legends&&void 0!==e.plotsPanes}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPlotModel=function(t){var e=t;return null!=e&&void 0!==e.items&&void 0!==e.points&&void 0!==e.name&&void 0!==e.option&&void 0!==e.overlays}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPlotsPaneModel=function(t){return null!=t&&void 0!==t.plots}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPointModel=function(t){var e=t;return null!=e&&void 0!==e.item&&void 0!==e.items&&void 0!==e.style&&void 0!==e.selected&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){t._isQueryShowTrackerViewModel=function(t){return null!=t._queryRelatedViewModel}}(t||(t={})),t||(t={}),function(t){!function(t){t._isSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.items&&void 0!==e.points&&void 0!==e.visiblePoints&&void 0!==e.style&&void 0!==e.color&&void 0!==e.selected&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowTrackerViewModel=function(t){return null!=t&&"function"==typeof t._tracker}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowViewModel=function(t){return null!=t&&"function"==typeof t.contains}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTrackerViewModel=function(t){return null!=t._trackerContent}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isItemizedLegendModel=function(t){return null!=t&&void 0!==t.items}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendItemModel=function(t){var e=t;return null!=e&&void 0!==e.title&&void 0!==e.size&&void 0!==e.color&&void 0!==e.shape&&void 0!==e.visible&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedModels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendModel=function(t){var e=t;return null!=e&&void 0!==e.title&&void 0!==e.kind}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendTitleModel=function(t){return null!=t&&void 0!==t.title}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInWheelInteractionBuilders=function(){return null==n.__buildInWheelInteractionBuilders&&(n.__buildInWheelInteractionBuilders=new n([],n._pluginType)),n.__buildInWheelInteractionBuilders},n.prototype._convert=function(e){return t._isWheelInteractionBuilder(e)?e:null},n.prototype._wheelInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildWheelInteraction(t);i.push(l)}return i},n._pluginType="WheelInteraction",n}(t._BuildInObjectCollection);t._BuildInWheelInteractionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerStroke",{get:function(){return this.__innerStroke},set:function(t){null!=this.__innerStroke&&this.__innerStroke==t||(this.__innerStroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerStrokeWidth",{get:function(){return this.__innerStrokeWidth},set:function(t){null!=this.__innerStrokeWidth&&this.__innerStrokeWidth==t||(this.__innerStrokeWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerStrokeDasharray",{get:function(){return this.__innerStrokeDasharray},set:function(t){this.__innerStrokeDasharray!=t&&(this.__innerStrokeDasharray=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!0,configurable:!0}),n.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.StyleRequired,this.option());e.prototype._setOption.call(this,n)},n.prototype.init=function(){e.prototype.init.call(this),this.__backgroundColor=null,this.__stroke=null,this.__strokeWidth=null,this.__strokeDasharray=null,this.__innerStroke=null,this.__innerStrokeWidth=null,this.__innerStrokeDasharray=null,this.__fill=null},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"innerStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"innerStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"innerStrokeDasharray",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"fill",null),n}(e._Option),e._StyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._StyleOption(null);return n._setOption(e.option()),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.innerStroke=null==e.innerStroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.innerStroke),n.innerStrokeWidth=e.innerStrokeWidth,n.innerStrokeDasharray=e.innerStrokeDasharray,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n},e._styleOptionCloneMaker=new e,e}();t._StyleOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"mode",{get:function(){return this.__mode},set:function(t){this.__mode!=t&&(this.__mode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"duration",{get:function(){return this.__duration},set:function(t){this.__duration!=t&&(this.__duration=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"easing",{get:function(){return this.__easing},set:function(t){this.__easing!=t&&(this.__easing=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startDelay",{get:function(){return this.__startDelay},set:function(t){this.__startDelay!=t&&(this.__startDelay=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endDelay",{get:function(){return this.__endDelay},set:function(t){this.__endDelay!=t&&(this.__endDelay=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"staggering",{get:function(){return this.__staggering},set:function(t){this.__staggering!=t&&(this.__staggering=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__mode=t.AnimationMode.All,this.__duration=200,this.__easing=t.AnimationEasing.Linear,this.__startDelay=0,this.__endDelay=0,this.__staggering=!1},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationMode,t.AnimationMode.All)],n.prototype,"mode",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationDuration),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"duration",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationEasing,t.AnimationEasing.Linear)],n.prototype,"easing",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationStartDelay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"startDelay",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationEndDelay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"endDelay",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"staggering",null),n}(e._Option),e._AnimationOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._AnimationOption(null);return n._setOption(e.option()),n.mode=e.mode,n.duration=e.duration,n.easing=e.easing,n.startDelay=e.startDelay,n.staggering=e.staggering,n},e._animationOptionCloneMaker=new e,e}();t._AnimationOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},set:function(t){null!=this.__value&&this.__value==t||(this.__value=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dateMode",{get:function(){return this.__dateMode},set:function(t){null!=this.__dateMode&&this.__dateMode==t||(this.__dateMode=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__value=null,this.__dateMode=null},o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!1,t.ErrorCode.PositiveNumberExpected),t.ValidatorAttribute(t._AxisUnitValidator,!0)],n.prototype,"value",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DateMode)],n.prototype,"dateMode",null),n}(e._Option),e._AxisUnitOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"horizontalRadius",{get:function(){return this.__horizontalRadius},set:function(t){this.__horizontalRadius!=t&&(null==t&&(t=new e._BorderRadiusValueOption),this.__horizontalRadius=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"verticalRadius",{get:function(){return this.__verticalRadius},set:function(t){this.__verticalRadius!=t&&(null==t&&(t=new e._BorderRadiusValueOption),this.__verticalRadius=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__horizontalRadius=new e._BorderRadiusValueOption(null),this.__verticalRadius=new e._BorderRadiusValueOption(null)},o([t.JsonConverterAttribute(t._BorderRadiusValueOptionConverter,!1)],r.prototype,"horizontalRadius",null),o([t.JsonConverterAttribute(t._BorderRadiusValueOptionConverter,!1)],r.prototype,"verticalRadius",null),r}(e._Option),e._BorderRadiusOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._BorderRadiusOption(null);return n._setOption(e.option()),n.horizontalRadius=null==e.horizontalRadius?null:t._BorderRadiusValueOptionCloneMaker._borderRadiusValueOptionCloneMaker._cloneOf(e.horizontalRadius),n.verticalRadius=null==e.verticalRadius?null:t._BorderRadiusValueOptionCloneMaker._borderRadiusValueOptionCloneMaker._cloneOf(e.verticalRadius),n},e._borderRadiusOptionCloneMaker=new e,e}();t._BorderRadiusOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"topLeft",{get:function(){return this.__topLeft},set:function(n){if(null==this.__topLeft||this.__topLeft!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0})),this.__topLeft=i}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topRight",{get:function(){return this.__topRight},set:function(n){if(null==this.__topRight||this.__topRight!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0})),this.__topRight=i}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRight",{get:function(){return this.__bottomRight},set:function(n){if(null==this.__bottomRight||this.__bottomRight!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0})),this.__bottomRight=i}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomLeft",{get:function(){return this.__bottomLeft},set:function(n){if(null==this.__bottomLeft||this.__bottomLeft!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0})),this.__bottomLeft=i}},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__topLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),this.__topRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),this.__bottomRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),this.__bottomLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0})},o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"topLeft",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"topRight",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"bottomRight",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"bottomLeft",null),r}(e._Option),e._BorderRadiusValueOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._BorderRadiusValueOption(null);return n._setOption(e.option()),n.topLeft=null==e.topLeft?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.topLeft),n.topRight=null==e.topRight?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.topRight),n.bottomLeft=null==e.bottomLeft?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.bottomLeft),n.bottomRight=null==e.bottomRight?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.bottomRight),n},e._borderRadiusValueOptionCloneMaker=new e,e}();t._BorderRadiusValueOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"bar",{get:function(){return this.__bar},set:function(t){this.__bar!=t&&(null==t&&(t=new e._BarOption),this.__bar=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"header",{get:function(){return this.__header},set:function(t){this.__header!==t&&(null==t&&(t=new e._HeaderOption),this.__header=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){return this.__footer},set:function(t){this.__footer!==t&&(null==t&&(t=new e._FooterOption),this.__footer=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this.__palette},set:function(t){this.__palette!=t&&(this.__palette=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){return this.__shapes},set:function(t){this.__shapes!=t&&(this.__shapes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plotAreas",{get:function(){return this.__plotAreas},set:function(t){this.__plotAreas!=t&&(this.__plotAreas=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plotAreaLayout",{get:function(){return this.__plotAreaLayout},set:function(t){this.__plotAreaLayout!=t&&(null==t&&(t=new e._PlotAreaLayoutOption),this.__plotAreaLayout=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this.__legend},set:function(t){this.__legend!=t&&(null==t&&(t=new e._GlobalLegendOption),this.__legend=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.__selectionMode},set:function(t){this.__selectionMode!=t&&(this.__selectionMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__selectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){null!=this.__unSelectedStyle&&this.__unSelectedStyle==t||(this.__unSelectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedTextStyle",{get:function(){return this.__selectedTextStyle},set:function(t){this.__selectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__selectedTextStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedTextStyle",{get:function(){return this.__unSelectedTextStyle},set:function(t){this.__unSelectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__unSelectedTextStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){null!=this.__textStyle&&this.__textStyle==t||(this.__textStyle=null==t?new e._TextStyleOption(null):t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:this.__plugins!=t&&(this.__plugins=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__header=null,this.__footer=null,this.__palette=this._createDefaultPalette(),this.__shapes=[],this.__plotAreas=[],this.__plotAreaLayout=new e._PlotAreaLayoutOption(null),this.__backgroundColor=null,this.__legend=new e._GlobalLegendOption(null),this.__selectionMode=t.SelectionMode.None,this.__selectedStyle=new e._SelectionStyleOption(null),this.__unSelectedStyle=new e._SelectionStyleOption(null),this.__selectedTextStyle=new e._TextStyleOption(null),this.__unSelectedTextStyle=new e._TextStyleOption(null),this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__borderStyle=new e._LineStyleOption(null),this.__bar=new e._BarOption(null),this.__padding=null,this.__plugins=[]},r.prototype._createDefaultPalette=function(){for(var n=[],i=0,o=t.models._Palettes.Office;i<o.length;i++){var r=o[i],l=new e._PaletteItemOption(null);l.type=e.PaletteItemType.Index,l.data=null,l.color=e._CssColorOption._buildColorOption(t._NativeColorBuilder._colorBuilder._build(r)._toCss()),n.push(l)}return n},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_BarOption")],r.prototype,"bar",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_HeaderOption")],r.prototype,"header",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_FooterOption")],r.prototype,"footer",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0)],r.prototype,"palette",null),o([t.JsonConverterAttribute(t._SymbolShapesConverter,!0),t.ValidatorAttribute(t._SymbolShapesValidator,!0)],r.prototype,"shapes",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_PlotAreaOption"),t.ValidatorAttribute(t._PlotAreasValidator,!0)],r.prototype,"plotAreas",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotAreaLayoutOption")],r.prototype,"plotAreaLayout",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_GlobalLegendOption")],r.prototype,"legend",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SelectionMode,t.SelectionMode.None)],r.prototype,"selectionMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],r.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"selectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"unselectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ConfigPluginOption")],r.prototype,"plugins",null),r}(e._Option),e._ConfigOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.__name},set:function(t){null!=t&&""!=t||(t="Default"),this.__name!=t&&(this.__name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"arguments",{get:function(){return this.__arguments},set:function(t){this.__arguments!=t&&(this.__arguments=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__name=t.plugins.PluginCollection.defaultPluginName,this.__type="",this.__arguments=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!1)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_Option")],n.prototype,"arguments",null),n}(e._Option),e._ConfigPluginOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"plots",{get:function(){return this.__plots},set:function(t){this.__plots!=t&&(this.__plots=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutMode",{get:function(){return this.__layoutMode},set:function(t){null!=this.__layoutMode&&this.__layoutMode==t||(this.__layoutMode=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__plots=[],this.__layoutMode=null},o([t.JsonConverterAttribute(t._NameArrayOptionConverter,!0),t.ValidatorAttribute(t._NameArrayOptionValidator,!1)],n.prototype,"plots",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"layoutMode",null),n}(e._Option),e._CoordinateSystemOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(e){null!=e&&""!=e&&"Default"!=e||(e=t._Constants.DataPointTextScope),this.__scope!=e&&(this.__scope=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlappingLabels",{get:function(){return this.__overlappingLabels},set:function(t){this.__overlappingLabels!=t&&(this.__overlappingLabels=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__scope=t._Constants.DataPointTextScope,this.__template=null,this.__format=new e._FormatOption(null),this.__overlappingLabels=t.OverlappingLabels.Auto,this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__connectingLine=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!1)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlappingLabels,t.OverlappingLabels.Auto)],r.prototype,"overlappingLabels",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],r.prototype,"connectingLine",null),r}(e._Option),e._DataLabelOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._DataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){null!=e&&(n.scope=e.scope,n.template=e.template,n.format=null==e.format?null:t._FormatOptionCloneMarker._formatOptionCloneMarker._cloneOf(e.format),n.overlappingLabels=e.overlappingLabels,n.style=null==e.style?null:t._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(e.style),n.textStyle=null==e.textStyle?null:t._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(e.textStyle),n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine))},e._dataLabelOptionCloneMaker=new e,e}();t._DataLabelOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(this.__name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this.__values},set:function(t){null!=this.__values&&this.__values==t||(this.__values=[],null!=t&&(this.__values=t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dateFormats",{get:function(){return this.__dateFormats},set:function(t){null!=this.__dateFormats&&this.__dateFormats==t||(this.__dateFormats=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__name=null,this.__values=[],this.__dateFormats=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"name",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"object")],n.prototype,"values",null),o([t.JsonConverterAttribute(t._DateFormatsConverter,!0)],n.prototype,"dateFormats",null),n}(e._Option),e._DataOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._buildEmptyDataPointStyleOption=function(){return new n(null)},Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolShape",{get:function(){return this.__symbolShape},set:function(t){this.__symbolShape!=t&&(this.__symbolShape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolOpacity",{get:function(){return this.__symbolOpacity},set:function(t){null!=this.__symbolOpacity&&this.__symbolOpacity==t||(this.__symbolOpacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeOpacity",{get:function(){return this.__symbolStrokeOpacity},set:function(t){this.__symbolStrokeOpacity!=t&&(this.__symbolStrokeOpacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolFill",{get:function(){return this.__symbolFill},set:function(t){null!=this.__symbolFill&&this.__symbolFill==t||(this.__symbolFill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStroke",{get:function(){return this.__symbolStroke},set:function(t){null!=this.__symbolStroke&&this.__symbolStroke==t||(this.__symbolStroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeWidth",{get:function(){return this.__symbolStrokeWidth},set:function(t){null!=this.__symbolStrokeWidth&&this.__symbolStrokeWidth==t||(this.__symbolStrokeWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStrokeDasharray",{get:function(){return this.__symbolStrokeDasharray},set:function(t){this.__symbolStrokeDasharray!=t&&(this.__symbolStrokeDasharray=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){null!=this.__symbolSize&&this.__symbolSize==t||(this.__symbolSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__opacity=null,this.__strokeOpacity=null,this.__fill=null,this.__backgroundColor=null,this.__stroke=null,this.__strokeWidth=null,this.__strokeDasharray=null,this.__symbolShape=null,this.__symbolOpacity=null,this.__symbolStrokeOpacity=null,this.__symbolFill=null,this.__symbolStroke=null,this.__symbolStrokeWidth=null,this.__symbolStrokeDasharray=null,this.__symbolSize=null,this.__borderRadius=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._StrokeWidthOptionConverter,!1)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"symbolShape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"symbolOpacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"symbolStrokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"symbolFill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"symbolStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"symbolStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"symbolStrokeDasharray",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"symbolSize",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],n.prototype,"borderRadius",null),n}(e._Option),e._DataPointStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){if(t._isSelectionStyleOption(e))return t._SelectionStyleOptionCloneMarker._selectionStyleOptionCloneMarker._cloneOf(e);if(t._isSeriesStyleOption(e))return t._SeriesStyleOptionCloneMarker._seriesStyleOptionCloneMarker._cloneOf(e);var n=new t._DataPointStyleOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){null!=e&&(n.opacity=e.opacity,n.strokeOpacity=e.strokeOpacity,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=null==e.strokeWidth?null:t._StrokeWidthOptionCloneMarker._strokeWidthOptionCloneMarker._cloneOf(e.strokeWidth),n.strokeDasharray=e.strokeDasharray,n.symbolShape=e.symbolShape,n.symbolOpacity=e.symbolOpacity,n.symbolStrokeOpacity=e.symbolStrokeOpacity,n.symbolFill=null==e.symbolFill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.symbolFill),n.symbolStroke=null==e.symbolStroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.symbolStroke),n.symbolStrokeWidth=e.symbolStrokeWidth,n.symbolStrokeDasharray=e.symbolStrokeDasharray,n.symbolSize=e.symbolSize,n.borderRadius=null==e.borderRadius?null:t._BorderRadiusOptionCloneMaker._borderRadiusOptionCloneMaker._cloneOf(e.borderRadius))},e._dataPointStyleOptionCloneMaker=new e,e}();t._DataPointStyleOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){null!=this.__plots&&this.__plots==t||(this.__plots=[],null!=t&&(this.__plots=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._ConfigOption),this.__config=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(null==t&&(t=[]),this.__data=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"transform",{get:function(){return this.__transform},set:function(t){this.__transform!=t&&(this.__transform=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderMethod",{get:function(){return this.__renderMethod},set:function(t){null!=this.__renderMethod&&this.__renderMethod==t||(this.__renderMethod=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__plots=[],this.__config=new e._ConfigOption(null),this.__data=[],this.__transform=[],this.__renderMethod=null},o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_PlotOption")],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ConfigOption")],r.prototype,"config",null),o([t.JsonConverterAttribute(t._DataOptionsConverter,!0)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._TransformOptionOrNullConverter,!0),t.ValidatorAttribute(t._TransformOptionsValidator,!0)],r.prototype,"transform",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.RenderMethod)],r.prototype,"renderMethod",null),r}(e._Option),e._DvOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__field=null,this.__label=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"label",null),n}(e._Option),e._EncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){this.__maxHeight!=t&&(this.__maxHeight=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__title=null,this.__height=null,this.__maxHeight=null,this.__padding=null,this.__hAlign=t.HAlign.Center,this.__vAlign=t.VAlign.Middle,this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__borderStyle=new e._LineStyleOption(null),this.__width=null},o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Middle)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),r}(e._Option),e._FooterOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},set:function(t){null!=t&&t==this.__value||(this.__value=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type=null,this.__value=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"value",null),n}(e._Option),e._FormatOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._FormatOption(null);return n._setOption(e.option()),n.type=e.type,n.value=e.value,n},e._formatOptionCloneMarker=new e,e}();t._FormatOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"itemSpace",{get:function(){return this.__itemSpace},set:function(t){this.__itemSpace!=t&&(this.__itemSpace=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!=t&&(this.__margin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupPadding",{get:function(){return this.__groupPadding},set:function(t){this.__groupPadding!=t&&(this.__groupPadding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupOrientation",{get:function(){return this.__groupOrientation},set:function(t){null!=this.__groupOrientation&&this.__groupOrientation==t||(this.__groupOrientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){null!=this.__left&&this.__left==t||(this.__left=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){null!=this.__top&&this.__top==t||(this.__top=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupHAlign",{get:function(){return this.__groupHAlign},set:function(t){null!=this.__groupHAlign&&this.__groupHAlign==t||(this.__groupHAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupVAlign",{get:function(){return this.__groupVAlign},set:function(t){null!=this.__groupVAlign&&this.__groupVAlign==t||(this.__groupVAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this.__labelPosition},set:function(t){null!=this.__labelPosition&&this.__labelPosition==t||(this.__labelPosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){null!=this.__position&&this.__position==t||(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titlePosition",{get:function(){return this.__titlePosition},set:function(t){null!=this.__titlePosition&&this.__titlePosition==t||(this.__titlePosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wrapping",{get:function(){return this.__wrapping},set:function(t){null!=this.__wrapping&&this.__wrapping==t||(this.__wrapping=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LegendStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__titleStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemPadding",{get:function(){return this.__itemPadding},set:function(t){this.__itemPadding!==t&&(this.__itemPadding=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__orientation=null,this.__position=null,this.__titlePosition=null,this.__wrapping=null,this.__style=new e._LegendStyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__borderStyle=new e._LineStyleOption(null),this.__titleStyle=new e._TextStyleOption(null),this.__hoverStyle=null,this.__padding=null,this.__itemPadding=null,this.__labelPosition=t.Position.Right,this.__groupHAlign=null,this.__groupVAlign=null,this.__left=null,this.__top=null,this.__groupOrientation=null,this.__groupPadding=null,this.__margin=null,this.__itemSpace=null},o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"itemSpace",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"groupPadding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"groupOrientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"groupHAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"groupVAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position,t.Position.Right)],r.prototype,"labelPosition",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendPosition)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"titlePosition",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],r.prototype,"wrapping",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LegendStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"itemPadding",null),r}(e._Option),e._GlobalLegendOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){this.__maxHeight!=t&&(this.__maxHeight=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!==t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__title=null,this.__height=null,this.__maxHeight=null,this.__padding=null,this.__hAlign=t.HAlign.Center,this.__vAlign=t.VAlign.Middle,this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__borderStyle=new e._LineStyleOption(null),this.__width=null},o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Middle)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),r}(e._Option),e._HeaderOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"stay",{get:function(){return this.__stay},set:function(t){this.__stay!=t&&(this.__stay=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(n){this.__scale!=n&&(null==n&&(n=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05})),this.__scale=n)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__scale=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05}),this.__stay=t._Constants.AnimationStay},o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationStay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],r.prototype,"stay",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"scale",null),r}(e._AnimationOption),e._HighlightAnimationOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(n){if(null==this.__scale||this.__scale!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05})),this.__scale=i}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startDelay",{get:function(){return this.__startDelay},set:function(t){this.__startDelay=0},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__scale=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05})},o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"scale",null),r}(e._AnimationOption),e._HoverAnimationOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){this.__enabled!=t&&(this.__enabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this.__min},set:function(t){this.__min!=t&&(this.__min=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this.__max},set:function(t){this.__max!=t&&(this.__max=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unit",{get:function(){return this.__unit},set:function(t){this.__unit!=t&&(this.__unit=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"palette",{get:function(){return this.__palette},set:function(t){this.__palette!=t&&(this.__palette=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__enabled=!0,this.__min=null,this.__max=null,this.__unit=null,this.__palette=[]},o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],n.prototype,"enabled",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"min",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"max",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null)],n.prototype,"unit",null),o([t.JsonConverterAttribute(t._PaletteConverter,!0),t.ValidatorAttribute(t._PaletteValidator,!0)],n.prototype,"palette",null),n}(e._Option),e._LegendGradientOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){null!=t&&(this.__text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__text=null,this.__textStyle=new e._TextStyleOption(null)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._LegendItemOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"itemSpace",{get:function(){return this.__itemSpace},set:function(t){this.__itemSpace!=t&&(this.__itemSpace=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"merge",{get:function(){return this.__merge},set:function(t){if(this.__merge!=t)if(null==t)this.__merge=null;else{for(var e=[],n=function(t){if(e.some((function(e){return e.plotName===t.plotName&&e.type===t.type})))return"continue";e.push(t)},i=0,o=t;i<o.length;i++)n(o[i]);this.__merge=e}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!=t&&(this.__margin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupPadding",{get:function(){return this.__groupPadding},set:function(t){this.__groupPadding!=t&&(this.__groupPadding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupOrientation",{get:function(){return this.__groupOrientation},set:function(t){null!=this.__groupOrientation&&this.__groupOrientation==t||(this.__groupOrientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){null!=this.__left&&this.__left==t||(this.__left=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){null!=this.__top&&this.__top==t||(this.__top=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupHAlign",{get:function(){return this.__groupHAlign},set:function(t){null!=this.__groupHAlign&&this.__groupHAlign==t||(this.__groupHAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupVAlign",{get:function(){return this.__groupVAlign},set:function(t){null!=this.__groupVAlign&&this.__groupVAlign==t||(this.__groupVAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this.__labelPosition},set:function(t){null!=this.__labelPosition&&this.__labelPosition==t||(this.__labelPosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){null!=this.__hAlign&&this.__hAlign==t||(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){null!=this.__vAlign&&this.__vAlign==t||(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){null!=t&&(this.__template=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"items",{get:function(){return this.__items},set:function(t){null==t?this.__items=[]:null!=this.__items&&this.__items==t||(this.__items=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortOrder",{get:function(){return this.__sortOrder},set:function(t){this.__sortOrder!=t&&(this.__sortOrder=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){null!=this.__position&&this.__position==t||(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titlePosition",{get:function(){return this.__titlePosition},set:function(t){null!=this.__titlePosition&&this.__titlePosition==t||(this.__titlePosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LegendStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__titleStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ranges",{get:function(){return this.__ranges},set:function(t){if(this.__ranges!=t)if(null==t)this.__ranges=null;else{for(var e=[],n=-Number.MAX_VALUE,i=0,o=t;i<o.length;i++){var r=o[i];if(null==r)break;if(null==r.to||isNaN(r.to)||!(r.to>n)){if(e.length>0&&(null==r.to||isNaN(r.to))){e.push(r);break}break}e.push(r),n=r.to}this.__ranges=e}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gradient",{get:function(){return this.__gradient},set:function(t){this.__gradient!=t&&(null==t&&(t=new e._LegendGradientOption),this.__gradient=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemPadding",{get:function(){return this.__itemPadding},set:function(t){this.__itemPadding!==t&&(this.__itemPadding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){this.__maxWidth!=t&&(this.__maxWidth=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){this.__maxHeight!=t&&(this.__maxHeight=this.validate(t))},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type=null,this.__orientation=null,this.__position=null,this.__title=null,this.__titlePosition=null,this.__style=new e._LegendStyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__borderStyle=new e._LineStyleOption(null),this.__titleStyle=new e._TextStyleOption(null),this.__hoverStyle=null,this.__ranges=null,this.__gradient=new e._LegendGradientOption(null),this.__padding=null,this.__itemPadding=null,this.__width=null,this.__height=null,this.__maxWidth=null,this.__maxHeight=null,this.__sortOrder=t.SortOrder.None,this.__items=[],this.__template=null,this.__hAlign=null,this.__vAlign=null,this.__labelPosition=null,this.__merge=null,this.__groupHAlign=null,this.__groupVAlign=null,this.__left=null,this.__top=null,this.__groupOrientation=null,this.__groupPadding=null,this.__margin=null,this.__itemSpace=null},o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"itemSpace",null),o([t.JsonConverterAttribute(t._MergeLegendTypeOptionArrayConverter,!0)],r.prototype,"merge",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"groupPadding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"groupOrientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"groupHAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"groupVAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"labelPosition",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_LegendItemOption")],r.prototype,"items",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SortOrder,t.SortOrder.None)],r.prototype,"sortOrder",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendType)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendPosition)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"titlePosition",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LegendStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._LegendRangeOptionsOrNullConverter,!0)],r.prototype,"ranges",null),o([t.JsonConverterAttribute(t._LegendGradientOptionConverter,!1)],r.prototype,"gradient",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"itemPadding",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],r.prototype,"maxHeight",null),r}(e._Option),e._LegendOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"to",{get:function(){return this.__to},set:function(t){null!=this.__to&&this.__to==t||(this.__to=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__title=null,this.__to=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"title",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"to",null),n}(e._Option),e._LegendRangeOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"iconColor",{get:function(){return this.__iconColor},set:function(t){null!=this.__iconColor&&this.__iconColor==t||(this.__iconColor=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__iconColor=null},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"iconColor",null),n}(e._StyleOption),e._LegendStyleOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return null!=this.__strokeOpacity?this.__strokeOpacity:null!=this.__opacity?this.__opacity:null},set:function(t){this.__strokeOpacity!=t&&(this.__strokeOpacity=e.prototype.validate.call(this,t),null!=this.__strokeOpacity&&(this.__opacity=null))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.strokeOpacity},set:function(t){this.__opacity!=t&&(this.__opacity=this.validate(t),null!=this.__opacity&&(this.__strokeOpacity=null))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){null!=this.__strokeDasharray&&this.__strokeDasharray==t||(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__strokeOpacity=null,this.__stroke=null,this.__strokeWidth=null,this.__strokeDasharray=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"strokeOpacity",null),o([t.deprecated("ILineStyleOption.opacity","strokeOpacity"),t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"strokeDasharray",null),n}(e._Option),e._LineStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._LineStyleOption(null);return n._setOption(e.option()),n.strokeOpacity=e.strokeOpacity,n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n},e._lineStyleOptionCloneMarker=new e,e}();t._LineStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.__right},set:function(t){this.__right!=t&&(this.__right=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){this.__bottom!=t&&(this.__bottom=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__left=0,this.__top=0,this.__right=0,this.__bottom=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"top",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"right",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"bottom",null),n}(e._Option),e._MarginOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"plotName",{get:function(){return this.__plotName},set:function(t){this.__plotName!=t&&(this.__plotName=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.type!=t&&(this.__type=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__plotName=null,this.__type=null},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"plotName",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendType),t.ValidatorAttribute(t._MergeLegendTypeValidator,!0)],n.prototype,"type",null),n}(e._Option),e._MergeLegendTypeOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"rules",{get:function(){return this.__rules},set:function(t){null==t?this.__rules=[]:null!=this.__rules&&this.__rules==t||(this.__rules=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this.__display},set:function(t){null!=t&&t==this.__display||(this.__display=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this.option()},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__display=null,this.__type=null,this.__rules=[]},o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_RuleOption")],n.prototype,"rules",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlayDisplay,t.OverlayDisplay.Front)],n.prototype,"display",null),o([t.JsonIgnoreAttribute()],n.prototype,"json",null),n}(e._Option),e._OverlayOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.__right},set:function(t){this.__right!=t&&(this.__right=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){this.__bottom!=t&&(this.__bottom=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__left=0,this.__top=0,this.__right=0,this.__bottom=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"top",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"right",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"bottom",null),n}(e._Option),e._PaddingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){this.__color!=t&&(this.__color=null==t?e._CssColorOption._buildColorOption("grey"):t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type=e.PaletteItemType.Index,this.__data=null,this.__color=e._CssColorOption._buildColorOption("grey")},o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,e.PaletteItemType,e.PaletteItemType.Index)],r.prototype,"type",null),r}(e._Option),e._PaletteItemOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"columnWidths",{get:function(){return this.__columnWidths},set:function(t){this.__columnWidths!=t&&(this.__columnWidths=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeights",{get:function(){return this.__rowHeights},set:function(t){this.__rowHeights!=t&&(this.__rowHeights=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__columnWidths=[],this.__rowHeights=[]},o([t.JsonConverterAttribute(t._ValueOptionPixelStarConverter,!0)],n.prototype,"columnWidths",null),o([t.JsonConverterAttribute(t._ValueOptionPixelStarConverter,!0)],n.prototype,"rowHeights",null),n}(e._Option),e._PlotAreaLayoutOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"row",{get:function(){return this.__row},set:function(t){this.__row!=t&&(this.__row=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"column",{get:function(){return this.__column},set:function(t){this.__column!=t&&(this.__column=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axes",{get:function(){return this.__axes},set:function(t){null!=this.__axes&&this.__axes==t||(this.__axes=[],null!=t&&(this.__axes=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this.__legend},set:function(t){this.__legend!=t&&(null==t&&(t=new e._GlobalLegendOption),this.__legend=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legends",{get:function(){return this.__legends},set:function(t){null!=this.__legends&&this.__legends==t||(this.__legends=[],null!=t&&(this.__legends=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"coordinateSystems",{get:function(){return this.__coordinateSystems},set:function(t){null!=this.__coordinateSystems&&this.__coordinateSystems==t||(this.__coordinateSystems=[],null!=t&&(this.__coordinateSystems=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:null!=this.__plugins&&this.__plugins==t||(this.__plugins=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plotsMargin",{get:function(){return this.__plotsMargin},set:function(t){null!=this.__plotsMargin&&this.__plotsMargin==t||(this.__plotsMargin=t,null!=this.__plotsMargin&&(this.__plotsMargin.left+this.__plotsMargin.right>1&&(this.__plotsMargin.left=0,this.__plotsMargin.right=0),this.__plotsMargin.top+this.__plotsMargin.bottom>1&&(this.__plotsMargin.top=0,this.__plotsMargin.bottom=0)))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerMinSize",{get:function(){return this.__innerMinSize},set:function(t){this.__innerMinSize!=t&&(this.__innerMinSize=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__row=null,this.__column=null,this.__axes=[],this.__legend=new e._GlobalLegendOption(null),this.__legends=[],this.__borderStyle=new e._LineStyleOption(null),this.__backgroundColor=null,this.__padding=null,this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__coordinateSystems=[],this.__plugins=[],this.__plotsMargin=null,this.__innerMinSize=null},r.prototype.queryInterface=function(t){return"IPlotAreaCustomOption"==t||"IPlotAreaOption"==t?this:null},o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1,!0)],r.prototype,"row",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1,!0)],r.prototype,"column",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_AxisOption")],r.prototype,"axes",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_GlobalLegendOption")],r.prototype,"legend",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_LegendOption")],r.prototype,"legends",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_CoordinateSystemOption")],r.prototype,"coordinateSystems",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"plotsMargin",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SizeOption")],r.prototype,"innerMinSize",null),r}(e._Option),e._PlotAreaOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"axisMode",{get:function(){return this.__axisMode},set:function(t){this.__axisMode!=t&&(this.__axisMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbols",{get:function(){return this.__symbols},set:function(t){this.__symbols!=t&&(this.__symbols=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"swapAxes",{get:function(){return this.__swapAxes},set:function(t){this.__swapAxes!=t&&(this.__swapAxes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"clippingMode",{get:function(){return this.__clippingMode},set:function(t){this.__clippingMode!=t&&(this.__clippingMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showNulls",{get:function(){return this.__showNulls},set:function(t){this.__showNulls!=t&&(this.__showNulls=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showNaNs",{get:function(){return this.__showNaNs},set:function(t){this.__showNaNs!=t&&(this.__showNaNs=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineAspect",{get:function(){return this.__lineAspect},set:function(t){this.__lineAspect!=t&&(this.__lineAspect=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.__innerRadius},set:function(t){this.__innerRadius!=t&&(this.__innerRadius=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sweep",{get:function(){return this.__sweep},set:function(t){this.__sweep!=t&&(this.__sweep=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.__startAngle},set:function(t){this.__startAngle!=t&&(this.__startAngle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rules",{get:function(){return this.__rules},set:function(t){this.__rules!=t&&(this.__rules=t,null==t&&(this.__rules=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"trackers",{get:function(){return this.__trackers},set:function(t){this.__trackers!=t&&(this.__trackers=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"altStyle",{get:function(){return this.__altStyle},set:function(t){this.__altStyle!=t&&(this.__altStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(this.__text=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){this.__tooltip!=t&&(this.__tooltip=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"loadAnimation",{get:function(){return this.__loadAnimation},set:function(t){this.__loadAnimation!=t&&(this.__loadAnimation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"updateAnimation",{get:function(){return this.__updateAnimation},set:function(t){this.__updateAnimation!=t&&(this.__updateAnimation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverAnimation",{get:function(){return this.__hoverAnimation},set:function(t){this.__hoverAnimation!=t&&(this.__hoverAnimation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlays",{get:function(){return this.__overlays},set:function(t){this.__overlays!=t&&(this.__overlays=t,null==t&&(this.__overlays=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textConfig",{get:function(){return this.__textConfig},set:function(t){this.__textConfig!=t&&(null==t&&(t=new e._TextPlotConfigOption),this.__textConfig=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__selectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__unSelectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedTextStyle",{get:function(){return this.__selectedTextStyle},set:function(t){this.__selectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__selectedTextStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unselectedTextStyle",{get:function(){return this.__unSelectedTextStyle},set:function(t){this.__unSelectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__unSelectedTextStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this.__palette},set:function(t){this.__palette!=t&&(this.__palette=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){return this.__shapes},set:function(t){this.__shapes!=t&&(this.__shapes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"seriesStyles",{get:function(){return this.__seriesStyles},set:function(t){this.__seriesStyles!=t&&(this.__seriesStyles=t,null==t&&(this.__seriesStyles=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bar",{get:function(){return this.__bar},set:function(t){this.__bar!=t&&(null==t&&(t=new e._PlotBarOption),this.__bar=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gradientFillDirection",{get:function(){return this.__gradientFillDirection},set:function(t){this.__gradientFillDirection!=t&&(this.__gradientFillDirection=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){this.__plugins!=t&&(this.__plugins=t,null==t&&(this.__plugins=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){this.__zoom!=t&&(this.__zoom=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__axisMode=t.AxisMode.Cartesian,this.__symbols=null,this.__swapAxes=!1,this.__clippingMode=t.ClippingMode.None,this.__showNulls=t.ShowNulls.Connected,this.__showNaNs=t.ShowNulls.Connected,this.__lineAspect=t.LineAspect.Default,this.__offset=[],this.__innerRadius=null,this.__sweep=360,this.__startAngle=0,this.__rules=[],this.__style=new e._DataPointStyleOption(null),this.__altStyle=null,this.__textStyle=new e._TextStyleOption(null),this.__hoverStyle=new e._DataPointStyleOption(null),this.__text=[new e._PlotConfigTextOption(null)],this.__tooltip=[new e._PlotConfigTooltipOption(null)],this.__loadAnimation=null,this.__hoverAnimation=null,this.__updateAnimation=null,this.__overlays=[],this.__textConfig=new e._TextPlotConfigOption(null),this.__selectedStyle=new e._SelectionStyleOption(null),this.__unSelectedStyle=new e._SelectionStyleOption(null),this.__selectedTextStyle=new e._TextStyleOption(null),this.__unSelectedTextStyle=new e._TextStyleOption(null),this.__hAlign=null,this.__vAlign=null,this.__palette=null,this.__shapes=[],this.__seriesStyles=[],this.__bar=new e._PlotBarOption(null),this.__gradientFillDirection=null,this.__plugins=[],this.__trackers=[],this.__zoom=null},r.prototype.queryInterface=function(t){return"IPlotConfigOption"==t?this:null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisMode,t.AxisMode.Cartesian)],r.prototype,"axisMode",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],r.prototype,"symbols",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"swapAxes",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ClippingMode,t.ClippingMode.None)],r.prototype,"clippingMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ShowNulls,t.ShowNulls.Connected)],r.prototype,"showNulls",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ShowNulls,t.ShowNulls.Connected)],r.prototype,"showNaNs",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineAspect,t.LineAspect.Default)],r.prototype,"lineAspect",null),o([t.JsonConverterAttribute(t._PlotConfigOffsetArrayConverter,!1)],r.prototype,"offset",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,null),t.ValidatorAttribute(t._InnerRadiusValidator,!0)],r.prototype,"innerRadius",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,360),t.ValidatorAttribute(t._NumberValidator,!0,0,360,!0)],r.prototype,"sweep",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],r.prototype,"startAngle",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_RuleOption")],r.prototype,"rules",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._TrackerOptionOrNullConverter,!0)],r.prototype,"trackers",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption",!0)],r.prototype,"altStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PlotConfigTextConverter,!0),t.ValidatorAttribute(t._PlotConfigTextValidator,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_PlotConfigTooltipOption"),t.ValidatorAttribute(t._PlotConfigTooltipArrayValidator,!0)],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._LoadingAnimationOptionConverter,!0)],r.prototype,"loadAnimation",null),o([t.JsonConverterAttribute(t._AnimationOptionConverter,!0)],r.prototype,"updateAnimation",null),o([t.JsonConverterAttribute(t._HoverAnimationOptionConverter,!0),t.ValidatorAttribute(t._HoverAnimationOptionValidator,!0)],r.prototype,"hoverAnimation",null),o([t.JsonConverterAttribute(t._OverlayOptionsConverter,!0)],r.prototype,"overlays",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextPlotConfigOption")],r.prototype,"textConfig",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],r.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"selectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"unselectedTextStyle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],r.prototype,"palette",null),o([t.JsonConverterAttribute(t._SymbolShapesConverter,!0),t.ValidatorAttribute(t._SymbolShapesValidator,!0)],r.prototype,"shapes",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_SeriesStyleOption")],r.prototype,"seriesStyles",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotBarOption")],r.prototype,"bar",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientFillDirection)],r.prototype,"gradientFillDirection",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ZoomConfigOption")],r.prototype,"zoom",null),r}(e._Option),e._PlotConfigOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"linePosition",{get:function(){return this.__linePosition},set:function(t){this.__linePosition!=t&&(this.__linePosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){this.__maxWidth!=t&&(this.__maxWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__position=null,this.__offset=0,this.__linePosition=t.LinePosition.Auto,this.__placement=t.Placement.Auto,this.__maxWidth=null,this.__angle=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextPosition)],n.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],n.prototype,"placement",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],n.prototype,"offset",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LinePosition,t.LinePosition.Auto)],n.prototype,"linePosition",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0),t.ValidatorAttribute(t._PlotConfigTextAngleValidator,!1)],n.prototype,"angle",null),n}(e._DataLabelOption),e._PlotConfigTextOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._PlotConfigTextOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.position=e.position,n.placement=e.placement,n.offset=e.offset,n.linePosition=e.linePosition,n.maxWidth=e.maxWidth,n.angle=e.angle},e._plotConfigTextOptionCloneMarker=new e,e}();t._PlotConfigTextOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(t){null!=t&&""!=t&&"Default"!=t||(t=r.__defaultScope),this.__scope!=t&&(this.__scope=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__scope=r.__defaultScope,this.__template=null,this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null)},r.__defaultScope="DataPoint",o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._PlotConfigTooltipOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._PlotConfigTooltipOption(null);return n._setOption(e.option()),n.scope=e.scope,n.template=e.template,n.style=null==e.style?null:t._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(e.style),n.textStyle=null==e.textStyle?null:t._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(e.textStyle),n},e._plotConfigTooltipOptionCloneMarker=new e,e}();t._PlotConfigTooltipOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"values",{get:function(){return this.__values},set:function(t){this.__values!=t&&(this.__values=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){return this.__category},set:function(t){this.__category!=t&&(null==t&&(t=new e._CategoryEncodingOption),this.__category=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"details",{get:function(){return this.__details},set:function(t){null!=this.__details&&this.__details==t||(this.__details=[],null!=t&&(this.__details=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){this.__color!=t&&(null==t&&(t=new e._ColorEncodingOption),this.__color=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this.__size},set:function(t){this.__size!=t&&(null==t&&(t=new e._SizeEncodingOption),this.__size=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(null==t&&(t=new e._ShapeEncodingOption),this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){this.__backgroundColor!=t&&(null==t&&(t=new e._BackgroundColorEncodingOption),this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lightness",{get:function(){return this.__lightness},set:function(t){this.__lightness!=t&&(null==t&&(t=new e._LightnessEncodingOption),this.__lightness=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){null!=this.__text&&this.__text==t||(this.__text=[],null!=t&&(this.__text=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){null!=this.__tooltip&&this.__tooltip==t||(this.__tooltip=[],null!=t&&(this.__tooltip=t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"layout",{get:function(){return this.__layout},set:function(t){this.__layout!=t&&(this.__layout=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__values=[],this.__category=new e._CategoryEncodingOption(null),this.__details=[],this.__color=new e._ColorEncodingOption(null),this.__size=new e._SizeEncodingOption(null),this.__shape=new e._ShapeEncodingOption(null),this.__backgroundColor=new e._BackgroundColorEncodingOption(null),this.__text=[],this.__tooltip=[],this.__layout=null},o([t.JsonConverterAttribute(t._ValueEncodingOptionsConverter,!1)],r.prototype,"values",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_CategoryEncodingOption")],r.prototype,"category",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_DetailEncodingOption")],r.prototype,"details",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ColorEncodingOption")],r.prototype,"color",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SizeEncodingOption")],r.prototype,"size",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ShapeEncodingOption")],r.prototype,"shape",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_BackgroundColorEncodingOption")],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LightnessEncodingOption")],r.prototype,"lightness",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ContentEncodingOption")],r.prototype,"text",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ContentEncodingOption")],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LayoutEncodingOption")],r.prototype,"layout",null),r}(e._Option),e._PlotEncodingsOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.__name},set:function(t){null==t&&(t=""),this.__name!=t&&(this.__name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"encodings",{get:function(){return this.__encodings},set:function(t){this.__encodings!=t&&(null==t&&(t=new e._PlotEncodingsOption),this.__encodings=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._PlotConfigOption),this.__config=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"points",{get:function(){return this.__points},set:function(t){this.__points!=t&&(this.__points=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__name="",this.__type=null,this.__encodings=new e._PlotEncodingsOption(null),this.__config=new e._PlotConfigOption(null),this.__data=null,this.__points=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotEncodingsOption")],r.prototype,"encodings",null),o([t.JsonConverterAttribute(t._PlotConfigOptionDerivedTypeConverter,!0)],r.prototype,"config",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotPointsOption")],r.prototype,"points",null),r}(e._Option),e._PlotOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"axes",{get:function(){return this.__axes},set:function(t){null==t?this.__axes=[]:null!=this.__axes&&this.__axes==t||(this.__axes=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__axes=[]},o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_AxisOption")],n.prototype,"axes",null),n}(e._Option),e._PlotPointsConfigOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){this.__plots!=t&&(null==t&&(t=[]),this.__plots=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._PlotPointsConfigOption),this.__config=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__plots=[],this.__config=new e._PlotPointsConfigOption(null)},o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_PlotOption")],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotPointsConfigOption")],r.prototype,"config",null),r}(e._Option),e._PlotPointsOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"targetElement",{get:function(){return this.__targetElement},set:function(t){this.__targetElement!=t&&(this.__targetElement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"properties",{get:function(){return this.__properties},set:function(t){null==t?this.__properties=[]:null!=this.properties&&this.__properties==t||(this.__properties=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__targetElement=null,this.__properties=[]},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"targetElement",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_RuleActionPropertyOption")],n.prototype,"properties",null),n}(e._Option),e._RuleActionOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(this.__name=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__name=null,this.__value=null},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!0,!0)],n.prototype,"name",null),n}(e._Option),e._RuleActionPropertyOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"condition",{get:function(){return this.__condition},set:function(t){this.__condition!=t&&(this.__condition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actions",{get:function(){return this.__actions},set:function(t){null==t?this.__actions=[]:this.__actions!=t&&(this.__actions=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__condition=null,this.__type=null,this.__actions=[]},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"condition",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_RuleActionOption")],n.prototype,"actions",null),n}(e._Option),e._RuleOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"valueField",{get:function(){return this.__valueField},set:function(t){null!=this.__valueField&&this.__valueField==t||(this.__valueField=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this.__key},set:function(t){null!=this.__key&&this.__key==t||(this.__key=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbols",{get:function(){return this.__symbols},set:function(t){null!=this.__symbols&&this.__symbols==t||(this.__symbols=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__valueField=null,this.__key=null,this.__symbols=null},o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],n.prototype,"key",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"symbols",null),n}(e._DataPointStyleOption),e._SeriesStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._SeriesStyleOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._copy(e,n),n.valueField=e.valueField,n.key=e.key,n.symbols=e.symbols},e._seriesStyleOptionCloneMarker=new e,e}();t._SeriesStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__width=null,this.__height=null},o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,!0,!0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,!0,!0)],n.prototype,"height",null),n}(e._Option),e._SizeOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.__right},set:function(t){this.__right!=t&&(this.__right=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){this.__bottom!=t&&(this.__bottom=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__left=0,this.__top=0,this.__right=0,this.__bottom=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"top",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"right",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],n.prototype,"bottom",null),n}(e._Option),e._StrokeWidthOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._StrokeWidthOption(null);return n._setOption(e.option()),n.left=e.left,n.top=e.top,n.right=e.right,n.bottom=e.bottom,n},e._strokeWidthOptionCloneMarker=new e,e}();t._StrokeWidthOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"overline",{get:function(){return this.__overline},set:function(t){null!=this.__overline&&this.__overline==t||(this.__overline=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineThrough",{get:function(){return this.__lineThrough},set:function(t){null!=this.__lineThrough&&this.__lineThrough==t||(this.__lineThrough=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"underline",{get:function(){return this.__underline},set:function(t){null!=this.__underline&&this.__underline==t||(this.__underline=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__overline=null,this.__lineThrough=null,this.__underline=null},n.prototype.equalsWith=function(t){return null!=t&&(this==t||this.overline===t.overline&&this.lineThrough===t.lineThrough&&this.lineThrough===t.lineThrough)},o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"overline",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"lineThrough",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"underline",null),n}(e._Option),e._TextDecorationOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextDecorationOption(null);return n._setOption(e.option()),n.overline=e.overline,n.lineThrough=e.lineThrough,n.underline=e.underline,n},e._textDecorationOptionCloneMarker=new e,e}();t._TextDecorationOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){null!=this.__color&&this.__color==t||(this.__color=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this.__fontSize},set:function(t){null!=this.__fontSize&&this.__fontSize==t||(this.__fontSize=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this.__fontFamily},set:function(t){null!=this.__fontFamily&&this.__fontFamily==t||(this.__fontFamily=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this.__fontWeight},set:function(t){null!=this.__fontWeight&&this.__fontWeight==t||(this.__fontWeight=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this.__fontStyle},set:function(t){null!=this.__fontStyle&&this.__fontStyle==t||(this.__fontStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textDecoration",{get:function(){return this.__textDecoration},set:function(t){this.__textDecoration!=t&&(this.__textDecoration=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this.__overflow},set:function(t){null!=this.__overflow&&this.__overflow==t||(this.__overflow=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"writingMode",{get:function(){return this.__writingMode},set:function(t){null!=this.__writingMode&&this.__writingMode==t||(this.__writingMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"alignment",{get:function(){return this.__alignment},set:function(t){null!=this.__alignment&&this.__alignment==t||(this.__alignment=t)},enumerable:!0,configurable:!0}),r.prototype._setOption=function(t){n.prototype._setOption.call(this,t)},r.prototype.init=function(){n.prototype.init.call(this),this.__color=null,this.__opacity=null,this.__fontSize=null,this.__fontFamily=null,this.__fontWeight=null,this.__fontStyle=null,this.__textDecoration=new e._TextDecorationOption(null),this.__overflow=null,this.__writingMode=null,this.__alignment=null},r.prototype._mergeStyle=function(t){return null!=t&&(null!=t.opacity&&(this.opacity=t.opacity),null!=t.color&&(this.color=t.color),null!=t.fontFamily&&(this.fontFamily=t.fontFamily),null!=t.fontSize&&(this.fontSize=t.fontSize),null!=t.fontWeight&&(this.fontWeight=t.fontWeight),null!=t.fontStyle&&(this.fontStyle=t.fontStyle),null==t.textDecoration||null==t.textDecoration.lineThrough&&null==t.textDecoration.overline&&null==t.textDecoration.underline||(this.textDecoration=e._TextDecorationOptionCloneMarker._textDecorationOptionCloneMarker._cloneOf(t.textDecoration)),null!=t.overflow&&(this.overflow=t.overflow),null!=t.writingMode&&(this.writingMode=t.writingMode),null!=t.alignment&&(this.alignment=t.alignment)),this},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._FontSizeConverter,!0),t.ValidatorAttribute(t._FontSizeValidator,!0)],r.prototype,"fontSize",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"fontFamily",null),o([t.JsonConverterAttribute(t._FontWeightConverter,!0),t.ValidatorAttribute(t._FontWeightValidator,!0)],r.prototype,"fontWeight",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.FontStyle)],r.prototype,"fontStyle",null),o([t.JsonConverterAttribute(t._TextDecorationOptionConverter,!1)],r.prototype,"textDecoration",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextOverflow)],r.prototype,"overflow",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextWritingMode)],r.prototype,"writingMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"alignment",null),r}(e._Option),e._TextStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextStyleOption(null);return n._setOption(e.option()),null!=e.color&&(n.color=e.color),n.opacity=e.opacity,n.fontSize=e.fontSize,n.fontFamily=e.fontFamily,n.fontWeight=e.fontWeight,n.fontStyle=e.fontStyle,n.textDecoration=null==e.textDecoration?null:t._TextDecorationOptionCloneMarker._textDecorationOptionCloneMarker._cloneOf(e.textDecoration),n.overflow=e.overflow,n.writingMode=e.writingMode,n.alignment=e.alignment,n},e._textStyleOptionCloneMarker=new e,e}();t._TextStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){e.prototype.init.call(this),this.__hideDelay=0,this.__showDelay=0,this.__offsetX=null,this.__offsetY=null,this.__closeCalllback=null},Object.defineProperty(n.prototype,"hideDelay",{get:function(){return this.__hideDelay},set:function(t){this.__hideDelay!=t&&(this.__hideDelay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDelay",{get:function(){return this.__showDelay},set:function(t){this.__showDelay!=t&&(this.__showDelay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"closeCalllback",{get:function(){return this.__closeCalllback},set:function(t){this.__closeCalllback=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetX",{get:function(){return this.__offsetX},set:function(t){this.__offsetX=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetY",{get:function(){return this.__offsetY},set:function(t){this.__offsetY=t},enumerable:!0,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"hideDelay",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"showDelay",null),n}(e._Option),e._TooltipOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return t.TrackerType.Area},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){this.__opacity!=t&&(this.__opacity=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=null==t?e._CssColorOption._buildColorOption("#666666"):t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__fill=e._CssColorOption._buildColorOption("#666666"),this.__opacity=.7},o([t.JsonConverterAttribute(t._NumberConverter,!0,.7),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"fill",null),r}(e._Option),e._TrackAreaOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TrackAreaOption(null);return n._setOption(e.option()),n.opacity=e.opacity,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n},e._trackAreaOptionCloneMarker=new e,e}();t._TrackAreaOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){this.__opacity!=t&&(this.__opacity=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=null==t?e._CssColorOption._buildColorOption("#666666"):t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__opacity=1,this.__stroke=e._CssColorOption._buildColorOption("#666666"),this.__strokeWidth=1,this.__strokeDasharray=null,this.__type=t.TrackerType.CrossY},o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,null)],r.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"stroke",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TrackerType,t.TrackerType.CrossY)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"strokeDasharray",null),r}(e._Option),e._TrackLineOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TrackLineOption(null);return n._setOption(e.option()),n.opacity=e.opacity,n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.type=e.type,n},e._trackLineOptionCloneMarker=new e,e}();t._TrackLineOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"names",{get:function(){return this.___names},set:function(t){this.___names!=t&&(this.___names=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.___names=null,this.__type=null},o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!0)],n.prototype,"names",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TransformType)],n.prototype,"type",null),n}(e._Option),e._TransformOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(this.__text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelAngle",{get:function(){return this.__labelAngle},set:function(t){this.__labelAngle!=t&&(this.__labelAngle=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__text=null,this.__textStyle=new e._LabelStyleOption(null),this.__style=new e._StyleOption(null),this.__labelAngle=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LabelStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-90,90,!0)],r.prototype,"labelAngle",null),r}(e._Option),e._UnitLabelOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__value=0,this.__type=t.ValueOptionType.Pixel},o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"value",null),n}(e._Option),e._ValueOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._ValueOption(null);return n._setOption(e.option()),n.value=e.value,n.type=e.type,n},e._valueOptionCloneMarker=new e,e}();t._ValueOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ValueScaleType)],n.prototype,"type",null),n}(e._Option),e._ValueScaleOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){this.__orientation!=t&&(this.__orientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"space",{get:function(){return this.__space},set:function(t){this.__space!=t&&(this.__space=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!==t&&(this.__margin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showZoomResetButton",{get:function(){return this.__showZoomResetButton},set:function(t){this.__showZoomResetButton!=t&&(this.__showZoomResetButton=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showZoomOutButton",{get:function(){return this.__showZoomOutButton},set:function(t){this.__showZoomOutButton!=t&&(this.__showZoomOutButton=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showZoomInButton",{get:function(){return this.__showZoomInButton},set:function(t){this.__showZoomInButton!=t&&(this.__showZoomInButton=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showButtons",{get:function(){return this.__showButtons},set:function(t){this.__showButtons!=t&&(this.__showButtons=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__space=null,this.__hAlign=t.HAlign.Right,this.__vAlign=t.VAlign.Bottom,this.__style=new e._StyleOption(null),this.__showButtons=!0,this.__showZoomInButton=!0,this.__showZoomOutButton=!0,this.__showZoomResetButton=!0,this.__margin=null,this.__orientation=t.Orientation.Vertical},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation,t.Orientation.Vertical)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"space",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomResetButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomOutButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomInButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showButtons",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Right)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Bottom)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),r}(e._Option),e._ZoomButtonOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"zoomMode",{get:function(){return this.__zoomMode},set:function(t){this.__zoomMode!=t&&(this.__zoomMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"zoomButtons",{get:function(){return this.__zoomButtons},set:function(t){this.__zoomButtons!=t&&(this.__zoomButtons=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enableMouseDoubleClick",{get:function(){return null==this.__enableMouseDoubleClick||this.__enableMouseDoubleClick},set:function(t){null!=this.__enableMouseDoubleClick&&this.__enableMouseDoubleClick==t||(this.__enableMouseDoubleClick=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enableMouseWheel",{get:function(){return null==this.__enableMouseWheel||this.__enableMouseWheel},set:function(t){null!=this.__enableMouseWheel&&this.__enableMouseWheel==t||(this.__enableMouseWheel=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__enableMouseWheel=null,this.__enableMouseDoubleClick=null,this.__zoomButtons=null,this.__zoomMode=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"zoomMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ZoomButtonOption")],n.prototype,"zoomButtons",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"enableMouseDoubleClick",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],n.prototype,"enableMouseWheel",null),n}(e._Option),e._ZoomConfigOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null,this.__sort=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),n}(e._EncodingOption),e._BackgroundColorEncodingOption=n,e._isBackgroundColorEncodingOption=function(t){return t instanceof n}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onlySortBeforeGrouping",{get:function(){return this.__onlySortBeforeGrouping},set:function(t){this.__onlySortBeforeGrouping!=t&&(this.__onlySortBeforeGrouping=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__field=null,this.__label=null,this.__sort=null,this.__excludeNulls=!1,this.__onlySortBeforeGrouping=!1},o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"label",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"onlySortBeforeGrouping",null),n}(e._Option),e._CategoryEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this.__items},set:function(t){this.__items!=t&&(this.__items=t,null==t&&(this.__items=[]))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null,this.__sort=null,this.__items=[]},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_LegendItemEncodingOption")],n.prototype,"items",null),n}(e._EncodingOption),e._ColorEncodingOption=n,e._isColorEncodingOption=function(t){return t instanceof n}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){null!=this.__aggregate&&this.__aggregate==t||(this.__aggregate=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),n}(e._EncodingOption),e._ContentEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this.__group},set:function(t){this.__group!=t&&(this.__group=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onlySortBeforeGrouping",{get:function(){return this.__onlySortBeforeGrouping},set:function(t){this.__onlySortBeforeGrouping!=t&&(this.__onlySortBeforeGrouping=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__sort=null,this.__group=t.Group.Cluster,this.__excludeNulls=!1,this.__onlySortBeforeGrouping=!1},o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Group,t.Group.Cluster)],n.prototype,"group",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"onlySortBeforeGrouping",null),n}(e._EncodingOption),e._DetailEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),n}(e._EncodingOption),e._LayoutEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ruleType",{get:function(){return this.__ruleType},set:function(t){null!=this.__ruleType&&this.__ruleType==t||(this.__ruleType=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__title=null,this.__ruleType=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"title",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"ruleType",null),n}(e._Option),e._LegendItemEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),n}(e._EncodingOption),e._LightnessEncodingOption=n,e._isLightnessEncodingOption=function(t){return t instanceof n}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null,this.__sort=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),n}(e._EncodingOption),e._ShapeEncodingOption=n,e._isShapeEncodingOption=function(t){return t instanceof n}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__aggregate=null,this.__sort=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"sort",null),n}(e._EncodingOption),e._SizeEncodingOption=n,e._isSizeEncodingOption=function(t){return t instanceof n}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"order",{get:function(){return this.__order},set:function(t){this.__order!=t&&(this.__order=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__order=t.OrderType.None,this.__aggregate=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OrderType,t.OrderType.None)],n.prototype,"order",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),n}(e._EncodingOption),e._SortEncodingOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return null},enumerable:!0,configurable:!0}),e}(t._Option);t._ValueEncodingOption=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"IFieldsValueEncodingOption"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__field=null,this.__label=null,this.__aggregate=null,this.__excludeNulls=!1,this.__sort=[]},o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._SortEncodingOptionsConverter,!0)],n.prototype,"sort",null),n}(e._ValueEncodingOption),e._FieldsValueEncodingOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"lower",{get:function(){return this.__lower},set:function(t){null!=this.__lower&&this.__lower==t||(this.__lower=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upper",{get:function(){return this.__upper},set:function(t){null!=this.__upper&&this.__upper==t||(this.__upper=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__lower=null,this.__upper=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"lower",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"upper",null),n}(e._Option),e._RangeFieldOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return"IRangeFieldValueEncodingOption"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t,null==t||null!=t.upper&&null!=t.lower||(this.__field=null))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(null==t&&(t=new e._RangeFieldOption),this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){null!=this.__aggregate&&this.__aggregate==t||(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__field=null,this.__label=null,this.__aggregate=null,this.__excludeNulls=!1},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_RangeFieldOption")],r.prototype,"field",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_RangeFieldOption")],r.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"excludeNulls",null),r}(e._ValueEncodingOption),e._RangeFieldValueEncodingOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(e==n)return!0;if(null==e||null==n)return!1;if(t.options._isCssColorOption(e)&&t.options._isCssColorOption(n)){var i=e,o=n;return t._CssColorOptionEqualityComparer._defaultCssColorOptionEqualityComparer._equalsWith(i,o)}if(t.options._isLinearGradientOption(e)&&t.options._isLinearGradientOption(n)){var r=e,l=n;return t._LinearGradientOptionEqualityComparer._defaultLinearGradientOptionEqualityComparer._equalsWith(r,l)}if(t.options._isRadialGradientOption(e)&&t.options._isRadialGradientOption(n)){var a=e,s=n;return t._RadialGradientOptionEqualityComparer._defaultRadialGradientOptionEqualityComparer._equalsWith(a,s)}if(t.options._isPatternOption(e)&&t.options._isPatternOption(n)){var u=e,_=n;return t._PatternOptionEqualityComparer._defaultPatternOptionEqualityComparer._equalsWith(u,_)}return!1},e._colorOptionEqualityComparer=new e,e}();t._ColorOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(e==n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(var i=e.length,o=0;o<i;o++)if(!t._ColorStopOptionEqualityComparer._defaultColorStopOptionEqualityComparer._equalsWith(e[o],n[o]))return!1;return!0},e._defaultColorStopOptionArrayEqualityComparer=new e,e}();t._ColorStopOptionArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.stop,n.stop)&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.color,n.color)},e._defaultColorStopOptionEqualityComparer=new e,e}();t._ColorStopOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._StringEqualityComparer._defaultStringEqualityComparer._equalsWith(e.color,n.color)},e._defaultCssColorOptionEqualityComparer=new e,e}();t._CssColorOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(e==n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(var i=e.length,o=0;o<i;o++)if(!t._GradientPositionOptionEqualityComparer._defaultGradientPositionOptionEqualityComparer._equalsWith(e[o],n[o]))return!1;return!0},e._defaultGradientPositionOptionArrayEqualityComparer=new e,e}();t._GradientPositionOptionArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.keyword===n.keyword&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.offset,n.offset)},e._defaultGradientPositionOptionEqualityComparer=new e,e}();t._GradientPositionOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.angle,n.angle)&&t._ColorStopOptionArrayEqualityComparer._defaultColorStopOptionArrayEqualityComparer._equalsWith(e.colorStops,n.colorStops)},e._defaultLinearGradientOptionEqualityComparer=new e,e}();t._LinearGradientOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._DataValueTypeEqualityComparer._comparer._equalsWith(e.data,n.data)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.color,n.color)},e._paletteItemOptionEqualityComparer=new e,e}();t._PaletteItemOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(e==n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(var i=e.length,o=0;o<i;o++)if(!t._PathWithStyleOptionEqualityComparer._defaultPathWithStyleOptionEqualityComparer._equalsWith(e[o],n[o]))return!1;return!0},e._comparer=new e,e}();t._PathWithStyleOptionArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return t==e||null!=t&&null!=e&&t.content===e.content&&t.style===e.style},t._defaultPathWithStyleOptionEqualityComparer=new t,t}();t._PathWithStyleOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.color,n.color)&&t._PathWithStyleOptionArrayEqualityComparer._comparer._equalsWith(e.pattern,n.pattern)},e._defaultPatternOptionEqualityComparer=new e,e}();t._PatternOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&e.extentKeyword==n.extentKeyword&&t._GradientPositionOptionArrayEqualityComparer._defaultGradientPositionOptionArrayEqualityComparer._equalsWith(e.position,n.position)&&t._ColorStopOptionArrayEqualityComparer._defaultColorStopOptionArrayEqualityComparer._equalsWith(e.colorStops,n.colorStops)},e._defaultRadialGradientOptionEqualityComparer=new e,e}();t._RadialGradientOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.left,n.left)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.top,n.top)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.right,n.right)&&t._NumberTypeEqualityComparer._numberTypeEqualityComparer._equalsWith(e.bottom,n.bottom)},e._defaultStrokeWidthOptionEqualityComparer=new e,e}();t._StrokeWidthOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.fill,n.fill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.opacity==n.opacity&&e.strokeOpacity==n.strokeOpacity&&e.strokeDasharray==n.strokeDasharray&&t.options._StrokeWidthOptionExtension._equalsStrokeWidthOption(e.strokeWidth,n.strokeWidth)},e._styleDataPointStyleOptionEqualityComparer=new e,e}();t._StyleDataPointStyleOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolFill,n.symbolFill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolStroke,n.symbolStroke)&&e.symbolSize===n.symbolSize&&e.symbolOpacity==n.symbolOpacity&&e.symbolStrokeOpacity==n.symbolStrokeOpacity&&e.symbolStrokeDasharray==n.symbolStrokeDasharray&&e.symbolStrokeWidth==n.symbolStrokeWidth},e._symbolDataPointStyleOptionEqualityComparer=new e,e}();t._SymbolDataPointStyleOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return t==e||null!=t&&null!=e&&t.overline==e.overline&&t.lineThrough==e.lineThrough&&t.underline==e.underline},t._textDecorationOptionEqualityComparer=new t,t}();t._TextDecorationOptionEqualityComparer=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(){function n(){}return n._fromCss=function(n){if(null==n)return null;if(null==(n=n.trim()))return null;if("none"==n)return e._CssColorOption._buildColorOption("none");var i=t._NativeColorBuilder._colorBuilder._build(n);return null==i?null:e._CssColorOption._buildColorOption(i._toCss())},n._equalsColorOption=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;if(e.type!=n.type)return!1;if(e.type==t.ColorOptionType.CssColor&&n.type==t.ColorOptionType.CssColor)return e.color==n.color;if(e.type==t.ColorOptionType.Linear&&n.type==t.ColorOptionType.Linear){var i=n;if((l=e).angle!=i.angle)return!1;if(l.colorStops.length!=i.colorStops.length)return!1;for(var o=l.colorStops.length,r=0;r<o;r++){if(l.colorStops[r].color!=i.colorStops[r].color)return!1;if(l.colorStops[r].stop!=i.colorStops[r].stop)return!1}return!0}if(e.type==t.ColorOptionType.Radial&&n.type==t.ColorOptionType.Radial){var l;if(i=n,(l=e).extentKeyword!=i.extentKeyword)return!1;if(l.position!=i.position)return!1;if(l.colorStops.length!=i.colorStops.length)return!1;var a=l.colorStops.length;for(r=0;r<a;r++){if(l.colorStops[r].color!=i.colorStops[r].color)return!1;if(l.colorStops[r].stop!=i.colorStops[r].stop)return!1}return!0}if(e.type==t.ColorOptionType.Pattern&&n.type==t.ColorOptionType.Pattern){var s=e,u=n;if(t._PatternOptionEqualityComparer._defaultPatternOptionEqualityComparer._equalsWith(s,u))return!0}return!1},n}(),e._ColorOptionExtension=n}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t._mergeDataPointStyleOption=function(t,e){null!=e&&null!=t&&(null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.fill&&(t.fill=e.fill),null!=e.opacity&&(t.opacity=e.opacity),null!=e.backgroundColor&&(t.backgroundColor=e.backgroundColor),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.symbolShape&&(t.symbolShape=e.symbolShape),null!=e.symbolOpacity&&(t.symbolOpacity=e.symbolOpacity),null!=e.symbolStrokeOpacity&&(t.symbolStrokeOpacity=e.symbolStrokeOpacity),null!=e.symbolFill&&(t.symbolFill=e.symbolFill),null!=e.symbolStroke&&(t.symbolStroke=e.symbolStroke),null!=e.symbolStrokeWidth&&(t.symbolStrokeWidth=e.symbolStrokeWidth),null!=e.symbolStrokeDasharray&&(t.symbolStrokeDasharray=e.symbolStrokeDasharray),null!=e.symbolSize&&(t.symbolSize=e.symbolSize),null!=e.borderRadius&&(t.borderRadius=e.borderRadius))},t._mergeSelectionStyleOption=function(t,e){null!=e&&null!=t&&(this._mergeDataPointStyleOption(t,e),t.adorners=e.adorners)},t}();t._DataPointStyleOptionExtension=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t._equalsStrokeWidthOption=function(t,e){return t==e||null!=t&&null!=e&&t.left==e.left&&t.top==e.top&&t.right==e.right&&t.bottom==e.bottom},t}();t._StrokeWidthOptionExtension=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(){function n(){}return n.prototype._cloneOf=function(n){switch(n.type){case t.ColorOptionType.Linear:return e._LinearGradientOptionCloneMarker._linearGradientOptionCloneMarker._cloneOf(n);case t.ColorOptionType.CssColor:return e._CssColorOptionCloneMarker._cssColorOptionCloneMarker._cloneOf(n);case t.ColorOptionType.Radial:return e._RadialGradientOptionCloneMarker._radialGradientOptionCloneMarker._cloneOf(n);case t.ColorOptionType.Pattern:return e._PatternOptionCloneMarker._patternOptionCloneMarker._cloneOf(n);default:throw new t.OptionError(t.ErrorCode.Unknown)}},n._colorOptionCloneMarker=new n,n}(),e._ColorOptionCloneMarker=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"color",{get:function(){return this.__color},set:function(t){null!=this.__color&&this.__color==t||(this.__color=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stop",{get:function(){return this.__stop},set:function(t){null==this.__stop&&this.__stop==t||(this.__stop=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__color=null,this.__stop=null},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0,!1,!0)],n.prototype,"color",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"stop",null),n}(e._Option),e._ColorStopOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._ColorStopOption(null);return n._setOption(e.option()),n.color=e.color,n.stop=e.stop,n},e._colorStopOptionCloneMarker=new e,e}();t._ColorStopOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._buildColorOption=function(t){var e=new n;return e.color=t,e},Object.defineProperty(n.prototype,"type",{get:function(){return t.ColorOptionType.CssColor},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.__color},set:function(t){this.color!=t&&(this.__color=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__color=null},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0,!1)],n.prototype,"color",null),n}(e._Option),e._CssColorOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=t._CssColorOption._buildColorOption(e.color);return n._setOption(e.option()),n},e._cssColorOptionCloneMarker=new e,e}();t._CssColorOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"keyword",{get:function(){return this.__keyword},set:function(t){this.__keyword!=t&&(this.__keyword=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__keyword=t.GradientPositionKeyword.Center,this.__offset=0},n.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientPositionKeyword,t.GradientPositionKeyword.Center)],n.prototype,"keyword",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"offset",null),n}(e._Option),e._GradientPositionOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GradientPositionOption(null);return n._setOption(e.option()),n.keyword=e.keyword,n.offset=e.offset,n},e._gradientPositionOptionCloneMarker=new e,e}();t._GradientPositionOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ColorOptionType.Linear},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorStops",{get:function(){return this.__colorStops},set:function(t){this.__colorStops!=t&&(this.__colorStops=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__colorStops=[],this.__angle=180},o([t.JsonConverterAttribute(t._ColorStopOptionConverter,!0)],n.prototype,"colorStops",null),o([t.JsonConverterAttribute(t._LinearGradientAngleOptionConverter,!0,180)],n.prototype,"angle",null),n}(e._Option),e._LinearGradientOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._LinearGradientOption(null);n._setOption(e.option()),n.angle=e.angle;var i=null;if(null!=e.colorStops){i=[];for(var o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(null==l?null:t._ColorStopOptionCloneMarker._colorStopOptionCloneMarker._cloneOf(l))}}return n.colorStops=i,n},e._linearGradientOptionCloneMarker=new e,e}();t._LinearGradientOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ColorOptionType.Radial},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extentKeyword",{get:function(){return this.__extentKeyword},set:function(t){this.__extentKeyword!=t&&(this.__extentKeyword=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorStops",{get:function(){return this.__colorStops},set:function(t){this.__colorStops!=t&&(this.__colorStops=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__colorStops=[],this.__extentKeyword=t.GradientExtentKeyword.FarthestCorner,this.__position=[]},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientExtentKeyword,t.GradientExtentKeyword.FarthestCorner)],n.prototype,"extentKeyword",null),o([t.JsonConverterAttribute(t._ColorStopOptionConverter,!0)],n.prototype,"colorStops",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_GradientPositionOption"),t.ValidatorAttribute(t._GradientPositionsValidator,!0)],n.prototype,"position",null),n}(e._Option),e._RadialGradientOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._RadialGradientOption(null);n._setOption(e.option()),n.extentKeyword=e.extentKeyword;var i=null;if(null!=e.colorStops){i=[];for(var o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(null==l?null:t._ColorStopOptionCloneMarker._colorStopOptionCloneMarker._cloneOf(l))}}n.colorStops=i;var a=null;if(null!=e.position){a=[];for(var s=0,u=e.position;s<u.length;s++)l=u[s],a.push(null==l?null:t._GradientPositionOptionCloneMarker._gradientPositionOptionCloneMarker._cloneOf(l))}return n.position=a,n},e._radialGradientOptionCloneMarker=new e,e}();t._RadialGradientOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isColorOption=function(t){var e=t;return null!=e&&void 0!==e.type&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isCssColorOption=function(e){var n=e;return n.type===t.ColorOptionType.CssColor&&null!=n.color}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isLinearGradientOption=function(e){var n=e;return n.type===t.ColorOptionType.Linear&&null!=n.angle&&null!=n.colorStops}}(t||(t={})),function(t){(t.options||(t.options={}))._isRadialGradientOption=function(e){var n=e;return n.type===t.ColorOptionType.Radial&&null!=n.extentKeyword&&null!=n.position&&null!=n.colorStops}}(t||(t={})),function(t){!function(t){t._isAnimationOption=function(t){var e=t;return null!=e&&void 0!==e.mode&&void 0!==e.duration&&void 0!==e.easing&&void 0!==e.startDelay&&void 0!==e.staggering&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isBorderRadiusOption=function(t){var e=t;return null!=e&&void 0!==e.horizontalRadius&&void 0!==e.verticalRadius&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isHighlightAnimationOption=function(e){var n=e;return null!=n&&t._isHoverAnimationOption(e)&&void 0!==n.stay}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isHoverAnimationOption=function(e){var n=e;return null!=n&&t._isAnimationOption(e)&&void 0!==n.scale}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isJsonOption=function(t){return void 0!==t.json}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotAreaCustomOption=function(t){return null!=t&&void 0!==t.coordinateSystems}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotAreaOption=function(t){var e=t;return null!=e&&void 0!==e.row&&void 0!==e.column&&void 0!==e.axes&&void 0!==e.legend&&void 0!==e.legends&&void 0!==e.borderStyle&&void 0!==e.backgroundColor&&void 0!==e.padding&&void 0!==e.style&&void 0!==e.textStyle&&void 0!==e.plugins&&void 0!==e.plotsMargin&&void 0!==e.innerMinSize}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotConfigOption=function(t){var e=t;return null!=e&&void 0!==e.axisMode&&void 0!==e.symbols&&void 0!==e.swapAxes&&void 0!==e.clippingMode&&void 0!==e.showNulls&&void 0!==e.showNaNs&&void 0!==e.lineAspect&&void 0!==e.offset&&void 0!==e.innerRadius&&void 0!==e.sweep&&void 0!==e.startAngle&&void 0!==e.rules&&void 0!==e.style&&void 0!==e.altStyle&&void 0!==e.textStyle&&void 0!==e.hoverStyle&&void 0!==e.text&&void 0!==e.tooltip&&void 0!==e.trackers&&void 0!==e.loadAnimation&&void 0!==e.updateAnimation&&void 0!==e.hoverAnimation&&void 0!==e.overlays&&void 0!==e.textConfig&&void 0!==e.selectedStyle&&void 0!==e.unselectedStyle&&void 0!==e.selectedTextStyle&&void 0!==e.unselectedTextStyle&&void 0!==e.hAlign&&void 0!==e.vAlign&&void 0!==e.palette&&void 0!==e.shapes&&void 0!==e.seriesStyles&&void 0!==e.bar&&void 0!==e.gradientFillDirection&&void 0!==e.plugins&&void 0!==e.zoom}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSeriesStyleOption=function(t){var e=t;return null!=e&&"function"==typeof e.option&&void 0!==e.valueField&&void 0!==e.key&&void 0!==e.symbols}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isStrokeWidthOption=function(t){var e=t;return null!=e&&void 0!==e.left&&void 0!==e.top&&void 0!==e.right&&void 0!==e.bottom&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return t.ColorOptionType.Pattern},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(n){if(null!=this.__color&&this.__color==n||(this.__color=null==n?e._CssColorOption._buildColorOption("#ffffff"):n),this.__color instanceof r)throw new t.OptionError(t.ErrorCode.UnexpectedValue,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pattern",{get:function(){return this.__pattern},set:function(t){null==t||0==t.length?this.__pattern=[e._PathWithStyleOption._buildEmptyPathWithStyleOption()]:this.__pattern!=t&&(this.__pattern=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__color=e._CssColorOption._buildColorOption("#ffffff"),this.__pattern=[e._PathWithStyleOption._buildEmptyPathWithStyleOption()]},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_PathWithStyleOption")],r.prototype,"pattern",null),r}(e._Option),e._PatternOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._PatternOption(null);n._setOption(e.option()),n.color=null==e.color?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.color);var i=null;if(null!=e.pattern){i=[];for(var o=0,r=e.pattern;o<r.length;o++){var l=r[o];i.push(null==l?null:t._PathWithStyleOptionCloneMarker._pathWithStyleOptionCloneMarker._cloneOf(l))}}return n.pattern=i,n},e._patternOptionCloneMarker=new e,e}();t._PatternOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._buildEmptyPathWithStyleOption=function(){return new n},Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this.__content},set:function(t){this.__content!=t&&(this.__content=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__content="path:"+t._ExcelNamedPatternList.defaultExcelPattern.pattern["Dotted-5%"].join(" "),this.__style=null},n.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption"),t.ValidatorAttribute(t._PathWithStyleOptionStyleValidator,!0)],n.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!1),t.ValidatorAttribute(t._PathWithStyleOptionContentValidator,!1)],n.prototype,"content",null),n}(e._Option),e._PathWithStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=t._PathWithStyleOption._buildEmptyPathWithStyleOption();return n._setOption(e.option()),n.style=null==e.style?null:t._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(e.style),n.content=e.content,n},e._pathWithStyleOptionCloneMarker=new e,e}();t._PathWithStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isPatternOption=function(e){var n=e;return n.type===t.ColorOptionType.Pattern&&null!=n.color&&null!=n.pattern&&"function"==typeof n.option}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"valueField",{get:function(){return this.__valueField},set:function(t){this.__valueField!=t&&(this.__valueField=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this.__key},set:function(t){this.__key!=t&&(this.__key=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){null!=t&&this.__width!=t&&(this.__width=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cluster",{get:function(){return this.__cluster},set:function(t){null!=t&&this.__cluster==t||(this.__cluster=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__valueField=null,this.__key=null,this.__width=null,this.__cluster=null},o([t.JsonConverterAttribute(t._DataValueTypeConverter,!0)],n.prototype,"key",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"cluster",null),n}(e._Option),e._BarGroupOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){null!=t&&this.__width!=t&&(this.__width=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomWidth",{get:function(){return this.__bottomWidth},set:function(t){null!=t&&this.__bottomWidth!=t&&(this.__bottomWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topWidth",{get:function(){return this.__topWidth},set:function(t){null!=t&&this.__topWidth!=t&&(this.__topWidth=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"neckHeight",{get:function(){return this.__neckHeight},set:function(t){null!=t&&this.__neckHeight!=t&&(this.__neckHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlap",{get:function(){return this.__barOverlap},set:function(t){null==t&&this.__barOverlap==t||(this.__barOverlap=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"funnelType",{get:function(){return this.__funnelType},set:function(t){this.__funnelType!=t&&(this.__funnelType=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__topWidth=null,this.__width=null,this.__bottomWidth=null,this.__neckHeight=null,this.__barOverlap=null,this.__borderRadius=null,this.__funnelType=t.FunnelType.Default},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"bottomWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"topWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-1,1,!0)],n.prototype,"overlap",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],n.prototype,"borderRadius",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.FunnelType,t.FunnelType.Default)],n.prototype,"funnelType",null),n}(e._Option),e._BarOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.__bottomWidth},set:function(t){this.__bottomWidth!=t&&(this.__bottomWidth=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.__topWidth},set:function(t){this.__topWidth!=t&&(this.__topWidth=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"neckHeight",{get:function(){return this.__neckHeight},set:function(t){this.__neckHeight!=t&&(this.__neckHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlap",{get:function(){return this.__overlap},set:function(t){this.__overlap!=t&&(this.__overlap=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this.__groups},set:function(t){this.__groups!=t&&(this.__groups=t,null==t&&(this.__groups=[]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){return this.__connectorLines},set:function(t){this.__connectorLines!=t&&(this.__connectorLines=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectorLineStyle",{get:function(){return this.__connectorLineStyle},set:function(t){this.__connectorLineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__connectorLineStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"waterfall",{get:function(){return this.__waterfall},set:function(t){this.__waterfall!=t&&(this.__waterfall=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__bottomWidth=null,this.__topWidth=null,this.__neckHeight=null,this.__width=null,this.__overlap=null,this.__groups=[],this.__connectorLines=!1,this.__connectorLineStyle=null,this.__waterfall=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"bottomWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"topWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-1,1,!0)],r.prototype,"overlap",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_BarGroupOption")],r.prototype,"groups",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"connectorLines",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"connectorLineStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_WaterfallOption")],r.prototype,"waterfall",null),r}(e._Option),e._PlotBarOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._Option);t._WaterfallOption=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categoryStyle",{get:function(){return this.__categoryStyle},set:function(t){this.__categoryStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__categoryStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbolSpace",{get:function(){return this.__symbolSpace},set:function(t){this.__symbolSpace!=t&&(this.__symbolSpace=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"seriesSpace",{get:function(){return this.__seriesSpace},set:function(t){this.__seriesSpace!=t&&(this.__seriesSpace=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"categorySpace",{get:function(){return this.__categorySpace},set:function(t){this.__categorySpace!=t&&(this.__categorySpace=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dimensionSpace",{get:function(){return this.__dimensionSpace},set:function(t){this.__dimensionSpace!=t&&(this.__dimensionSpace=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__format=null,this.__categoryStyle=null,this.__symbolSpace=0,this.__seriesSpace=0,this.__categorySpace=0,this.__dimensionSpace=0},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"categoryStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"symbolSpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"seriesSpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"categorySpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"dimensionSpace",null),r}(e._Option),e._TextPlotConfigOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__padding=null},o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],n.prototype,"padding",null),n}(e._TextStyleOption),e._LabelStyleOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._buildEmptySelectionStyleOption=function(){return new n(null)},Object.defineProperty(n.prototype,"adorners",{get:function(){return this.__adorners},set:function(t){this.__adorners!=t&&(this.__adorners=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__adorners=!1},o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"adorners",null),n}(e._DataPointStyleOption),e._SelectionStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._SelectionStyleOption(null);return n._setOption(e.option()),n.adorners=e.adorners,t._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._copy(e,n),n},e._selectionStyleOptionCloneMarker=new e,e}();t._SelectionStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSelectionStyleOption=function(t){var e=t;return null!=e&&"function"==typeof e.option&&void 0!==e.adorners}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__data=null,this.__shape=null,this.__type=t.SymbolItemType.Index},o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],n.prototype,"data",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SymbolItemType,t.SymbolItemType.Index)],n.prototype,"type",null),n}(e._Option),e._SymbolItemOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(this.__name=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this.__content},set:function(t){null!=this.__content&&this.__content==t||(this.__content=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__name=null,this.__content=null},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"content",null),n}(e._Option),e._SymbolShapeOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._SymbolShapeOption(null);return n._setOption(e.option()),n.name=e.name,n.content=e.content,n},e._symbolShapeOptionCloneMaker=new e,e}();t._SymbolShapeOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(t){this.__scope!=t&&(this.__scope=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__scope=null,this.__template=null,this.__format=new e._FormatOption(null),this.__style=new e._StyleOption(null),this.__textStyle=new e._TextStyleOption(null)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!1)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._TextAnnotationOption=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):null},n}(e._OverlayLegendItemsBuilder),e._AnnotationOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return i(n,e),n.prototype._getAnnotationOverlayOption=function(){return this._option},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,null,1)),this.__defaultStyle},n.prototype._buildOverlayView=function(e){var n=this._option.pointPath;if(null!=n&&""!==n)if(null!=t._CoordinateValueExpressionBuilder._defaultBuilder._build(n)){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianCoordinateAnnotationOverlayView(e,this)}else if(null!=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(n))if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianPointAnnotationOverlayView(e,this);return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._AnnotationOverlayLegendItemsBuilder(this):null},n}(t._BaseOverlayDefinition);t._BaseAnnotationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isAnnotationOverlayView=function(t){var e=t;return null!=e&&"function"==typeof e._itemViews&&"function"==typeof e._annotationStyle&&"function"==typeof e._generateLegendItems}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointPath",{get:function(){return this.__pointPath},set:function(t){this.__pointPath!=t&&(this.__pointPath=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__offset=null,this.__label=null,this.__style=new e._OverlayStyleOption(null),this.__pointPath=null,this.__placement=t.Placement.Auto,this.__position=t.AnnotationPosition.Outside},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],r.prototype,"placement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"pointPath",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"offset",null),r}(e._OverlayOption),e._AnnotationOverlayOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){null!=this.__strokeDasharray&&this.__strokeDasharray==t||(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),n.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.OverlayStyleRequired,this.option());e.prototype._setOption.call(this,n)},n.prototype.init=function(){e.prototype.init.call(this),this.__opacity=null,this.__strokeOpacity=null,this.__fill=null,this.__backgroundColor=null,this.__stroke=null,this.__strokeWidth=null,this.__strokeDasharray=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"strokeDasharray",null),n}(e._Option),e._OverlayStyleOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._OverlayStyleOption(null);return n._setOption(e.option()),n.opacity=e.opacity,n.strokeOpacity=e.strokeOpacity,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n},e._overlayStyleOptionCloneMarker=new e,e}();t._OverlayStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isAnnotationOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return void 0!==n.style&&void 0!==n.placement&&void 0!==n.position}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseAnnotationDefinition);t._EllipseAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isEllipseOverlayOption(n)){var o=n;return new t._EllipseAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Ellipse"===(o=n).type&&t.options._isJsonOption(n))return new t._EllipseAnnotationDefinition(e,new t.options._EllipseOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._EllipseOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){null!=this.__angle&&this.__angle==t||(this.__angle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Ellipse",this.__width=0,this.__height=0,this.__angle=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),n}(e._AnnotationOverlayOption),e._EllipseOverlayOption=n}(t||(t={})),function(t){!function(t){t._isEllipseOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Ellipse"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseAnnotationDefinition);t._ImageAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isImageOverlayOption(n)){var o=n;return new t._ImageAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Image"===(o=n).type&&t.options._isJsonOption(n))return new t._ImageAnnotationDefinition(e,new t.options._ImageOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ImageOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){null!=this.__angle&&this.__angle==t||(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"source",{get:function(){return this.__source},set:function(t){this.__source!=t&&(this.__source=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Image",this.__width=null,this.__height=null,this.__angle=null,this.__source=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"source",null),n}(e._AnnotationOverlayOption),e._ImageOverlayOption=n}(t||(t={})),function(t){!function(t){t._isImageOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Image"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle&&void 0!==n.source}}(t.options||(t.options={}))}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._getLineOverlayOption=function(){return this._option},n.prototype._buildOverlayView=function(e){if("Line"===this._getLineOverlayOption().type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianLineCoordinateAnnotationOverlayView(e,this);return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._LineAnnotationOverlayLegendItemsBuilder(this):null},n}(t._BaseAnnotationDefinition);t._LineAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLineOverlayOption(n)){var o=n;return new t._LineAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Line"===(o=n).type&&t.options._isJsonOption(n))return new t._LineAnnotationDefinition(e,new t.options._LineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},n}(e._OverlayLegendItemsBuilder),e._LineAnnotationOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Line",this.__start=null,this.__end=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"start",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"end",null),n}(e._AnnotationOverlayOption),e._LineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isLineOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Line"==n.type&&void 0!==n.start&&void 0!==n.end}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},n}(e._OverlayLegendItemsBuilder),e._NeedleAnnotationOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._needleOverlayOption=function(){return this._option},n.prototype._buildOverlayView=function(e){if("Needle"===this._needleOverlayOption().type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._NeedleCartesianLineCoordinateAnnotationOverlayView(e,this);return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._NeedleAnnotationOverlayLegendItemsBuilder(this):null},n}(t._LineAnnotationDefinition);t._NeedleAnnotationOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isNeedleOverlayOption(n)){var o=n;return new t._NeedleAnnotationOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Needle"===(o=n).type&&t.options._isJsonOption(n))return new t._NeedleAnnotationOverlayDefinition(e,new t.options._NeedleOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._NeedleOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endOffset",{get:function(){return this.__endOffset},set:function(t){this.__endOffset!=t&&(this.__endOffset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Needle",this.__start=null,this.__end=null,this.__width=0,this.__endOffset=t._Constants.NeedleEndOffset},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.NeedleEndOffset)],n.prototype,"endOffset",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"start",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"end",null),n}(e._AnnotationOverlayOption),e._NeedleOverlayOption=n}(t||(t={})),function(t){!function(t){t._isNeedleOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Needle"==n.type&&void 0!==n.width&&void 0!==n.endOffset}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this.__lineCap},set:function(t){this.__lineCap!=t&&(this.__lineCap=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this.__lineJoin},set:function(t){this.__lineJoin!=t&&(this.__lineJoin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"join",{get:function(){return this.__join},set:function(t){this.__join!=t&&(this.__join=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillType",{get:function(){return this.__fillType},set:function(t){this.__fillType!=t&&(this.__fillType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.__path},set:function(t){this.__path=[],null!=t&&(this.__path=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Path",this.__width=0,this.__height=0,this.__angle=null,this.__path=[],this.__fillType=t.PathFillType.Nonzero,this.__join=null,this.__lineCap=t.LineCap.Butt,this.__lineJoin=t.LineJoin.Miter},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineCap,t.LineCap.Butt)],n.prototype,"lineCap",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineJoin,t.LineJoin.Miter)],n.prototype,"lineJoin",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"join",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.PathFillType,t.PathFillType.Nonzero)],n.prototype,"fillType",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"string")],n.prototype,"path",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"width",null),n}(e._AnnotationOverlayOption),e._PathAnnotationOption=n}(t||(t={})),function(t){!function(t){t._isPathAnnotationOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Path"==n.type&&void 0!==n.path&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle&&void 0!==n.fillType&&void 0!==n.lineCap&&void 0!==n.lineJoin&&void 0!==n.join}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseAnnotationDefinition);t._PathAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPathAnnotationOption(n)){var o=n;return new t._PathAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Path"===(o=n).type&&t.options._isJsonOption(n))return new t._PathAnnotationDefinition(e,new t.options._PathAnnotationOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PathOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Rectangle",this.__width=0,this.__height=0,this.__angle=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),n}(e._AnnotationOverlayOption),e._RectangleOverlayOption=n}(t||(t={})),function(t){!function(t){t._isRectangleOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Rectangle"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseAnnotationDefinition);t._RectangleAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isRectangleOverlayOption(n)){var o=n;return new t._RectangleAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Rectangle"===(o=n).type&&t.options._isJsonOption(n))return new t._RectangleAnnotationDefinition(e,new t.options._RectangleOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._RectangleOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},n}(e._OverlayLegendItemsBuilder),e._TextAnnotationOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(this.__text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return null==this.__textStyle&&(this.__textStyle=new e._TextStyleOption(null)),this.__textStyle},set:function(t){null!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__width=null,this.__angle=null,this.__textStyle=new e._TextStyleOption,this.__text=null},r.prototype._copy=function(t){null!=t&&(this.angle=t.angle,this.display=t.display,this.label=t.label,this.offset=t.offset,this.placement=t.placement,this.pointPath=t.pointPath,this.position=t.position,this.rules=t.rules,this.style=t.style,this.text=t.text,this.textStyle=t.textStyle,this.type=t.type,this.width=t.width)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"angle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._AnnotationOverlayOption),e._TextOverlayOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupName",{get:function(){return this.__groupName},set:function(t){this.__groupName!=t&&(this.__groupName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbol",{get:function(){return this.__symbol},set:function(t){this.__symbol!=t&&(null==t&&(t=new e._TextPlotTextSymbolOption),this.__symbol=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupAlign",{get:function(){return this.__groupAlign},set:function(t){this.__groupAlign!=t&&(this.__groupAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="Text",this.__hAlign=t.AnnotationAlign.Center,this.__vAlign=t.AnnotationAlign.Middle,this.__groupAlign=null,this.__symbol=new e._TextPlotTextSymbolOption(null),this.__groupName=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"groupName",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextPlotTextSymbolOption")],r.prototype,"symbol",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign)],r.prototype,"groupAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign,t.AnnotationAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign,t.AnnotationAlign.Middle)],r.prototype,"vAlign",null),r}(e._TextOverlayOption),e._TextGroupOverlayOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){null!=this.__height&&this.__height==t||(this.__height=n.prototype.validate.call(this,t),null==this.__height&&(this.__height=15))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){null!=this.__width&&this.__width==t||(this.__width=n.prototype.validate.call(this,t),null==this.__width&&(this.__width=15))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return null==this.__style&&(this.__style=new e._OverlayStyleOption(null)),this.__style},set:function(t){null!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__shape=null,this.__style=null,this.__width=15,this.__height=15},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"shape",null),r}(e._Option),e._TextPlotTextSymbolOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextPlotTextSymbolOption(null);return n._setOption(e.option()),n.shape=e.shape,n.height=e.height,n.width=e.width,n.style=null==e.style?null:t._OverlayStyleOptionCloneMarker._overlayStyleOptionCloneMarker._cloneOf(e.style),n},e._textPlotTextSymbolOptionCloneMarker=new e,e}();t._TextPlotTextSymbolOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isTextGroupOverlayOption=function(e){if(!t._isTextOverlayOption(e))return!1;var n=e;return void 0!==n.hAlign&&void 0!==n.vAlign&&void 0!==n.groupAlign&&void 0!==n.symbol&&void 0!==n.groupName}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isTextOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Text"==n.type&&void 0!==n.width&&void 0!==n.angle&&void 0!==n.textStyle&&void 0!==n.text}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._textGroupOverlayOption=function(){return this._option},o.prototype._buildOverlayView=function(e){var n=this._textGroupOverlayOption();if("Text"===n.type){var i=n.pointPath;if(null!=i&&""!==i)if(null!=t._CoordinateValueExpressionBuilder._defaultBuilder._build(i)){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianCoordinateTextAnnotationOverlayView(e,this)}else if(null!=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(i)){if(t._isTextCartesianPlotView(e))return new t._TextPointAnnotationOverlayView(e,this);if(t._isCartesianPlotView(e))return new t._CartesianPointTextAnnotationOverlayView(e,this)}}return null},o.prototype.queryInterface=function(t){return"IOverlayLegendItemsBuilder"==t?new e._TextAnnotationOverlayLegendItemsBuilder(this):null},o}(t._BaseAnnotationDefinition),e._TextAnnotationOverlayDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition||e instanceof t._TextCartesianPlotDefinition){if(t.options._isTextGroupOverlayOption(n)){var o=n;return new t.models._TextAnnotationOverlayDefinition(e,o)}if(t.options._isTextOverlayOption(n)){o=n;var r=new t.options._TextGroupOverlayOption(o.option());return r._copy(o),new t.models._TextAnnotationOverlayDefinition(e,r)}if(t.options._isOverlayOption(n)&&"Text"===(o=n).type&&t.options._isJsonOption(n))return new t.models._TextAnnotationOverlayDefinition(e,new t.options._TextGroupOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(){this.__proxies=[]}return t.prototype._filter=function(t){return!0},t.prototype._queryInterface=function(t,e){for(var n=0,i=this.__proxies;n<i.length;n++){var o=i[n].queryInterface(e);if(null!=o)return o}return t.queryInterface(e)},t.prototype._addProxy=function(t){this.__proxies.unshift(t)},t.prototype._clearAllProxy=function(){this.__proxies=[]},t}();t.AttachmentAgent=e}(t||(t={})),function(t){var e=function(){function t(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.__attachmentAgents=[],(t=this.__attachmentAgents).push.apply(t,e)}return t.prototype._queryAttachmentAgent=function(t,e){for(var n=0,i=this.__attachmentAgents;n<i.length;n++){var o=i[n];if(o._type()===t&&o._filter(e))return o}return null},t.prototype._attachmentAgents=function(){return this.__attachmentAgents},t}();t.AttachmentAgentManager=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._type=function(){return"donut"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._DonutAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype.donutAttachmentInfo=function(t){return this._getDonutInfo(this._pointView())},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this._pointView()._overlayItemViews().push(e)},n.prototype._getDonutInfo=function(e){if(null!=e){var n=e._getCartesianSeriesView()._getCartesianGroupView(),i=new t.DonutAttachInfo;return i.startAngle=e._getStartAngle(),i.radius=e._getRadius(),i.sweep=e._getSweep(),i.center=e._getCenter().clone(),i.innerRadius=e._getInnerRadius(),i.swapAxes=n._swapAxes(),i.xReversed=t.AnnotationLib._xReversed(n),i.yReversed=t.AnnotationLib._yReversed(n),i}return null},n}(t._DonutAttachmentAgent);t._CartesianRadialBarPointViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(){};t.DonutAttachInfo=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._type=function(){return"line"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._LineAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__groupView=t,n}return i(n,e),n.prototype.lineAttachmentInfo=function(e){var n=this._queryInterface(e,"ILineCoordinateValues");if(null!=n){var i=void 0,o=void 0;i=n._start()._center()?new t.core.Point(this.__groupView._cx(),this.__groupView._cy()):this._getAbsPoint(n._start().x,n._start().y),o=n._end()._center()?new t.core.Point(this.__groupView._cx(),this.__groupView._cy()):this._getAbsPoint(n._end().x,n._end().y);var r=new t.LineAttachInfo;return r.start=i,r.end=o,r}return null},n.prototype._groupView=function(){return this.__groupView},n.prototype._getAbsPoint=function(e,n){var i=null;if(t.AnnotationLib._isPlotInRadialCoordinateSystem(this._groupView()._getCartesianPlotView())){var o=void 0,r=void 0,l=this._groupView()._verticalAxisView(),a=this._groupView()._horizontalAxisView();null==e&&(e=this._groupView()._swapAxes()?l._scaleModel._minimum:a._scaleModel._minimum),null==n&&(n=this._groupView()._swapAxes()?a._scaleModel._minimum:l._scaleModel._minimum),this._groupView()._swapAxes()?(o=this._getAbsPos(l,e)+Math.PI/2,r=Math.PI/2+this._getAbsPos(a,n)):(o=this._getAbsPos(l,n)+Math.PI/2,r=this._getAbsPos(a,e));var s=o-Math.PI/2;i=new t.core.Point(this._groupView()._cx()+r*Math.cos(s),this._groupView()._cy()+r*Math.sin(s))}else{if(this._groupView()._swapAxes()){var u=e;e=n,n=u}l=this._groupView()._verticalAxisView(),a=this._groupView()._horizontalAxisView(),null==e&&(e=a._scaleModel._minimum),null==n&&(n=l._scaleModel._minimum);var _=this._getAbsPos(a,e),p=this._getAbsPos(l,n);i=new t.core.Point(_,p)}return i},n.prototype._getAbsPos=function(e,n){if(t._isRadialAxisView(e)){var i=e;if(i._getDefinition()._orientation==t.Orientation.Horizontal)return i._scaleModel._value((null==n?0:n)+i._getRadiusOffset())}return e._scaleModel._value(n)},n}(t._LineAttachmentAgent);t._CartesianCoordinateLineAttachmentAgent=e}(t||(t={})),t||(t={}),function(t){var e=function(){};t.LineAttachInfo=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._type=function(){return"point"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._PointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__point=null!=t?t.clone():null,n}return i(n,e),n.prototype.pointAttachmentInfo=function(e){return null!=this.__point?new t.PointAttachInfo(this.__point,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()):null},n}(t._PointAttachmentAgent);t._SimplePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__groupView=t,n}return i(n,e),n.prototype._groupView=function(){return this.__groupView},n.prototype.pointAttachmentInfo=function(e){var n=this._queryInterface(e,"ICoordinateValues"),i=this._queryInterface(e,"IAnnotationPosition");if(null!=n&&null!=i){if(n._center()){var o=void 0,r=void 0,l=t.AnnotationLib._getXYDirection(this._groupView());if(t.AnnotationLib._isPlotInRadialCoordinateSystem(this._groupView()._getCartesianPlotView())){var a=this._groupView()._verticalAxisView(),s=a._startAngle()+a._sweep/2;r=new t.Vector(Math.cos(s),Math.sin(s)),o=new t.Vector(Math.cos(s+Math.PI/2),Math.sin(s+Math.PI/2)),l.xDir=t.Vector.horizon(),l.yDir=new t.Vector(0,1)}else o=l.xDir,r=l.yDir;return new t.PointAttachInfo(new t.core.Point(this._groupView()._cx(),this._groupView()._cy()),o,r,l.xDir,l.yDir)}return this._getAbsPointAndRotateAngle(n.x,n.y,i.placement,i.position)}return null},n.prototype._getAbsPointAndRotateAngle=function(e,n,i,o){var r=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());if(t.AnnotationLib._isPlotInRadialCoordinateSystem(this._groupView()._getCartesianPlotView())){var l=void 0,a=void 0,s=this._groupView()._verticalAxisView(),u=this._groupView()._horizontalAxisView();this._groupView()._swapAxes()?(l=this._getAbsPos(s,e),a=Math.PI/2+this._getAbsPos(u,n)):(l=this._getAbsPos(s,n),a=this._getAbsPos(u,e));var _=t.AnnotationLib._getXYDirection(this._groupView(),l);r.xOffsetDir=_.xDir,r.yOffsetDir=_.yDir,r.yDir=new t.Vector(Math.cos(l),Math.sin(l)),r.xDir=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)),r.point=new t.core.Point(this._groupView()._cx()+a*Math.cos(l),this._groupView()._cy()+a*Math.sin(l))}else{if(this._groupView()._swapAxes()){var p=e;e=n,n=p}_=t.AnnotationLib._getXYDirection(this._groupView()),r.xOffsetDir=_.xDir,r.xDir=_.xDir,r.yOffsetDir=_.yDir,r.yDir=_.yDir,s=this._groupView()._verticalAxisView(),u=this._groupView()._horizontalAxisView();var c=this._getAbsPos(u,e),h=this._getAbsPos(s,n);if(o!==t.AnnotationPosition.Center)switch(i){case t.Placement.Auto:r.yDir=n<0?_.yDir.reverse():r.yDir;break;case t.Placement.Top:r.yDir=t.Vector.vertical(),r.xDir=t.Vector.horizon();break;case t.Placement.Left:r.yDir=new t.Vector(-1,0),r.xDir=t.Vector.vertical();break;case t.Placement.Right:r.yDir=t.Vector.horizon(),r.xDir=new t.Vector(0,1);break;case t.Placement.Bottom:r.yDir=new t.Vector(0,1),r.xDir=new t.Vector(-1,0)}else r.yDir=n<0?_.yDir.reverse():r.yDir;r.yDir.cross(r.xDir)<0&&(r.xDir=r.xDir.reverse()),r.point=new t.core.Point(c,h)}return r},n.prototype._getAbsPos=function(e,n){if(t._isRadialAxisView(e)){var i=e;if(i._getDefinition()._orientation==t.Orientation.Horizontal)return i._scaleModel._value(n+i._getRadiusOffset())}return e._scaleModel._value(n)},n}(t._PointAttachmentAgent);t._CartesianPlotCoordinatePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){return t.AnnotationLib._isPlotInRadialCoordinateSystem(this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView())},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.position):null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this._pointView()._overlayItemViews().push(e)},n.prototype._getPointInfo=function(e,n){var i=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()),o=e._boundRectangle();if(null==o)return null;var r=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();if(t.AnnotationLib._isPlotInRadialCoordinateSystem(r)){var l=new t.core.Point(r._cx(),r._cy()),a=o.center,s=void 0,u=void 0;if(a.equalsWith(l)){var _=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView(),p=_._startAngle()+_._sweep/2;u=new t.Vector(Math.cos(p+Math.PI/2),Math.sin(p+Math.PI/2)),s=new t.Vector(Math.cos(p),Math.sin(p))}else s=new t.Vector(a.x-l.x,a.y-l.y),u=t.Vector.getPerp(s,!1);switch(n){case t.AnnotationPosition.Center:i.point=a.clone();break;case t.AnnotationPosition.Outside:i.point=t.Vector.endPoint(a,s,o.height/2);break;case t.AnnotationPosition.Inside:i.point=t.Vector.endPoint(a,s,-o.height/2)}i.xDir=u,i.yDir=s;var c=t.Vector.angle(s,t.Vector.horizon()),h=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),c);i.xOffsetDir=h.xDir,i.yOffsetDir=h.yDir}return i},n}(t._PointAttachmentAgent);t._CartesianRadialSymbolPointViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._isAuto=function(e){return null!=e&&e.placement===t.Placement.Auto},n.prototype._filter=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return this._isAuto(e)},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return this._isAuto(e)?this._getPointAttachInfo(this._pointView(),e.position):null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this._pointView()._overlayItemViews().push(e)},n.prototype._getPointAttachInfo=function(e,n){var i=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());if(t.AnnotationLib._isPlotInRadialCoordinateSystem(e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()))return null;var o=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView());i.xOffsetDir=o.xDir,i.xDir=o.xDir,i.yOffsetDir=o.yDir,i.yDir=o.yDir,t.AnnotationLib._isPointViewPositive(e)||(i.yDir=o.yDir.reverse()),i.yDir.cross(i.xDir)<0&&(i.xDir=i.xDir.reverse());var r=e._boundRectangle();return null==r?null:(i.point=r.center.clone(),e._isVisible()&&n!==t.AnnotationPosition.Center?(0==i.yDir.y?i.yDir.x>0?n===t.AnnotationPosition.Inside?i.point.x=r.left:i.point.x=r.right:n===t.AnnotationPosition.Inside?i.point.x=r.right:i.point.x=r.left:i.yDir.y>0?n===t.AnnotationPosition.Inside?i.point.y=r.top:i.point.y=r.bottom:n===t.AnnotationPosition.Inside?i.point.y=r.bottom:i.point.y=r.top,i):i)},n}(t._PointAttachmentAgent);t._CartesianSymbolPointViewAutoPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(t,e,n,i,o){this.point=t,this.xDir=e,this.yDir=n,this.xOffsetDir=i,this.yOffsetDir=o};t.PointAttachInfo=e}(t||(t={})),function(t){var e=function(){function t(t,e){if(this.__attachmentAgentManager=t,null!=e)for(var n=0,i=this.__attachmentAgentManager._attachmentAgents();n<i.length;n++){var o=i[n];null!=o&&o._addProxy(e)}}return t.prototype._queryAttachmentAgent=function(t,e){return null!=this.__attachmentAgentManager?this.__attachmentAgentManager._queryAttachmentAgent(t,e):null},t}();t.ProxyAttachmentAgentManager=e}(t||(t={})),function(t){var e=function(){this.leftTop=null,this.rightTop=null,this.rightBottom=null,this.leftBottom=null};t._RotateRectangle=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._RotateRectangle);t._RectangleAttachInfo=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._type=function(){return"rectangle"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._RectAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype.rectAttachmentInfo=function(t){return null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this._pointView()._overlayItemViews().push(e)},n}(t._RectAttachmentAgent);t._CartesianPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},n.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},n.prototype._isAuto=function(e){return null!=e&&e.placement===t.Placement.Auto},n.prototype._filter=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return!this._isAuto(e)},n}(t._CartesianPointViewRectangleAttachmentAgent);t._CartesianSymbolPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){t._isInnerAndOutterRotateRectLayouter=function(t){return null!=t&&"function"==typeof t.layoutWithInnerAndOutterRotateRect}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i,o=e.call(this)||this;return o.__overlayItemViews=[],o.__pointView=t,(i=o.__overlayItemViews).push.apply(i,n),o}return i(n,e),n.prototype._type=function(){return"rectangle"},n.prototype._outter=function(){var e=this._inner();if(0==this.__overlayItemViews.length)return e;var n=-e.angle,i=new t.Matrix;i.rotate(n);for(var o=[e.leftTop.x,e.rightTop.x,e.leftBottom.x,e.rightBottom.x],r=[e.leftTop.y,e.rightTop.y,e.leftBottom.y,e.rightBottom.y],l=0,a=this.__overlayItemViews;l<a.length;l++){var s=a[l].queryInterface("IVertexes");null!=s&&(o.push.apply(o,s._xs()),r.push.apply(r,s._ys()))}var u=t._MatrixUtility._transformCurve(i,o,r);o=u.xs,r=u.ys;var _=Math.min.apply(Math,o),p=Math.min.apply(Math,r),c=Math.max.apply(Math,o)-_,h=Math.max.apply(Math,r)-p,f=new t.core.Point(_+c/2,p+h/2);return i.reset(),i.rotate(-n),f=t._MatrixUtility._transformPoint(i,f),new t._RectangleShape(f.x,f.y,c,h,e.angle)},n.prototype._inner=function(){var e=this.__pointView._rectangle().clone();return 0==e.width&&(e.width=1e-4),0==e.height&&(e.height=1e-4),t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(e)},n.prototype.rectAttachmentInfo=function(e){if(null!=e){var n=this._queryInterface(e,"IInnerAndOutterRotateRectLayouter");if(null!=n){var i=n.layoutWithInnerAndOutterRotateRect(this._inner(),this._outter()),o=new t._RectangleAttachInfo;return o.leftTop=i.leftTop,o.leftBottom=i.leftBottom,o.rightTop=i.rightTop,o.rightBottom=i.rightBottom,o}}return null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this.__pointView._overlayItemViews().push(e)},n}(t._RectAttachmentAgent);t._TextPointViewRectangleOverlayItemViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.__isItems=!1,n}return i(n,e),n.prototype._splitPath=function(e){return null==e?[]:t._EscapedCharacterStringUtility.slicePathArray(e)},n.prototype._convert=function(t){return t},n.prototype._getValueFromUnsupportedPath=function(e,n){return t._NativeExtension.Undefined},n.prototype._getValueFromPath=function(n,i){var o;if(o=this.__isItems?this._getValuesInItems(n,i):e.prototype._getValueFromPath.call(this,n,i),"items"===i&&t._isQueryInterface(n)){var r=n;this.__isItems=null!=r.queryInterface("IPointModel")||null!=r.queryInterface("IPlotModel")}else this.__isItems=!1;return o},n.prototype._getValuesInItems=function(e,n){var i=this._parseIndex(n);if(null==i){for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],s=t._NativeExtension.getPropertyValue(a,n);null!=s&&o.push(s)}return o}return e[i]},n.prototype._parseIndex=function(e){if(null!=e){var n=Number(e);if(!isNaN(n)&&n>=0&&t._Utility._isInteger(n))return n}return null},n}(t._Binding);t._ExcelExpressionBinding=e}(t||(t={})),function(t){var e=function(){function t(t){this.__expression=t}return t._from=function(e){return null==e?null:this._isExcelExpression(e)?new t(e.substring(1)):null},t._isExcelExpression=function(t){return null!=t&&/^\s*=\s*.+$/.test(t)},Object.defineProperty(t.prototype,"syntaxExpression",{get:function(){return this.__expression},enumerable:!0,configurable:!0}),t}();t._OverlayExpression=e}(t||(t={})),function(t){var e=function(){function e(t){this.__expression=t}return e.prototype._build=function(){if(null!=this.__expression){var e=this.__expression._expression,n=/^(center)$|^((?:-|\+)?\d+(?:\.\d+)?),((?:-|\+)?\d+(?:\.\d+)?)$/.exec(e);if(null!=n){if(null!=n[1])return new t.CoordinateValues(!0);var i=parseFloat(n[2]),o=parseFloat(n[3]);return new t.CoordinateValues(!1,i,o)}}return null},e}();t._CoordinateValueBuilder=e}(t||(t={})),function(t){var e=function(t){this._expression=t};t._CoordinateValueExpression=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e){if(null==e)return null;var n=e.replace(/(\s*)/g,"");return/^(?:center)$|^(?:-|\+)?\d+(?:\.\d+)?,(?:-|\+)?\d+(?:\.\d+)?$/.test(n)?new t._CoordinateValueExpression(n):null},e._defaultBuilder=new e,e}();t._CoordinateValueExpressionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){this._condition=t};t._DataPointPointPathConditionalExpression=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e){if(null==e)return null;var n=[],i=e.replace(/\[\s*(?:('.*?')|\?\s*(\(.*?\)))\s*\]/g,(function(t,e,i){return null!=e&&""!==e?"[#"+(n.push(e)-1)+"]":"[#"+(n.push("?"+i)-1)+"]"}));if(i=i.replace(/(\s*)/g,""),/^\$(\[.*?\])?$/.test(i)){for(var o=[],r=/\[(.*?)\]/g,l=1,a=void 0;null!=(a=r.exec(i));){if(a.index!==l)return null;var s=a[1];if(s=s.replace(/#([0-9]+)/g,(function(t,e){return n[parseFloat(e)]})),this._isIndexOperation(s))null!=(c=/^((?:-|\+)?\d+)$/.exec(s))&&null!=c[1]&&""!==c[1]&&o.push(new t._DataPointPointPathIndexExpression(parseFloat(c[1])));else if(this._isSliceOperation(s)){if(null!=(c=/^((?:-|\+)?\d+)(?:\:((?:-|\+)?\d+)*)?(?:\:((?:-|\+)?\d+)*)?$/.exec(s))){var u=null,_=null,p=null;null!=c[1]&&""!==c[1]&&(u=parseFloat(c[1])),null!=c[2]&&""!==c[2]&&(_=parseFloat(c[2])),null!=c[3]&&""!==c[3]&&(p=parseFloat(c[3])),o.push(new t._DataPointPointPathSliceExpression(u,_,p))}}else{if(!this._isConditionalOperation(s))return null;var c;if(null!=(c=/^\?\((.*)\)$/.exec(s))){var h=c[1];null!=h&&""!==h&&o.push(new t._DataPointPointPathConditionalExpression(h))}}l+=a[0].length}return l!==i.length?null:o}return null},e.prototype._isIndexOperation=function(t){return null!=t&&""!==t&&/^(?:-|\+)?\d+$/.test(t)},e.prototype._isSliceOperation=function(t){return null!=t&&""!==t&&/^(?:-|\+)?\d+(?:\:(?:(?:-|\+)?\d+)*){0,2}$/.test(t)},e.prototype._isConditionalOperation=function(t){return null!=t&&""!==t&&/^\?\(.*\)$/.test(t)},e._defaultBuilder=new e,e}();t._DataPointPointPathExpressionBuilder=e}(t||(t={})),function(t){var e=function(t){this._index=t};t._DataPointPointPathIndexExpression=e}(t||(t={})),function(t){var e=function(t,e,n){this._start=t,this._end=e,this._step=n};t._DataPointPointPathSliceExpression=e}(t||(t={})),function(t){var e=function(){};t.ConditionalFilter=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.__pointPathExpression=new t._PointPathExpression(n),i}return i(n,e),n.prototype._filter=function(e){var n=this;return e.filter((function(e){if(t._isPointPathExpressionAdapter(e)){var i=n.__pointPathExpression._evaluate(e);return!!t._Util.toBoolean(i)}return!1}))},n}(t.ConditionalFilter);t.PointViewConditionalFilter=e}(t||(t={})),function(t){t._isDataPointPointPathConditionalExpression=function(t){return null!=t&&void 0!==t._condition}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDataPointPointPathIndexExpression=function(t){return null!=t&&void 0!==t._index}}(t||(t={})),function(t){t._isDataPointPointPathSliceExpression=function(t){var e=t;return null!=e&&void 0!==e._start&&void 0!==e._end&&void 0!==e._step}}(t||(t={})),function(t){var e=function(){function e(t){this.__expression=t}return e.prototype._build=function(t){for(var e=t,n=0,i=this._createFilters(this.__expression);n<i.length;n++){var o=i[n];if(null==e)break;e=o._filter(e)}return e},e.prototype._createFilters=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(t._isDataPointPointPathIndexExpression(r)){var l=r;n.push(this._getIndexFilter(l._index))}else if(t._isDataPointPointPathSliceExpression(r)){var a=r;n.push(this._getSliceFilter(a._start,a._end,a._step))}else if(t._isDataPointPointPathConditionalExpression(r)){var s=r;n.push(this._getConditionalFilter(s._condition))}}return n},e}();t.PointPathBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._getIndexFilter=function(e){return new t._IndexFilter(e)},n.prototype._getSliceFilter=function(e,n,i){return new t._SliceFilter(e,n,i)},n.prototype._getConditionalFilter=function(e){return new t.PointViewConditionalFilter(e)},n}(t.PointPathBuilder);t.PointViewPointPathBuilder=e}(t||(t={})),t||(t={}),function(t){t._isPointPathExpressionAdapter=function(t){return null!=t&&"function"==typeof t._getPointPathPropertyValue}}(t||(t={})),function(t){!function(t){t[t.Unknow=0]="Unknow",t[t.EOF=1]="EOF",t[t.True=2]="True",t[t.False=3]="False",t[t.Null=4]="Null",t[t.NumberLiteral=5]="NumberLiteral",t[t.StringLiteral=6]="StringLiteral",t[t.Identifier=7]="Identifier",t[t.At=8]="At",t[t.OpenParen=9]="OpenParen",t[t.CloseParen=10]="CloseParen",t[t.OpenBracket=11]="OpenBracket",t[t.CloseBracket=12]="CloseBracket",t[t.Dot=13]="Dot",t[t.LessThan=14]="LessThan",t[t.GreaterThan=15]="GreaterThan",t[t.LessThanEqual=16]="LessThanEqual",t[t.GreaterThanEqual=17]="GreaterThanEqual",t[t.EqualsEqual=18]="EqualsEqual",t[t.ExclamationEqual=19]="ExclamationEqual",t[t.Plus=20]="Plus",t[t.Minus=21]="Minus",t[t.Asterisk=22]="Asterisk",t[t.Slash=23]="Slash",t[t.Percent=24]="Percent",t[t.Exclamation=25]="Exclamation",t[t.AmpersandAmpersand=26]="AmpersandAmpersand",t[t.BarBar=27]="BarBar",t[t.Question=28]="Question",t[t.Colon=29]="Colon"}(t._TokenKind||(t._TokenKind={}))}(t||(t={})),function(t){var e=function(){function t(){}return t.nullCharacter=0,t.maxAsciiCharacter=127,t.lineFeed=10,t.carriageReturn=13,t.lineSeparator=8232,t.paragraphSeparator=8233,t.nextLine=133,t.space=32,t.nonBreakingSpace=160,t.enQuad=8192,t.emQuad=8193,t.enSpace=8194,t.emSpace=8195,t.threePerEmSpace=8196,t.fourPerEmSpace=8197,t.sixPerEmSpace=8198,t.figureSpace=8199,t.punctuationSpace=8200,t.thinSpace=8201,t.hairSpace=8202,t.zeroWidthSpace=8203,t.narrowNoBreakSpace=8239,t.ideographicSpace=12288,t.mathematicalSpace=8287,t.ogham=5760,t._=95,t.dollar=36,t._0=48,t._1=49,t._2=50,t._3=51,t._4=52,t._5=53,t._6=54,t._7=55,t._8=56,t._9=57,t.a=97,t.b=98,t.c=99,t.d=100,t.e=101,t.f=102,t.g=103,t.h=104,t.i=105,t.j=106,t.k=107,t.l=108,t.m=109,t.n=110,t.o=111,t.p=112,t.q=113,t.r=114,t.s=115,t.t=116,t.u=117,t.v=118,t.w=119,t.x=120,t.y=121,t.z=122,t.A=65,t.B=66,t.C=67,t.D=68,t.E=69,t.F=70,t.G=71,t.H=72,t.I=73,t.J=74,t.K=75,t.L=76,t.M=77,t.N=78,t.O=79,t.P=80,t.Q=81,t.R=82,t.S=83,t.T=84,t.U=85,t.V=86,t.W=87,t.X=88,t.Y=89,t.Z=90,t.ampersand=38,t.asterisk=42,t.at=64,t.backslash=92,t.backtick=96,t.bar=124,t.caret=94,t.closeBrace=125,t.closeBracket=93,t.closeParen=41,t.colon=58,t.comma=44,t.dot=46,t.doubleQuote=34,t.equals=61,t.exclamation=33,t.greaterThan=62,t.hash=35,t.lessThan=60,t.minus=45,t.openBrace=123,t.openBracket=91,t.openParen=40,t.percent=37,t.plus=43,t.question=63,t.semicolon=59,t.singleQuote=39,t.slash=47,t.tilde=126,t.backspace=8,t.formFeed=12,t.byteOrderMark=65279,t.tab=9,t.verticalTab=11,t}();t._CharacterCodes=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__text=t,this.__end=t.length,this.__pos=0,this.__token=null}return e.prototype._token=function(){return this.__token},e.prototype._nextToken=function(){this.__token=this._scan()},e.prototype._movePosition=function(t){this.__pos+=t},e.prototype._isAvaiable=function(){return 0<=this.__pos&&this.__pos<this.__end},e.prototype._scan=function(){for(;this._isAvaiable();){var e=this._codePointAt(this.__pos);switch(e){case t._CharacterCodes.doubleQuote:case t._CharacterCodes.singleQuote:return this._scanString();case t._CharacterCodes._0:case t._CharacterCodes._1:case t._CharacterCodes._2:case t._CharacterCodes._3:case t._CharacterCodes._4:case t._CharacterCodes._5:case t._CharacterCodes._6:case t._CharacterCodes._7:case t._CharacterCodes._8:case t._CharacterCodes._9:return this._scanNumber();case t._CharacterCodes.dot:return this._movePosition(1),t._Token.Dot;case t._CharacterCodes.at:return this._movePosition(1),t._Token.At;case t._CharacterCodes.openParen:return this._movePosition(1),t._Token.OpenParen;case t._CharacterCodes.closeParen:return this._movePosition(1),t._Token.CloseParen;case t._CharacterCodes.openBracket:return this._movePosition(1),t._Token.OpenBracket;case t._CharacterCodes.closeBracket:return this._movePosition(1),t._Token.CloseBracket;case t._CharacterCodes.plus:return this._movePosition(1),t._Token.Plus;case t._CharacterCodes.minus:return this._movePosition(1),t._Token.Minus;case t._CharacterCodes.asterisk:return this._movePosition(1),t._Token.Asterisk;case t._CharacterCodes.slash:return this._movePosition(1),t._Token.Slash;case t._CharacterCodes.exclamation:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.ExclamationEqual):(this._movePosition(1),t._Token.Exclamation);case t._CharacterCodes.equals:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.EqualEqual):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"="));case t._CharacterCodes.greaterThan:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.GreaterThanEqual):(this._movePosition(1),t._Token.GreaterThan);case t._CharacterCodes.lessThan:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.LessThanEqual):(this._movePosition(1),t._Token.LessThan);case t._CharacterCodes.ampersand:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.ampersand?(this._movePosition(2),t._Token.AmpersandAmpersand):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"&"));case t._CharacterCodes.bar:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.bar?(this._movePosition(2),t._Token.BarBar):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"|"));case t._CharacterCodes.question:return this._movePosition(1),t._Token.Question;case t._CharacterCodes.colon:return this._movePosition(1),t._Token.Colon;case t._CharacterCodes.backslash:var n=this._peekUnicodeEscape();if(n>=0&&this._isIdentifierStart(n)){var i=this.__pos;this._movePosition(6),this._scanIdentifierParts();var o=this.__text.substring(i,this.__pos);return this._createIdentifierToken(o)}return this._movePosition(1),new t._Token(t._TokenKind.Unknow,"\\");default:var r=this._scanIdentifier(e);if(null!=r)return r;if(this._isWhiteSpace(e)){this._movePosition(1);continue}var l=this._charSize(e);return this._movePosition(l),new t._Token(t._TokenKind.Unknow,String.fromCodePoint(e))}}return t._Token.EOF},e.prototype._scanIdentifier=function(t){if(this._isIdentifierStart(t)){var e=this.__pos;this._movePosition(this._charSize(t)),this._scanIdentifierParts();var n=this.__text.substring(e,this.__pos);return this._createIdentifierToken(n)}return null},e.prototype._scanIdentifierParts=function(){for(var e="",n=this.__pos;this._isAvaiable();){var i=this._codePointAt(this.__pos);if(this._isIdentifierPart(i))this._movePosition(this._charSize(i));else{if(i!==t._CharacterCodes.backslash)break;if(!(0<=(i=this._peekUnicodeEscape())&&this._isIdentifierPart(i)))break;this._movePosition(6),e+=this.__text.substring(n,this.__pos),n=this.__pos}}return e+this.__text.substring(n,this.__pos)},e.prototype._createIdentifierToken=function(e){return"true"==e?t._Token.True:"false"==e?t._Token.False:"null"==e?t._Token.Null:new t._Token(t._TokenKind.Identifier,e)},e.prototype._scanNumber=function(){var e=this.__pos;return this._scanNumberFragment(),this._charCodeAt(this.__pos)===t._CharacterCodes.dot&&(this._movePosition(1),this._scanNumberFragment()),this._charCodeAt(this.__pos)!==t._CharacterCodes.E&&this._charCodeAt(this.__pos)!==t._CharacterCodes.e||(this._movePosition(1),this._charCodeAt(this.__pos)!==t._CharacterCodes.plus&&this._charCodeAt(this.__pos)!==t._CharacterCodes.minus||this._movePosition(1),this._scanNumberFragment()),new t._Token(t._TokenKind.NumberLiteral,this.__text.substring(e,this.__pos))},e.prototype._scanNumberFragment=function(){for(var t=this.__pos;;){var e=this._charCodeAt(this.__pos);if(!this._isDigit(e))break;this._movePosition(1)}return this.__text.substring(t,this.__pos)},e.prototype._scanString=function(){var e=null,n=this._charCodeAt(this.__pos);this._movePosition(1);for(var i=this.__pos;this._isAvaiable();){var o=this._charCodeAt(this.__pos);if(o===n){e=this.__text.substring(i,this.__pos),this._movePosition(1);break}if(o===t._CharacterCodes.backslash){var r=this._charCodeAt(this.__pos+1);if(r==t._CharacterCodes.backslash||r==n){this._movePosition(2);continue}}this._movePosition(1)}return null==e?new t._Token(t._TokenKind.Unknow,"unterminated string literal"):new t._Token(t._TokenKind.StringLiteral,e)},e.prototype._peekUnicodeEscape=function(){if(this.__pos+5<this.__end&&this._charCodeAt(this.__pos+1)===t._CharacterCodes.u){var e=this.__pos;this._movePosition(2);var n=this._scanHexDigits(4,!1),i=null!=n&&""!=n?parseInt(n,16):-1;return this.__pos=e,i}return-1},e.prototype._scanHexDigits=function(e,n){for(var i=[];i.length<e||n;){var o=this._charCodeAt(this.__pos);if(t._CharacterCodes.A<=o&&o<=t._CharacterCodes.F)o+=t._CharacterCodes.a-t._CharacterCodes.A;else if(!(t._CharacterCodes._0<=o&&o<=t._CharacterCodes._9||t._CharacterCodes.a<=o&&o<=t._CharacterCodes.f))break;i.push(o),this._movePosition(1)}return i.length<e&&(i=[]),String.fromCharCode.apply(String,i)},e.prototype._charSize=function(t){return t>=65536?2:1},e.prototype._charCodeAt=function(e){var n=this.__text;return e<0||e>=n.length?t._CharacterCodes.nullCharacter:n.charCodeAt(e)},e.prototype._codePointAt=function(e){var n=this.__text,i=n.length;if(e<0||e>=i)return t._CharacterCodes.nullCharacter;var o=n.charCodeAt(e);if(55296<=o&&o<=56319&&i>e+1){var r=n.charCodeAt(e+1);if(56320<=r&&r<=57343)return 1024*(o-55296)+r-56320+65536}return o},e.prototype._isWhiteSpace=function(e){return e===t._CharacterCodes.space||e===t._CharacterCodes.tab||e===t._CharacterCodes.verticalTab||e===t._CharacterCodes.formFeed||e===t._CharacterCodes.nonBreakingSpace||e===t._CharacterCodes.nextLine||e===t._CharacterCodes.ogham||e>=t._CharacterCodes.enQuad&&e<=t._CharacterCodes.zeroWidthSpace||e===t._CharacterCodes.narrowNoBreakSpace||e===t._CharacterCodes.mathematicalSpace||e===t._CharacterCodes.ideographicSpace||e===t._CharacterCodes.byteOrderMark||e===t._CharacterCodes.lineFeed||e===t._CharacterCodes.carriageReturn||e===t._CharacterCodes.lineSeparator||e===t._CharacterCodes.paragraphSeparator},e.prototype._isDigit=function(e){return e>=t._CharacterCodes._0&&e<=t._CharacterCodes._9},e.prototype._isIdentifierStart=function(e){return e>=t._CharacterCodes.A&&e<=t._CharacterCodes.Z||e>=t._CharacterCodes.a&&e<=t._CharacterCodes.z||e===t._CharacterCodes._},e.prototype._isIdentifierPart=function(e){return e>=t._CharacterCodes.A&&e<=t._CharacterCodes.Z||e>=t._CharacterCodes.a&&e<=t._CharacterCodes.z||e>=t._CharacterCodes._0&&e<=t._CharacterCodes._9||e===t._CharacterCodes._},e}();t._Lexer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parse=function(e){var n=new t._Lexer(e);n._nextToken();var i=this._parseExpression(n);return this._acceptToken(n,t._Token.EOF),i},e.prototype._parseExpression=function(t){return this._parseConditional(t)},e.prototype._parseConditional=function(e){var n=this._parseLogicalOr(e);if(e._token()===t._Token.Question){e._nextToken();var i=this._parseExpression(e);this._acceptToken(e,t._Token.Colon),e._nextToken();var o=this._parseExpression(e);n=t._ExpressionSyntaxTreeFactory._condition(t._ExpressionSyntaxTreeFactory._isTrue(n),i,o)}return n},e.prototype._parseLogicalOr=function(e){for(var n=this._parseLogicalAnd(e);e._token()===t._Token.BarBar;){e._nextToken();var i=this._parseLogicalAnd(e);n=t._ExpressionSyntaxTreeFactory._orElse(n,i)}return n},e.prototype._parseLogicalAnd=function(e){for(var n=this._parseEquality(e);e._token()===t._Token.AmpersandAmpersand;){e._nextToken();var i=this._parseEquality(e);n=t._ExpressionSyntaxTreeFactory._andAlso(n,i)}return n},e.prototype._parseEquality=function(e){for(var n=this._parseComparison(e);e._token()===t._Token.EqualEqual||e._token()===t._Token.ExclamationEqual;){var i=e._token();e._nextToken();var o=this._parseComparison(e);n=i===t._Token.EqualEqual?t._ExpressionSyntaxTreeFactory._equal(n,o):t._ExpressionSyntaxTreeFactory._notEqual(n,o)}return n},e.prototype._parseComparison=function(e){for(var n=this._parseAddSubtract(e);e._token()===t._Token.GreaterThan||e._token()===t._Token.GreaterThanEqual||e._token()===t._Token.LessThan||e._token()===t._Token.LessThanEqual;){var i=e._token();e._nextToken();var o=this._parseAddSubtract(e);i===t._Token.GreaterThan?n=t._ExpressionSyntaxTreeFactory._greaterThan(n,o):i===t._Token.GreaterThanEqual?n=t._ExpressionSyntaxTreeFactory._greaterThanOrEqual(n,o):i===t._Token.LessThan?n=t._ExpressionSyntaxTreeFactory._lessThan(n,o):i==t._Token.LessThanEqual&&(n=t._ExpressionSyntaxTreeFactory._lessThanOrEqual(n,o))}return n},e.prototype._parseAddSubtract=function(e){for(var n=this._parseMultiplyDivision(e);e._token()===t._Token.Plus||e._token()===t._Token.Minus;){var i=e._token();e._nextToken();var o=this._parseMultiplyDivision(e);n=i===t._Token.Plus?t._ExpressionSyntaxTreeFactory._add(n,o):t._ExpressionSyntaxTreeFactory._subtract(n,o)}return n},e.prototype._parseMultiplyDivision=function(e){for(var n=this._parseUnary(e);e._token()===t._Token.Asterisk||e._token()===t._Token.Slash||e._token()===t._Token.Percent;){var i=e._token();e._nextToken();var o=this._parseUnary(e);i===t._Token.Asterisk?n=t._ExpressionSyntaxTreeFactory._multiply(n,o):i===t._Token.Slash?n=t._ExpressionSyntaxTreeFactory._divide(n,o):i===t._Token.Percent&&(n=t._ExpressionSyntaxTreeFactory._modulo(n,o))}return n},e.prototype._parseUnary=function(e){if(e._token()===t._Token.Minus){e._nextToken();var n=this._parseUnary(e);return t._ExpressionSyntaxTreeFactory._negate(n)}return e._token()==t._Token.Exclamation?(e._nextToken(),n=this._parseUnary(e),t._ExpressionSyntaxTreeFactory._not(n)):e._token()==t._Token.Plus?(e._nextToken(),n=this._parseUnary(e),t._ExpressionSyntaxTreeFactory._unaryPlus(n)):this._parseBracket(e)},e.prototype._parseBracket=function(e){for(var n=this._parseDot(e);e._token()===t._Token.OpenBracket;){e._nextToken();var i=this._parseExpression(e);this._acceptToken(e,t._Token.CloseBracket),e._nextToken(),n=t._ExpressionSyntaxTreeFactory._elementAccess(n,i)}return n},e.prototype._parseDot=function(e){for(var n=this._parseParen(e);e._token()===t._Token.Dot;){e._nextToken(),this._acceptTokenKind(e,t._TokenKind.Identifier);var i=e._token();e._nextToken(),n=t._ExpressionSyntaxTreeFactory._propertyAccess(n,i._text)}return n},e.prototype._parseParen=function(e){if(e._token()===t._Token.OpenParen){e._nextToken();var n=this._parseExpression(e);return this._acceptToken(e,t._Token.CloseParen),e._nextToken(),t._ExpressionSyntaxTreeFactory._parens(n)}return this._parseOperand(e)},e.prototype._parseOperand=function(e){var n=e._token();if(n===t._Token.True)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(!0);if(n===t._Token.False)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(!1);if(n===t._Token.Null)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(null);if(n._kind===t._TokenKind.StringLiteral)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(n._text);if(n._kind===t._TokenKind.NumberLiteral)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(parseFloat(n._text));if(n===t._Token.At)return e._nextToken(),t._ExpressionSyntaxTreeFactory._at();if(n===t._Token.EOF)return null;if(n._kind===t._TokenKind.Identifier)return e._nextToken(),t._ExpressionSyntaxTreeFactory._ident(n._text);throw new t.RuntimeError(t.ErrorCode.Unknown)},e.prototype._acceptToken=function(e,n){if(e._token()!==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e._token())},e.prototype._acceptTokenKind=function(e,n){if(e._token()._kind!==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e._token()._kind)},e._defaultParser=new e,e}();t._SyntaxTreeParser=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this._kind=t,this._text=e}return e.EOF=new e(t._TokenKind.EOF),e.True=new e(t._TokenKind.True,"true"),e.False=new e(t._TokenKind.True,"false"),e.Null=new e(t._TokenKind.True,"null"),e.At=new e(t._TokenKind.At,"@"),e.Plus=new e(t._TokenKind.Plus,"+"),e.Minus=new e(t._TokenKind.Minus,"-"),e.Asterisk=new e(t._TokenKind.Asterisk,"*"),e.Slash=new e(t._TokenKind.Slash,"/"),e.Percent=new e(t._TokenKind.Percent,"%"),e.LessThan=new e(t._TokenKind.LessThan,"<"),e.GreaterThan=new e(t._TokenKind.GreaterThan,">"),e.LessThanEqual=new e(t._TokenKind.LessThanEqual,"<="),e.GreaterThanEqual=new e(t._TokenKind.GreaterThanEqual,">="),e.EqualEqual=new e(t._TokenKind.EqualsEqual,"=="),e.ExclamationEqual=new e(t._TokenKind.ExclamationEqual,"!="),e.AmpersandAmpersand=new e(t._TokenKind.AmpersandAmpersand,"&&"),e.BarBar=new e(t._TokenKind.BarBar,"||"),e.Question=new e(t._TokenKind.Question,"?"),e.Colon=new e(t._TokenKind.Colon,":"),e.Exclamation=new e(t._TokenKind.Exclamation,"!"),e.Dot=new e(t._TokenKind.Dot,"."),e.OpenParen=new e(t._TokenKind.OpenParen,"("),e.CloseParen=new e(t._TokenKind.CloseParen,")"),e.OpenBracket=new e(t._TokenKind.OpenBracket,"["),e.CloseBracket=new e(t._TokenKind.Dot,"]"),e}();t._Token=e}(t||(t={})),function(t){var e=function(){function e(e){this.__expression=t._SyntaxTreeParser._defaultParser._parse(e)}return e.prototype._evaluate=function(e){return new t._PointPathExpressionEvaluationVisitor(e)._visit(this.__expression)},e}();t._PointPathExpression=e}(t||(t={})),function(t){var e=function(){function e(t){this.__adapter=t}return e.prototype._visitBinary=function(e){var n=this._visit(e._leftOperand),i=this._visit(e._rightOperand);switch(e._kind){case t.SyntaxTreeKind.AndAlso:return t._AnyTypeUtility._and(n,i);case t.SyntaxTreeKind.OrElse:return t._AnyTypeUtility._or(n,i);case t.SyntaxTreeKind.Equal:return t._AnyTypeUtility._equal(n,i);case t.SyntaxTreeKind.NotEqual:return t._AnyTypeUtility._notEqual(n,i);case t.SyntaxTreeKind.GreaterThan:return t._AnyTypeUtility._greaterThan(n,i);case t.SyntaxTreeKind.GreaterThanOrEqual:return t._AnyTypeUtility._greaterThanOrEqual(n,i);case t.SyntaxTreeKind.LessThan:return t._AnyTypeUtility._lessThan(n,i);case t.SyntaxTreeKind.LessThanOrEqual:return t._AnyTypeUtility._lessThanOrEqual(n,i);case t.SyntaxTreeKind.Add:return t._AnyTypeUtility._add(n,i);case t.SyntaxTreeKind.Subtract:return t._AnyTypeUtility._subtract(n,i);case t.SyntaxTreeKind.Multiply:return t._AnyTypeUtility._multiply(n,i);case t.SyntaxTreeKind.Divide:return t._AnyTypeUtility._divide(n,i);case t.SyntaxTreeKind.Modulo:return t._AnyTypeUtility._modulo(n,i);default:return null}},e.prototype._visitUnary=function(e){var n=this._visit(e._operand);switch(e._kind){case t.SyntaxTreeKind.Negate:return t._AnyTypeUtility._negative(n);case t.SyntaxTreeKind.UnaryPlus:return t._AnyTypeUtility._positive(n);case t.SyntaxTreeKind.Not:return t._AnyTypeUtility._not(n);case t.SyntaxTreeKind.IsTrue:return t._Util.toBoolean(n);default:return null}},e.prototype._visitConditional=function(e){var n=this._visit(e._condition),i=this._visit(e._trueExpression),o=this._visit(e._falseExpression);return t._Util.toBoolean(n)?i:o},e.prototype._visitElementAccess=function(e){var n=this._visit(e._expression),i=this._visit(e._argumentExpression);return null==n||null==i?null:t._isPointPathExpressionAdapter(n)?n._getPointPathPropertyValue(i.toString()):t._NativeExtension.getPropertyValue(n,i.toString())},e.prototype._visitPropertyAccess=function(e){var n=this._visit(e._expression);return t._isPointPathExpressionAdapter(n)?n._getPointPathPropertyValue(e._name):t._NativeExtension.getPropertyValue(n,e._name)},e.prototype._visitParents=function(t){return this._visit(t._expression)},e.prototype._visitLiteral=function(e){switch(e._kind){case t.SyntaxTreeKind.True:return!0;case t.SyntaxTreeKind.False:return!1;case t.SyntaxTreeKind.Number:case t.SyntaxTreeKind.String:return e._value;case t.SyntaxTreeKind.Null:default:return null}},e.prototype._visitIdentifier=function(t){return t._name},e.prototype._visitAt=function(t){return this.__adapter},e.prototype._visit=function(t){return null==t?null:t._accept(this)},e}();t._PointPathExpressionEvaluationVisitor=e}(t||(t={})),function(t){var e=function(t){this._kind=t};t._ExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this,t.SyntaxTreeKind.At)||this;return n._name="@",n}return i(n,e),n.prototype._accept=function(t){return t._visitAt(this)},n}(t._ExpressionSyntaxTree);t._AtExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o._leftOperand=n,o._rightOperand=i,o}return i(e,t),e.prototype._accept=function(t){return t._visitBinary(this)},e}(t._ExpressionSyntaxTree);t._BinaryExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,t.SyntaxTreeKind.Conditional)||this;return r._condition=n,r._trueExpression=i,r._falseExpression=o,r}return i(n,e),n.prototype._accept=function(t){return t._visitConditional(this)},n}(t._ExpressionSyntaxTree);t._ConditionalExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,t.SyntaxTreeKind.ElementAccess)||this;return o._expression=n,o._argumentExpression=i,o}return i(n,e),n.prototype._accept=function(t){return t._visitElementAccess(this)},n}(t._ExpressionSyntaxTree);t._ElementAccessExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(){function e(){}return e._condition=function(e,n,i){return new t._ConditionalExpressionSyntaxTree(e,n,i)},e._isTrue=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.IsTrue,e)},e._andAlso=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.AndAlso,e,n)},e._orElse=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.OrElse,e,n)},e._equal=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Equal,e,n)},e._notEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.NotEqual,e,n)},e._greaterThan=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.GreaterThan,e,n)},e._greaterThanOrEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.GreaterThanOrEqual,e,n)},e._lessThan=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.LessThan,e,n)},e._lessThanOrEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.LessThanOrEqual,e,n)},e._add=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Add,e,n)},e._subtract=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Subtract,e,n)},e._multiply=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Multiply,e,n)},e._divide=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Divide,e,n)},e._modulo=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Modulo,e,n)},e._negate=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.Negate,e)},e._unaryPlus=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.UnaryPlus,e)},e._not=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.Not,e)},e._elementAccess=function(e,n){return new t._ElementAccessExpressionSyntaxTree(e,n)},e._propertyAccess=function(e,n){return new t._PropertyAccessExpressionSyntaxTree(e,n)},e._parens=function(e){return new t._ParenthesizedExpressionSyntaxTree(e)},e._literal=function(e){if(null==e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.Null,e);if("number"==typeof e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.Number,e);if("string"==typeof e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.String,e);if(!0===e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.True,e);if(!1===e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.False,e);throw new t.AssertError(t.ErrorCode.UnexpectedValue,e)},e._at=function(){return new t._AtExpressionSyntaxTree},e._ident=function(e){return new t._IdentifierExpressionSyntaxTree(e)},e}();t._ExpressionSyntaxTreeFactory=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(n){var i=e.call(this,t.SyntaxTreeKind.Identifier)||this;return i._name=n,i}return i(n,e),n.prototype._accept=function(t){return t._visitIdentifier(this)},n}(t._ExpressionSyntaxTree);t._IdentifierExpressionSyntaxTree=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i._value=n,i}return i(e,t),e.prototype._accept=function(t){return t._visitLiteral(this)},e}(t._ExpressionSyntaxTree);t._LiteralExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,t.SyntaxTreeKind.Parens)||this;return i._expression=n,i}return i(n,e),n.prototype._accept=function(t){return t._visitParents(this)},n}(t._ExpressionSyntaxTree);t._ParenthesizedExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,t.SyntaxTreeKind.PropertyAccess)||this;return o._expression=n,o._name=i,o}return i(n,e),n.prototype._accept=function(t){return t._visitPropertyAccess(this)},n}(t._ExpressionSyntaxTree);t._PropertyAccessExpressionSyntaxTree=e}(t||(t={})),function(t){!function(t){t[t.Add=0]="Add",t[t.Subtract=1]="Subtract",t[t.Multiply=2]="Multiply",t[t.Divide=3]="Divide",t[t.Modulo=4]="Modulo",t[t.Conditional=5]="Conditional",t[t.GreaterThan=6]="GreaterThan",t[t.GreaterThanOrEqual=7]="GreaterThanOrEqual",t[t.LessThan=8]="LessThan",t[t.LessThanOrEqual=9]="LessThanOrEqual",t[t.Equal=10]="Equal",t[t.NotEqual=11]="NotEqual",t[t.AndAlso=12]="AndAlso",t[t.OrElse=13]="OrElse",t[t.Negate=14]="Negate",t[t.UnaryPlus=15]="UnaryPlus",t[t.Not=16]="Not",t[t.True=17]="True",t[t.False=18]="False",t[t.Null=19]="Null",t[t.Number=20]="Number",t[t.String=21]="String",t[t.At=22]="At",t[t.ElementAccess=23]="ElementAccess",t[t.PropertyAccess=24]="PropertyAccess",t[t.Parens=25]="Parens",t[t.Identifier=26]="Identifier",t[t.IsTrue=83]="IsTrue",t[t.IsFalse=84]="IsFalse"}(t.SyntaxTreeKind||(t.SyntaxTreeKind={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i._operand=n,i}return i(e,t),e.prototype._accept=function(t){return t._visitUnary(this)},e}(t._ExpressionSyntaxTree);t._UnaryExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(){function t(t){this.__rect=t.clone()}return t._pack=function(e){if(null!=e){var n=e.box();if(null!=n)return new t(n)}return null},t.prototype.box=function(){return this.__rect.clone()},t.prototype.queryInterface=function(t){return"IBoxBounded"==t?this:null},t}();t.BoxBounded=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){void 0===e&&(e=NaN),void 0===n&&(n=NaN),this.__center=t,this.__x=e,this.__y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.__x},set:function(t){isNaN(t)||(this.__x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.__y},set:function(t){isNaN(t)||(this.__y=t)},enumerable:!0,configurable:!0}),t.prototype._center=function(){return this.__center},t.prototype._toString=function(){return this.__center?"center":this.__x.toString()+","+this.__y.toString()},t.prototype._equalsWith=function(t){return null!=t&&(this._center()&&t._center()||this.x===t.x&&this.y===t.y)},t.prototype._clone=function(){return this.__center?new t(!0):new t(!1,this.__x,this.__y)},t.prototype.queryInterface=function(t){return"ICoordinateValues"==t?this:null},t}();t.CoordinateValues=e}(t||(t={})),function(t){t._isAnnotationPosition=function(t){var e=t;return null!=e&&void 0!==e.position&&void 0!==e.placement}}(t||(t={})),t||(t={}),function(t){t._isBoxBounded=function(t){return null!=t&&"function"==typeof t.box}}(t||(t={})),t||(t={}),function(t){t._isCoordinateValues=function(t){var e=t;return null!=e&&void 0!==e.x&&void 0!==e.y&&"function"==typeof e._center&&"function"==typeof e._toString&&"function"==typeof e._equalsWith&&"function"==typeof e._clone}}(t||(t={})),t||(t={}),function(t){t._isLineCoordinateValues=function(t){var e=t;return null!=e&&"function"==typeof e._start&&"function"==typeof e._end}}(t||(t={})),t||(t={}),function(t){!function(t){t._isRectangleOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isEllipseOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isErrorBarOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.positive&&void 0!==e.negative&&void 0!==e.orientation}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isEnumerableOverlayModel=function(t){return null!=t&&void 0!==t.overlayItems}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isImageOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle&&void 0!==e.source}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.style&&void 0!==e.overlay&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isOverlayModel=function(t){return null!=t&&void 0!==t.option}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLineOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.start&&void 0!==e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNeedleOverlayItemModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTextGroupOverlayItemModel=function(t){return null!=t&&void 0!==t.symbol}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTextOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.text&&void 0!==e.textStyle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTrendlineOverlayItemModel=function(t){return null!=t&&void 0!==t.seriesName}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._buildOverlayDetailKeyPolicy=function(){return this},t.prototype._containsDetailKey=function(t,e){if(null==t)return!0;if(null==e)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e._keyEquals(o))return!0}return!1},t.prototype.queryInterface=function(t){return"IOverlayDetailKeyPolicyBuilder"==t||"IOverlayDetailKeyPolicy"==t?this:null},t._overlayDetailKeyPolicyBuilder=new t,t}();t._DefaultOverlayDetailKeyPolicyBuilder=e}(t||(t={})),function(t){t._isOverlayDetailKeyPolicy=function(t){return null!=t&&"function"==typeof t._containsDetailKey}}(t||(t={})),function(t){t._isOverlayDetailKeyPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildOverlayDetailKeyPolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInOverlayDetailKeys=function(){return null==n.__buildInOverlayDetailKeyPolicies&&(n.__buildInOverlayDetailKeyPolicies=new n([],n._pluginType)),n.__buildInOverlayDetailKeyPolicies},n.prototype._convert=function(e){return t._isOverlayDetailKeyPolicyBuilder(e)?e:null},n.prototype._overlayDetailKey=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildOverlayDetailKeyPolicy();if(null!=r)return r}return t._DefaultOverlayDetailKeyPolicyBuilder._overlayDetailKeyPolicyBuilder._buildOverlayDetailKeyPolicy()},n._pluginType="Compatible",n}(t._BuildInObjectCollection);t._BuildInOverlayDetailKeyPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"minX",{get:function(){return this.__minX},set:function(t){this.__minX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.__maxX},set:function(t){this.__maxX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.__minY},set:function(t){this.__minY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.__maxY},set:function(t){this.__maxY=t},enumerable:!0,configurable:!0}),t}();t._OverlayRange=e}(t||(t={})),function(t){var e=function(){function e(){this.__xOffset=0,this.__yOffset=0}return e.prototype._clone=function(){var t=new e;return null!=this.transformInfo&&(t.transformInfo=this.transformInfo.clone()),t},e.prototype._containStroke=function(t){return!1},e.prototype._contain=function(t){return!1},e.prototype._bind=function(t){return null},e.prototype._attachmentAgent=function(){return this.__attachmentAgent},e.prototype._bindAttachmentAgent=function(t){this.__attachmentAgent=t},e.prototype._destruct=function(){this.__attachmentAgent=null},e.prototype._beforeLayout=function(t,e){},e.prototype._layoutAnnotation=function(t,e,n){},e.prototype._renderAnnotation=function(t,e){},e.prototype._layout=function(e,n){null!=this.__attachmentAgent&&(this._beforeLayout(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._layoutAnnotation(e,this.__attachmentAgent,n),e.restoreTransform())},e.prototype._beforeRender=function(t,e){},e.prototype._render=function(e,n){null!=this.__attachmentAgent&&1!=n._renderLabel&&(this._beforeRender(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._renderAnnotation(e,n),e.restoreTransform(),this._afterRender(e,n))},e.prototype._afterRender=function(t,e){},Object.defineProperty(e.prototype,"xOffset",{get:function(){return this.__xOffset},set:function(t){this.__xOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yOffset",{get:function(){return this.__yOffset},set:function(t){this.__yOffset=t},enumerable:!0,configurable:!0}),e.prototype._calcPos=function(e,n,i){return null==e||isNaN(e.x)||isNaN(e.y)?null:(n=null!=n?n:t.Vector.horizon(),i=null!=i?i:t.Vector.vertical(),t.Vector.endPoint(t.Vector.endPoint(e,n,this.xOffset),i,this.yOffset))},e.prototype._defaultStyle=function(){return null},e.prototype._customStyle=function(){return this.__customStyle},e.prototype._applyCustomStyle=function(t){this.__customStyle=t,this.__annotationStyle=null},e.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=null!=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),this.__annotationStyle=e}return this.__annotationStyle},e.prototype._applyStyle=function(t){},e.prototype.queryInterface=function(t){return null},e}();t._Annotation=e}(t||(t={})),function(t){var e=function(e){function n(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.rotate=t,n}return i(n,e),n.prototype._transformInfo=function(){return this.transformInfo},Object.defineProperty(n.prototype,"relativeRotate",{get:function(){return this.__relativeRotate},set:function(t){null==t?this.__relativeRotate=null:isNaN(t)||(this.__relativeRotate=t*Math.PI/180)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this.__rotate},set:function(t){null==t?this.__rotate=null:isNaN(t)||(this.__rotate=t*Math.PI/180)},enumerable:!0,configurable:!0}),n.prototype._beforeLayout=function(t,n){e.prototype._beforeLayout.call(this,t,n),null!=this._transformInfo()?(this._transformInfo().init(),this.matrix=null):this.transformInfo=this._createTransformInfo()},n.prototype._render=function(t,n){null!=this.matrix&&e.prototype._render.call(this,t,n)},n.prototype._createTransformInfo=function(){return new t._TransformInfo},n}(t._Annotation);t._RotatableAnnotation=e}(t||(t={})),function(t){var e=function(){function e(){this.rotation=0,this.scale=[1,1],this.__skew=[0,0]}return e.prototype.init=function(){this.rotation=0,this.scale[0]=1,this.scale[1]=1,this.__skew[0]=0,this.__skew[1]=0},e.prototype.assign=function(t){var e=t;this.rotation=e.rotation,this.scale[0]=e.scale[0],this.scale[1]=e.scale[1],this.__skew[0]=e.__skew[0],this.__skew[1]=e.__skew[1]},e.prototype.lerp=function(e,n,i){var o=e,r=n;this.rotation=t._LerpUtil.lerp(o.rotation,r.rotation,i),this.scale[0]=t._LerpUtil.lerp(o.scale[0],r.scale[0],i),this.scale[1]=t._LerpUtil.lerp(o.scale[1],r.scale[1],i),this.__skew[0]=t._LerpUtil.lerp(o.__skew[0],r.__skew[0],i),this.__skew[1]=t._LerpUtil.lerp(o.__skew[1],r.__skew[1],i)},e.prototype.equalsWith=function(t){return t instanceof e&&this.rotation==t.rotation&&this.scale[0]==t.scale[0]&&this.scale[1]==t.scale[1]&&this.__skew[0]==t.__skew[0]&&this.__skew[1]==t.__skew[1]},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e}();t._TransformInfo=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return e.prototype.standard=function(t){return void 0===t&&(t=1),this.scalar(t/this.moudule())},e.prototype.moudule=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.mouduleSquare=function(){return this.x*this.x+this.y*this.y},e.subtract=function(t,n,i){return(i=null!=i?i:new e).x=t.x-n.x,i.y=t.y-n.y,i},e.prototype.scalar=function(t){return new e(this.x*t,this.y*t)},e.prototype.reverse=function(){return new e(-this.x,-this.y)},e.prototype.point=function(){return new t.core.Point(this.x,this.y)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.cross=function(t){return this.x*t.y-this.y*t.x},e.endPoint=function(e,n,i){var o=n.scalar(i/n.moudule());return new t.core.Point(o.x+e.x,o.y+e.y)},e.pointSub=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.pointSubByVector=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.getPerp=function(t,n){var i=new e(0,0);if((0==t.x||isNaN(t.x))&&(0==t.y||isNaN(t.y)))return i;0===t.x?(i.y=0,i.x=1):(i.y=1,i.x=-t.y/t.x);var o=t.cross(i);return(o>0&&n||o<0&&!n)&&(i=i.reverse()),i},e.horizon=function(){return new e(1,0)},e.vertical=function(){return new e(0,-1)},e.angle=function(e,n){var i,o=e.dot(n)/e.moudule()/n.moudule();return Math.abs(o-1)<1e-6?0:Math.abs(o+1)<1e-6?Math.PI:(i=Math.acos(o),e.cross(n)>0&&(i=t._Utility._PI2-i),i)},e.farthestPoint=function(t,n){for(var i=-Number.MAX_VALUE,o=new e,r=0,l=t;r<l.length;r++){var a=l[r],s=n.dot(new e(a.x,a.y));s>i&&(i=s,o.x=a.x,o.y=a.y)}return o},e.nearestPoint=function(t,n){for(var i=Number.MAX_VALUE,o=new e,r=0,l=t;r<l.length;r++){var a=l[r],s=n.dot(new e(a.x,a.y));s<i&&(i=s,o.x=a.x,o.y=a.y)}return o},e}();t.Vector=e}(t||(t={})),function(t){var e=function(){function e(){this.__epsilom=1e-8,this.__epsilonNumeric=1e-4,this.__threeSqrt=Math.sqrt(3),this.__oneThird=1/3,this.__v0=new t.Vector,this.__v1=new t.Vector,this.__v2=new t.Vector}return e.prototype.distSquare=function(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)},e.prototype.isAroundZero=function(t){return t>-this.__epsilom&&t<this.__epsilom},e.prototype.isNotAroundZero=function(t){return t>this.__epsilom||t<-this.__epsilom},e.prototype.cubicAt=function(t,e,n,i,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*i+3*r*n)},e.prototype.cubicDerivativeAt=function(t,e,n,i,o){var r=1-o;return 3*(((e-t)*r+2*(n-e)*o)*r+(i-n)*o*o)},e.prototype.cubicRootAt=function(t,e,n,i,o,r){var l=i+3*(e-n)-t,a=3*(n-2*e+t),s=3*(e-t),u=t-o,_=a*a-3*l*s,p=a*s-9*l*u,c=s*s-3*a*u,h=0;if(this.isAroundZero(_)&&this.isAroundZero(p))this.isAroundZero(a)?r[0]=0:(C=-s/a)>=0&&C<=1&&(r[h++]=C);else{var f=p*p-4*_*c;if(this.isAroundZero(f)){var d=p/_,y=-d/2;(C=-a/l+d)>=0&&C<=1&&(r[h++]=C),y>=0&&y<=1&&(r[h++]=y)}else if(f>0){var g=Math.sqrt(f),m=_*a+1.5*l*(-p+g),v=_*a+1.5*l*(-p-g);(C=(-a-((m=m<0?-Math.pow(-m,this.__oneThird):Math.pow(m,this.__oneThird))+(v=v<0?-Math.pow(-v,this.__oneThird):Math.pow(v,this.__oneThird))))/(3*l))>=0&&C<=1&&(r[h++]=C)}else{var w=(2*_*a-3*l*p)/(2*Math.sqrt(_*_*_)),b=Math.acos(w)/3,S=Math.sqrt(_),P=Math.cos(b),C=(-a-2*S*P)/(3*l),x=(y=(-a+S*(P+this.__threeSqrt*Math.sin(b)))/(3*l),(-a+S*(P-this.__threeSqrt*Math.sin(b)))/(3*l));C>=0&&C<=1&&(r[h++]=C),y>=0&&y<=1&&(r[h++]=y),x>=0&&x<=1&&(r[h++]=x)}}return h},e.prototype.cubicExtrema=function(t,e,n,i,o){var r=6*n-12*e+6*t,l=9*e+3*i-3*t-9*n,a=3*e-3*t,s=0;if(this.isAroundZero(l))this.isNotAroundZero(r)&&(_=-a/r)>=0&&_<=1&&(o[s++]=_);else{var u=r*r-4*l*a;if(this.isAroundZero(u))o[0]=-r/(2*l);else if(u>0){var _,p=Math.sqrt(u),c=(-r-p)/(2*l);(_=(-r+p)/(2*l))>=0&&_<=1&&(o[s++]=_),c>=0&&c<=1&&(o[s++]=c)}}return s},e.prototype.cubicSubdivide=function(t,e,n,i,o,r){var l=(e-t)*o+t,a=(n-e)*o+e,s=(i-n)*o+n,u=(a-l)*o+l,_=(s-a)*o+a,p=(_-u)*o+u;r[0]=t,r[1]=l,r[2]=u,r[3]=p,r[4]=p,r[5]=_,r[6]=s,r[7]=i},e.prototype.cubicProjectPoint=function(t,e,n,i,o,r,l,a,s,u,_){var p,c,h,f,d=0,y=.005,g=1/0;this.__v0.x=s,this.__v0.y=u;for(var m=0;m<1;m+=.05)this.__v1.x=this.cubicAt(t,n,o,l,m),this.__v1.y=this.cubicAt(e,i,r,a,m),(h=this.distSquare(this.__v0,this.__v1))<g&&(d=m,g=h);g=1/0;for(var v=0;v<32&&!(y<this.__epsilonNumeric);v++)p=d-y,c=d+y,this.__v1.x=this.cubicAt(t,n,o,l,p),this.__v1.y=this.cubicAt(e,i,r,a,p),h=this.distSquare(this.__v1,this.__v0),p>=0&&h<g?(d=p,g=h):(this.__v2.x=this.cubicAt(t,n,o,l,c),this.__v2.y=this.cubicAt(e,i,r,a,c),f=this.distSquare(this.__v2,this.__v0),c<=1&&f<g?(d=c,g=f):y*=.5);return null!=_&&(_[0]=this.cubicAt(t,n,o,l,d),_[1]=this.cubicAt(e,i,r,a,d)),Math.sqrt(g)},e.prototype.quadraticAt=function(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n},e.prototype.quadraticDerivativeAt=function(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))},e.prototype.quadraticRootAt=function(t,e,n,i,o){var r=t-2*e+n,l=2*(e-t),a=t-i,s=0;if(this.isAroundZero(r))this.isNotAroundZero(l)&&(_=-a/l)>=0&&_<=1&&(o[s++]=_);else{var u=l*l-4*r*a;if(this.isAroundZero(u))(_=-l/(2*r))>=0&&_<=1&&(o[s++]=_);else if(u>0){var _,p=Math.sqrt(u),c=(-l-p)/(2*r);(_=(-l+p)/(2*r))>=0&&_<=1&&(o[s++]=_),c>=0&&c<=1&&(o[s++]=c)}}return s},e.prototype.quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i},e.prototype.quadraticSubdivide=function(t,e,n,i,o){var r=(e-t)*i+t,l=(n-e)*i+e,a=(l-r)*i+r;o[0]=t,o[1]=r,o[2]=a,o[3]=a,o[4]=l,o[5]=n},e.prototype.quadraticProjectPoint=function(t,e,n,i,o,r,l,a,s){var u=0,_=.005,p=1/0;this.__v0.x=l,this.__v0.y=a;for(var c=0;c<1;c+=.05)this.__v1.x=this.quadraticAt(t,n,o,c),this.__v1.y=this.quadraticAt(e,i,r,c),(y=this.distSquare(this.__v0,this.__v1))<p&&(u=c,p=y);p=1/0;for(var h=0;h<32&&!(_<this.__epsilonNumeric);h++){var f=u-_,d=u+_;this.__v1.x=this.quadraticAt(t,n,o,f),this.__v1.y=this.quadraticAt(e,i,r,f);var y=this.distSquare(this.__v1,this.__v0);if(f>=0&&y<p)u=f,p=y;else{this.__v2.x=this.quadraticAt(t,n,o,d),this.__v2.y=this.quadraticAt(e,i,r,d);var g=this.distSquare(this.__v2,this.__v0);d<=1&&g<p?(u=d,p=g):_*=.5}}return null!=s&&(s[0]=this.quadraticAt(t,n,o,u),s[1]=this.quadraticAt(e,i,r,u)),Math.sqrt(p)},e}();t.Curve=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=e.call(this,o)||this;return r.__width=t._NativeExtension._toNonNullNumber(n,0),r.__height=t._NativeExtension._toNonNullNumber(i,0),r}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){!isNaN(t)&&t>0&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){!isNaN(t)&&t>0&&(this.__height=t)},enumerable:!0,configurable:!0}),n}(t._RotatableAnnotation);t._RectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o.__connectLine=!1,o}return i(n,e),Object.defineProperty(n.prototype,"showConnectingLine",{get:function(){return this.__connectLine},set:function(t){this.__connectLine=t},enumerable:!0,configurable:!0}),n.prototype._junctions=function(){var e=this._transformInfo(),n=e.width,i=e.height,o=e.left,r=e.top;return[new t.core.Point(o+n/2,r),new t.core.Point(o,r+i/2),new t.core.Point(o+n,r+i/2),new t.core.Point(o+n/2,r+i)]},n.prototype._junction=function(e,n){return t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir).point()},n.prototype._bind=function(t){if(null!=t){var e=t._queryAttachmentAgent("point",this);if(null!=e)return this._bindAttachmentAgent(e),e}return null},n.prototype._beforeLayout=function(t,n){e.prototype._beforeLayout.call(this,t,n),this._initTransform(t)},n.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._PointAttachmentAgent){var o=n.pointAttachmentInfo(this);null!=o&&this._layoutWithPointAttachInfo(o)}},n.prototype._initTransform=function(t){var e=this._transformInfo();e.width=this.width,e.height=this.height},n.prototype._hasConntectLine=function(){return this.__connectLine&&t._ShapeUtil.DisPointToPointSquare(this._transformInfo().connectionPoint,this._start)>3},n.prototype._createTransformInfo=function(){return new t._AnchoredTransformInfo},n.prototype._layoutWithPointAttachInfo=function(e){if(null!=e){var n=this._transformInfo(),i=this._calcPos(e.point,e.xOffsetDir,e.yOffsetDir);if(null!=i){n.connectionPoint=i;var o=!1,r=t.Vector.angle(e.xDir,t.Vector.horizon());null!=this.relativeRotate&&(r+=this.relativeRotate),r=null!=this.rotate?this.rotate:r,e.yDir.cross(e.xDir)<0&&(o=!0,r-=Math.PI),n.rotation=r,o&&(n.scale[0]*=-1),this._start=e.point.clone();var l=new t.Matrix;l.rotate(n.rotation,new t.core.Point(n.left+n.width/2,n.top+n.height/2)),l.scale(n.scale[0],n.scale[1]),n.junctionPoint=this._junction(e,l),this.matrix=new t.Matrix,this.matrix.translate(n.connectionPoint.x-n.junctionPoint.x,n.connectionPoint.y-n.junctionPoint.y),this.matrix.transform(l)}}},n.prototype._layoutWithTransfromInfo=function(e){var n=e,i=n.connectionPoint;if(null!=i){var o=new t.Matrix;o.rotate(n.rotation,new t.core.Point(n.left+n.width/2,n.top+n.height/2)),o.scale(e.scale[0],e.scale[1]);var r=n.junctionPoint;this.matrix.reset(),this.matrix.translate(i.x-r.x,i.y-r.y),this.matrix.transform(o)}},n.prototype._beforeRender=function(t,n){e.prototype._beforeRender.call(this,t,n),this._layoutWithTransfromInfo(this._transformInfo()),this._renderConntectLine(t,n)},n.prototype._renderConntectLine=function(e,n){var i=this._transformInfo();if(null!=i.connectionPoint&&this._hasConntectLine()){var o=null,r=i.width,l=i.height,a=i.left,s=i.top,u=[new t.core.Point(a,s),new t.core.Point(a+r,s),new t.core.Point(a+r,s+l),new t.core.Point(a,s+l)];u=t._MatrixUtility._transformPoints(this.matrix,u);for(var _=t._MatrixUtility._transformPoint(this.matrix,new t.core.Point(a+r/2,s+l/2)),p=0;p<u.length;++p){var c=(p+1)%u.length;if(null!=(o=t._ShapeUtil.getSegmentsIntersection(u[p],u[c],this._start,_)))break}if(null==o)return;this._end=o,e.beginTransform(),t._StyleUtility._applyStyle(e,this._getConnectLineStyle()),e.drawLine(this._start.x,this._start.y,this._end.x,this._end.y),e.restoreTransform()}},n.prototype._renderAnnotation=function(t,e){},n.prototype._getConnectLineStyle=function(){return t._StyleUtility._buildStrokeStyle(null,"#000000",5)},n.prototype.box=function(){if(null==this.matrix)return null;var e=this._transformInfo();this._layoutWithTransfromInfo(e);var n=e.width,i=e.height,o=e.left,r=e.top;0!=n&&0!=i||(n=i=0);var l=t._MatrixUtility._transformCurve(this.matrix,[o,o+n,o,o+n],[r,r,r+i,r+i]),a=Math.min.apply(Math,l.xs),s=Math.min.apply(Math,l.ys),u=Math.max.apply(Math,l.xs)-a,_=Math.max.apply(Math,l.ys)-s;return new t.core.Rect(a,s,u,_)},n.prototype._toShape=function(){if(null==this.matrix)return null;var e=this._transformInfo();this._layoutWithTransfromInfo(e);var n=e.width,i=e.height,o=e.left,r=e.top;0!=n&&0!=i||(n=i=0);var l=t._MatrixUtility._transformPoint(this.matrix,new t.core.Point(o+n/2,r+i/2));return new t._RectangleShape(l.x,l.y,n,i,this._transformInfo().rotation)},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n}(t._RectangleAnnotation);t._AnchoredPointAnnotation=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._strokeWidth=function(){var t=this._annotationStyle().strokeWidth;return null!=t?t:0},e.prototype._initTransform=function(t){var e=this._transformInfo(),n=this._strokeWidth();e.width=this.width+n,e.height=this.height+n},e.prototype._renderAnnotation=function(t,e){var n=this._transformInfo();if(null!=n.connectionPoint&&0!=n.width&&0!=n.height){var i=this._strokeWidth();t.drawRect(n.left+i/2,n.top+i/2,n.width-i,n.height-i,null,this.matrix)}},e}(t._AnchoredPointAnnotation);t._AnchoredPointRectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.connectionPoint=null,t.junctionPoint=null,t.left=0,t.top=0,t.width=0,t.height=0,t}return i(n,e),n.prototype.translate=function(t,e){null!=this.connectionPoint&&(this.connectionPoint.x+=t,this.connectionPoint.y+=e)},n.prototype.init=function(){e.prototype.init.call(this),this.connectionPoint=null,this.junctionPoint=null,this.width=0,this.height=0,this.left=0,this.top=0},n.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.connectionPoint&&(this.connectionPoint=n.connectionPoint.clone()),null!=n.junctionPoint&&(this.junctionPoint=n.junctionPoint.clone()),this.width=n.width,this.height=n.height,this.left=n.left,this.top=n.top},n.prototype.lerp=function(n,i,o){e.prototype.lerp.call(this,n,i,o);var r=n,l=i;this.connectionPoint=this._lerpPoint(r.connectionPoint,l.connectionPoint,o),this.junctionPoint=this._lerpPoint(r.junctionPoint,l.junctionPoint,o),this.width=t._LerpUtil.lerp(r.width,l.width,o),this.height=t._LerpUtil.lerp(r.height,l.height,o),this.left=t._LerpUtil.lerp(r.left,l.left,o),this.top=t._LerpUtil.lerp(r.top,l.top,o)},n.prototype._lerpPoint=function(e,n,i){return null==e||null==n?null:new t.core.Point(t._LerpUtil.lerp(e.x,n.x,i),t._LerpUtil.lerp(e.y,n.y,i))},n.prototype.equalsWith=function(t){if(t instanceof n){if(null==this.connectionPoint&&null==t.connectionPoint&&null==this.junctionPoint&&null==t.junctionPoint&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null==this.junctionPoint&&null==t.junctionPoint&&null!=this.connectionPoint&&null!=t.connectionPoint&&this.connectionPoint.equalsWith(t.connectionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null==this.connectionPoint&&null==t.connectionPoint&&null!=this.junctionPoint&&null!=t.junctionPoint&&this.junctionPoint.equalsWith(t.junctionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null!=this.connectionPoint&&null!=t.connectionPoint&&this.connectionPoint.equalsWith(t.connectionPoint)&&null!=this.junctionPoint&&null!=t.junctionPoint&&this.junctionPoint.equalsWith(t.junctionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t)}return!1},n.prototype.clone=function(){var t=new n;return t.assign(this),t},n}(t._TransformInfo);t._AnchoredTransformInfo=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.__position=t.AnnotationPosition.Outside,n.__placement=t.Placement.Auto,n}return i(n,e),n._createTemplateFrom=function(t){var e=new n;return e.position=t.position,e.placement=t.placement,e._bindAttachmentAgent(t._attachmentAgent()),e.width=t.width+t._strokeWidth(),e.height=t.height+t._strokeWidth(),e.rotate=null==t.rotate?null:180*t.rotate/Math.PI,e.relativeRotate=null==t.relativeRotate?null:180*t.relativeRotate/Math.PI,e.xOffset=t.xOffset,e.yOffset=t.yOffset,e},Object.defineProperty(n.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IAnnotationPosition"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._junction=function(e,n){var i=this._transformInfo(),o=i.width,r=i.height,l=this.__position;return l===t.AnnotationPosition.Center?t._MatrixUtility._transformPoint(n,new t.core.Point(o/2,r/2)):l===t.AnnotationPosition.Inside?t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir).point():t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir.reverse()).point()},n.prototype._bind=function(t){if(null!=t){var n=t._queryAttachmentAgent("donut",this);if(null!=n)return this._bindAttachmentAgent(n),n;if(null!=(n=t._queryAttachmentAgent("rectangle",this)))return this._bindAttachmentAgent(n),n}return e.prototype._bind.call(this,t)},n.prototype._layoutAnnotation=function(n,i,o){if(i instanceof t._DonutAttachmentAgent)null!=(r=i.donutAttachmentInfo(this))&&this._layoutWithDonutAttachInfo(r);else if(i instanceof t._RectAttachmentAgent){var r;null!=(r=i.rectAttachmentInfo(this))&&this._layoutWithRectAttachInfo(r)}else e.prototype._layoutAnnotation.call(this,n,i,o)},n.prototype._layoutWithDonutAttachInfo=function(n){var i,o=this.__position,r=n.startAngle+n.sweep/2,l=n.radius;o===t.AnnotationPosition.Center?(l-=(l-n.innerRadius)/2,i=new t.core.Point(n.center.x+l*Math.cos(r),n.center.y+l*Math.sin(r))):i=new t.core.Point(n.center.x+l*Math.cos(r),n.center.y+l*Math.sin(r));var a=new t.Vector(Math.cos(r),Math.sin(r)),s=new t.Vector(Math.cos(r+Math.PI/2),Math.sin(r+Math.PI/2)),u=s,_=a;if(n.swapAxes){var p=a;a=s,s=p}a=n.xReversed?a.reverse():a,s=n.yReversed?s.reverse():s,e.prototype._layoutWithPointAttachInfo.call(this,new t.PointAttachInfo(i,u,_,a,s))},n.prototype._layoutWithRectAttachInfo=function(n){var i=this.__position,o=this.__placement,r=new t.Vector(n.rightBottom.x-n.leftBottom.x,n.rightBottom.y-n.leftBottom.y),l=new t.Vector(n.leftTop.x-n.leftBottom.x,n.leftTop.y-n.leftBottom.y),a=null,s=null,u=t.AnnotationLib.getRectangleAttachmentPoints(n),_=new t.core.Point(0,0);if(i!==t.AnnotationPosition.Center){switch(o){case t.Placement.Auto:a=null!=n.AutoXDir?n.AutoXDir:r,s=null!=n.AutoYDir?n.AutoYDir:l;break;case t.Placement.Top:s=t.Vector.vertical(),a=t.Vector.horizon();break;case t.Placement.Left:s=new t.Vector(-1,0),a=t.Vector.vertical();break;case t.Placement.Right:s=t.Vector.horizon(),a=new t.Vector(0,1);break;case t.Placement.Bottom:s=new t.Vector(0,1),a=new t.Vector(-1,0)}_=t.Vector.farthestPoint(u,s).point()}else a=null!=n.AutoXDir?n.AutoXDir:r,s=null!=n.AutoYDir?n.AutoYDir:l,_.x=(n.leftTop.x+n.rightBottom.x)/2,_.y=(n.leftTop.y+n.rightBottom.y)/2;e.prototype._layoutWithPointAttachInfo.call(this,new t.PointAttachInfo(_,a,s,r,l))},n}(t._AnchoredPointRectangleAnnotation);t._PositionRectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a){void 0===o&&(o=t.AnnotationPosition.Outside),void 0===r&&(r=t.Placement.Auto),void 0===l&&(l=t.AnnotationAlign.Middle),void 0===a&&(a=t.AnnotationAlign.Center);var s=e.call(this)||this;return s._margin=null==n?t._PaddingUtility._buildPadding():n,s._padding=null==i?t._PaddingUtility._buildPadding():n,s.vAlign=l,s.hAlign=a,s._position=o,s._placement=r,s}return i(n,e),n.prototype._marginTop=function(){return null!=this._margin?this._margin.top:0},n.prototype._marginLeft=function(){return null!=this._margin?this._margin.left:0},n.prototype._marginRight=function(){return null!=this._margin?this._margin.right:0},n.prototype._marginBottom=function(){return null!=this._margin?this._margin.bottom:0},n.prototype._paddingTop=function(){return null!=this._padding?this._padding.top:0},n.prototype._paddingRight=function(){return null!=this._padding?this._padding.right:0},n.prototype._paddingBottom=function(){return null!=this._padding?this._padding.bottom:0},n.prototype._paddingLeft=function(){return null!=this._padding?this._padding.top:0},n.prototype._width=function(t){return t.width+this._paddingLeft()+this._paddingRight()},n.prototype._height=function(t){return t.height+this._paddingTop()+this._paddingBottom()},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):"IVertexes"===n?this._vertexes():e.prototype.queryInterface.call(this,n)},n.prototype._vertexes=function(){if(null==this.matrix)return null;var e=this._strokeWidth(),n=this.__transformInfo();this._layoutWithTransfromInfo(n);var i=this._width(n)+e+this._marginLeft()+this._marginRight(),o=this._height(n)+e+this._marginTop()+this._marginBottom(),r=t._MatrixUtility._transformCurve(this.matrix,[0,i,0,i],[0,0,o,o]);return t.Vertexes._pack(r.xs,r.ys)},n.prototype.box=function(){return null==this.matrix?null:(this._layoutWithTransfromInfo(this.__transformInfo()),this._getBoxBound(this.matrix))},n.prototype._getBoxBound=function(e){var n=this._strokeWidth(),i=this._width(this.__transformInfo())+n+this._marginLeft()+this._marginRight(),o=this._height(this.__transformInfo())+n+this._marginTop()+this._marginBottom();0!=i&&0!=o||(i=o=0);var r=t._MatrixUtility._transformCurve(e,[0,i,0,i],[0,0,o,o]),l=Math.min.apply(Math,r.xs),a=Math.min.apply(Math,r.ys),s=Math.max.apply(Math,r.xs)-l,u=Math.max.apply(Math,r.ys)-a;return new t.core.Rect(l,a,s,u)},n.prototype._strokeWidth=function(){var t=this._annotationStyle().strokeWidth;return null==t||isNaN(t)?0:t},n.prototype._junction=function(e){var n=this._getBoxBound(e),i=n.width,o=n.height,r=i/2,l=o/2;if(this._position===t.AnnotationPosition.Center)return new t.core.Point(r+n.left,l+n.top);switch(this._placement){case t.Placement.Bottom:case t.Placement.Top:switch(l=this._placement===t.Placement.Bottom?this._position===t.AnnotationPosition.Inside?o:0:this._position===t.AnnotationPosition.Inside?0:o,this.hAlign){case t.AnnotationAlign.Left:r=0;break;case t.AnnotationAlign.Right:r=i;break;default:r=i/2}break;case t.Placement.Left:case t.Placement.Right:switch(this.vAlign){case t.AnnotationAlign.Top:l=0;break;case t.AnnotationAlign.Bottom:l=o;break;default:l=o/2}r=this._placement===t.Placement.Left?this._position===t.AnnotationPosition.Inside?0:i:this._position===t.AnnotationPosition.Inside?i:0}return new t.core.Point(r+n.left,l+n.top)},Object.defineProperty(n.prototype,"top",{get:function(){return this._strokeWidth()/2+this._marginTop()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this._strokeWidth()/2+this._marginLeft()},enumerable:!0,configurable:!0}),n.prototype._bind=function(t){if(null!=t){var n=t._queryAttachmentAgent("rectangle",this);return null!=n?(this._bindAttachmentAgent(n),n):e.prototype._bind.call(this,t)}return null},n.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._RectAttachmentAgent){var o=n.rectAttachmentInfo(this);null!=o&&this._layoutWithRectAttachInfo(o)}},n.prototype._layoutWithRectAttachInfo=function(e){var n=new t.Vector(e.rightBottom.x-e.leftBottom.x,e.rightBottom.y-e.leftBottom.y),i=new t.Vector(e.leftTop.x-e.leftBottom.x,e.leftTop.y-e.leftBottom.y),o=new t.core.Point(0,0);if(this._position===t.AnnotationPosition.Center)o.x=(e.leftTop.x+e.rightBottom.x)/2,o.y=(e.leftTop.y+e.rightBottom.y)/2;else switch(this._placement===t.Placement.Auto&&(this._position===t.AnnotationPosition.Inside?this._placement=t.Placement.Bottom:this._placement=t.Placement.Top,this._position=t.AnnotationPosition.Outside),this._placement){case t.Placement.Bottom:switch(this.hAlign){case t.AnnotationAlign.Left:o=e.leftBottom.clone();break;case t.AnnotationAlign.Right:o=e.rightBottom.clone();break;case t.AnnotationAlign.Center:o.x=(e.leftBottom.x+e.rightBottom.x)/2,o.y=(e.leftBottom.y+e.rightBottom.y)/2}break;case t.Placement.Top:switch(this.hAlign){case t.AnnotationAlign.Left:o=e.leftTop.clone();break;case t.AnnotationAlign.Right:o=e.rightTop.clone();break;case t.AnnotationAlign.Center:o.x=(e.leftTop.x+e.rightTop.x)/2,o.y=(e.leftTop.y+e.rightTop.y)/2}break;case t.Placement.Left:switch(this.vAlign){case t.AnnotationAlign.Top:o=e.leftTop.clone();break;case t.AnnotationAlign.Bottom:o=e.leftBottom.clone();break;case t.AnnotationAlign.Middle:o.x=(e.leftTop.x+e.leftBottom.x)/2,o.y=(e.leftTop.y+e.leftBottom.y)/2}break;case t.Placement.Right:switch(this.vAlign){case t.AnnotationAlign.Top:o=e.rightTop.clone();break;case t.AnnotationAlign.Bottom:o=e.rightBottom.clone();break;case t.AnnotationAlign.Middle:o.x=(e.rightTop.x+e.rightBottom.x)/2,o.y=(e.rightTop.y+e.rightBottom.y)/2}}this._layoutWithPointAttachInfo(new t.PointAttachInfo(o,n,i,n,i))},n.prototype._createTransformInfo=function(){return new t._AnchoredTransformInfo},n.prototype.__transformInfo=function(){return e.prototype._transformInfo.call(this)},n.prototype._layoutWithPointAttachInfo=function(e){if(null!=e){var n=this.__transformInfo();n.connectionPoint=this._calcPos(e.point,e.xOffsetDir,e.yOffsetDir);var i=!1,o=t.Vector.angle(e.xDir,t.Vector.horizon());e.yDir.cross(e.xDir)<0&&(i=!0,o-=Math.PI),i&&(n.scale[0]*=-1),this.__parentRotate=o,null!=this.relativeRotate&&(o+=this.relativeRotate),n.rotation=null==this.rotate?o:this.rotate,n.width=this.width,n.height=this.height,this.matrix=new t.Matrix,this._layoutWithTransfromInfo(n)}},n.prototype._layoutWithTransfromInfo=function(e){var n=e.connectionPoint,i=e.junctionPoint;if(null!=n){var o=e.rotation-this.__parentRotate,r=new t.Matrix;if(r.rotate(o,new t.core.Point(e.width/2,e.height/2)),r.scale(e.scale[0],e.scale[1]),null==i){var l=this._junction(r),a=new t.Matrix;a.rotate(this.__parentRotate),e.junctionPoint=i=t._MatrixUtility._transformPoint(a,l)}this.matrix.reset(),this.matrix.translate(n.x-i.x,n.y-i.y),this.matrix.rotate(this.__parentRotate),this.matrix.transform(r)}},n.prototype._beforeRender=function(t,n){e.prototype._beforeRender.call(this,t,n),this._layoutWithTransfromInfo(this.__transformInfo())},n.prototype._renderAnnotation=function(t,e){null!=this.__transformInfo().connectionPoint&&t.drawRect(this.left,this.top,this._width(this.__transformInfo()),this._height(this.__transformInfo()),null,this.matrix)},n}(t._RectangleAnnotation);t._RectangleBoxRectangleAnnotation=e}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype._renderAnnotation=function(t,e){var n=this._transformInfo();if(null!=n.connectionPoint){t.beginTransform();var i=this._strokeWidth();t.drawEllipse(n.left+n.width/2,n.top+n.height/2,(n.width-i)/2,(n.height-i)/2,null,this.matrix),t.restoreTransform()}},e}(t._PositionRectangleAnnotation);t._PositionEllipseAnnotation=e}(t||(t={})),function(t){t._isAnnotation=function(t){var e=t;return null!=e&&void 0!==e.xOffset&&void 0!==e.yOffset&&"function"==typeof e._bind&&"function"==typeof e._layout&&"function"==typeof e._render&&"function"==typeof e._destruct}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"image",{get:function(){return this.__img},set:function(t){null!=t&&(this.__img=t)},enumerable:!0,configurable:!0}),n.prototype._strokeWidth=function(){return 0},n.prototype._layoutAnnotation=function(n,i,o){var r=this.__img;if(null!=r){var l=this._transformInfo(),a=t._NativeExtension._toNonNullNumber(r.width,0),s=t._NativeExtension._toNonNullNumber(r.height,0);if(a<=0||s<=0)return;var u=a/s;null!=this.imageWidth&&(l.width=this.imageWidth,null==this.imageHeight&&(l.height=this.imageWidth/u)),null!=this.imageHeight&&(l.height=this.imageHeight,null==this.imageWidth&&(l.width=this.imageHeight*u)),e.prototype._layoutAnnotation.call(this,n,i,o)}},n.prototype._renderAnnotation=function(t,e){if(null!=this.__img){var n=this._transformInfo();t.beginTransform(),t.drawImage(this.__img,n.left,n.top,n.width,n.height,null,this.matrix),t.restoreTransform()}},n}(t._PositionRectangleAnnotation);t._PositionImageAnnotation=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._transformInfo=function(){return this.transformInfo},n.prototype._clone=function(){var t=new n;return null!=this.transformInfo&&(t.transformInfo=this.transformInfo.clone()),t},n.prototype._bind=function(t){if(null!=t){var e=t._queryAttachmentAgent("line",this);if(null!=e)return this._bindAttachmentAgent(e),e}return null},n.prototype._beforeLayout=function(e,n){this.transformInfo=new t._LineTransformInfo},n.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._LineAttachmentAgent){var o=n.lineAttachmentInfo(this);if(null==o||o.start.equalsWith(o.end))return void(this.transformInfo=null);var r=this._transformInfo(),l=new t.Vector(o.end.x-o.start.x,o.end.y-o.start.y),a=l.reverse();r.start=this._calcPos(o.start,l,a),r.end=this._calcPos(o.end,l,a)}},n.prototype._renderAnnotation=function(t,e){var n=this._transformInfo();if(null!=n){var i=n.start,o=n.end;null!=i&&null!=o&&t.drawLine(i.x,i.y,o.x,o.y)}},n.prototype.box=function(){var e=this._transformInfo();if(null!=e&&null!=e.start&&null!=e.end){var n=Math.min(e.start.x,e.end.x),i=Math.min(e.start.y,e.end.y),o=Math.max(e.start.x,e.end.x)-n,r=Math.max(e.start.y,e.end.y)-i;return new t.core.Rect(n,i,o,r)}return null},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n}(t._Annotation);t._LineAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.endOffset=n,i}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return null==this.__width?10:this.__width},set:function(t){!isNaN(t)&&t>0&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endOffset",{get:function(){return this.__endOffset},set:function(t){this.__endOffset=t},enumerable:!0,configurable:!0}),n.prototype._Gauge1=function(e,n,i){var o=new t.Vector(n.x-e.x,n.y-e.y);if(i=null!=i&&0!=i?i:10,e.equalsWith(n))return null;var r=new t.Vector(o.y,-o.x),l=this.width,a=t._PathBuilder._defaultPathBuilder._buildPath(),s=t.Vector.endPoint(n,o.reverse(),i);a.moveto(s.x,s.y);var u=t.Vector.endPoint(e,r,l);a.lineto(u.x,u.y);var _=t.Vector.endPoint(u,o.reverse(),l),p=t.Vector.endPoint(e,o.reverse(),l);a.quadraticBezierCurve(_.x,_.y,p.x,p.y);var c=t.Vector.endPoint(e,r.reverse(),l);return a.smoothQuadraticBezierCurve(c.x,c.y),a.close(),a},n.prototype._renderAnnotation=function(e,n){var i=this._transformInfo();if(null!=i){var o=i.start,r=i.end;if(null!=o&&null!=r){var l=this._Gauge1(o,r,this.endOffset);null!=l&&e.drawPath(l,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}}},n.prototype.box=function(){var e=this._transformInfo();if(null!=e&&null!=e.start&&null!=e.end){var n=e.start,i=e.end,o=new t.Vector(i.x-n.x,i.y-n.y),r=null!=this.endOffset&&0!=this.endOffset?this.endOffset:10;if(n.equalsWith(i))return null;var l=new t.Vector(o.y,-o.x),a=this.width,s=[t.Vector.endPoint(i,o.reverse(),r),t.Vector.endPoint(n,l,a),t.Vector.endPoint(n,o.reverse(),a),t.Vector.endPoint(n,l.reverse(),a)],u=s.map((function(t){return t.x})),_=s.map((function(t){return t.y})),p=Math.min.apply(Math,u),c=Math.min.apply(Math,_),h=Math.max.apply(Math,u)-p,f=Math.max.apply(Math,_)-c;return new t.core.Rect(p,c,h,f)}return null},n}(t._LineAnnotation);t._LineGaugeAnnotation=e}(t||(t={})),function(t){var e=function(){function e(){this.start=null,this.end=null}return e.prototype.init=function(){this.start=null,this.end=null},e.prototype.assign=function(t){var e=t;null!=e.start&&(this.start=e.start.clone()),null!=e.end&&(this.end=e.end.clone())},e.prototype.lerp=function(t,e,n){var i=t,o=e;this.start=this._lerpPoint(i.start,o.start,n),this.end=this._lerpPoint(i.end,o.end,n)},e.prototype._lerpPoint=function(e,n,i){return new t.core.Point(t._LerpUtil.lerp(e.x,n.x,i),t._LerpUtil.lerp(e.y,n.y,i))},e.prototype.equalsWith=function(t){if(t instanceof e){if(null==this.start&&null==t.start&&null==this.end&&null==t.end)return!0;if(null==this.end&&null==t.end&&null!=this.start&&null!=t.start&&this.start.equalsWith(t.start))return!0;if(null==this.start&&null==t.start&&null!=this.end&&null!=t.end&&this.end.equalsWith(t.end))return!0;if(null!=this.start&&null!=t.start&&this.start.equalsWith(t.start)&&null!=this.end&&null!=t.end&&this.end.equalsWith(t.end))return!0}return!1},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e}();t._LineTransformInfo=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.__filltype=t.PathFillType.Nonzero,n.__lineCap=t.LineCap.Butt,n.__lineJoin=t.LineJoin.Miter,n}return i(n,e),n.prototype._containStroke=function(e){if(null!=this.matrix){var n=this.matrix.invert();e=t._MatrixUtility._transformPoint(n,e);for(var i=new t._PathUtil,o=this._annotationStyle().strokeWidth,r=0,l=this.__paths;r<l.length;r++){var a=l[r];if(null!=o&&o>0&&i.containStroke(a,o,e.x,e.y))return!0}return!1}return!1},Object.defineProperty(n.prototype,"paths",{set:function(t){Array.isArray(t)&&(this.__paths=t.slice())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"join",{get:function(){return this.__join},set:function(e){null!=e&&(this.__join=new t.core.Point(e.x,e.y))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this.__lineCap},set:function(t){this.__lineCap!=t&&(this.__lineCap=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this.__lineJoin},set:function(t){this.__lineJoin!=t&&(this.__lineJoin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillType",{get:function(){return this.__filltype},set:function(t){this.__filltype!=t&&(this.__filltype=t)},enumerable:!0,configurable:!0}),n.prototype._annotationStyle=function(){if(null==this.__pathsAnnotationStyle){var e=null!=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),e.scalingStroke=!1,this.__pathsAnnotationStyle=e}return this.__pathsAnnotationStyle},n.prototype._initTransform=function(t){var e=this._transformInfo();e.width=this.width,e.height=this.height;var n=this._getBoundingBoxOfPath(this.__paths);null!=n&&(n.width>0&&(e.scale[0]*=this.width/n.width),n.height>0&&(e.scale[1]*=this.height/n.height))},n.prototype._getBoundingBoxOfPath=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(r);n=null==n?l:t._DrawingUtility._unionOfRectangles(n,l)}return n},n.prototype._junction=function(e,n){if(null!=this.join)return t._MatrixUtility._transformPoint(n,this.join.clone());var i=this._getBoundingBoxOfPath(this.__paths);return null!=i?t._MatrixUtility._transformPoint(n,i.center):t._MatrixUtility._transformPoint(n,new t.core.Point(50,50))},n.prototype._strokeWidth=function(){return 0},n.prototype._renderAnnotation=function(t,e){var n=this;null!=this.__paths&&this.width>0&&this.height>0&&(t.beginTransform(),t.drawGroup(null,null,this.matrix,(function(t){for(var e=0,i=n.__paths;e<i.length;e++){var o=i[e];t.drawPath(o,n.fillType,n.lineCap,n.lineJoin)}})),t.restoreTransform())},n}(t._PositionRectangleAnnotation);t._PathsAnnotation=e}(t||(t={})),function(t){var e=function(){function e(){this.__epsilpn=1e-4,this.__curve=new t.Curve,this.__roots=[-1,-1,-1],this.__extrema=[-1,-1]}return e.prototype.contain=function(e,n,i){var o=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(e.expression);return this._containPath(o,0,!1,n,i)},e.prototype.containStroke=function(e,n,i,o){var r=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(e.expression);return this._containPath(r,n,!0,i,o)},e.prototype._containPath=function(e,n,i,o,r){for(var l=0,a=0,s=0,u=0,_=0,p=0;p<e.length;p++){var c=e[p];if(t._isMoveToPathCommand(c)&&p>0&&(i||(l+=this._windingLine(a,s,u,_,o,r))),0===p&&(u=a=this._getCommandEndPointXCoordinate(c),_=s=this._getCommandEndPointYCoordinate(c)),t._isMoveToPathCommand(c)){var h=c;a=u=h._x,s=_=h._y}else if(t._isLineToPathCommand(c)){var f=c;if(i){if(this._line(a,s,f._x,f._y,n,o,r))return!0}else{var d=this._windingLine(a,s,f._x,f._y,o,r);l+=isNaN(d)?0:d}a=f._x,s=f._y}else if(t._isCurveToPathCommand(c)){var y=c;if(i){if(this._cubic(a,s,y._cpx1,y._cpy1,y._cpx2,y._cpy2,y._x,y._y,n,o,r))return!0}else d=this._windingCubic(a,s,y._cpx1,y._cpy1,y._cpx2,y._cpy2,y._x,y._y,o,r),l+=isNaN(d)?0:d;a=y._x,s=y._y}else if(t._isQuadraticCurveToPathCommand(c)){var g=c;if(i){if(this._quadratic(a,s,g._cpx,g._cpy,g._x,g._y,n,o,r))return!0}else l+=this._windingQuadratic(a,s,g._cpx,g._cpy,g._x,g._y,o,r),l+=isNaN(l)?0:l;a=g._x,s=g._y}else if(t._isArcPathCommand(c)){var m=c,v=this._processArc(a,s,m._rx,m._ry,m._xAxisRotation,m._largeArcFlag,m._sweepFlag,m._ex,m._ey),w=v[0],b=v[1],S=v[2],P=v[3],C=v[4],x=v[5],V=1-v[7],D=Math.cos(C)*S+w,A=Math.sin(C)*P+b;p+1>1?l+=this._windingLine(a,s,D,A,o,r):(u=D,_=A);var O=(o-w)*P/S+w;if(i){if(this._arc(w,b,P,C,C+x,1==V,n,O,r))return!0}else l+=this._windingArc(w,b,P,C,C+x,1==V,O,r);a=Math.cos(C+x)*S+w,s=Math.sin(C+x)*P+b}else if(t._isClosePathCommand(c)){if(i){if(this._line(a,s,u,_,n,o,r))return!0}else l+=this._windingLine(a,s,u,_,o,r);a=u,s=_}}if(!i&&!this._isAroundEqual(s,_)){var L=this._windingLine(a,s,u,_,o,r);l+=isNaN(L)?0:L}return 0!==l},e.prototype._windingLine=function(t,e,n,i,o,r){if(r>e&&r>i||r<e&&r<i)return 0;if(i===e)return 0;var l=i<e?1:-1,a=(r-e)/(i-e);1!==a&&0!==a||(l=i<e?.5:-.5);var s=a*(n-t)+t;return s===o?1/0:s>o?l:0},e.prototype._normalizeRadian=function(e){return(e%=t._Utility._PI2)<0&&(e+=t._Utility._PI2),e},e.prototype._arc=function(e,n,i,o,r,l,a,s,u){if(0===a)return!1;var _=a;s-=e,u-=n;var p=Math.sqrt(s*s+u*u);if(p-_>i||p+_<i)return!1;if(Math.abs(o-r)%t._Utility._PI2<1e-4)return!0;if(l){var c=o;o=this._normalizeRadian(r),r=this._normalizeRadian(c)}else o=this._normalizeRadian(o),r=this._normalizeRadian(r);o>r&&(r+=t._Utility._PI2);var h=Math.atan2(u,s);return h<0&&(h+=t._Utility._PI2),h>=o&&h<=r||h+t._Utility._PI2>=o&&h+t._Utility._PI2<=r},e.prototype._quadratic=function(t,e,n,i,o,r,l,a,s){if(0===l)return!1;var u=l;return!(s>e+u&&s>i+u&&s>r+u||s<e-u&&s<i-u&&s<r-u||a>t+u&&a>n+u&&a>o+u||a<t-u&&a<n-u&&a<o-u)&&this.__curve.quadraticProjectPoint(t,e,n,i,o,r,a,s,null)<=u/2},e.prototype._cubic=function(t,e,n,i,o,r,l,a,s,u,_){if(0===s)return!1;var p=s;return!(_>e+p&&_>i+p&&_>r+p&&_>a+p||_<e-p&&_<i-p&&_<r-p&&_<a-p||u>t+p&&u>n+p&&u>o+p&&u>l+p||u<t-p&&u<n-p&&u<o-p&&u<l-p)&&this.__curve.cubicProjectPoint(t,e,n,i,o,r,l,a,u,_,null)<=p/2},e.prototype._line=function(t,e,n,i,o,r,l){if(0===o)return!1;var a=o,s=0;if(l>e+a&&l>i+a||l<e-a&&l<i-a||r>t+a&&r>n+a||r<t-a&&r<n-a)return!1;if(t===n)return Math.abs(r-t)<=a/2;var u=(s=(e-i)/(t-n))*r-l+(t*i-n*e)/(t-n);return u*u/(s*s+1)<=a/2*a/2},e.prototype._isAroundEqual=function(t,e){return Math.abs(t-e)<this.__epsilpn},e.prototype._swapExtrema=function(){var t=this.__extrema[0];this.__extrema[0]=this.__extrema[1],this.__extrema[1]=t},e.prototype._windingCubic=function(t,e,n,i,o,r,l,a,s,u){if(u>e&&u>i&&u>r&&u>a||u<e&&u<i&&u<r&&u<a)return 0;var _=this.__curve.cubicRootAt(e,i,r,a,u,this.__roots);if(0===_)return 0;for(var p=0,c=-1,h=0,f=0,d=0;d<_;d++){var y=this.__roots[d],g=0===y||1===y?.5:1;this.__curve.cubicAt(t,n,o,l,y)<s||(c<0&&(c=this.__curve.cubicExtrema(e,i,r,a,this.__extrema),this.__extrema[1]<this.__extrema[0]&&c>1&&this._swapExtrema(),h=this.__curve.cubicAt(e,i,r,a,this.__extrema[0]),c>1&&(f=this.__curve.cubicAt(e,i,r,a,this.__extrema[1]))),2===c?y<this.__extrema[0]?p+=h<e?g:-g:y<this.__extrema[1]?p+=f<h?g:-g:p+=a<f?g:-g:y<this.__extrema[0]?p+=h<e?g:-g:p+=a<h?g:-g)}return p},e.prototype._windingQuadratic=function(t,e,n,i,o,r,l,a){if(a>e&&a>i&&a>r||a<e&&a<i&&a<r)return 0;var s=this.__curve.quadraticRootAt(e,i,r,a,this.__roots);if(0===s)return 0;var u=this.__curve.quadraticExtremum(e,i,r);if(u>=0&&u<=1){for(var _=0,p=this.__curve.quadraticAt(e,i,r,u),c=0;c<s;c++){var h=0===this.__roots[c]||1===this.__roots[c]?.5:1;this.__curve.quadraticAt(t,n,o,this.__roots[c])<l||(this.__roots[c]<u?_+=p<e?h:-h:_+=r<p?h:-h)}return _}return h=0===this.__roots[0]||1===this.__roots[0]?.5:1,this.__curve.quadraticAt(t,n,o,this.__roots[0])<l?0:r<e?h:-h},e.prototype._windingArc=function(e,n,i,o,r,l,a,s){if((s-=n)>i||s<-i)return 0;var u=Math.sqrt(i*i-s*s);this.__roots[0]=-u,this.__roots[1]=u;var _=Math.abs(o-r);if(_<1e-4)return 0;if(_%t._Utility._PI2<1e-4){o=0,r=t._Utility._PI2;var p=l?1:-1;return a>=this.__roots[0]+e&&a<=this.__roots[1]+e?p:0}l?(o=this._normalizeRadian(r),r=this._normalizeRadian(o)):(o=this._normalizeRadian(o),r=this._normalizeRadian(r)),o>r&&(r+=t._Utility._PI2);for(var c=0,h=0;h<2;h++){var f=this.__roots[h];if(f+e>a){var d=Math.atan2(s,f);p=l?1:-1,d<0&&(d=t._Utility._PI2+d),(d>=o&&d<=r||d+t._Utility._PI2>=o&&d+t._Utility._PI2<=r)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),c+=p)}}return c},e.prototype._vMag=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e.prototype._vRatio=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(this._vMag(t)*this._vMag(e))},e.prototype._vAngle=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(this._vRatio(t,e))},e.prototype._processArc=function(t,e,n,i,o,r,l,a,s){var u=Math.PI,_=o*(u/180),p=Math.cos(_)*(t-a)/2+Math.sin(_)*(e-s)/2,c=-1*Math.sin(_)*(t-a)/2+Math.cos(_)*(e-s)/2,h=p*p/(n*n)+c*c/(i*i);h>1&&(n*=Math.sqrt(h),i*=Math.sqrt(h));var f=(r===l?-1:1)*Math.sqrt((n*n*(i*i)-n*n*(c*c)-i*i*(p*p))/(n*n*(c*c)+i*i*(p*p)));isNaN(f)&&(f=0);var d=f*n*c/i,y=f*-i*p/n,g=(t+a)/2+Math.cos(_)*d-Math.sin(_)*y,m=(e+s)/2+Math.sin(_)*d+Math.cos(_)*y,v=this._vAngle([1,0],[(p-d)/n,(c-y)/i]),w=[(p-d)/n,(c-y)/i],b=[(-1*p-d)/n,(-1*c-y)/i],S=this._vAngle(w,b);return this._vRatio(w,b)<=-1&&(S=u),this._vRatio(w,b)>=1&&(S=0),0===l&&S>0&&(S-=2*u),1===l&&S<0&&(S+=2*u),[g,m,n,i,v,S,_,l]},e.prototype._getCommandEndPointXCoordinate=function(e){return t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e._x:t._isArcPathCommand(e)?e._ex:0},e.prototype._getCommandEndPointYCoordinate=function(e){return t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e._y:t._isArcPathCommand(e)?e._ey:0},e}();t._PathUtil=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){e.prototype.init.call(this),this.symbolSize=null,this.text=null},n.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.symbolSize&&(this.symbolSize=n.symbolSize.clone()),this.text=n.text},n.prototype.lerp=function(n,i,o){e.prototype.lerp.call(this,n,i,o);var r=n,l=i;null!=r.symbolSize&&null!=l.symbolSize&&(this.symbolSize.width=t._LerpUtil.lerp(r.symbolSize.width,l.symbolSize.width,o),this.symbolSize.height=t._LerpUtil.lerp(r.symbolSize.height,l.symbolSize.height,o)),this.text=t._LerpUtil.lerpString(r.text,l.text,o)},n.prototype.equalsWith=function(t){if(t instanceof n){if(null==this.symbolSize&&null==t.symbolSize&&this.text==t.text)return e.prototype.equalsWith.call(this,t);if(null!=this.symbolSize&&null!=t.symbolSize&&this.symbolSize.equalsWith(t.symbolSize)&&this.text==t.text)return e.prototype.equalsWith.call(this,t)}return!1},n.prototype.clone=function(){var t=new n;return t.assign(this),t},n}(t._AnchoredTransformInfo);t._BoxTextSymbolTransformInfo=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){e.prototype.init.call(this),this.text=null,this._lerped=!1},n.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.text&&(this.text=n.text),this.text=n.text,this._lerped=n._lerped},n.prototype.lerp=function(n,i,o){var r=n,l=i;r.connectionPoint.equalsWith(l.connectionPoint)||(e.prototype.lerp.call(this,r,l,o),this._lerped=!0),this.text=t._LerpUtil.lerpString(r.text,l.text,o)},n.prototype.equalsWith=function(t){return t instanceof n&&this.text==t.text&&e.prototype.equalsWith.call(this,t)},n.prototype.clone=function(){var t=new n;return t.assign(this),t},n}(t._AnchoredTransformInfo);t._TextTransformInfo=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__maxWidth=Number.MAX_VALUE,i.__overflow=t,i.__textAlignment=n,i}return i(n,e),Object.defineProperty(n.prototype,"fixedWidth",{get:function(){return this.__fixedWidth},set:function(t){this.__fixedWidth=null!=t&&t>0?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){t>0&&(this.__maxWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.__text},set:function(t){null!=t&&(this.__text=t)},enumerable:!0,configurable:!0}),n.prototype._textOverflow=function(){return t._NativeExtension._toNonNullEnum(this.__overflow,t.TextOverflow.Wrap)},n.prototype._textAlignment=function(){return this._textOverflow()==t.TextOverflow.Clip?t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Left):t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Center)},n.prototype._createTransformInfo=function(){return new t._TextTransformInfo},n.prototype._layoutAnnotation=function(t,n,i){if(null!=this.__text&&""!==this.__text){var o=this._transformInfo();o.text=this.__text,this._measureText(t,o),e.prototype._layoutAnnotation.call(this,t,n,i)}},n.prototype._beforeRender=function(n,i){this._transformInfo()._lerped||(n.beginTransform(),t._StyleUtility._applyAllStyle(n,this._annotationStyle()),this._applyStyle(n),this._layoutAnnotationForUnlerpedTransform(n,this._attachmentAgent(),i),n.restoreTransform()),e.prototype._beforeRender.call(this,n,i)},n.prototype._layoutAnnotationForUnlerpedTransform=function(t,n,i){var o=this._transformInfo(),r=o.connectionPoint.clone();this._measureText(t,o),e.prototype._layoutAnnotation.call(this,t,n,i),o.connectionPoint.x=r.x,o.connectionPoint.y=r.y},n.prototype._renderAnnotation=function(n,i){var o=this,r=this._transformInfo();if(null!=r.text&&null!=r.connectionPoint){(!t._ColorUtility._isTransparent(n.fill)||null!=n.strokeWidth&&n.strokeWidth>0)&&e.prototype._renderAnnotation.call(this,n,i);var l=this._strokeWidth(),a=this._textOverflow(),s=r.height-2*l+.001,u=r.width-2*l+.001,_=n.measureMultiLineString(r.text,u,this._textOverflow()),p=r.top+l+Math.max((r.height-2*l-_.size.height)/2,0);if(u<=0||s<=0)return;n.drawGroup(null,null,this.matrix,(function(e){var n=null;(_.size.width>u||_.size.height>s)&&(n=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left+l,p,u,s)),e.drawGroup(null,n,null,(function(e){var n=new t.core.Rect(r.left+l,p,u,_.size.height);e.drawMultiLineString(r.text,n,a,o._textAlignment())}))}))}},n.prototype._measureText=function(t,e){var n,i=e,o=i.text,r=this._strokeWidth(),l=this._textOverflow();null==this.fixedWidth?(n=t.measureMultiLineString(o,this.maxWidth-r,l),i.width=Math.min(n.size.width+r,this.maxWidth)+r):(n=t.measureMultiLineString(o,this.fixedWidth-r,l),i.width=this.fixedWidth+r),i.height=n.size.height+2*r},n}(t._PositionRectangleAnnotation);t._PositionTextAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t,n,i,o)||this;return s._text=r,s.__textOverflow=l,s.__fixedWidth=a,s}return i(n,e),n.prototype._textOverflow=function(){var e=t.TextOverflow.Wrap;return null!=this.__textOverflow&&(e=this.__textOverflow),e},n.prototype._layoutAnnotation=function(t,n,i){if(this._text){var o=this._text,r=void 0,l=this._strokeWidth();null!=this.__fixedWidth?(r=t.measureMultiLineString(o,this.__fixedWidth-l,this._textOverflow()),this.height=r.size.height+l,this.width=this.__fixedWidth):(r=t.measureMultiLineString(o,Number.MAX_VALUE,this._textOverflow()),this.height=r.size.height+l,this.width=r.size.width+l),e.prototype._layoutAnnotation.call(this,t,n,i)}},n.prototype._renderAnnotation=function(n,i){var o=this;if(this._text&&this.__transformInfo().connectionPoint){var r=this._transformInfo();e.prototype._renderAnnotation.call(this,n,i),n.drawGroup(null,null,this.matrix,(function(e){var n=o.top+o._strokeWidth()/2+o._paddingTop(),i=o.left+o._strokeWidth()/2+o._paddingLeft(),l=new t.core.Rect(i,n,r.width-o._strokeWidth(),r.height-o._strokeWidth());e.drawMultiLineString(o._text,l,o._textOverflow(),t.HAlign.Center)}))}},n}(t._RectangleBoxRectangleAnnotation);t.RectangleBoxTextAnnotation=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a){var s=e.call(this,n,i,o,r)||this;return s.__maxWidth=Number.MAX_VALUE,s.__overflow=l,s.__textAlignment=a,s.__symbol=new t.TextAnnotationSymbol,s}return i(n,e),Object.defineProperty(n.prototype,"fixedWidth",{get:function(){return this.__fixedWidth},set:function(t){this.__fixedWidth=null!=t&&t>0?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){!isNaN(t)&&t>0&&(this.__maxWidth=t)},enumerable:!0,configurable:!0}),n.prototype._text=function(t){return null!=t&&(this.__text=t),this.__text},n.prototype._paddingLeft=function(){var t=0;if(null!=this._padding&&(t=this._padding.left),this.__symbol._available()){var e=this._transformInfo();null!=e.symbolSize?t+=e.symbolSize.width+n.__spaceBetweenSymbolAndText:t+=this.__symbol.size.width+n.__spaceBetweenSymbolAndText}return t},Object.defineProperty(n.prototype,"symbol",{get:function(){return this.__symbol.symbol},set:function(t){this.__symbol.symbol=t},enumerable:!0,configurable:!0}),n.prototype._textOverflow=function(){return t._NativeExtension._toNonNullEnum(this.__overflow,t.TextOverflow.Wrap)},n.prototype._textAlignment=function(){return this._textOverflow()===t.TextOverflow.Clip?t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Left):t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Center)},n.prototype._createTransformInfo=function(){return new t._BoxTextSymbolTransformInfo},n.prototype._layoutAnnotation=function(t,n,i){if(null!=this.__text&&""!==this.__text){var o=this.__text,r=void 0,l=0;if(this.__symbol._available()&&(l=this.__symbol.size.height),null!=this.fixedWidth){var a=this.fixedWidth,s=(r=t.measureMultiLineString(o,a-this._strokeWidth(),this._textOverflow())).size.height>l?r.size.height:l;this.height=s+this._strokeWidth(),this.width=a}else{var u=this.maxWidth;s=(r=t.measureMultiLineString(o,u-this._strokeWidth(),this._textOverflow())).size.height>l?r.size.height:l,this.height=s+this._strokeWidth(),this.width=Math.min(r.size.width+this._strokeWidth(),u)}var _=this._transformInfo();_.symbolSize=this.__symbol.size.clone(),_.text=this.__text,e.prototype._layoutAnnotation.call(this,t,n,i)}},n.prototype._afterRender=function(e,n){var i=this;if(null!=this.__transformInfo().connectionPoint){var o=n._textAnnotationSymbolRect;if(this.__symbol._available()&&null!=o){var r=t._StyleUtility._buildStyle(null,"#666666",null,"#666666",1);t._StyleUtility._applyOverlayStyleOption(r,this.symbol.style),e.drawGroup(null,null,this.matrix,(function(t){i.__symbol._render(t,o,r)}))}null!=o&&(n._textAnnotationSymbolRect=null)}},n.prototype._renderAnnotation=function(n,i){var o=this,r=this._transformInfo();if(null!=r.text&&null!=r.connectionPoint){var l=this._strokeWidth(),a=this._textOverflow(),s=this.top+l/2+this._paddingTop(),u=this.left+l/2+this._paddingLeft(),_=r.width-l+.001,p=r.height-l+.001,c=n.measureMultiLineString(r.text,_,a),h=s+Math.max((p-c.size.height)/2,0),f=new t.core.Rect(u,h,_,c.size.height);if(e.prototype._renderAnnotation.call(this,n,i),_<=0||p<=0)return;n.drawGroup(null,null,this.matrix,(function(e){var n=null;if((c.size.width>_||c.size.height>p)&&(n=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(u,s,_,p)),e.drawGroup(null,n,null,(function(t){t.drawMultiLineString(r.text,f,a,o._textAlignment())})),o.__symbol._available()){var l=s+(p-r.symbolSize.height)/2,h=0;null!=o._padding&&(h=o._padding.left);var d=new t.core.Rect(o.left+o._strokeWidth()/2+h,l,r.symbolSize.width,r.symbolSize.height);i._textAnnotationSymbolRect=d}}))}},n.__spaceBetweenSymbolAndText=5,n}(t._RectangleBoxRectangleAnnotation);t._RectangleBoxTextSymbolAnnotation=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__symbolList=["Triangle","Inverted Triangle"],this.__symbolSize=new t.core.Size(15,15),this.symbol=e}return e.prototype._available=function(){return this.__symbolList.indexOf(this.__symbol.shape)>=0},Object.defineProperty(e.prototype,"size",{get:function(){return this.__symbolSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbol",{get:function(){return this.__symbol},set:function(e){this.__symbol=null==e?new t.options._TextPlotTextSymbolOption(null):t.options._TextPlotTextSymbolOptionCloneMarker._textPlotTextSymbolOptionCloneMarker._cloneOf(e);var n=this.__symbol.width,i=this.__symbol.height;this.__symbolSize.width=this._validateNumber(n),this.__symbolSize.height=this._validateNumber(i)},enumerable:!0,configurable:!0}),e.prototype._validateNumber=function(t){return!isNaN(t)&&null!=t&&t>=0?t:15},e.prototype._render=function(e,n,i){var o=this;if(this._available())if("Inverted Triangle"===this.symbol.shape){var r=new t.Matrix;r.rotate(Math.PI,n.center),e.drawGroup(null,null,r,(function(t){o._renderSymbol(t,n,i)}))}else"Triangle"===this.symbol.shape&&this._renderSymbol(e,n,i)},e.prototype._renderSymbol=function(e,n,i){var o=[n.center.x,n.left,n.right],r=[n.top,n.bottom,n.bottom];e.beginTransform(),t._StyleUtility._applyStyle(e,i),e.drawPolygon(o,r),e.restoreTransform()},e}();t.TextAnnotationSymbol=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._annotationOverlayView=function(){return this._ownerView},n.prototype._annotation=function(){return this.__annotation},n.prototype._updateAnnotation=function(t){null!=t&&(this.__annotation=t)},n.prototype._parseExcelExpression=function(e){var n=t._ExcelSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e);if(null==i)return e;var o=this.identifierProxy(),r=n.evaluate(i,o,this._ownerView._getDefinition()._plotConfigOption.plugins,this._ownerView._getDefinition()._pluginCollection);return null!=r?r.toString():""},Object.defineProperty(n.prototype,"bindStateType",{get:function(){return this.__bindStateType},enumerable:!0,configurable:!0}),n._clone=function(t){var e=new n(t._annotationOverlayView(),t._id());return null!=t._annotation()&&e._updateAnnotation(t._annotation()._clone()),e},n.prototype._destruct=function(){null!=this.__annotation&&this.__annotation._destruct()},n.prototype._bindAttachmentManager=function(e,n){var i=!1;if(null!=this._annotation()&&null!=e){var o=this._annotation()._bind(new t.ProxyAttachmentAgentManager(e,this));null!=o&&(o._onAttached(this),i=!0,this.__bindStateType=n)}return i},n.prototype._runConditionalFormatRules=function(){(new t.models._OverlayItemConditionalFormattingRuleRunner)._apply(this),this._refresh()},n.prototype._isLayoutContextReady=function(){if(null==this._annotation())return!1;if(t._isPointView(this.___parentView)){var e=this.___parentView._data();if(t._isCartesianPointDataModel(e)&&e._isNullOrNaN)return!1;if(e._filtered||e._legendFiltered)return!1}return!0},n.prototype._customizeAnnotation=function(t){},n.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationOverlayView()._annotationStyle());if(t._StyleUtility._applyAllStyle(n,this.style),this._hover){var i=new t._CssColor("red");t._StyleUtility._applyFill(n,i),t._StyleUtility._applyStroke(n,i)}e._applyCustomStyle(n)},n.prototype._refresh=function(){this._customizeAnnotation(this.__annotation),this._customizeAnnotationStyle(this.__annotation)},n.prototype._beforeAnnotationLayout=function(){},n.prototype._layout=function(t,e){this._layoutContent(t,e)},n.prototype._layoutContent=function(e,n){this._isLayoutContextReady()?(this._beforeAnnotationLayout(),this.__annotation._layout(e,n)):this.__annotation instanceof t._RotatableAnnotation&&(this.__annotation.matrix=null)},n.prototype._isRenderContextReady=function(){return null!=this._annotation()},n.prototype._drawView=function(t,e){this._isRenderContextReady()&&this._annotation()._render(t,e)},n.prototype.queryInterface=function(t){if("IBoxBounded"===t&&null!=this._annotation()){var n=this._annotation().queryInterface(t);if(null!=n)return n}return e.prototype.queryInterface.call(this,t)},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;var o=this._annotation();if(null!=o&&o._containStroke(e)){var r=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem);return null==i||null!=i&&i.predicate(r)?r:null}return null},n}(t._BaseOverlayItemView);t._AnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__shader=new t._OverlayShader(o),o}return i(n,e),n.prototype._type=function(){return this._definition._getAnnotationOverlayOption().type},n.prototype._shouldApplyColorFromPalette=function(){return new t._AnnotationOverlayItemViewColorBuilder(this)._shouldApplyColorFromPalette()},n.prototype._initializeStyle=function(){this._shouldApplyColorFromPalette()&&this.__shader._applyPaletteColor()},n.prototype._layoutContent=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._layout(t,e);t.restoreTransform()},n.prototype._drawView=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._render(t,e);t.restoreTransform()},n.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._definition._defaultStyle());t._StyleUtility._applyFill(e,this.__shader._baseColor),t._StyleUtility._applyStroke(e,this.__shader._baseColor),t._StyleUtility._applyOverlayStyleOption(e,this._definition._getAnnotationOverlayOption().style),this.__annotationStyle=e}return this.__annotationStyle},n.prototype._getLegendGenerator=function(){return null!=this._definition._getAnnotationOverlayOption().label?(new t._AnnotationOverlayLegendItemGeneratorBuilder)._bulid(this):null},n.prototype._generateLegendItems=function(t){var e=this._getLegendGenerator();return null!=e?e._generate(t):null},n.prototype._getAnnotationOverlayDefinition=function(){return this._definition},n}(t._BaseOverlayView);t._BaseAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__itemViews=[],i.__groupViews=[],i}return i(n,e),n.prototype._groupViews=function(){return this.__groupViews},n.prototype._itemViews=function(){return this.__itemViews},n.prototype._getCartesianPlotView=function(){return this._ownerView},n.prototype.createOverlayItemViews=function(){this.__groupViews=this._createOverlayGroupViews()},n.prototype._createOverlayGroupViews=function(){var t=this,e=[];return this._getCartesianPlotView()._traverseCartesianGroupView((function(n){var i=t._createOverlayGroupView(n);null!=i&&e.push(i)})),e},n.prototype._createOverlayGroupView=function(e){return new t._CartesianOverlayGroupView(this,e)},n.prototype._layoutContent=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._layout(t,e);t.restoreTransform()},n.prototype._drawView=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._render(t,e);t.restoreTransform()},n.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=this._itemViews(),o=i.length-1;o>=0;--o){var r=i[o]._hitTest(t,e,n);if(null!=r)return r}return null},n}(t._BaseOverlayView);t._CartesianOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isPlotInRadialCoordinateSystem=function(e){return e._axisMode()==t.AxisMode.Polygonal||e._axisMode()==t.AxisMode.Radial},e._parsePointPath=function(e,n){var i=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(n);return null!=i?new t.PointViewPointPathBuilder(i)._build(e._getPointViews()):null},e._parseCoordinateValue=function(e){var n=t._CoordinateValueExpressionBuilder._defaultBuilder._build(e);return null!=n?new t._CoordinateValueBuilder(n)._build():null},e._parseTextBoundValues=function(e,n){if(e instanceof t._CartesianPointView){var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=e._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,l=new t.models._CartesianDataLabelTextProxy(e,r,e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._stringFormatting()),a=e._getPlotView()._getDefinition()._plotConfigOption.plugins,s=e._getPlotView()._getDefinition()._pluginCollection,u=i.evaluate(o,l,a,s),_=e._toLines(u);if(null!=_)return _.join("\n")}return n},e._xReversed=function(t){return t._xAxisView()._scaleModel._getReversed()},e._yReversed=function(t){return t._yAxisView()._scaleModel._getReversed()},e._getXYDirection=function(n,i){var o=t.Vector.horizon(),r=t.Vector.vertical();if(e._isPlotInRadialCoordinateSystem(n._getCartesianPlotView())&&(null==i&&(i=0),o=new t.Vector(Math.cos(i),Math.sin(i)),r=new t.Vector(Math.cos(i+Math.PI/2),Math.sin(i+Math.PI/2))),n._swapAxes()){var l=o;o=r,r=l}return o=e._xReversed(n)?o.reverse():o,r=e._yReversed(n)?r.reverse():r,new t._XYDirection(o,r)},e._isPointViewPositive=function(t){return t._isPositive()},e._PointAutoDirectionBuilder=function(n){var i=null,o=null,r=n._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();if(e._isPlotInRadialCoordinateSystem(r)){if(n instanceof t._RadialBarCartesianPointView){var l=n._getStartAngle()+n._getSweep()/2;o=new t.Vector(Math.cos(l),Math.sin(l)),i=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2))}}else{var a=e._getXYDirection(n._getCartesianSeriesView()._getCartesianGroupView());i=a.xDir,o=a.yDir,e._isPointViewPositive(n)||(o=o.reverse()),o.cross(i)<0&&(i=i.reverse())}return new t._XYDirection(i,o)},e._getRotateRectangleFromRectAndDir=function(e,n,i){if(null!=i){var o=new t._RectangleAttachInfo,r=[new t.Vector(i.left,i.top),new t.Vector(i.right,i.top),new t.Vector(i.left,i.bottom),new t.Vector(i.right,i.bottom)];return r.sort((function(t,e){return e.dot(n)-t.dot(n)})),r[0].dot(e)>r[1].dot(e)?(o.rightTop=new t.core.Point(r[0].x,r[0].y),o.leftTop=new t.core.Point(r[1].x,r[1].y)):(o.rightTop=new t.core.Point(r[1].x,r[1].y),o.leftTop=new t.core.Point(r[0].x,r[0].y)),r[2].dot(e)>r[3].dot(e)?(o.rightBottom=new t.core.Point(r[2].x,r[2].y),o.leftBottom=new t.core.Point(r[3].x,r[3].y)):(o.rightBottom=new t.core.Point(r[3].x,r[3].y),o.leftBottom=new t.core.Point(r[2].x,r[2].y)),o}return null},e.getRectangleAttachmentPoints=function(e){return[new t.core.Point((e.leftBottom.x+e.rightBottom.x)/2,(e.leftBottom.y+e.rightBottom.y)/2),new t.core.Point((e.leftBottom.x+e.leftTop.x)/2,(e.leftBottom.y+e.leftTop.y)/2),new t.core.Point((e.leftTop.x+e.rightTop.x)/2,(e.leftTop.y+e.rightTop.y)/2),new t.core.Point((e.rightTop.x+e.rightBottom.x)/2,(e.rightTop.y+ +e.rightBottom.y)/2)]},e.getRadialOriginAngle=function(t){if(e._isPlotInRadialCoordinateSystem(t._getCartesianPlotView())){var n=t._horizontalAxisView();if(null!=n._getOriginAngle())return n._getOriginAngle();var i=t._verticalAxisView(),o=t._swapAxes()?i:n,r=t._isPercentage()||t._isStack()||null==o._getDefinition()._option.origin?0:o._getDefinition()._option.origin;return i._scaleModel._value(r)}return null},e}();t.AnnotationLib=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=!1),this.__pointViews=t,this.__valueField=e,this.__seriesView=n,this.isLower=i}return t.prototype._pointViews=function(){return this.__pointViews},t.prototype._detailKey=function(){return t._getDetailKey(this._seriesView())},t.prototype._seriesView=function(){return this.__seriesView},t.prototype._valueField=function(){return this.__valueField},t._getDetailKey=function(t){return null!=t?t._getCartesianSeriesDataModel()._detail():null},t}();t._CartesianOverlayDataSlice=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._slice=function(e,n,i){var o=e._getCartesianGroupDataModel()._valueDefinition(),r=[];if(n==t.DetailLevel.Group)for(var l=0,a=e._getCartesianSeriesViews();l<a.length;l++){var s=a[l];r.push.apply(r,this._sliceValues(s._filterPointViews(),s,o,i))}else{for(var u=[],_=0,p=e._getCartesianSeriesViews();_<p.length;_++)s=p[_],u.push.apply(u,s._filterPointViews());r.push.apply(r,this._sliceValues(u,null,o,i))}return r},e.prototype._sliceValues=function(e,n,i,o){var r=[];return o&&null!=i.queryInterface("IRangeValueDimensionDefinition")?(r.push(new t._CartesianOverlayDataSlice(e,"upper",n,!1)),r.push(new t._CartesianOverlayDataSlice(e,"lower",n,!0))):r.push(new t._CartesianOverlayDataSlice(e,i._identifier,n,!1)),r},e}();t._CartesianOverlayDataSlicer=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__groupView=n,i}return i(n,e),n.prototype._overlayView=function(){return this._ownerView},n.prototype._groupView=function(){return this.__groupView},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){},Object.defineProperty(n.prototype,"parent",{get:function(){return this._overlayView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.OverlayItem},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return null},n}(t._BaseView);t._CartesianOverlayGroupView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,i)||this;return o.__overlayGroupView=n,o}return i(e,t),e.prototype._xs=function(){return this.___xs},e.prototype._ys=function(){return this.___ys},e.prototype._layout=function(t,e){this._layoutContent(t,e)},e.prototype._overlayGroupView=function(){return this.__overlayGroupView},e.prototype._cartesianOverlayView=function(){return this._ownerView},e}(t._BaseOverlayItemView);t._CartesianOverlayItemView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.isRangeValueField=function(t,e){for(var n=0,i=e._getCartesianPlotDefinition()._valueDefinitions();n<i.length;n++){var o=i[n];if(o._identifier==t)return null!=o.queryInterface("IRangeValueDimensionDefinition")}return!1},e.getXPos=function(e){return e instanceof t._CartesianPointView?e._xPos():null},e.getX=function(t){return t._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getXValue(t._data())},e.getY=function(t){return t._data().queryInterface("INumberValue")},e.getStackYValue=function(e){return t._isCartesianPointDataModel(e)?e.queryInterface("INumberStackValue"):null},e.getRangeYValue=function(e){return e instanceof t._CartesianPointView?e._data().queryInterface("INumberRangeValue"):null},e.getCartesianSeriesStyle=function(e){return e instanceof t._CartesianSeriesView?e._getCartesianSeriesDataModel()._seriesStyle():null},e.isCartesianSeiresHasDetailDimension=function(e){return e instanceof t._CartesianSeriesView&&null!=e._getCartesianSeriesDataModel()._detailDimension()},e}(),e._CartesianSupport=n}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__itemViews=[],i.__groupViews=[],i}return i(n,e),n.prototype.useData=function(){for(var t=0,e=this._itemViews();t<e.length;t++){var n=e[t];n.initialize(),n._runConditionalFormatRules()}},n.prototype._groupViews=function(){return this.__groupViews},n.prototype._itemViews=function(){return this.__itemViews},n.prototype.createOverlayItemViews=function(){this.__groupViews=this._createCartesianOverlayGroupViews()},n.prototype._createCartesianOverlayGroupViews=function(){var t=this,e=[];return this._getCartesianPlotView()._traverseCartesianGroupView((function(n){var i=t._createOverlayGroupView(n);null!=i&&e.push(i)})),e},n.prototype._createOverlayGroupView=function(e){return new t._CartesianOverlayGroupView(this,e)},n.prototype._getCartesianPlotView=function(){return this._ownerView},n.prototype.box=function(){for(var e=[],n=0,i=this._itemViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._DrawingUtility._unionOfRectangles.apply(t._DrawingUtility,e):null},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n.prototype.buildRangePolicy=function(){return new t._CartesianAnnotationOverlayRangePolicy(this)},n}(t._BaseAnnotationOverlayView);t._CartesianAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(){function t(t){this.__view=t}return t.prototype._shouldApplyColorFromPalette=function(){if(null==this.__view)return!1;var t=this.__view._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),e=t.type;return"Line"===e?null==t.style||null==t.style.stroke:"Text"!==e&&"Image"!==e&&(null==t.style||null==t.style.fill||null==t.style.stroke)},t}();t._AnnotationOverlayItemViewColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,o)||this;r.__overlayGroupView=i,r._updateAnnotation(r._createAnnotation());var l=t.AnnotationLib._parseCoordinateValue(r._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().offset);return null!=r._annotation()&&null!=l&&(r._annotation().xOffset=l.x,r._annotation().yOffset=l.y),r}return i(n,e),n.prototype._cartesianAnnotationOverlayView=function(){return e.prototype._annotationOverlayView.call(this)},n.prototype._xs=function(){return null},n.prototype._ys=function(){return null},n.prototype._overlayGroupView=function(){return this.__overlayGroupView},n.prototype._cartesianOverlayView=function(){return this._ownerView},n}(t._AnnotationOverlayItemView);t._CartesianAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(){for(var e=new t._OverlayRange,n=0,i=this.__overlayView._itemViews();n<i.length;n++){var o=i[n];if(t._isCartesianOverlayItemView(o)){var r=o;if(null!=r._xs()&&null!=r._ys()){for(var l=0,a=r._xs();l<a.length;l++){var s=a[l];if(!isNaN(s))if(null==e.minX)e.minX=s,e.maxX=s;else{var u=null==e.maxX?0:e.maxX,_=null==e.minX?0:e.minX;s>u?e.maxX=s:s<_&&(e.minX=s)}}for(var p=0,c=r._ys();p<c.length;p++){var h=c[p];if(!isNaN(h))if(null==e.minY)e.minY=h,e.maxY=h;else{var f=null==e.maxY?0:e.maxY,d=null==e.minY?0:e.minY;h>f?e.maxY=h:h<d&&(e.minY=h)}}}}}return e},e}();t._CartesianAnnotationOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(t,e){this.xDir=t,this.yDir=e};t._XYDirection=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianCoordinateAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var n=0,i=this._groupViews();n<i.length;n++){var o=i[n],r=t.AnnotationLib._parseCoordinateValue(this._definition._getAnnotationOverlayOption().pointPath);if(null!=r){var l=this._createOverlayItemView(r,o,this._id()+this._itemViews().length);this._itemViews().push(l)}break}},n}(t._CartesianAnnotationOverlayView);t._CartesianCoordinateAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._textAnnotationOverlayDefinition=function(){return this._definition},n.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianCoordinateTextAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},n.prototype._layoutContent=function(e,n){e.beginTransform();for(var i=0,o=this._itemViews();i<o.length;i++){var r=o[i];r instanceof t._CartesianCoordinatePointTextAnnotationOverlayItemView&&r._layout(e,n)}e.restoreTransform()},n}(t._CartesianCoordinateAnnotationOverlayView);t._CartesianCoordinateTextAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianPointAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o)){var r=o,l=this._getOverlayGroupView(r);this._createOverlayItemView(r,l,o._id()+this._id())}}},n.prototype._getOverlayGroupView=function(t){for(var e=0,n=this._groupViews();e<n.length;e++){var i=n[e];if(i._groupView()==t._getCartesianSeriesView()._getCartesianGroupView())return i}return null},n.prototype._isChild=function(t){return t._getOverlayView()===this?t:null},n.prototype._itemViews=function(){for(var e=[],n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o))for(var r=0,l=o._overlayItemViews();r<l.length;r++){var a=l[r],s=this._isChild(a);null!=s&&e.push(s)}}return e},n.prototype._pointViews=function(){var e=t.AnnotationLib._parsePointPath(this._ownerView,this._definition._getAnnotationOverlayOption().pointPath);return null==e&&(e=[]),e},n}(t._CartesianAnnotationOverlayView);t._CartesianPointAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._textAnnotationOverlayDefinition=function(){return this._definition},n.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianPointTextAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},n.prototype._layoutContent=function(e,n){e.beginTransform();for(var i=0,o=this._itemViews();i<o.length;i++){var r=o[i];r instanceof t._CartesianCoordinatePointTextAnnotationOverlayItemView&&r._layout(e,n)}e.restoreTransform()},n}(t._CartesianPointAnnotationOverlayView);t._CartesianPointTextAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._coordinateValue=function(){if(null!=this.__coordinateValue){var e=this.__coordinateValue._clone(),n=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("coordinateValue.x",e.x,!0)),i=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("coordinateValue.y",e.y,!0));return null!=n&&null!=i&&(e.x=n,e.y=i),e}return null},n.prototype._xs=function(){var t=this._coordinateValue();return null!=t?[t.x]:null},n.prototype._ys=function(){var t=this._coordinateValue();return null!=t?[t.y]:null},n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPlotCoordinatePointAttachmentAgent(this._overlayGroupView()._groupView()))},n.prototype._bindPointView=function(t){if(null!=t){var e=t._getAttachmentAgentManager();this._bindAttachmentManager(e,"View")&&(this.___parentView=t)}},n.prototype._bindCoordinateValue=function(t){if(null!=t){this.__coordinateValue=t;var e=this._getAttachmentAgentManager();this._bindAttachmentManager(e,"Point.Coordinate")}},n.prototype._cartesianAnnotationOverlayView=function(){return e.prototype._annotationOverlayView.call(this)},n.prototype.queryInterface=function(t){return"ICoordinateValues"===t&&"Point.Coordinate"===this.bindStateType?this._coordinateValue():e.prototype.queryInterface.call(this,t)},n}(t._CartesianAnnotationOverlayItemView);t._CartesianCoordinatePointAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,n);return null!=i&&i._bindCoordinateValue(t),i},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Rectangle"===o?new t._CartesianCoordinatePointRectangleAnnotationOverlayItemView(e,n,i):"Ellipse"===o?new t._CartesianCoordinatePointEllipseAnnotationOverlayItemView(e,n,i):"Image"===o?new t._CartesianCoordinatePointImageAnnotationOverlayItemView(e,n,i):"Path"===o?new t._CartesianCoordinatePointPathAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianCoordinateAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,n);return null!=i&&i._bindPointView(t),i},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Rectangle"===o?new t._CartesianCoordinatePointRectangleAnnotationOverlayItemView(e,n,i):"Ellipse"===o?new t._CartesianCoordinatePointEllipseAnnotationOverlayItemView(e,n,i):"Image"===o?new t._CartesianCoordinatePointImageAnnotationOverlayItemView(e,n,i):"Path"===o?new t._CartesianCoordinatePointPathAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianPointAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"height",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumber(this._innerProperty("height",e.height))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumber(this._innerProperty("width",e.width))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!0,configurable:!0}),n.prototype._createAnnotation=function(){var e=new t._PositionEllipseAnnotation;return e.position=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},n.prototype._customizeAnnotation=function(t){var e=t;e.width=this.width,e.height=this.height,e.rotate=this.angle},n}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointEllipseAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._setInnerHeight=function(t){this.__height=t},n.prototype._setInnerWidth=function(t){this.__width=t},Object.defineProperty(n.prototype,"source",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toString(this._innerProperty("source",e.source))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("height",e.height))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("width",e.width))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!0,configurable:!0}),n.prototype._positionImageAnnotation=function(){return e.prototype._annotation.call(this)},n.prototype._createAnnotation=function(){var e=new t._PositionImageAnnotation;return e.position=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},n.prototype._customizeAnnotation=function(t){t.rotate=this.angle,this._positionImageAnnotation().image=this._ownerView._plotView()._getDefinition()._imageProvider.getImageInfo(this.source)},n.prototype._beforeAnnotationLayout=function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();this.__width=e.width,this.__height=e.height,t._PointViewImageOverlayLayouter._layout(this);var n=this._annotation();n.imageWidth=this.__width,n.imageHeight=this.__height},n}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointImageAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._layout=function(e){var n=e._cartesianAnnotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),i=e.parent;if(i instanceof t._XyBarCartesianPointView)null==e.width&&(i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()||0!=(o=i._rectangle().width)&&e._setInnerWidth(o)),null==e.height&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&0!=(o=i._rectangle().height)&&e._setInnerHeight(o);else if(i instanceof t._FunnelCartesianPointView)null==e.width&&(i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()||e._setInnerWidth(i._getFunnelPolygon().topWidth())),null==e.height&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&e._setInnerHeight(i._getFunnelPolygon().topWidth());else if(i instanceof t._SymbolCartesianPointView){var o,r=!0;t.AnnotationLib._isPlotInRadialCoordinateSystem(i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView())||(n.placement===t.Placement.Auto&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&(r=!1),n.placement!==t.Placement.Left&&n.placement!==t.Placement.Right||(r=!1)),null==e.width&&r&&0!=(o=i._rectangle().width)&&e._setInnerWidth(o),null==e.height&&(r||0!=(o=i._rectangle().height)&&e._setInnerHeight(o))}},e}();t._PointViewImageOverlayLayouter=e}(t||(t={})),function(t){var e=function(t,e,n){this.name=t,this.path=e,this.join=n},n=function(n){function o(i,o,r){var l=n.call(this,i,o,r)||this;l.__path=[],l.__baseShape={Balloon:new e("Balloon",t._OverlayConstants.PathBalloon2,new t.core.Point(50,100)),Triangle:new e("Triangle",t._OverlayConstants.PathTriangle,new t.core.Point(50,100)),Needle:new e("Needle",t._OverlayConstants.PathGauge,new t.core.Point(50,0))};var a=l._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return l.angle=a.angle,l.width=a.width,l.height=a.height,l._parseOption(),l._initAnnotation(),l}return i(o,n),Object.defineProperty(o.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),o.prototype._path=function(){return this.__path},o.prototype._join=function(){return this.__join},o.prototype._pathsAnnotation=function(){return n.prototype._annotation.call(this)},o.prototype._createAnnotation=function(){var e=new t._PathsAnnotation;return e.position=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},o.prototype._initAnnotation=function(){var t=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),e=this._pathsAnnotation();e.join=this._join(),e.paths=this._path(),e.fillType=t.fillType,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin},o.prototype._parseOption=function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),n=e.path;if(null!=n){var i=this.__baseShape,o=e.join;if(null!=o&&""!=o){var r=t.AnnotationLib._parseCoordinateValue(o);null!=r&&(this.__join=new t.core.Point(r.x,r.y))}for(var l=0,a=n;l<a.length;l++){var s=a[l];if(t._Util.hasKey(i,s)){var u=i[s],_=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(u.path);this.__path.push(_),null==this.__join&&(this.__join=u.join.clone())}else _=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(s),this.__path.push(_)}}},o.prototype._customizeAnnotation=function(t){var e=t;e.rotate=this.angle,e.width=this.width,e.height=this.height},o}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointPathAnnotationOverlayItemView=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"height",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumber(this._innerProperty("height",e.height))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumber(this._innerProperty("width",e.width))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){var e=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!0,configurable:!0}),n.prototype._createAnnotation=function(){var e=new t._PositionRectangleAnnotation;return e.position=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},n.prototype._customizeAnnotation=function(t){var e=t;e.width=this.width,e.height=this.height,e.rotate=this.angle},n}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointRectangleAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,i)||this;return r.__group=[],r.__groupName=o,r}return i(n,e),Object.defineProperty(n.prototype,"text",{get:function(){return t._AnyTypeUtility._toString(this._innerProperty("text",this.option112().text))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!0,configurable:!0}),n.prototype._group=function(){return this.__group},n.prototype._groupName=function(){return this.__groupName},n.prototype._attach=function(t){null!=t&&-1==this.__group.indexOf(t)&&this.__group.push(t)},n.prototype._hostAttachmentManager=function(){return new t.AttachmentAgentManager(new t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent(this))},n.prototype.option112=function(){return this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},n.prototype._positionTextAnnotation=function(){return e.prototype._annotation.call(this)},n.prototype._createAnnotation=function(){var e=new t._PositionTextAnnotation(this.option112().textStyle.overflow,this.option112().textStyle.alignment);return e.position=this.option112().position,e.placement=this.option112().placement,e.rotate=this.option112().angle,e.fixedWidth=this.option112().width,e},n.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._StyleUtility._applyOverlayStyleOption(this.__annotationStyle,this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().style)),this.__annotationStyle},n.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._StyleUtility._applyTextStyleOption(n,this.option112().textStyle),t._StyleUtility._applyAllStyle(n,this.style),t._StyleUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},n.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n.text=this._parseExcelExpression(i):n.text=t.AnnotationLib._parseTextBoundValues(this.parent,i)},n.prototype._beforeAnnotationLayout=function(){this._positionTextAnnotation().maxWidth=this._cartesianAnnotationOverlayView()._plotView()._rectangle().width},n.prototype._layoutContent=function(t,n){e.prototype._layoutContent.call(this,t,n),this._layoutGroup(t,n)},n.prototype._layoutGroup=function(e,n){for(var i=0,o=this.__group;i<o.length;i++)o[i]._layout(e,n);var r=this._positionTextAnnotation()._toShape();if(null!=r){var l=t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent._calcOutterBox(r,this.__group),a=l.center,s=t._PositionRectangleAnnotation._createTemplateFrom(this._positionTextAnnotation());s.width=l.size.width,s.height=l.size.height,s._layout(e,n);var u,_,p=s._toShape(),c=new t.Vector(Math.cos(r.angle),Math.sin(r.angle)),h=t.Vector.pointSub(a,p.center),f=t.Vector.endPoint(a,c,h.dot(c));if(u=f.x-a.x,_=f.y-a.y,0!=u||0!=_){this._positionTextAnnotation()._transformInfo().translate(u,_);for(var d=0,y=this.__group;d<y.length;d++)y[d]._rectangleBoxTextSymbolAnnotation().__transformInfo().translate(u,_)}}},n}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointTextAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__host=t,n.__group=t._group().slice(),n}return i(n,e),n.prototype._type=function(){return"rectangle"},n.prototype._outter=function(){return n._calcOutterBox(this._inner(),this.__group)},n.prototype._inner=function(){return this.__host._positionTextAnnotation()._toShape()},n.prototype.rectAttachmentInfo=function(e){if(null!=e){var n=this._queryInterface(e,"IInnerAndOutterRotateRectLayouter");if(null!=n){var i=this._inner();if(null!=i){var o=n.layoutWithInnerAndOutterRotateRect(i,this._outter()),r=new t._RectangleAttachInfo;return r.leftTop=o.leftTop,r.leftBottom=o.leftBottom,r.rightTop=o.rightTop,r.rightBottom=o.rightBottom,r}}}return null},n.prototype._onAttached=function(e){e instanceof t._CartesianCoordinatePointTextAttachedAnnotationOverlayItemView&&this.__host._attach(e)},n._calcOutterBox=function(e,n){if(0==n.length)return e;var i=-e.angle,o=new t.Matrix;o.rotate(i);for(var r=[e.leftTop.x,e.rightTop.x,e.leftBottom.x,e.rightBottom.x],l=[e.leftTop.y,e.rightTop.y,e.leftBottom.y,e.rightBottom.y],a=0,s=n;a<s.length;a++){var u=s[a].queryInterface("IVertexes");null!=u&&(r.push.apply(r,u._xs()),l.push.apply(l,u._ys()))}var _=t._MatrixUtility._transformCurve(o,r,l);r=_.xs,l=_.ys;var p=Math.min.apply(Math,r),c=Math.min.apply(Math,l),h=Math.max.apply(Math,r)-p,f=Math.max.apply(Math,l)-c,d=new t.core.Point(p+h/2,c+f/2);return o.reset(),o.rotate(-i),d=t._MatrixUtility._transformPoint(o,d),new t._RectangleShape(d.x,d.y,h,f,e.angle)},n}(t._RectAttachmentAgent);t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,i)||this;return r.__hostItemView=o,r}return i(n,e),Object.defineProperty(n.prototype,"symbol",{get:function(){return this._rectangleBoxTextSymbolAnnotation().symbol},set:function(t){this._rectangleBoxTextSymbolAnnotation().symbol=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return t._AnyTypeUtility._toString(this._innerProperty("text",this._option().text))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!0,configurable:!0}),n.prototype._rectangleBoxTextSymbolAnnotation=function(){return e.prototype._annotation.call(this)},n.prototype._option=function(){return e.prototype._annotationOverlayView.call(this)._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},n.prototype._bindToHost=function(){if(null!=this.__hostItemView){var t=this.__hostItemView._hostAttachmentManager(),e=this._bindAttachmentManager(t,"Host");return e&&(this.___parentView=this.__hostItemView._parentView()),e}return!1},n.prototype._bindCoordinateValue=function(t){this._bindToHost()},n.prototype._bindPointView=function(t){this._bindToHost()&&t._overlayItemViews().push(this)},n.prototype._createAnnotation=function(){var e=new t._RectangleBoxTextSymbolAnnotation(null,null,this._option().position,this._option().placement,this._option().textStyle.overflow,this._option().textStyle.alignment);return e.rotate=this._option().angle,e.symbol=this._option().symbol,e.fixedWidth=this._option().width,e},n.prototype.initialize=function(){e.prototype.initialize.call(this),this._rectangleBoxTextSymbolAnnotation().symbol=this._option().symbol},n.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n._text(this._parseExcelExpression(i)):n._text(t.AnnotationLib._parseTextBoundValues(this.parent,i))},n.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=this._annotation();if(null!=this._proxy()){var i=this._proxy().get("symbol",!0);null!=i&&(null==i.value?n.symbol=null:t._Util.deepAssign(n.symbol,i.value))}},n.prototype._beforeAnnotationLayout=function(){this._rectangleBoxTextSymbolAnnotation().maxWidth=this._ownerView._plotView()._rectangle().width},n.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._StyleUtility._applyOverlayStyleOption(this.__annotationStyle,this._option().style)),this.__annotationStyle},n.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._StyleUtility._applyAllStyle(n,this.style),t._StyleUtility._applyTextStyleOption(n,this._option().textStyle),t._StyleUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},n.prototype.layoutWithInnerAndOutterRotateRect=function(t,e){var n=this._option();return this._layoutLogic(n.hAlign,n.vAlign,n.groupAlign,n.placement,t,e)},n.prototype._layoutLogic=function(e,n,i,o,r,l){var a=this._annotation();if(null!=i)return a.hAlign=t._NativeExtension._toNonNullEnum(i,e),l.clone();var s=r.center,u=l.center,_=r.size,p=l.size,c=t.Vector.pointSub(s,u);switch(a.hAlign=e,a.vAlign=n,o){case t.Placement.Top:case t.Placement.Auto:case t.Placement.Bottom:_.height=p.height;var h=t.Vector.pointSub(r.leftTop,r.leftBottom).standard();s=t.Vector.endPoint(s,h,c.dot(h));break;case t.Placement.Left:case t.Placement.Right:_.width=p.width;var f=t.Vector.pointSub(r.leftTop,r.rightTop).standard();s=t.Vector.endPoint(s,f,c.dot(f))}return new t._RectangleShape(s.x,s.y,_.width,_.height,r.angle)},n.prototype.queryInterface=function(t){if("IInnerAndOutterRotateRectLayouter"===t)return this;var n=this._annotation().queryInterface(t);return null!=n?n:e.prototype.queryInterface.call(this,t)},n}(t._CartesianCoordinatePointAnnotationOverlayItemView);t._CartesianCoordinatePointTextAttachedAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._findHostBy=function(e,n,i){for(var o=0,r=e._overlayViews();o<r.length;o++){var l=r[o];if(l instanceof t._CartesianCoordinateTextAnnotationOverlayView&&l._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName===i)for(var a=0,s=l._itemViews();a<s.length;a++){var u=s[a];if(u instanceof t._CartesianCoordinatePointTextAnnotationOverlayItemView&&n._equalsWith(u._coordinateValue()))return u}}return null},e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,t,n);return null!=i&&i._bindCoordinateValue(t),i},e.prototype._createItemViewBy=function(e,n,i,o){var r=e._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName;if(null!=r){var l=this._findHostBy(e._plotView(),i,r);if(null!=l)return new t._CartesianCoordinatePointTextAttachedAnnotationOverlayItemView(e,n,o,l)}return new t._CartesianCoordinatePointTextAnnotationOverlayItemView(e,n,o,r)},e}();t._CartesianCoordinateTextAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,t,n);return null!=i&&i._bindPointView(t),i},e.prototype._findHostBy=function(e,n){for(var i=0,o=e._overlayItemViews();i<o.length;i++){var r=o[i];if(r instanceof t._CartesianCoordinatePointTextAnnotationOverlayItemView&&r._groupName()===n)return r}return null},e.prototype._createItemViewBy=function(e,n,i,o){if(null!=i&&null!=e){var r=e._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName;if(null!=r){var l=this._findHostBy(i,r);if(null!=l)return new t._CartesianCoordinatePointTextAttachedAnnotationOverlayItemView(e,n,o,l)}return new t._CartesianCoordinatePointTextAnnotationOverlayItemView(e,n,o,r)}return null},e}();t._CartesianPointTextAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){t._isVertexes=function(t){var e=t;return null!=e&&"function"==typeof e._xs&&"function"==typeof e._ys}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e){this.__xs=t.slice(),this.__ys=e.slice()}return t._pack=function(e,n){return null!=e&&null!=n?new t(e,n):null},t.prototype._xs=function(){return this.__xs.slice()},t.prototype._ys=function(){return this.__ys.slice()},t.prototype.queryInterface=function(t){return null},t}();t.Vertexes=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._lineAnnotationOverlayDefinition=function(){return this._definition},n.prototype._createOverlayItemView=function(e,n){return new t._CartesianLineCoordinateAnnotationOverlayItemViewBuilder(this)._bulid(e,n)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var t=0,n=this._groupViews();t<n.length;t++){var i=n[t],o=this._lineAnnotationOverlayDefinition()._getLineOverlayOption();if(null!=o.start&&null!=o.end){var r=this._createOverlayItemView(i,this._id()+this._itemViews().length);this._itemViews().push(r)}break}},n}(t._CartesianAnnotationOverlayView);t._CartesianLineCoordinateAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this,r=o._getAttachmentAgentManager();return o._bindAttachmentManager(r,"Line.Coordinate"),o}return i(n,e),n.prototype._setStart=function(e){var n=t.AnnotationLib._parseCoordinateValue(e);null!=n&&(this.__start=n)},n.prototype._setEnd=function(e){var n=t.AnnotationLib._parseCoordinateValue(e);null!=n&&(this.__end=n)},n.prototype._start=function(){var e=this._innerProperty("start");if(null!=e){var n=t.AnnotationLib._parseCoordinateValue(t._AnyTypeUtility._toString(e));if(null!=n)return n}return this.__start},n.prototype._end=function(){var e=this._innerProperty("end");if(null!=e){var n=t.AnnotationLib._parseCoordinateValue(t._AnyTypeUtility._toString(e));if(null!=n)return n}return this.__end},Object.defineProperty(n.prototype,"start",{get:function(){var t=this._start();return null!=t?t._toString():null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){var t=this._end();return null!=t?t._toString():null},enumerable:!0,configurable:!0}),n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianCoordinateLineAttachmentAgent(this._overlayGroupView()._groupView()))},n.prototype._xs=function(){return null!=this._start()&&null!=this._end()?[this._start().x,this._end().x]:null},n.prototype._ys=function(){return null!=this._start()&&null!=this._end()?[this._start().y,this._end().y]:null},n.prototype.queryInterface=function(t){return"ILineCoordinateValues"===t&&"Line.Coordinate"===this.bindStateType&&null!=this._start()&&null!=this._end()?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianAnnotationOverlayItemView);t._CartesianLineCoordinateAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e){if(null==this.__overlayView)return null;var n=this._createItemViewBy(this.__overlayView,t,e);return null!=n&&(n._setStart(n._parseExcelExpression(this.__overlayView._lineAnnotationOverlayDefinition()._getLineOverlayOption().start)),n._setEnd(n._parseExcelExpression(this.__overlayView._lineAnnotationOverlayDefinition()._getLineOverlayOption().end))),n},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Line"===o?new t._CartesianLineCoordinateLineAnnotationOverlayItemView(e,n,i):"Needle"===o?new t._CartesianLineCoordinateGaugeAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianLineCoordinateAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnnotation=function(){var e=new t._LineGaugeAnnotation,n=this._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return e.width=n.width,e.endOffset=n.endOffset,e},n}(t._CartesianLineCoordinateAnnotationOverlayItemView);t._CartesianLineCoordinateGaugeAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnnotation=function(){return new t._LineAnnotation},n}(t._CartesianLineCoordinateAnnotationOverlayItemView);t._CartesianLineCoordinateLineAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype._meedleAnnotationOverlayDefinition=function(){return this._definition},e}(t._CartesianLineCoordinateAnnotationOverlayView);t._NeedleCartesianLineCoordinateAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return this._createItemViewBy(this.__overlayView,n,i);return null},e.prototype._createItemViewBy=function(e,n,i){return this._isRadial()?new t._CartesianRadialAreaReferenceBandOverlayItemView(e,n,i):new t._CartesianAreaReferenceBandOverlayItemView(e,n,i)},e.prototype._isRadial=function(){return this.__overlayView._getCartesianPlotView()._axisMode()==t.AxisMode.Radial},e}();t._CartesianReferenceBandOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(){var e=new t._OverlayRange,n=this.__overlayView._ReferenceBandOverlayDefinition()._option,i=Math.max(this.__overlayView._start(),this.__overlayView._end()),o=Math.min(this.__overlayView._start(),this.__overlayView._end());return n.axis==t.AxisType.X?(e.maxX=i,e.minX=o):(e.maxY=i,e.minY=o),e},e}();t._CartesianReferenceBandOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this,o=i._ReferenceBandOverlayDefinition()._option,r=Math.min(o.start,o.end),l=Math.max(o.start,o.end);return i.__start=r,i.__end=l,i}return i(n,e),n.prototype._ReferenceBandOverlayDefinition=function(){return this._definition},n.prototype._start=function(){return this.__start},n.prototype._end=function(){return this.__end},n.prototype._fillColor=function(){return this.__fillColor},n.prototype._initializeStyle=function(){var e=this._ReferenceBandOverlayDefinition()._option;null!=e.style&&null!=e.style.fill?this.__fillColor=t._StyleUtility._colorFromOption(e.style.fill):this.__fillColor=this._getColor()},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var n=new t._CartesianReferenceBandOverlayItemViewBuilder(this),i=0,o=this._groupViews();i<o.length;i++){var r=o[i],l=n._bulid(this._getCartesianPlotView(),r,"overlayItem");this._itemViews().push(l)}},n.prototype.useData=function(){},Object.defineProperty(n.prototype,"overlayItems",{get:function(){return this._itemViews().slice()},enumerable:!0,configurable:!0}),n.prototype.buildRangePolicy=function(){return new t._CartesianReferenceBandOverlayRangePolicy(this)},n.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayView);t._CartesianReferenceBandOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._render=function(t,n){n._renderLabel||e.prototype._render.call(this,t,n)},n.prototype._cartesianReferenceBandOverlayView=function(){return this._ownerView},n.prototype._getStrokeColor=function(){var e=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option.style;return null!=e&&null!=e.stroke?t._StyleUtility._colorFromOption(e.stroke):this._defaultStyle().stroke},n.prototype._getFillColor=function(){return this._cartesianReferenceBandOverlayView()._fillColor()},n.prototype._getStrokeWidth=function(){var t=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.strokeWidth?t.strokeWidth.top:this._defaultStyle().strokeWidth},n.prototype._getStrokeDash=function(){var t=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.strokeDasharray&&""!=t.strokeDasharray?t.strokeDasharray:this._defaultStyle().strokeDasharray},n.prototype._getOpacity=function(){var t=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.opacity?t.opacity:this._defaultStyle().fillOpacity},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",0)),this.__defaultStyle},n}(t._CartesianOverlayItemView);t._CartesianReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._layoutContent=function(e,n){var i=this._cartesianReferenceBandOverlayView()._start(),o=this._cartesianReferenceBandOverlayView()._end();if(!isNaN(i)&&!isNaN(o)){var r=new t._Polyline([],[]),l=this._overlayGroupView()._groupView(),a=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option,s=l._horizontalAxisView(),u=l._verticalAxisView();if(a.axis==t.AxisType.X)if(l._swapAxes()){var _=u._scaleModel._value(i),p=u._scaleModel._value(o),c=s._scaleModel._value(s._scaleModel._minimum),h=s._scaleModel._value(s._scaleModel._maximum);if(l._axisMode()==t.AxisMode.Polygonal){var f=_,d=p,y=h,g=c;r=this._getPolygon(y,g,f,d,u._scaleModel._getReversed())}else r.xs.push(c),r.ys.push(_),r.xs.push(h),r.ys.push(_),r.xs.push(h),r.ys.push(p),r.xs.push(c),r.ys.push(p)}else{var m=s._scaleModel._value(i),v=s._scaleModel._value(o),w=u._scaleModel._value(u._scaleModel._minimum),b=u._scaleModel._value(u._scaleModel._maximum);l._axisMode()==t.AxisMode.Polygonal?(f=w,d=b,y=v,g=m,r=this._getPolygon(y,g,f,d,u._scaleModel._getReversed())):(r.xs.push(m),r.ys.push(w),r.xs.push(m),r.ys.push(b),r.xs.push(v),r.ys.push(b),r.xs.push(v),r.ys.push(w))}else l._swapAxes()?(m=s._scaleModel._value(i),v=s._scaleModel._value(o),l._axisMode()==t.AxisMode.Polygonal?(f=u._scaleModel._value(u._scaleModel._minimum),d=u._scaleModel._value(u._scaleModel._maximum),y=v,g=m,r=this._getPolygon(y,g,f,d,u._scaleModel._getReversed())):(w=u._scaleModel._value(u._scaleModel._minimum),b=u._scaleModel._value(u._scaleModel._maximum),r.xs.push(m),r.ys.push(w),r.xs.push(m),r.ys.push(b),r.xs.push(v),r.ys.push(b),r.xs.push(v),r.ys.push(w))):(_=u._scaleModel._value(i),p=u._scaleModel._value(o),c=s._scaleModel._value(s._scaleModel._minimum),h=s._scaleModel._value(s._scaleModel._maximum),l._axisMode()==t.AxisMode.Polygonal?(f=_,d=p,y=h,g=c,r=this._getPolygon(y,g,f,d,u._scaleModel._getReversed())):(r.xs.push(c),r.ys.push(_),r.xs.push(h),r.ys.push(_),r.xs.push(h),r.ys.push(p),r.xs.push(c),r.ys.push(p)));this.___xs=r.xs,this.___ys=r.ys}},n.prototype._isPolygonAxes=function(){return this._overlayGroupView()._overlayView()._getCartesianPlotView()._axisMode()==t.AxisMode.Polygonal},n.prototype._getPolygon=function(e,n,i,o,r){var l=this._overlayGroupView()._groupView();if(this._isPolygonAxes()){if(r){if(i<o)return new t._Polyline([],[]);var a=i;i=o,o=a}else if(i>o)return new t._Polyline([],[]);e<n&&(a=e,e=n,n=a);var s=new t._Polyline([],[]),u=l._verticalAxisView(),_=[],p=u._scaleModel._ticks().slice(),c=l._horizontalAxisView(),h=c._startAngle(),f=h+c._sweep,d=0,y=null,g=null,m=p.length-1;r&&p.reverse();for(var v=0;v<p.length;++v){var w=p[v];if((T=u._scaleModel._value(w))>i){if(null==y&&(y=v),T>=o){null==g&&(g=v-1),m=v;break}g=v,_.push(T)}else d=v}if(null==y||null!=g&&g<0)return new t._Polyline([],[]);var b=l._cx(),S=l._cy();if(n=n>0?n:0,e=Math.max(e,n),i>=h){var P=p[d];0==y&&(P=u._scaleModel._minimum);var C=u._scaleModel._value(P),x=(E=u._scaleModel._value(p[y]))-C,V=Math.cos(x/2)/Math.cos(Math.abs(E-i-x/2)),D=Math.cos(i)*V*e+b,A=Math.sin(i)*V*e+S,O=Math.cos(i)*V*n+b,L=Math.sin(i)*V*n+S;s.xs.push(D),s.ys.push(A),s.xs.unshift(O),s.ys.unshift(L)}for(v=0;v<_.length;++v){var T=_[v],M=e,I=(D=Math.cos(T)*M+b,A=Math.sin(T)*M+S,n);O=Math.cos(T)*I+b,L=Math.sin(T)*I+S,s.xs.push(D),s.ys.push(A),s.xs.unshift(O),s.ys.unshift(L)}if(o<=f){var E,B=p[m];g==p.length-1&&(B=u._scaleModel._maximum),x=(E=u._scaleModel._value(B))-(C=u._scaleModel._value(p[g])),V=Math.cos(x/2)/Math.cos(Math.abs(E-o-x/2)),D=Math.cos(o)*V*e+b,A=Math.sin(o)*V*e+S,O=Math.cos(o)*V*n+b,L=Math.sin(o)*V*n+S,s.xs.push(D),s.ys.push(A),s.xs.unshift(O),s.ys.unshift(L)}return s}return new t._Polyline([],[])},n.prototype._drawView=function(t,e){t.beginTransform();var n=this._getOpacity(),i=this._getFillColor(),o=this._getStrokeColor(),r=this._getStrokeWidth(),l=this._getStrokeDash();null!=n&&(t.fillOpacity=n),null!=i&&(t.fill=i),null!=o&&(t.stroke=o),null!=r&&(t.strokeWidth=r),null!=l&&(t.strokeDasharray=l),t.drawPolygon(this.___xs,this.___ys),t.restoreTransform()},n}(t._CartesianReferenceBandOverlayItemView);t._CartesianAreaReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._layoutContent=function(e,n){var i=this._cartesianReferenceBandOverlayView()._start(),o=this._cartesianReferenceBandOverlayView()._end();if(!isNaN(i)&&!isNaN(o)){var r=0,l=0,a=0,s=0,u=this._overlayGroupView()._groupView(),_=this._cartesianReferenceBandOverlayView()._ReferenceBandOverlayDefinition()._option,p=u._horizontalAxisView(),c=u._verticalAxisView();if(_.axis==t.AxisType.X)if(u._swapAxes()){var h=c._scaleModel._value(i),f=c._scaleModel._value(o),d=p._scaleModel._value(p._scaleModel._minimum);r=h,l=f,a=p._scaleModel._value(p._scaleModel._maximum),s=d}else{var y=p._scaleModel._value(i);s=g=p._scaleModel._value(o),a=y,r=c._scaleModel._value(c._scaleModel._minimum),l=c._scaleModel._value(c._scaleModel._maximum)}else if(u._swapAxes()){y=p._scaleModel._value(i);var g=p._scaleModel._value(o);r=0,l=t._Utility._PI2,a=g,s=y}else h=c._scaleModel._value(i),f=c._scaleModel._value(o),d=p._scaleModel._value(p._scaleModel._minimum),s=p._scaleModel._value(p._scaleModel._maximum),a=d,r=h,l=f;this.__startAngle=r,this.__endAngle=l,this.__radius=a,this.__innerRadius=s}},n.prototype._drawView=function(t,e){t.beginTransform();var n=this._getOpacity(),i=this._getFillColor(),o=this._getStrokeColor(),r=this._getStrokeWidth(),l=this._getStrokeDash();null!=n&&(t.fillOpacity=n),null!=i&&(t.fill=i),null!=o&&(t.stroke=o),null!=r&&(t.strokeWidth=r),null!=l&&(t.strokeDasharray=l);var a=this._cartesianReferenceBandOverlayView()._plotView(),s=a._cx(),u=a._cy(),_=this.__endAngle-this.__startAngle;_<0&&(_=-_),0!=_&&(this.__radius<this.__innerRadius?t.drawDonut(s,u,this.__innerRadius,this.__radius,this.__startAngle,_):t.drawDonut(s,u,this.__radius,this.__innerRadius,this.__startAngle,_)),t.restoreTransform()},n}(t._CartesianReferenceBandOverlayItemView);t._CartesianRadialAreaReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l._filtered=!1,l.__varibility=o,l.__pointView=r,l}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.ErrorBarOverlayItem},enumerable:!0,configurable:!0}),n.prototype._varibility=function(){return this.__varibility},n.prototype._attached=function(){return t._isCartesianPointView(this.___parentView)},n.prototype._errorBarOverlayView=function(){return this._ownerView},Object.defineProperty(n.prototype,"positive",{get:function(){return this._errorBarOverlayView()._erroBarDefinition()._option.direction===t.ErrorBarDirection.Minus?null:this._varibility().plus},set:function(t){this._varibility().setPlus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"negative",{get:function(){return this._errorBarOverlayView()._erroBarDefinition()._option.direction===t.ErrorBarDirection.Plus?null:this._varibility().minus},set:function(t){this._varibility().setMinus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._errorBarOverlayView()._isVertical()?t.ErrorBarOrientation.Vertical:t.ErrorBarOrientation.Horizontal},enumerable:!0,configurable:!0}),n.prototype._updateData=function(t){this.__varibility=t},n.prototype._bindPointView=function(){if(null!=this.__pointView){this._plusAnnotation=new t._TemplateAnnotation,this._minusAnnotation=new t._TemplateAnnotation;var e=this._getAttachmentAgentManagerByView(this.__pointView),n=this._plusAnnotation._bind(new t.ProxyAttachmentAgentManager(e,this)),i=this._minusAnnotation._bind(new t.ProxyAttachmentAgentManager(e,this));null!=n&&n==i&&(n._onAttached(this),this.___parentView=this.__pointView)}},n.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("positive",NaN));isNaN(n)&&void 0!==n||(this.positive=n);var i=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("negative",NaN));isNaN(i)&&void 0!==i||(this.negative=i)},n.prototype._layoutContent=function(e,n){if(this._attached())switch(this._plusAnnotation._init(),this._minusAnnotation._init(),null!=this._varibility().join&&this._createContent(),this._errorBarOverlayView()._erroBarDefinition()._option.direction){case t.ErrorBarDirection.Plus:this._layoutAnnotation(this._plusAnnotation,e,n);break;case t.ErrorBarDirection.Minus:this._layoutAnnotation(this._minusAnnotation,e,n);break;case t.ErrorBarDirection.Both:this._layoutAnnotation(this._plusAnnotation,e,n),this._layoutAnnotation(this._minusAnnotation,e,n)}},n.prototype._layoutAnnotation=function(t,e,n){this._customizeAnnotationStyle(t),t._layout(e,n)},n.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._errorBarOverlayView()._annotationStyle());t._StyleUtility._applyAllStyle(n,this.style),e._applyCustomStyle(n)},n.prototype._errorBarVisiblePolicy=function(){var e=this.parent;return e instanceof t._SymbolCartesianPointView||e._isVisible()},n.prototype._drawView=function(e,n){if(this._attached()&&!this._filtered&&this._errorBarVisiblePolicy()&&this._isVisible())switch(this._errorBarOverlayView()._erroBarDefinition()._option.direction){case t.ErrorBarDirection.Plus:this._renderAnnotation(this._plusAnnotation,e,n);break;case t.ErrorBarDirection.Minus:this._renderAnnotation(this._minusAnnotation,e,n);break;case t.ErrorBarDirection.Both:this._renderAnnotation(this._plusAnnotation,e,n),this._renderAnnotation(this._minusAnnotation,e,n)}},n.prototype._renderAnnotation=function(t,e,n){t._render(e,n)},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._attached()&&!this._filtered&&this._errorBarVisiblePolicy()&&this._isVisible()){var o,r=this._errorBarOverlayView()._erroBarDefinition()._option.direction;if((r==t.ErrorBarDirection.Both||r==t.ErrorBarDirection.Plus)&&null!=(o=this._plusAnnotation)&&o._containStroke(e)){var l=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem);return null==i||null!=i&&i.predicate(l)?l:null}if((r==t.ErrorBarDirection.Both||r==t.ErrorBarDirection.Minus)&&null!=(o=this._minusAnnotation)&&o._containStroke(e))return l=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem),null==i||null!=i&&i.predicate(l)?l:null}return null},n.prototype.queryInterface=function(t){return"IErrorBarOverlayItemModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayItemView);t._CartesianErrorBarOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(){for(var e=new t._OverlayRange,n=this.__overlayView._isYRelated(),i=!0,o=0,r=this.__overlayView._groups();o<r.length;o++){var l=r[o]._range();null!=l&&(i?(n?(e.minY=l[0],e.maxY=l[1]):(e.maxX=l[1],e.minX=l[0]),i=!1):n?(e.maxY=Math.max(e.maxY,l[1]),e.minY=Math.min(e.minY,l[0])):(e.maxX=Math.max(e.maxX,l[1]),e.minX=Math.min(e.minX,l[0])))}return e},e}();t._CartesianErrorBarOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,i)||this;return o.__calculator=n,o.__groups=[],o}return i(n,e),n.prototype._erroBarDefinition=function(){return this._definition},n.prototype._groups=function(){return this.__groups},n.prototype._calculator=function(){return this.__calculator},n.prototype._isVertical=function(){return this._erroBarDefinition()._option.orientation==t.ErrorBarOrientation.Auto?!this._getCartesianPlotView()._swapAxes():this._erroBarDefinition()._option.orientation===t.ErrorBarOrientation.Vertical},n.prototype._isYRelated=function(){return!this._getCartesianPlotView()._swapAxes()===this._isVertical()},n.prototype._getDataSlices=function(e){var n=this._erroBarDefinition()._option.detailLevel;return(new t._CartesianOverlayDataSlicer)._slice(e._groupView(),n,!1)},n.prototype.createOverlayItemViews=function(){var n;e.prototype.createOverlayItemViews.call(this);for(var i=[],o=0,r=this._groupViews();o<r.length;o++)for(var l=r[o],a=0,s=this._getDataSlices(l);a<s.length;a++){var u=s[a],_=new t.CartesianErrorBarGroup(u,this,l);this.__groups.push(_),_._createOrUpdateItems(),_._itemViews().length>0&&(i.push(_),(n=this._itemViews()).push.apply(n,_._itemViews()))}for(var p=0,c=i;p<c.length;p++)(_=c[p])._bindPointView()},n.prototype.useData=function(){for(var t=0,e=this.__groups;t<e.length;t++)e[t]._createOrUpdateItems();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._runConditionalFormatRules()},n.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._erroBarDefinition()._defaultStyle());t._StyleUtility._applyOverlayStyleOption(e,this._erroBarDefinition()._option.style),e.fill=t._CssColor._none(),this.__annotationStyle=e}return this.__annotationStyle},Object.defineProperty(n.prototype,"overlayItems",{get:function(){return this._itemViews().slice()},enumerable:!0,configurable:!0}),n.prototype.buildRangePolicy=function(){return new t._CartesianErrorBarOverlayRangePolicy(this)},n.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayView);t._CartesianErrorBarOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){this.__strokeWidth=0}return Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){0!=t&&isNaN(t)?this.__strokeWidth=t:this.__strokeWidth=0},enumerable:!0,configurable:!0}),e.prototype._refresh=function(t){},e.prototype._renderRefresh=function(t){},e.prototype._draw=function(t){},e.prototype._contain=function(e){for(var n=new t._PathUtil,i=this.strokeWidth,o=0,r=this._paths();o<r.length;o++){var l=r[o];if(n.contain(l,e.x,e.y))return!0;if(i>0&&n.containStroke(l,i,e.x,e.y))return!0}return!1},e.prototype._containStroke=function(e){var n=new t._PathUtil,i=this.strokeWidth;if(i>0)for(var o=0,r=this._paths();o<r.length;o++){var l=r[o];if(n.containStroke(l,t._PolylineShape._getAppropriateHitestPaddingBy(i),e.x,e.y))return!0}return!1},e}();t._PathPrototype=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__slice=t,this.__itemViews=[],this.__overlayView=e,this.__overlayGroupView=n}return e.prototype._range=function(){if(null!=this.__variabilitys){var e=this._itemViews(),n=this.__variabilitys.filter((function(t,n){return null!=t.join&&!e[n]._filtered&&e[n]._attached()}));if(n.length>0){for(var i=this.__overlayView._erroBarDefinition()._option.direction,o=n[0].join,r=n[0].join,l=0,a=n;l<a.length;l++){var s=a[l];i!==t.ErrorBarDirection.Minus&&(isNaN(s.plus)||(o=Math.min(s.join+s.plus,s.join,o),r=Math.max(s.join+s.plus,s.join,r))),i!==t.ErrorBarDirection.Plus&&(isNaN(s.minus)||(o=Math.min(s.join-s.minus,s.join,o),r=Math.max(s.join-s.minus,s.join,r)))}return[o,r]}}return null},e.prototype._getXyPointSet=function(e){return t._CartesianPointDataExtractor.extract(this.__slice,e,!1)},e.prototype._isExtractOriginValue=function(e){return e instanceof t.PercentageVariability},e.prototype._isCustomValueType=function(e){return e instanceof t._CustomErrorBarVariabilityCalculator||e instanceof t.FixedVariability},e.prototype._itemViews=function(){return this.__itemViews},e.prototype._valueFieldFilter=function(t){var e=this.__overlayView._erroBarDefinition()._option;if(null==e.field)return!0;var n=t._getCartesianSeriesView().valueDefinition;return null!=n&&e.field.indexOf(n)>=0},e.prototype._pointDetailKeyFilter=function(e){var n=this.__overlayView._erroBarDefinition()._option,i=e._getPlotView()._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._getCartesianSeriesView()._getCartesianSeriesDataModel()._detailDimension())},e.prototype._filter=function(t){return null!=t&&this._pointDetailKeyFilter(t)&&this._valueFieldFilter(t)},e.prototype._createOrUpdateItems=function(){var e=this.__overlayView._calculator(),n=this._getXyPointSet(this._isExtractOriginValue(e));if(null!=n){var i=this.__overlayView._isYRelated()?n.ys:n.xs;if(e instanceof t._CustomErrorBarVariabilityCalculator?this.__variabilitys=e._calculateBy(i,n.points,this.__overlayView._getCartesianPlotView()):this.__variabilitys=e._calculate(i),null!=this.__variabilitys)for(var o=this.__slice._pointViews(),r=0,l=0;l<o.length;++l){var a=o[l],s=null;l!=n.index[r]?s=t.Variability._illegal():(s=this.__variabilitys[r++],this._postProcess(s,a)),l<this.__itemViews.length&&null!=this.__itemViews[l]?this.__itemViews[l]._updateData(s):this.__itemViews.push(this._createOverlayItemView(s,a)),this.__itemViews[l]._filtered=!this._filter(a)}}},e.prototype._postProcess=function(e,n){var i=this.__overlayView._calculator();this._isCustomValueType(i)&&this._scaleForPercentage(e,n),i._replaceJoin()||(this.__overlayView._isYRelated()?e.join=t._CartesianPointDataExtractor.getAxisYValue(n,!1,!1):e.join=t.models._CartesianSupport.getX(n))},e.prototype._scaleForPercentage=function(t,e){var n=this.__overlayView._getCartesianPlotView();if(n._isPercentage()&&this.__overlayView._isYRelated()){var i=this._getClusterScale(e,n);t.setPlus(t.plus/i),t.setMinus(t.minus/i)}},e.prototype._getClusterScale=function(e,n){for(var i=t.models._CartesianSupport.getX(e),o=0,r=0,l=n._getCartesianGroupViews();r<l.length;r++)for(var a=0,s=l[r]._getCartesianSeriesViews();a<s.length;a++)for(var u=s[a],_=0,p=this._getCartesianPointFromSeries(u);_<p.length;_++){var c=p[_];t.models._CartesianSupport.getX(c)!==i||null==c.value||isNaN(c.value)||(o+=Math.abs(c.value))}return 0==o?1:o},e.prototype._getCartesianPointFromSeries=function(t){return t._getPointViews()},e.prototype._createOverlayItemView=function(e,n){return t.AnnotationLib._isPlotInRadialCoordinateSystem(this.__overlayView._getCartesianPlotView())?new t._CartesianRadialErrorBarOverlayItemView(this.__overlayView,this.__overlayGroupView,"overlayItem",e,n):new t._CartesianRectangleErrorBarOverlayItemView(this.__overlayView,this.__overlayGroupView,"overlayItem",e,n)},e.prototype._bindPointView=function(){for(var t=0,e=this.__itemViews;t<e.length;t++)e[t]._bindPointView()},e}();t.CartesianErrorBarGroup=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._plus=function(){return null!=this._plusAnnotation?this._plusAnnotation._content():null},n.prototype._minus=function(){return null!=this._minusAnnotation?this._minusAnnotation._content():null},n.prototype._getAttachmentAgentManagerByView=function(e){return new t.AttachmentAgentManager(new t._DonutErrorBarPointAttachmentAgent(e,this),new t._PieErrorBarPointAttachmentAgent(e,this))},n.prototype._getVerticalAxis=function(){return this._overlayGroupView()._groupView()._verticalAxisView()},n.prototype._getHorizontalAxis=function(){return this._overlayGroupView()._groupView()._horizontalAxisView()},n.prototype._createContent=function(){isNaN(this._varibility().plus)||this._plusAnnotation._content(this._createContentBy(this._varibility().plus)),isNaN(this._varibility().minus)||this._minusAnnotation._content(this._createContentBy(-this._varibility().minus))},n.prototype._createContentBy=function(e){var n=this._errorBarOverlayView()._getCartesianPlotView(),i=this._errorBarOverlayView()._isYRelated(),o=n._swapAxes(),r=this._errorBarOverlayView()._erroBarDefinition()._option.endCap,l=this._varibility().join;if(!o===i){var a=this._getVerticalAxis(),s=a._scaleModel._value(l),u=a._scaleModel._value((null==l?0:l)+e),_=(null==u?0:u)-(null==s?0:s),p=null;return e>=0?(p=new t.RadErrorBarPrototype(!0,r)).sweep=_:(p=new t.RadErrorBarPrototype(!1,r)).sweep=-_,p}var c=this._getHorizontalAxis(),h=(p=new t.RadialLineErrorBarPrototype(e>=0,r),c._scaleModel._value(l)),f=c._scaleModel._value((null==l?0:l)+e),d=(null==f?0:f)-(null==h?0:h);return p.len=Math.abs(d),p},n}(t._CartesianErrorBarOverlayItemView);t._CartesianRadialErrorBarOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__pointView=t,i.__overlayItem=n,i}return i(n,e),n.prototype._filter=function(e){var n=this.__overlayItem._overlayGroupView()._overlayView()._getCartesianPlotView();return!n._swapAxes()&&t.AnnotationLib._isPlotInRadialCoordinateSystem(n)},n.prototype.pointAttachmentInfo=function(e){var n=this._getConnectionPoint(),i=new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());return this._completePrototype(i),i},n.prototype._completePrototype=function(e){var n=this.__overlayItem._plus(),i=this.__overlayItem._minus(),o=this.__overlayItem._overlayGroupView()._groupView()._horizontalAxisView(),r=t.Vector.angle(new t.Vector(e.point.x-o._cx,e.point.y-o._cy),t.Vector.horizon()),l=Math.sqrt((e.point.x-o._cx)*(e.point.x-o._cx)+(e.point.y-o._cy)*(e.point.y-o._cy));if(this.__overlayItem._errorBarOverlayView()._calculator()._replaceJoin())if(this.__overlayItem._errorBarOverlayView()._isYRelated()){var a=this.__overlayItem._overlayGroupView()._groupView()._yAxisView();r=a._scaleModel._value(this.__overlayItem._varibility().join),e.point=new t.core.Point(Math.cos(r)*l+a._cx,Math.sin(r)*l+a._cy)}else{var s=o._scaleModel._value(this.__overlayItem._varibility().join);e.point=new t.core.Point(Math.cos(r)*s+o._cx,Math.sin(r)*s+o._cy)}null==i?n instanceof t.RadErrorBarPrototype?(n.radius=l,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),n.angle=r):null==n?i instanceof t.RadErrorBarPrototype?(i.radius=l,i.start=r):i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r):n instanceof t.RadErrorBarPrototype&&i instanceof t.RadErrorBarPrototype?(n.radius=l,i.radius=l,n.start=r,i.start=r):n instanceof t.RadialLineErrorBarPrototype&&i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r,n.angle=r)},n.prototype._getConnectionPoint=function(){var e=this.__pointView;return e instanceof t._SymbolCartesianPointView?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},n.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},n.prototype._getConnectionPointInBarPointView=function(e){if(e instanceof t._RadialBarCartesianPointView){var n=void 0,i=this.__overlayItem._overlayGroupView()._groupView()._verticalAxisView();n=i._scaleModel._getReversed()===!e._isPositive()?e._getStartAngle()+e._getSweep():e._getStartAngle();var o=new t.core.Point(Math.cos(n)*e._getInnerRadius(),Math.sin(n)*e._getInnerRadius()),r=new t.core.Point(Math.cos(n)*e._getRadius(),Math.sin(n)*e._getRadius());return new t.core.Point(i._cx+(o.x+r.x)/2,i._cy+(o.y+r.y)/2)}return null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this.__pointView._overlayItemViews().push(e)},n}(t._PointAttachmentAgent);t._DonutErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__pointView=t,i.__overlayItem=n,i}return i(n,e),n.prototype._filter=function(e){var n=this.__overlayItem._errorBarOverlayView()._getCartesianPlotView();return n._swapAxes()&&t.AnnotationLib._isPlotInRadialCoordinateSystem(n)},n.prototype.pointAttachmentInfo=function(e){var n=this._getConnectionPoint(),i=new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());return this._completePrototype(i),i},n.prototype._completePrototype=function(e){var n=this.__overlayItem._plus(),i=this.__overlayItem._minus(),o=this.__overlayItem._overlayGroupView()._groupView()._horizontalAxisView(),r=t.Vector.angle(new t.Vector(e.point.x-o._cx,e.point.y-o._cy),t.Vector.horizon()),l=Math.sqrt((e.point.x-o._cx)*(e.point.x-o._cx)+(e.point.y-o._cy)*(e.point.y-o._cy));if(this.__overlayItem._errorBarOverlayView()._calculator()._replaceJoin())if(this.__overlayItem._errorBarOverlayView()._isYRelated()){var a=o._scaleModel._value(this.__overlayItem._varibility().join);e.point=new t.core.Point(Math.cos(r)*a+o._cx,Math.sin(r)*a+o._cy)}else{var s=this.__overlayItem._overlayGroupView()._groupView()._xAxisView();r=s._scaleModel._value(this.__overlayItem._varibility().join),e.point=new t.core.Point(Math.cos(r)*l+s._cx,Math.sin(r)*l+s._cy)}null==i?n instanceof t.RadErrorBarPrototype?(n.radius=l,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),n.angle=r):null==n?i instanceof t.RadErrorBarPrototype?(i.radius=l,i.start=r):i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r):n instanceof t.RadErrorBarPrototype&&i instanceof t.RadErrorBarPrototype?(i.radius=l,n.radius=l,i.start=r,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r,n.angle=r)},n.prototype._getConnectionPoint=function(){var e=this.__pointView;return e instanceof t._SymbolCartesianPointView?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},n.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},n.prototype._getConnectionPointInBarPointView=function(e){if(e instanceof t._RadialBarCartesianPointView){var n=e._getStartAngle()+e._getSweep()/2,i=this.__overlayItem._overlayGroupView()._groupView()._horizontalAxisView(),o=void 0;return(o=i._scaleModel._getReversed()===!e._isPositive()?e._getRadius():e._getInnerRadius())<.01&&(o=.01),new t.core.Point(i._cx+Math.cos(n)*o,i._cy+Math.sin(n)*o)}return null},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this.__pointView._overlayItemViews().push(e)},n}(t._PointAttachmentAgent);t._PieErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__radius=0,i.__start=0,i.__sweep=0,i.__isPlus=t,i.__hasCap=n,i}return i(n,e),n.prototype._capLen=function(){return 6},Object.defineProperty(n.prototype,"start",{get:function(){return this.__start},set:function(t){isNaN(t)||(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this.__sweep},set:function(t){isNaN(t)||(this.__sweep=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this.__radius},set:function(t){!isNaN(t)&&t>=0&&(this.__radius=t)},enumerable:!0,configurable:!0}),n.prototype._box=function(){return new t.core.Rect(-this.radius,-this.radius,2*this.radius,2*this.radius)},n.prototype._junction=function(e,n){return t._MatrixUtility._transformPoint(e,new t.core.Point(Math.cos(this.start)*this.radius,Math.sin(this.start)*this.radius))},n.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},n.prototype._refresh=function(t){},n.prototype._renderRefresh=function(t){this.__linePath=this._linePath(),this.__capPath=this._capPath(),this.strokeWidth=t.strokeWidth},n.prototype._linePath=function(){return this.__isPlus?this.sweep<0?t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start+this.sweep,-this.sweep):t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start,this.sweep):this.sweep<0?t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start,-this.sweep):t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start-this.sweep,this.sweep)},n.prototype._capPath=function(){if(!this.__hasCap)return null;var e;e=this.__isPlus?this.start+this.sweep:this.start-this.sweep;var n=this.radius-this._capLen()/2,i=new t.core.Point(Math.cos(e)*n,Math.sin(e)*n);n+=this._capLen();var o=new t.core.Point(Math.cos(e)*n,Math.sin(e)*n);return t._PathBuilder._defaultPathBuilder._buildPath().moveto(i.x,i.y).lineto(o.x,o.y)},n.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},n.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},n}(t._PathPrototype);t.RadErrorBarPrototype=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__angle=0,i.__len=0,i.__isPlus=t,i.__hasCap=n,i}return i(n,e),n.prototype._capLen=function(){return 6},Object.defineProperty(n.prototype,"len",{get:function(){return this.__len},set:function(t){!isNaN(t)&&t>=0&&(this.__len=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){isNaN(t)||(this.__angle=t)},enumerable:!0,configurable:!0}),n.prototype._box=function(){var e=this._endPoint(),n=Math.min(e.x,0),i=Math.min(e.y,0);return new t.core.Rect(n,i,Math.max(e.x,0)-n,Math.max(e.y,0)-i)},n.prototype._junction=function(e,n){return t._MatrixUtility._transformPoint(e,new t.core.Point(0,0))},n.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},n.prototype._refresh=function(t){},n.prototype._renderRefresh=function(t){this.__linePath=this._linePath(),this.__capPath=this._capPath(),this.strokeWidth=t.strokeWidth},n.prototype._linePath=function(){var e=this._endPoint();return t._PathBuilder._defaultPathBuilder._buildPath().moveto(0,0).lineto(e.x,e.y)},n.prototype._capPath=function(){var e=this.len,n=new t.Vector(Math.cos(this.angle),Math.sin(this.angle));this.__isPlus||(n=n.reverse());var i=new t.core.Point(n.x*e,n.y*e),o=t.Vector.getPerp(n),r=t.Vector.endPoint(i,o,this._capLen()/2),l=t.Vector.endPoint(i,o.reverse(),this._capLen()/2);return t._PathBuilder._defaultPathBuilder._buildPath().moveto(r.x,r.y).lineto(l.x,l.y)},n.prototype._endPoint=function(){return this.__isPlus?new t.core.Point(Math.cos(this.angle)*this.len,Math.sin(this.angle)*this.len):new t.core.Point(-Math.cos(this.angle)*this.len,-Math.sin(this.angle)*this.len)},n.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},n.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},n}(t._PathPrototype);t.RadialLineErrorBarPrototype=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._getAttachmentAgentManagerByView=function(e){return new t.AttachmentAgentManager(new t._RectangularReplaceJoinErrorBarPointAttachmentAgent(e,this),new t._RectangularErrorBarPointAttachmentAgent(e,this))},n.prototype._getAxisBy=function(t){var e=this._overlayGroupView()._groupView();return t?e._yAxisView():e._xAxisView()},n.prototype._createContent=function(){isNaN(this._varibility().plus)||this._plusAnnotation._content(this._createContentBy(this._varibility().plus)),isNaN(this._varibility().minus)||this._minusAnnotation._content(this._createContentBy(-this._varibility().minus))},n.prototype._createContentBy=function(e){var n=this._errorBarOverlayView()._erroBarDefinition()._option.endCap,i=this._errorBarOverlayView()._isYRelated(),o=this._getAxisBy(i),r=this._varibility().join,l=new t.RectangularErrorBarPrototype(i,e>=0,n),a=o._scaleModel._value(r),s=o._scaleModel._value((null==r?0:r)+e),u=(null==s?0:s)-(null==a?0:a);return l.barLen=Math.abs(u),l},n}(t._CartesianErrorBarOverlayItemView);t._CartesianRectangleErrorBarOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__pointView=t,i._overlayItem=n,i}return i(n,e),n.prototype._view=function(){return this.__pointView},n.prototype._filter=function(e){return!t.AnnotationLib._isPlotInRadialCoordinateSystem(this._overlayItem._overlayGroupView()._overlayView()._getCartesianPlotView())},n.prototype.pointAttachmentInfo=function(e){var n=t.AnnotationLib._getXYDirection(this._overlayItem._overlayGroupView()._groupView());return new t.PointAttachInfo(this._getConnectionPoint(),n.xDir,n.yDir,n.xDir,n.yDir)},n.prototype._getConnectionPoint=function(){var e=this.__pointView;return e instanceof t._SymbolCartesianPointView?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},n.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},n.prototype._getConnectionPointInBarPointView=function(e){var n=e._rectangle(),i=this._overlayItem._errorBarOverlayView()._getCartesianPlotView();return i._swapAxes()?i._reversed()===!e._isPositive()?new t.core.Point(n.right,n.top+n.height/2):new t.core.Point(n.left,n.top+n.height/2):i._reversed()===!e._isPositive()?new t.core.Point(n.left+n.width/2,n.top):new t.core.Point(n.left+n.width/2,n.bottom)},n.prototype._onAttached=function(e){e instanceof t._BaseOverlayItemView&&this.__pointView._overlayItemViews().push(e)},n}(t._PointAttachmentAgent);t._RectangularErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__barLen=0,o.__isYRelated=t,o.__isPlus=n,o.__hasCap=i,o}return i(n,e),n.prototype._capLen=function(){return 6},Object.defineProperty(n.prototype,"barLen",{get:function(){return this.__barLen},set:function(t){!isNaN(t)&&t>=0&&(this.__barLen=t)},enumerable:!0,configurable:!0}),n.prototype._box=function(){return this.__isYRelated?new t.core.Rect(0,0,this._capLen(),this.barLen):new t.core.Rect(0,0,this.barLen,this._capLen())},n.prototype._junction=function(e,n){return this.__isPlus?this.__isYRelated?t._MatrixUtility._transformPoint(e,new t.core.Point(0,this.barLen)):t._MatrixUtility._transformPoint(e,new t.core.Point(0,0)):this.__isYRelated?t._MatrixUtility._transformPoint(e,new t.core.Point(0,0)):t._MatrixUtility._transformPoint(e,new t.core.Point(this.barLen,0))},n.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},n.prototype._renderRefresh=function(e){var n,i,o;this.__isPlus?this.__isYRelated?(n=0,i=0,o=t._PathBuilder._defaultPathBuilder._buildPath().moveto(0,this.barLen).lineto(0,0)):(n=this.barLen,i=0,o=t._PathBuilder._defaultPathBuilder._buildPath().moveto(0,0).lineto(n,i)):this.__isYRelated?(n=0,i=this.barLen,o=t._PathBuilder._defaultPathBuilder._buildPath().moveto(0,0).lineto(n,i)):(n=0,i=0,o=t._PathBuilder._defaultPathBuilder._buildPath().moveto(this.barLen,0).lineto(0,0)),this.__linePath=o;var r=this._capLen();this.__isYRelated?(n-=r/2,this.__capPath=t._PathBuilder._defaultPathBuilder._buildPath().moveto(n,i).lineto(n+r,i)):(i-=r/2,this.__capPath=t._PathBuilder._defaultPathBuilder._buildPath().moveto(n,i).lineto(n,i+r)),this.strokeWidth=e.strokeWidth},n.prototype._refresh=function(t){},n.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},n.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},n}(t._PathPrototype);t.RectangularErrorBarPrototype=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype._filter=function(e){return this._overlayItem._errorBarOverlayView()._calculator()._replaceJoin()&&t.prototype._filter.call(this,e)},e.prototype._getConnectionPoint=function(){var e=t.prototype._getConnectionPoint.call(this),n=this._overlayItem._errorBarOverlayView()._isYRelated(),i=this._overlayItem._getAxisBy(n);return this._overlayItem._errorBarOverlayView()._isVertical()?e.y=i._scaleModel._value(this._overlayItem._varibility().join):e.x=i._scaleModel._value(this._overlayItem._varibility().join),e},e}(t._RectangularErrorBarPointAttachmentAgent);t._RectangularReplaceJoinErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._content=function(t){return null!=t&&(this.__content=t),this.__content},n.prototype._init=function(){this.__content=null,this.matrix=null},n.prototype._refreshSize=function(t){if(null!=this._content()){this.__content._refresh(t);var e=this.__content._box();this.width=e.width,this.height=e.height}},n.prototype._junction=function(t,e){return this.__content._junction(e,t)},n.prototype._layoutAnnotation=function(e,n,i){if(null!=this._content()&&n instanceof t._PointAttachmentAgent){var o=n.pointAttachmentInfo(this);null!=o&&(this._updateTransform(e),this._layoutWithPointAttachInfo(o))}},n.prototype._updateTransform=function(t){if(this._refreshSize(t),null!=this.__content){var e=this.__content._box(),n=this._transformInfo();n.left=e.left,n.top=e.top,n.width=e.width,n.height=e.height}},n.prototype._renderAnnotation=function(t,e){var n=this;null!=this._transformInfo().connectionPoint&&(this.__content._renderRefresh(t),t.drawGroup(null,null,this.matrix,(function(t){n.__content._draw(t)})))},n.prototype._contain=function(e){if(null!=this.matrix){var n=this.matrix.invert();return this.__content._contain(t._MatrixUtility._transformPoint(n,e))}return!1},n.prototype._containStroke=function(e){if(null!=this.matrix){var n=this.matrix.invert();return this.__content._containStroke(t._MatrixUtility._transformPoint(n,e))}return!1},n}(t._AnchoredPointAnnotation);t._TemplateAnnotation=e}(t||(t={})),function(t){t._isCartesianOverlayItemView=function(t){var e=t;return null!=e&&"function"==typeof e._overlayGroupView&&"function"==typeof e._cartesianOverlayView&&"function"==typeof e._xs&&"function"==typeof e._ys}}(t||(t={})),t||(t={}),function(t){t._isCartesianOverlayView=function(t){var e=t;return null!=e&&"function"==typeof e._getCartesianPlotView&&"function"==typeof e._groupViews}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){var o=this.__overlayView._plotView();if(t._isTextCartesianPlotView(o))return null;if(t._isCartesianPlotView(o)){var r=this._createItemViewBy(this.__overlayView,n,i,e);if(null!=r){r._label(this._getLabelString());var l=this._getLegendString();return null!=l&&r._setLegendText(l),r}}return null},e.prototype._createItemViewBy=function(e,n,i,o){return this._isLine()?new t._CartesianLineReferenceLineOverlayItemView(e,n,i,o):new t._CartesianRadialReferenceLineOverlayItemView(e,n,i,o)},e.prototype._isLine=function(){var e=this.__overlayView._referenceLineOverlayDefinition()._option,n=this.__overlayView._plotView(),i=n._axisMode(),o=n._swapAxes();return i!=t.AxisMode.Polygonal&&i!=t.AxisMode.Radial||(e.axis==t.AxisType.X?o:!o)},e.prototype._getLabelString=function(){var t=this.__overlayView._referenceLineOverlayDefinition()._option;return null!=t.label?t.label.text:null},e.prototype._getLegendString=function(){return this.__overlayView._referenceLineOverlayDefinition()._option.legendText},e}();t._CartesianReferenceLineOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(){for(var e=new t._OverlayRange,n=null,i=null,o=0,r=this.__overlayView._itemViews();o<r.length;o++){var l=r[o]._value();null==n?n=i=l:(n=Math.max(n,l),i=Math.min(i,l))}return this.__overlayView._referenceLineOverlayDefinition()._option.axis==t.AxisType.X?(e.maxX=n,e.minX=i):(e.maxY=n,e.minY=i),e},e}();t._CartesianReferenceLineOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._referenceLineOverlayDefinition=function(){return this._definition},n.prototype._shouldApplyColorFromPalette=function(){var t=this._referenceLineOverlayDefinition()._option;return!(null!=t.style&&null!=t.style.stroke||this._isGroup()&&null==t.legendText)},n.prototype._initializeStyle=function(){if(this._shouldApplyColorFromPalette())for(var t=0,e=this._itemViews();t<e.length;t++)e[t]._initializeStyle()},n.prototype._isGroup=function(){var e=this._referenceLineOverlayDefinition()._option;return null==e.value&&e.detailLevel==t.DetailLevel.Group},n.prototype._getDataSlices=function(e){var n=this._isGroup()?t.DetailLevel.Group:t.DetailLevel.Total;return(new t._CartesianOverlayDataSlicer)._slice(e._groupView(),n,null==this._referenceLineOverlayDefinition()._option.value)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var t=0,n=this._groupViews();t<n.length;t++)for(var i=n[t],o=0,r=this._getDataSlices(i);o<r.length;o++){var l=r[o];this._createOverlayItemView(l,i,"overlayItem")}},n.prototype._valueFieldFilter=function(t,e){var n=this._referenceLineOverlayDefinition()._option;if(null==n.field)return!0;var i=t._valueField();return null!=i&&n.field.indexOf(i)>=0},n.prototype._sliceDetailKeyFilter=function(e){if(null!=e._seriesView()){var n=this._referenceLineOverlayDefinition()._option,i=this._ownerView._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._seriesView()._getCartesianSeriesDataModel()._detailDimension())}return!0},n.prototype._createOverlayItemView=function(e,n,i){if(this._sliceDetailKeyFilter(e)){var o=n._groupView()._getCartesianGroupDataModel()._valueDefinition();if(this._valueFieldFilter(e,o)&&e._pointViews().length>0){var r=new t._CartesianReferenceLineOverlayItemViewBuilder(this)._bulid(e,n,i);this._injectTheReferenceLine(r),this._itemViews().push(r)}}},n.prototype.useData=function(){this._initialize(),this._analysisData()},n.prototype._initialize=function(){for(var t=0,e=this._itemViews();t<e.length;t++)e[t].initialize()},n.prototype._injectTheReferenceLine=function(e){if(null!=e){var n=this._definition._plotConfigOption.plugins,i=this._definition._pluginCollection;t._BuildInReferenceLineLabelLayoutInjectorCollection.defaultBuildInReferenceLineLabelLayoutInjectors().injectReferenceLineLabelLayout(e,n,i)}},n.prototype._analysisData=function(){var e=this._referenceLineOverlayDefinition()._option;if(null==e.value)for(var n=0,i=this._itemViews();n<i.length;n++){var o=(_=i[n])._slice(),r=null,l=this._extractData(o);if(null!=(r=e.axis==t.AxisType.X?l.xs:l.ys)){r=r.filter((function(t){return null!=t}));var a=t._ReferenceLineAggregater.aggregate(r,e);_._updateData(a)}}else{a=this._toCoordinateValue(e.value,e.axis);for(var s=0,u=this._itemViews();s<u.length;s++){var _;(_=u[s])._updateData(a)}}},n.prototype._extractData=function(e){return t._CartesianPointDataExtractor.extract(e,!0,!1)},n.prototype._toCoordinateValue=function(t,e){return this.invert(this._getCartesianPlotView(),t,e)},n.prototype.invert=function(e,n,i){for(var o=n,r=0,l=e._getCartesianPlotDataModel()._groups();r<l.length;r++){var a=l[r],s=null;if(i==t.AxisType.X?s=a._x():i==t.AxisType.Y&&(s=a._y()),t._isOrdinalDimension(s))for(var u=0,_=s._dimensionValues();u<_.length;u++){var p=_[u],c=p.rawValue;if(null!=c&&t._AnyTypeUtility._isDate(c)){var h=c,f=0;if(f="string"==typeof n?Date.parse(t._AnyTypeUtility._toString(n)):o,h.valueOf()==f){o=p._value();break}}else if(t._DataValueTypeEqualityComparer._comparer._equalsWith(p.rawValue,t._DataValueTypeExtension._toDataValueType(o))){o=p._value();break}}else{var d=s._definition();if(null!=d){var y=d.queryInterface("IXFieldDimensionDefinition");null!=y&&null!=y._fieldDefinition()&&y._fieldDefinition()._dataField._type()===t.core.DataType.Date&&"string"==typeof n&&(o=Date.parse(t._AnyTypeUtility._toString(n)));var g=d.queryInterface("IAggregateValueDimensionDefinition");null!=g&&null!=g._fieldDefinition()&&g._fieldDefinition()._dataField._type()===t.core.DataType.Date&&"string"==typeof n&&(o=Date.parse(t._AnyTypeUtility._toString(n)));var m=d.queryInterface("IXyValueDimensionDefinition");null!=m&&null!=m._fieldDefinition()&&m._fieldDefinition()._dataField._type()===t.core.DataType.Date&&"string"==typeof n&&(o=Date.parse(t._AnyTypeUtility._toString(n)))}}}return"number"!=typeof o?Number(o):t._AnyTypeUtility._toNumber(o)},Object.defineProperty(n.prototype,"overlayItems",{get:function(){return this._itemViews().slice()},enumerable:!0,configurable:!0}),n.prototype.buildRangePolicy=function(){return new t._CartesianReferenceLineOverlayRangePolicy(this)},n.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayView);t._CartesianReferenceLineOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,i,o)||this;return l.__slice=r,l.__labelOption=n._referenceLineOverlayDefinition()._option.label,l.__shader=new t._OverlayShader(n),l}return i(n,e),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype._initializeStyle=function(){this.__shader._applyPaletteColor()},n.prototype._injectLabelLayouter=function(t){null==this.__labelLayouter&&(this.__labelLayouter=t)},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.ReferenceLineOverlayItem},enumerable:!0,configurable:!0}),n.prototype._slice=function(){return this.__slice},n.prototype._label=function(t){return null!=t&&(this.__label=t),this.__label},Object.defineProperty(n.prototype,"_legendLabel",{get:function(){return this.__legendLabel},enumerable:!0,configurable:!0}),n.prototype._setLegendText=function(t){this.__legendText=t,this._initLegendLabel(t)},n.prototype._value=function(){return this.__value},n.prototype._shape=function(){return this.___shape},n.prototype._updateData=function(t){this.__value=t,this.__label=this._generateLabel(this.__label),this.__legendLabel=this._generateLabel(this.__legendText)},n.prototype._labelView=function(){return this.__dataLabelView},n.prototype._initLegendLabel=function(t){this.__legendLabel=t},n.prototype._drawView=function(e,n){if(null!=this.__value&&!isNaN(this.__value))if(n._renderLabel)null!=this.__dataLabelView&&this.__dataLabelView._render(e,n);else{e.beginTransform(),t._StyleUtility._applyStyle(e,this._getStyle());var i=this.___shape;if(null!=i){var o=i._xs(),r=i._ys();2==o.length?e.drawLine(o[0],r[0],o[1],r[1]):e.drawLines(i._xs(),i._ys())}e.restoreTransform()}},n.prototype._layout=function(t,e){null==this.__value||isNaN(this.__value)||(this._layoutContent(t,e),this._hasDataLabel()&&null!=this.__labelLayouter&&(null==this.__dataLabelView&&(this.__dataLabelView=this._createDataLabelView()),this.__labelLayouter.layout(t,e)))},n.prototype._createDataLabelView=function(){return new t._ReferenceLineLabelView(this,this._label(),this.__labelOption.textStyle,this.__labelOption.style)},n.prototype._hasLegend=function(){return null!=this.__legendText},n.prototype._hasDataLabel=function(){return null!=this.__labelOption&&null!=this._label()&&""!=this._label()&&this.__labelOption.display},n.prototype._generateLabel=function(e){var n=e;if(null==n)return null;var i=this._slice(),o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(n),l=new t.models._CartesianReferencelineLabelTextProxy(this,i._detailKey(),i._valueField(),this.__value,this._cartesianOverlayView()._getCartesianPlotView()._stringFormatting()),a=this._ownerView._getDefinition()._plotConfigOption.plugins,s=o.evaluate(r,l,a,this._ownerView._plotView()._getDefinition()._pluginCollection),u=this._toLines(s);return null!=u?u.join(""):n},n.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},n.prototype._cartesianReferenceLineOverlayView=function(){return this._ownerView},n.prototype._getStrokeColor=function(){if(null!=this.__slice._seriesView()&&!this._hasLegend()){var e=this.__slice._seriesView();if(e instanceof t._CartesianSeriesView)return e.color}return this.__shader._baseColor},n.prototype.getStrokeWidth=function(){return this._getStyle().strokeWidth},n.prototype.getSymbol=function(){var e=this._getStyle();return new t._OverlayLineSymbol(e.strokeWidth,e.strokeDasharray,e.stroke)},n.prototype._getStyle=function(){var e=t._StyleUtility._buildStrokeStyle(null,null,1);return t._StyleUtility._applyDataPointStyleOption(e,this._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.style),null==e.stroke&&(e.stroke=this._getStrokeColor()),t._StyleUtility._applyAllStyle(e,this.style),e},n.prototype._containsInStroke=function(t){var e=this.___shape;return null!=e&&e.containsInStroke(t)},n.prototype.queryInterface=function(t){return"IShapeModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._containsInStroke(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.ReferenceLineOverlayItem);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},n}(t._CartesianOverlayItemView);t._CartesianReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._layoutContent=function(e,n){var i=this;this.___xs=[],this.___ys=[];var o=this._overlayGroupView()._groupView(),r=this._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option,l=o._horizontalAxisView(),a=o._verticalAxisView(),s=o._axisMode(),u=o._swapAxes(),_=this._value();if(s==t.AxisMode.Polygonal){var p=this._getLineInPolygonAxes(a._scaleModel._value(_),o._verticalAxisView(),a._scaleModel._getReversed());null!=p.xs&&null!=p.ys&&(this.___xs=p.xs,this.___ys=p.ys)}else if(s==t.AxisMode.Radial){var c=o._cx(),h=o._cy(),f=l._scaleModel._value(l._scaleModel._maximum),d=l._scaleModel._value(l._scaleModel._minimum);t._ArrayUtility._assignValueToArray(this.___xs,0,Math.cos(a._scaleModel._value(_))*f+c,NaN),t._ArrayUtility._assignValueToArray(this.___xs,1,Math.cos(a._scaleModel._value(_))*d+c,NaN),t._ArrayUtility._assignValueToArray(this.___ys,0,Math.sin(a._scaleModel._value(_))*f+h,NaN),t._ArrayUtility._assignValueToArray(this.___ys,1,Math.sin(a._scaleModel._value(_))*d+h,NaN)}else this._xor(u,r.axis===t.AxisType.X)?(t._ArrayUtility._assignValueToArray(this.___ys,0,a._scaleModel._value(a._scaleModel._maximum),NaN),t._ArrayUtility._assignValueToArray(this.___ys,1,a._scaleModel._value(a._scaleModel._minimum),NaN),t._ArrayUtility._assignValueToArray(this.___xs,0,l._scaleModel._value(_),NaN),t._ArrayUtility._assignValueToArray(this.___xs,1,l._scaleModel._value(_),NaN)):(t._ArrayUtility._assignValueToArray(this.___xs,0,l._scaleModel._value(l._scaleModel._maximum),NaN),t._ArrayUtility._assignValueToArray(this.___xs,1,l._scaleModel._value(l._scaleModel._minimum),NaN),t._ArrayUtility._assignValueToArray(this.___ys,0,a._scaleModel._value(_),NaN),t._ArrayUtility._assignValueToArray(this.___ys,1,a._scaleModel._value(_),NaN));var y=this.___xs.map((function(e,n){return new t.core.Point(e,i.___ys[n])}));this.___shape=new t._PolylineShape(y),this.___shape.strokeWidth=this.getStrokeWidth()},n.prototype._xor=function(t,e){return t!==e&&(t||e)},n.prototype._getLineInPolygonAxes=function(e,n,i){var o=n._startAngle(),r=o+n._sweep;if(e<o||e>r)return new t._Polyline([],[]);var l=n._scaleModel._ticks().slice(),a=0,s=l.length-1;i&&l.reverse();for(var u=0;u<l.length;++u){var _=l[u];if(n._scaleModel._value(_)>e){s=u;break}a=u}var p=[],c=[],h=n._radius,f=n._innerRadius*h,d=n._scaleModel._value(l[a]),y=n._scaleModel._value(l[s]),g=y-d,m=Math.cos(g/2)/Math.cos(Math.abs(y-e-g/2));return p.push(Math.cos(e)*m*h+n._cx),c.push(Math.sin(e)*m*h+n._cy),p.push(Math.cos(e)*m*f+n._cx),c.push(Math.sin(e)*m*f+n._cy),new t._Polyline(p,c)},n}(t._CartesianReferenceLineOverlayItemView);t._CartesianLineReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._radius=function(){return this.__radius},n.prototype._layoutContent=function(e,n){var i=this._overlayGroupView()._groupView(),o=i._horizontalAxisView(),r=i._verticalAxisView(),l=i._axisMode(),a=this._value();if(this.__radius=o._scaleModel._value(a),l==t.AxisMode.Polygonal){var s=this._getPolygon(r,this.__radius);if(null!=s.xs&&null!=s.ys){var u=s.xs.map((function(e,n){return new t.core.Point(e,s.ys[n])}));this.___shape=new t._PolylineShape(u),this.___shape.strokeWidth=this.getStrokeWidth()}}else this.__startAngle=r._scaleModel._value(r._scaleModel._minimum),this.__sweep=r._scaleModel._value(r._scaleModel._maximum)-this.__startAngle,0!=this.__sweep&&(this.___shape=t._PolylineShape.fromArc(i._cx(),i._cy(),this.__radius,this.__startAngle,this.__sweep,this.getStrokeWidth()))},n.prototype._getPolygon=function(e,n){if(n<0||n>e._radius)return new t._Polyline([],[]);for(var i=e._scaleModel._ticks(),o=[],r=[],l=0;l<i.length;++l){var a=i[l],s=e._scaleModel._value(a);o.push(Math.cos(s)*n+e._cx),r.push(Math.sin(s)*n+e._cy)}return new t._Polyline(o,r)},n}(t._CartesianReferenceLineOverlayItemView);t._CartesianRadialReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return r.__strokeWidth=null!=n?n:1,r.__strokeDasharray=i,r.__stroke=o,r._annotationStyle=r._buildAnnotationStyle(),r}return i(n,e),n.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__stroke&&(e.fill=this.__stroke,e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},n.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyAllStyle(e,o),e.drawLine(n.left,n.top+n.height/2,n.right,n.top+n.height/2),e.restoreTransform()},n}(t._LegendSymbolView);t._OverlayLineSymbol=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t)||this;return r.__label=n,r.__textStyle=i,r.__style=o,r}return i(n,e),n.prototype._cartesianOverlayReferenceLineItemView=function(){return this._ownerView},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillOption(n,this.__style.backgroundColor)},n.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyLineStyleFromStyleOption(e,this.__style)},n.prototype._textOverflow=function(){return t.TextOverflow.Clip},n.prototype._paddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},n.prototype._textView=function(){if(null==this.__textView){var e=t._StyleUtility._buildStyle(),n=this._cartesianOverlayReferenceLineItemView()._cartesianReferenceLineOverlayView()._getDefinition(),i=n._plotConfigOption.plugins,o=n._pluginCollection,r=t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection._defaultBuildInReferenceLineLabelTextStylePolicyBuilders()._referenceLineLabelTextStylePolicy(i,o)._getTextStyle(this.__textStyle,this._cartesianOverlayReferenceLineItemView());t._StyleUtility._applyAllStyle(e,r),this.__textView=new t._TextView(this,this.__label,this._textOverflow(),null,t.HAlign.Left,t.VAlign.Middle,e,null,t.HAlign.Left)}return this.__textView},n.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._renderInnerContent=function(e,n,i){var o=this._getTextAngle(),r=this._getTextLocation();if(null!=o&&0!=o&&null!=r){var l=t._MatrixUtility._buildRotateMatrix(o,r);this._textView()._transform=l}else this._textView()._transform=null;this._textView()._render(e,i)},n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n}(t._RectangleView);t._ReferenceLineLabelView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(t,e){var n=this.__referenceLine,i=this.__option;this._layoutLabelBy(t,n._labelView(),i.position,n.getStrokeWidth(),n._radius(),e)},e.prototype._layoutLabelBy=function(e,n,i,o,r,l){var a=n._measure(e,null)._size,s=new t.core.Rect(0,0,a.width,a.height),u=this.__referenceLine._overlayGroupView()._groupView()._getCartesianPlotView(),_=u._cx(),p=u._cy();i!=t.OverlayLabelPosition.MiddleLeft&&i!=t.OverlayLabelPosition.MiddleRight&&i!=t.OverlayLabelPosition.MiddleCenter||(i=t.OverlayLabelPosition.TopCenter);var c=0;switch(i){case t.OverlayLabelPosition.TopCenter:s.left=_-s.width/2,s.top=p-r-s.height-o/2;break;case t.OverlayLabelPosition.BottomCenter:s.left=_-s.width/2,s.top=p-r+o;break;case t.OverlayLabelPosition.TopLeft:s.left=_-r-o/2-s.width+(s.width-s.height)/2,s.top=p-s.height/2,c=3*Math.PI/2;break;case t.OverlayLabelPosition.BottomLeft:s.left=_-r+o-(s.width-s.height)/2,s.top=p-s.height/2,c=3*Math.PI/2;break;case t.OverlayLabelPosition.TopRight:s.left=_+r+o/2-(s.width-s.height)/2,s.top=p-s.height/2,c=Math.PI/2;break;case t.OverlayLabelPosition.BottomRight:s.left=_+r-s.width-o+(s.width-s.height)/2,s.top=p-s.height/2,c=Math.PI/2}n._setTextLocation(s.center),n._setTextAngle(c),n._layout(e,l,s)},e}(),e._CircleReferencelineLabelLayouter=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(e,n){var i=this.__referenceLine,o=this.__option,r=i._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis,l=i._overlayGroupView()._groupView()._getCartesianPlotView()._swapAxes(),a=i._labelView(),s=a._measure(e,null)._size,u=new t.core.Rect(0,0,s.width,s.height),_=r===t.AxisType.Y,p=o.position,c=i.getStrokeWidth(),h=i._xs(),f=i._ys();if(null!=h&&null!=f){if(_===!l){var d=Math.min(h[0],h[1]),y=Math.max(h[0],h[1]);switch(p){case t.OverlayLabelPosition.TopCenter:u.left=(d+y)/2-u.width/2,u.top=f[1]-c/2-u.height;break;case t.OverlayLabelPosition.BottomCenter:u.left=(d+y)/2-u.width/2,u.top=f[1]+c/2;break;case t.OverlayLabelPosition.TopLeft:u.left=d,u.top=f[1]-c/2-u.height;break;case t.OverlayLabelPosition.BottomLeft:u.left=d,u.top=f[1]+c/2;break;case t.OverlayLabelPosition.TopRight:u.left=y-u.width,u.top=f[1]-c/2-u.height;break;case t.OverlayLabelPosition.MiddleLeft:u.left=d,u.top=f[1]-u.height/2;break;case t.OverlayLabelPosition.MiddleRight:u.left=y-u.width,u.top=f[1]-u.height/2;break;case t.OverlayLabelPosition.MiddleCenter:u.left=(d+y)/2-u.width/2,u.top=f[1]-u.height/2;break;default:u.left=y-u.width,u.top=f[1]+c/2}}else{var g=Math.min(f[0],f[1]),m=Math.max(f[0],f[1]);switch(p){case t.OverlayLabelPosition.TopCenter:u.left=h[0]-u.width/2,u.top=g;break;case t.OverlayLabelPosition.BottomCenter:u.left=h[0]-u.width/2,u.top=m-u.height;break;case t.OverlayLabelPosition.TopLeft:u.left=h[0]-u.width-c/2,u.top=g;break;case t.OverlayLabelPosition.BottomLeft:u.left=h[0]-u.width-c/2,u.top=m-u.height;break;case t.OverlayLabelPosition.TopRight:u.left=h[0]+c/2,u.top=g;break;case t.OverlayLabelPosition.MiddleLeft:u.left=h[0]-u.width-c/2,u.top=(g+m)/2-u.height/2;break;case t.OverlayLabelPosition.MiddleRight:u.left=h[0]+c/2,u.top=(g+m)/2-u.height/2;break;case t.OverlayLabelPosition.MiddleCenter:u.left=h[0]-u.width/2,u.top=(g+m)/2-u.height/2;break;default:u.left=h[0]+c/2,u.top=m-u.height}}a._layout(e,n,u)}},e}(),e._LineReferenceLineLabelLayout=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(e,n){var i=this.__referenceLine,o=i._overlayGroupView()._groupView(),r=i._labelView(),l=r._measure(e,null)._size,a=new t.core.Rect(0,0,l.width,l.height),s=this.__option.position,u=i._xs(),_=i._ys();if(null!=u&&null!=_){var p=o._horizontalAxisView(),c=o._cx(),h=o._cy(),f=p._scaleModel._value(p._scaleModel._maximum),d=new t.core.Point(0,0),y=new t.core.Point(0,0);Math.pow(Math.abs(_[0]-h),2)+Math.pow(Math.abs(u[0]-c),2)>Math.pow(Math.abs(_[1]-h),2)+Math.pow(Math.abs(u[1]-c),2)?(d.x=u[1],d.y=_[1],y.x=u[0],y.y=_[0]):(d.x=u[0],d.y=_[0],y.x=u[1],y.y=_[1]);var g=Math.abs((y.x-c)/f),m=Math.abs((y.y-h)/f),v="";switch(s!=t.OverlayLabelPosition.MiddleLeft&&s!=t.OverlayLabelPosition.MiddleRight&&s!=t.OverlayLabelPosition.MiddleCenter||(s=t.OverlayLabelPosition.TopCenter),this._quda(c,h,y)){case 1:case 3:v=s==t.OverlayLabelPosition.TopLeft||s==t.OverlayLabelPosition.TopCenter||s==t.OverlayLabelPosition.TopRight?"TopLeft":"BottomRight";break;case 2:case 4:v=s==t.OverlayLabelPosition.TopLeft||s==t.OverlayLabelPosition.TopCenter||s==t.OverlayLabelPosition.TopRight?"TopRight":"BottomLeft"}switch((f*g<.5*l.width||f*m<l.height)&&(v=(s===t.OverlayLabelPosition.TopRight||s===t.OverlayLabelPosition.BottomCenter)&&f*g<l.width?"CenterVertical":s==t.OverlayLabelPosition.TopLeft||s==t.OverlayLabelPosition.TopCenter||s==t.OverlayLabelPosition.TopRight?"Top":"Bottom"),s){case t.OverlayLabelPosition.TopCenter:case t.OverlayLabelPosition.BottomCenter:this._calcTopAndLeftByPosition((d.x+y.x)/2,(d.y+y.y)/2,v,a,g,m);break;case t.OverlayLabelPosition.TopLeft:case t.OverlayLabelPosition.BottomLeft:this._calcTopAndLeftByPosition(d.x,d.y,v,a,g,m);break;case t.OverlayLabelPosition.TopRight:case t.OverlayLabelPosition.BottomRight:this._calcTopAndLeftByPosition(y.x,y.y,v,a,g,m)}r._layout(e,n,a)}},e.prototype._quda=function(t,e,n){return n.y-e<0&&n.x-t>0?1:n.y-e<0&&n.x-t<0?2:n.y-e>0&&n.x-t<0?3:n.y-e>0&&n.x-t>0?4:0},e.prototype._calcTopAndLeftByPosition=function(t,e,n,i,o,r){var l=this.__referenceLine.getStrokeWidth()/2;"TopLeft"===n?(i.left=t-i.width-r*l,i.top=e-i.height-o*l):"BottomRight"===n?(i.left=t+r*l,i.top=e+o*l):"TopRight"===n?(i.left=t+r*l,i.top=e-i.height-o*l):"BottomLeft"===n?(i.left=t-i.width-r*l,i.top=e+o*l):"Top"===n?(i.left=t-i.width/2,i.top=e-i.height-l):"Bottom"===n?(i.left=t-i.width/2,i.top=e+l):"CenterVertical"===n&&(i.left=t-i.width/2,i.top=e-i.height/2)},e}(),e._RadialLineReferenceLineLabelLayout=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInReferenceLineLabelTextStylePolicyBuilders=function(){return null==n.__buildInReferenceLineLabelTextStylePolicyBuilders&&(n.__buildInReferenceLineLabelTextStylePolicyBuilders=new n([],n._pluginType)),n.__buildInReferenceLineLabelTextStylePolicyBuilders},n.prototype._convert=function(e){return t._isReferenceLineLabelTextStylePolicyBuilder(e)?e:null},n.prototype._referenceLineLabelTextStylePolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildReferenceLineLabelTextStylePolicy();if(null!=r)return r}return t.DefaultReferenceLineLabelTextStylePolicy._defaultReferenceLineLabelTextStylePolicy},n._pluginType="ReferenceLineLabelTextStylePolicyBuilder",n}(t._BuildInObjectCollection);t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();return t._StyleUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,e),i},e._defaultReferenceLineLabelTextStylePolicy=new e,e}();t.DefaultReferenceLineLabelTextStylePolicy=e}(t||(t={})),t||(t={}),function(t){t._isReferenceLineLabelTextStylePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildReferenceLineLabelTextStylePolicy}}(t||(t={})),function(t){var e=function(){function e(){}return e.aggregate=function(e,n){if(null!=e&&e.length>0){var i=n.aggregate;if(null==i)return null;switch(i){case t.ReferenceLineAggregate.Sum:return t.Statics.Sum(e);case t.ReferenceLineAggregate.Max:return t.Statics.Max(e);case t.ReferenceLineAggregate.Min:return t.Statics.Min(e);case t.ReferenceLineAggregate.Average:return t.Statics.Average(e);case t.ReferenceLineAggregate.Median:return t.Statics.Median(e);case t.ReferenceLineAggregate.Count:return t.Statics.Count(e);case t.ReferenceLineAggregate.Percentile:return n.arguments.percentileType===t.PercentileType.Inclusive?t.Statics.PercentileINC(e,n.arguments.k):t.Statics.PercentileEXC(e,n.arguments.k)}}return null},e}();t._ReferenceLineAggregater=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){var o=this.__overlayView._plotView();if(t._isTextCartesianPlotView(o));else if(t._isCartesianPlotView(o))return this._createItemViewBy(this.__overlayView,n,e,this.__overlayView._trendlineOverlayDefinition()._option,i);return null},e.prototype._createItemViewBy=function(e,n,i,o,r){var l=o.type;return"LinearTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createLinearTrendline(o),o.forecast):"PolynomialTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createPolynomialTrendline(o),o.forecast):"ExponentialTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createExponentialTrendline(o),o.forecast):"LogarithmicTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createLogarithmicTrendline(o),o.forecast):"PowerTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createPowerTrendline(o),o.forecast):"FourierTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createFourierTrendline(o),o.forecast):"MovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createSimpleMovingAverageTrendline(o)):"CumulativeMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createCumulativeMovingAverageTrendline(o)):"ExponentialMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createExponentialMovingAverageTrendline(o)):"WeightedMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createWeightedMovingAverageTrendline(o)):"MovingAnnualTotalTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createMovingAnnualTotalTrendline(o)):null},e.prototype._createMovingAnnualTotalTrendline=function(e){return new t.MovingAnnualTotalTrendline(e.period)},e.prototype._createCumulativeMovingAverageTrendline=function(e){return new t.CumulativeMovingAverageTrendline(e.period)},e.prototype._createSimpleMovingAverageTrendline=function(e){return new t.SimpleMovingAverageTrendline(e.period)},e.prototype._createWeightedMovingAverageTrendline=function(e){return new t.WeightedMovingAverageTrendline(e.period)},e.prototype._createExponentialMovingAverageTrendline=function(e){return new t.ExponentialMovingAverageTrendline},e.prototype._createPowerTrendline=function(e){return new t._PowerTrendline},e.prototype._createExponentialTrendline=function(e){return new t._ExponentialTrendline(e.intercept)},e.prototype._createLinearTrendline=function(e){return new t._LinearTrendline(e.intercept)},e.prototype._createFourierTrendline=function(e){return new t._FourierTrendline(e.order)},e.prototype._createPolynomialTrendline=function(e){return new t._PolynomialTrendline(e.order,e.intercept)},e.prototype._createLogarithmicTrendline=function(e){return new t._LogarithmicTrendline},e}();t._CartesianTrendlineOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._getRange=function(t){if(null!=t&&t.length>0){for(var e=t[0],n=t[0],i=0,o=t;i<o.length;i++){var r=o[i];r>e&&(e=r),r<n&&(n=r)}return[n,e]}return null},e.prototype.getOverlayRange=function(){for(var e=new t._OverlayRange,n=!0,i=this.__overlayView._itemViews(),o=0;o<i.length;++o){var r=i[o],l=this._getRange(r._xs()),a=this._getRange(r._ys());null!=l&&null!=a&&(n?(e.maxX=l[1],e.minX=l[0],e.minY=a[0],e.maxY=a[1],n=!1):(e.maxX=Math.max(e.maxX,l[1]),e.minX=Math.min(e.minX,l[0]),e.maxY=Math.max(e.maxY,a[1]),e.minY=Math.min(e.minY,a[0])))}return e},e}();t._CartesianTrendlineOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._trendlineOverlayDefinition=function(){return this._definition},n.prototype._isGroup=function(){return this._trendlineOverlayDefinition()._option.detailLevel==t.DetailLevel.Group},n.prototype._shouldApplyColorFromPalette=function(){var t=this._trendlineOverlayDefinition()._option;return!(null!=t.style&&null!=t.style.stroke||this._isGroup()&&null==t.label)},n.prototype._initializeStyle=function(){if(this._shouldApplyColorFromPalette())for(var t=0,e=this._itemViews();t<e.length;t++)e[t]._initializeStyle()},n.prototype._generateLabel=function(e){var n=this._trendlineOverlayDefinition()._option.label;if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._CartesianTrendlineLabelTextProxy(this,e._detailKey(),e._valueField(),this._getCartesianPlotView()._stringFormatting()),l=this._definition._plotConfigOption.plugins,a=i.evaluate(o,r,l,this._ownerView._getDefinition()._pluginCollection),s=this._toLines(a);return null!=s?s.join(""):n},n.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},n.prototype._valueFieldFilter=function(t,e){var n=this._trendlineOverlayDefinition()._option;if(null==n.field)return!0;var i=t._valueField();return null!=i&&n.field.indexOf(i)>=0},n.prototype._sliceDetailKeyFilter=function(e){if(null!=e._seriesView()){var n=this._trendlineOverlayDefinition()._option,i=this._ownerView._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._seriesView()._getCartesianSeriesDataModel()._detailDimension())}return!0},n.prototype._createOverlayItemView=function(e,n,i){if(this._sliceDetailKeyFilter(e)){var o=n._groupView()._getCartesianGroupDataModel()._valueDefinition();if(this._valueFieldFilter(e,o)&&e._pointViews().length>0){var r=new t._CartesianTrendlineOverlayItemViewBuilder(this)._bulid(e,n,i);null!=r&&(r._label(this._generateLabel(e)),this._itemViews().push(r))}}},n.prototype._getDataSlices=function(e){return(new t._CartesianOverlayDataSlicer)._slice(e._groupView(),this._trendlineOverlayDefinition()._option.detailLevel,!0)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var t=0,n=this._groupViews();t<n.length;t++)for(var i=n[t],o=0,r=this._getDataSlices(i);o<r.length;o++){var l=r[o];this._createOverlayItemView(l,i,"overlayItem")}},n.prototype.useData=function(){this._initialize()},n.prototype._initialize=function(){for(var t=0,e=this._itemViews();t<e.length;t++)e[t].initialize()},Object.defineProperty(n.prototype,"overlayItems",{get:function(){return this._itemViews().slice()},enumerable:!0,configurable:!0}),n.prototype.buildRangePolicy=function(){return new t._CartesianTrendlineOverlayRangePolicy(this)},n.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayView);t._CartesianTrendlineOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,i,o)||this;return l.__slice=r,null!=r._seriesView()&&(l.___parentView=r._seriesView()),l.__shader=new t._OverlayShader(n),l}return i(n,e),n.prototype._initializeStyle=function(){this.__shader._applyPaletteColor()},Object.defineProperty(n.prototype,"seriesName",{get:function(){if(null!=this.__slice){var t=this.__slice._detailKey();return null!=t?t+"":""}return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrendLineOverlayItem},enumerable:!0,configurable:!0}),n.prototype._slice=function(){return this.__slice},n.prototype._label=function(t){return null!=t&&(this.__label=t),this.__label},n.prototype._hasLegend=function(){return null!=this.__label},n.prototype._cartesianTrendlineOverlayView=function(){return this._ownerView},n.prototype._extractData=function(e){return null==e?null:t._CartesianPointDataExtractor.extract(e,!1,!1)},n.prototype._render=function(n,i){i._renderLabel||(n.beginTransform(),t._StyleUtility._applyStyle(n,this._getStyle()),e.prototype._render.call(this,n,i),n.restoreTransform(),this._afterRender(n,i))},n.prototype._afterRender=function(t,e){},n.prototype._getStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._cartesianTrendlineOverlayView()._getDefinition()._defaultStyle());return t._StyleUtility._applyDataPointStyleOption(e,this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.style),null==e.stroke&&(e.stroke=this._getStrokeColor()),t._StyleUtility._applyAllStyle(e,this.style),e},n.prototype._getStrokeColor=function(){if(null!=this.__slice._seriesView()&&!this._hasLegend()){var e=this.__slice._seriesView();if(e instanceof t._CartesianSeriesView)return e.color}return this.__shader._baseColor},n.prototype.getSymbol=function(){var e=this._getStyle();return new t._OverlayLineSymbol(e.strokeWidth,e.strokeDasharray,e.stroke)},n.prototype.queryInterface=function(t){return"ITrendlineOverlayItemModel"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianOverlayItemView);t._CartesianTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i,o)||this;return l.__trendLine=r,l}return i(n,e),n.prototype.initialize=function(){e.prototype.initialize.call(this),this._prepareTrendline()},n.prototype._extractData=function(e){return null==e?null:t._CartesianPointDataExtractor.extract(e,!1,!0)},n.prototype._prepareTrendline=function(){var t=this.__trendLine;if(null!=t){var e=this._extractData(this._slice());if(null!=e){var n=t._calc(e.xs,e.ys);null!=n.xs&&null!=n.ys&&(this.___xs=n.xs,this.___ys=n.ys)}}},n.prototype._layoutContent=function(e,n){null!=this.___xs&&null!=this.___ys&&(this._prepareTrendline(),this.__shape=t._CartesianTrendlineVisualizer._visualize(this._overlayGroupView()._groupView(),this.___xs,this.___ys,!0))},n.prototype._drawView=function(t,e){this._isRenderContextReady()&&t.drawLines(this.__shape._xs(),this.__shape._ys())},n.prototype._isRenderContextReady=function(){return null!=this.__shape},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._isRenderContextReady())for(var o=this.__shape._points(),r=0;r<o.length-1;++r)if(t._Util.pointToLine(o[r].x,o[r].y,o[r+1].x,o[r+1].y,e.x,e.y)<t._PolylineShape._getAppropriateHitestPaddingBy(this.__shape.strokeWidth)){var l=new t.HitTestResult(e,this,this,t.ElementType.Series);return null==i||null!=i&&i.predicate(l)?l:null}return null},n}(t._CartesianTrendlineOverlayItemView);t._CartesianDiscretePointTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInTrendlineExpressionTextStylePolicyBuilders=function(){return null==n.__buildInTrendlineExpressionTextStylePolicyBuilders&&(n.__buildInTrendlineExpressionTextStylePolicyBuilders=new n([],n._pluginType)),n.__buildInTrendlineExpressionTextStylePolicyBuilders},n.prototype._convert=function(e){return t._isTrendlineExpressionTextStylePolicyBuilder(e)?e:null},n.prototype._trendlineExpressionTextStylePolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildTrendlineExpressionTextStylePolicy();if(null!=r)return r}return t.DefaultTrendlineExpressionTextStylePolicy._defaultTrendlineExpressionTextStylePolicy},n._pluginType="TrendlineExpressionTextStylePolicyBuilder",n}(t._BuildInObjectCollection);t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();return i.fontFamily="MathJax_Main",i.textFill="#000000",i.fontStyle=t.FontStyle.Italic,i.fontSize="14px",t._StyleUtility._applyTextStyleOption(i,e),i},e._defaultTrendlineExpressionTextStylePolicy=new e,e}();t.DefaultTrendlineExpressionTextStylePolicy=e}(t||(t={})),t||(t={}),function(t){t._isTrendlineExpressionTextStylePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildTrendlineExpressionTextStylePolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){var a=e.call(this,t,n,i,o)||this;return a.__trendLine=r,a.__forecastOption=l,a}return i(n,e),n.prototype.initialize=function(){e.prototype.initialize.call(this),this._prepareTrendline()},n.prototype._prepareTrendline=function(){var e=this,n=this.__trendLine;if(null!=n){var i=this._extractData(this._slice());if(null!=i){var o=i.xs,r=i.ys;if(n._fit(o,r),this.__function=n._getFunction(),null!=this.__function){var l=o.map((function(t){return null==t?0:t}));this.__rSquare=n._getRSquare(),l.sort((function(t,e){return t-e}));var a=l.map((function(t){return e.__function.y(t)}));this._autoForecastWithXDimension(this.__function,l,a),this._forecasting(this.__function,l,a);var s=new t.FunctionalSimpleInterpolator(this.__function,50,this._getLogBase()).interpolate(l,a);this.___xs=s.xs,this.___ys=s.ys}}}},n.prototype._autoForecastWithXDimension=function(e,n,i){for(var o=0,r=this._cartesianTrendlineOverlayView()._getCartesianPlotView()._getCartesianPlotDataModel()._groups();o<r.length;o++){var l,a=r[o]._x(),s=null,u=null;if(t.models._isLinearDimension(a)){var _=a;s=_._min(),u=_._max()}else if(t._isOrdinalDimension(a)){var p=a;s=p._indexBase(),u=p._count()}null!=s&&s<n[0]&&null!=(l=this._getApporiateBoundary(e,s))&&(n.unshift(l.x),i.unshift(l.y)),null!=u&&u>n[n.length-1]&&null!=(l=this._getApporiateBoundary(e,u))&&(n.push(l.x),i.push(l.y))}},n.prototype._forecasting=function(t,e,n){var i=e[0]-this.__forecastOption.backwardPeriod,o=e[e.length-1]+this.__forecastOption.forwardPeriod,r=this._getApporiateBoundary(t,i);null!=r&&(e.unshift(r.x),n.unshift(r.y)),null!=(r=this._getApporiateBoundary(t,o))&&(e.push(r.x),n.push(r.y))},n.prototype._getApporiateBoundary=function(e,n){(e instanceof t._Logarithmic||e instanceof t._Power)&&(n=Math.max(n,.01));var i=e.y(n);return null==i?null:new t.core.Point(n,i)},n.prototype._layoutContent=function(e,n){if(null!=this.__function){var i=new t.CartesianFunctionalPointInterpolator(this.__function,this._overlayGroupView()._groupView(),this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.density).interpolate(this.___xs,this.___ys);this.___xs=i.xs,this.___ys=i.ys,this.__shape=t._CartesianTrendlineVisualizer._visualize(this._overlayGroupView()._groupView(),i.xs,i.ys)}},n.prototype._drawView=function(t,e){this._isRenderContextReady()&&(this.__shape.strokeWidth=t.strokeWidth,t.drawLines(this.__shape._xs(),this.__shape._ys()))},n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPlotCoordinatePointAttachmentAgent(this._overlayGroupView()._groupView()))},n.prototype._afterRender=function(t,e){if(this._isRenderContextReady()){var n=this._createExpressionsLabelView();null!=n&&(n._layout(t,this.__shape._points(),this.___xs,this.___ys),n._render(t,e))}},n.prototype._createExpressionsLabelView=function(){if(null!=this.__function&&null!=this.__rSquare){var e=[];this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text.equation&&e.push(this.__function.expression()),this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text.rSquaredValue&&e.push(this.__rSquare.expression());var n=this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text,i=this._cartesianOverlayView()._getCartesianPlotView()._getDefinition()._plotConfigOption.plugins,o=this._cartesianOverlayView()._getCartesianPlotView()._getDefinition()._pluginCollection,r=t._BuildInOverlayTrendlineExpressionPluginCollection._defaultBuildInOverlayTrendlineExpressionPlugins()._overlayTrendlineExpression(this,e,n,i,o);return null!=r?r:new t._ExpressionsLabelView(this,e,n)}return null},n.prototype._getLogBase=function(){var e=this._overlayGroupView()._groupView()._xAxisView();return t._CartesianLogAxisSupport._isLogAxis(e)?t._CartesianLogAxisSupport._getLogBase(e):null},n.prototype._isRenderContextReady=function(){return null!=this.__shape&&this.__shape._points().length>1},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._isRenderContextReady())for(var o=this.__shape._points(),r=0;r<o.length-1;++r)if(t._Util.pointToLine(o[r].x,o[r].y,o[r+1].x,o[r+1].y,e.x,e.y)<t._PolylineShape._getAppropriateHitestPaddingBy(this.__shape.strokeWidth)){var l=new t.HitTestResult(e,this,this,t.ElementType.Series);return null==i||null!=i&&i.predicate(l)?l:null}return null},n}(t._CartesianTrendlineOverlayItemView);t._CartesianFunctionalTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isLogAxis=function(e){return null!=e._getDefinition()._option.scale&&e._getDefinition()._option.scale.type===t.ValueScaleType.Logarithmic},e._getLogBase=function(t){return e._isLogAxis(t)?t._getDefinition()._option.logBase:null},e}();t._CartesianLogAxisSupport=e}(t||(t={})),function(t){var e=function(){function t(){}return t._defaultLabelAdjustmentPolicy=function(){return null==t.__defaultLabelAdjustmentPolicy&&(t.__defaultLabelAdjustmentPolicy=new t),t.__defaultLabelAdjustmentPolicy},t.prototype.adjustLabel=function(t,e,n){e.left<n.left&&t.translate(n.left-e.left,0),e.top<n.top&&t.translate(0,n.top-e.top),e.right>n.right&&t.translate(n.right-e.right,0),e.bottom>n.bottom&&t.translate(0,n.bottom-e.bottom)},t}();t._DefaultLabelAdjustmentPolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o._expressions=n,o._option=i,o}return i(n,e),n.prototype._cartesianFunctionalTrendlineOverlayItemView=function(){return this._ownerView},n.prototype.translate=function(t,e){if(null!=this._rectangle){this._rectangle.left+=t,this._rectangle.top+=e;for(var n=0,i=this._expressions;n<i.length;n++){var o=i[n];null!=o&&o.translate(t,e)}}},Object.defineProperty(n.prototype,"expressions",{get:function(){return this._expressions},enumerable:!0,configurable:!0}),n.prototype._layout=function(e,n,i,o){null==this._rectangle&&(this._rectangle=this._calculateRectangle(e,this._expressions));var r,l,a=this._rectangle.clone(),s=this._ownerView._overlayGroupView()._groupView(),u=s._xAxisView(),_=a.center;if(this._option.placement==t.LinePlacement.Start)r=n[0],l=o[0];else if(this._option.placement==t.LinePlacement.Center){var p=n.length/2;r=n[Math.floor(p)],l=o[Math.floor(p)]}else r=n[n.length-1],l=o[n.length-1];if(t.AnnotationLib._isPlotInRadialCoordinateSystem(s._getCartesianPlotView())){var c=u;this.translate(r.x-_.x,r.y-_.y),_=this._getJoinPointInRadial(this._rectangle.clone(),new t.core.Point(c._cx,c._cy),this._option.position)}else if(s._swapAxes()){this._option.placement!=t.LinePlacement.Center&&(this._option.placement==t.LinePlacement.Start==!s._xAxisView()._scaleModel._getReversed()?_.y=a.bottom:_.y=a.top);var h=0;this._option.position==t.AnnotationPosition.Center||(h=this._option.position==t.AnnotationPosition.Outside==!s._yAxisView()._scaleModel._getReversed()?-a.width/2:a.width/2),(null==u._getAcutalOrigin()?0:u._getAcutalOrigin())>l&&(h=-h),_.x+=h}else{this._option.placement!=t.LinePlacement.Center&&(this._option.placement==t.LinePlacement.Start==!s._xAxisView()._scaleModel._getReversed()?_.x=a.left:_.x=a.right);var f=0;this._option.position==t.AnnotationPosition.Center||(f=this._option.position==t.AnnotationPosition.Outside==!s._yAxisView()._scaleModel._getReversed()?a.height/2:-a.height/2),(null==u._getAcutalOrigin()?0:u._getAcutalOrigin())>l&&(f=-f),_.y+=f}this.translate(r.x-_.x,r.y-_.y),t._DefaultLabelAdjustmentPolicy._defaultLabelAdjustmentPolicy().adjustLabel(this,this._rectangle,s._getCartesianPlotView()._getLayoutView()._getPlotAreaView()._getRectangle())},n.prototype._drawView=function(t,e){if(null!=this._rectangle)for(var n=0,i=this._expressions;n<i.length;n++){var o=i[n];null!=o&&o.render(t)}},n.prototype._calculateRectangle=function(e,n){for(var i=0,o=0,r=0,l=n;r<l.length;r++){var a=l[r];if(null!=a){a.preview(e,this._getStyle());var s=a.box();a.translate(0,o+s.height),i=Math.max(i,s.width),o+=s.height}}return this._centerAlign(this._expressions,i),new t.core.Rect(0,0,i,o)},n.prototype._getStyle=function(){var e=this._option.textStyle,n=this._cartesianFunctionalTrendlineOverlayItemView()._cartesianTrendlineOverlayView()._getDefinition(),i=n._plotConfigOption.plugins,o=n._pluginCollection;return t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection._defaultBuildInTrendlineExpressionTextStylePolicyBuilders()._trendlineExpressionTextStylePolicy(i,o)._getTextStyle(e,this._cartesianFunctionalTrendlineOverlayItemView())},n.prototype._centerAlign=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(null!=o){var r=o.box();o.translate((e-r.width)/2,0)}}},n.prototype._getJoinPointInRadial=function(e,n,i){var o=e.center;if(i===t.AnnotationPosition.Center)return o;var r=[new t.core.Point(o.x-1,o.y-1),new t.core.Point(o.x-1,o.y),new t.core.Point(o.x-1,o.y+1),new t.core.Point(o.x,o.y+1),new t.core.Point(o.x+1,o.y+1),new t.core.Point(o.x+1,o.y),new t.core.Point(o.x+1,o.y-1),new t.core.Point(o.x,o.y-1)],l=[new t.core.Point(e.left,e.top),new t.core.Point(e.left,o.y),new t.core.Point(e.left,e.bottom),new t.core.Point(o.x,e.bottom),new t.core.Point(e.right,e.bottom),new t.core.Point(e.right,o.y),new t.core.Point(e.right,e.top),new t.core.Point(o.x,e.top)];return i===t.AnnotationPosition.Inside?l[(this._nearestPointIndex(r,n)+4)%8]:l[this._nearestPointIndex(r,n)]},n.prototype._nearestPointIndex=function(t,e){for(var n=Number.MAX_VALUE,i=0,o=0;o<t.length;++o){var r=t[o],l=(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y);l<n&&(n=l,i=o)}return i},n}(t._BaseView);t._ExpressionsLabelView=e}(t||(t={})),function(t){t._isExpressionsLabelView=function(t){var e=t;return null!=e&&void 0!==e.expressions&&"function"==typeof e._layout&&"function"==typeof e._render}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i,o){this.__context=e,this.__groupKey=n,this.__valueFieldName=null==i?"":i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){if(null==t)return null;if("Field"==t){if(null!=this.__valueFieldName)return new e._DataValueInfo(this.__valueFieldName,this.__stringFormatting)}else if("Group"==t&&null!=this.__groupKey)return new e._DataValueInfo(this.__groupKey,this.__stringFormatting);return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._CartesianTrendlineLabelTextProxy=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._waterfallConnectLineOverlayDefinition=function(){return this._definition},n.prototype._createOverlayItemView=function(e,n){var i=new t._WaterfallConnectLineOverlayItemView(this,e,n);this._itemViews().push(i)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var t=0,n=this._groupViews();t<n.length;t++){var i=n[t];this._createOverlayItemView(i,"overlayItem")}},n.prototype.useData=function(){},n}(t._CartesianOverlayView);t._WaterfallConnectLineOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._WaterfallConnectLineOverlayView=function(){return this._ownerView},n.prototype._layoutContent=function(t,e){},n.prototype._isNegative=function(t){var e=t._data().queryInterface("INumberStackValue");if(null!=e){var n=e.value,i=e.previous;if(null==n&&(n=0),null==i&&(i=0),n<i)return!1}return!0},n.prototype._xor=function(t,e){return t!==e&&(t||e)},n.prototype._drawLine=function(e,n,i){var o=null,r=null,l=this._overlayGroupView()._groupView(),a=l._horizontalAxisView()._scaleModel._getReversed(),s=l._verticalAxisView()._scaleModel._getReversed();if(n instanceof t._XyBarCartesianPointView&&i instanceof t._XyBarCartesianPointView)if(l._swapAxes()){var u=this._xor(a,this._isNegative(n))?n._rectangle().right:n._rectangle().left;o=new t.core.Point(u,s?n._rectangle().top:n._rectangle().bottom),u=this._xor(a,this._isNegative(i))?i._rectangle().left:i._rectangle().right,r=new t.core.Point(u,s?i._rectangle().bottom:i._rectangle().top)}else{var _=this._xor(s,this._isNegative(n))?n._rectangle().top:n._rectangle().bottom;o=new t.core.Point(a?n._rectangle().right:n._rectangle().left,_),_=this._xor(s,this._isNegative(i))?i._rectangle().bottom:i._rectangle().top,r=new t.core.Point(a?i._rectangle().left:i._rectangle().right,_)}null!=o&&null!=r&&e.drawLine(o.x,o.y,r.x,r.y)},n.prototype._drawView=function(e,n){var i=this,o=this._overlayGroupView()._groupView()._getCartesianPlotView();if(!n._renderLabel){e.beginTransform();var r=this._WaterfallConnectLineOverlayView()._waterfallConnectLineOverlayDefinition();t._StyleUtility._applyStyle(e,r._defaultStyle()),t._StyleUtility._applyLineStyleOption(e,r._option),o._traverseCartesianGroupView((function(t){for(var n=0,o=t._getCartesianSeriesViews();n<o.length;n++)for(var r=o[n]._filterPointViews(),l=r.length,a=0;a<l;a++){var s=r[a],u=a+1===r.length?null:r[a+1];null!=s&&null!=u&&i._drawLine(e,s,u)}})),e.restoreTransform()}},n}(t._CartesianOverlayItemView);t._WaterfallConnectLineOverlayItemView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._apply=function(t){null!=t&&this._applyOverlayItemViewConditionFormattingRules(t,this._createOverlayItemConditionalFormattingRules(t,t._getOverlayView()._getDefinition()._getOption().rules))},e.prototype._applyOverlayItemViewConditionFormattingRules=function(t,e){for(var n=0,i=e;n<i.length;n++)i[n].evaluate(t)},e.prototype._createOverlayItemConditionalFormattingRules=function(e,n){var i=[];return n.forEach((function(n){if(null!=n){var o=e._getOverlayView()._plotView()._getDefinition()._pluginCollection,r=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,[],o);null!=r&&i.push(r)}})),i},e}(),e._OverlayItemConditionalFormattingRuleRunner=n}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isOverlayItemViewContext=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isOverlayRangeBuilder=function(t){return"function"==typeof t.buildRangePolicy}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._bulid=function(t){return this._createItemViewGeneratorBy(t)},e.prototype._createItemViewGeneratorBy=function(e){var n=e._type();return"Text"===n?new t.TextLegendItemsGenerater(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()):"Line"===n?new t.LineLegendItemsGenerater(e):"Ellipse"===n?new t.EllipseLegendItemsGenerator(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,e._annotationStyle()):"Image"===n?new t.ImageLegendItemsGenerator(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label):"Needle"===n||"Rectangle"===n||"Path"===n?new t.RectLegendItemsGenerater(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,e._annotationStyle()):null},e}();t._AnnotationOverlayLegendItemGeneratorBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__label=t,this.__annotationStyle=e}return e.prototype._generate=function(e){var n=this.__annotationStyle,i=new t._OverlayEllipseSymbol(n.strokeWidth,n.strokeDasharray,n.stroke,n.fill),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]},e}();t.EllipseLegendItemsGenerator=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__label=t}return e.prototype._generate=function(e){var n=new t._OverlayImageSymbol,i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,n,this.__label,i)]},e}();t.ImageLegendItemsGenerator=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,this.__annotationStyle=t._annotationStyle()}return e.prototype._generate=function(e){if(null!=this.__label&&""!==this.__label){var n=this.__annotationStyle,i=new t._OverlayLineSymbol(n.strokeWidth,n.strokeDasharray,n.stroke),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]}return[]},e}();t.LineLegendItemsGenerater=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__label=t,this.__annotationStyle=e}return e.prototype._generate=function(e){var n=this.__annotationStyle,i=new t._OverlayRectSymbol(n.strokeWidth,n.strokeDasharray,n.stroke,n.fill),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]},e}();t.RectLegendItemsGenerater=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t.label,null!=t.textStyle&&null!=t.textStyle.color&&""!=t.textStyle.color?this.__color=t.textStyle.color:this.__color="black"}return e.prototype._generate=function(e){if(null!=this.__label&&""!==this.__label){var n=new t._OverlayTextSymbol(new t._CssColor(this.__color)),i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,n,this.__label,i)]}return[]},e}();t.TextLegendItemsGenerater=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r._setSymbol(n),r}return i(e,t),e}(t._ItemizedLegendItemDataModel),e._OverlayGeneralLegendItem=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return l.__strokeWidth=1,null!=n&&(l.__strokeWidth=n),l.__strokeDasharray=i,l.__stroke=o,l.__fill=r,l._annotationStyle=l._buildAnnotationStyle(),l}return i(n,e),n.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__fill&&(e.fill=this.__fill),null!=this.__stroke&&(e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},n.prototype.render=function(e,n,i){e.beginTransform();var o=Math.min(n.width/2,n.height/2);this.__strokeWidth=Math.min(.4*o,this.__strokeWidth),this._annotationStyle.strokeWidth=this.__strokeWidth,o-=.05*o;var r=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyStyle(e,r),e.drawEllipse(n.center.x,n.center.y,o,o),e.restoreTransform()},n}(t._LegendSymbolView);t._OverlayEllipseSymbol=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return n._annotationStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1),n}return i(n,e),n.prototype.render=function(e,n,i){e.beginTransform();var o=[t._PathBuilder._defaultPathBuilder._buildPathFromExpression("m373.410156 0h-234.816406c-76.421875 0-138.59375 62.171875-138.59375 138.59375v234.8125c0 76.421875 62.171875 138.59375 138.59375 138.59375h234.816406c76.417969 0 138.589844-62.171875 138.589844-138.59375v-234.8125c0-76.421875-62.171875-138.59375-138.589844-138.59375zm108.574219 373.40625c0 59.871094-48.707031 108.578125-108.578125 108.578125h-234.8125c-59.871094 0-108.578125-48.707031-108.578125-108.578125v-1.316406l86.089844-79.25c2.4375-2.242188 6.257812-2.242188 8.695312-.003906l65.875 60.476562c7.640625 7.015625 17.941407 10.441406 28.269531 9.414062 10.324219-1.03125 19.742188-6.4375 25.847657-14.828124l116.25-159.847657c1.542969-2.117187 3.65625-2.558593 4.777343-2.632812 1.121094-.066407 3.273438.085937 5.078126 1.988281l111.082031 117.050781v68.949219zm0-112.550781-89.3125-94.109375c-7.472656-7.875-17.960937-11.984375-28.808594-11.277344-10.832031.707031-20.707031 6.148438-27.09375 14.929688l-116.253906 159.847656c-1.472656 2.023437-3.488281 2.507812-4.558594 2.613281-1.066406.105469-3.136719.035156-4.980469-1.660156l-65.875-60.472657c-13.839843-12.710937-35.503906-12.691406-49.324218.03125l-65.761719 60.535157v-192.699219c0-59.871094 48.707031-108.578125 108.578125-108.578125h234.816406c59.867188 0 108.574219 48.707031 108.574219 108.578125zm0 0"),t._PathBuilder._defaultPathBuilder._buildPathFromExpression("m142.910156 86.734375c-29.082031 0-52.746094 23.664063-52.746094 52.75 0 29.082031 23.664063 52.746094 52.746094 52.746094 29.085938 0 52.746094-23.664063 52.746094-52.746094.003906-29.085937-23.660156-52.75-52.746094-52.75zm0 75.476563c-12.53125 0-22.730468-10.195313-22.730468-22.730469 0-12.53125 10.199218-22.730469 22.730468-22.730469 12.535156 0 22.730469 10.195312 22.730469 22.730469 0 12.535156-10.195313 22.730469-22.730469 22.730469zm0 0")],r=new t._PathsAnnotation;r.position=t.AnnotationPosition.Center;var l=Math.min(n.width,n.height);r.paths=o,r.width=l,r.height=l,r.join=new t.core.Point(256,256),r._applyCustomStyle(this._annotationStyle),r._bindAttachmentAgent(new t._SimplePointAttachmentAgent(n.center)),r._layout(e,new t._RenderContext),r._render(e,new t._RenderContext),e.restoreTransform()},n}(t._LegendSymbolView);t._OverlayImageSymbol=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return l.__strokeWidth=1,null!=n&&(l.__strokeWidth=n),l.__strokeDasharray=i,l.__stroke=o,l.__fill=r,l._annotationStyle=l._buildAnnotationStyle(),l}return i(n,e),n.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__fill&&(e.fill=this.__fill),null!=this.__stroke&&(e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},n.prototype.render=function(e,n,i){e.beginTransform(),this.__strokeWidth=Math.min(.2*n.height,this.__strokeWidth),this._annotationStyle.strokeWidth=this.__strokeWidth;var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyStyle(e,o),e.drawRect(n.left+.1*n.width,n.top+.05*n.height,.8*n.width,.9*n.height),e.restoreTransform()},n}(t._LegendSymbolView);t._OverlayRectSymbol=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return i.__textColor=n,i._annotationStyle=i._buildAnnotationStyle(),i}return i(n,e),n.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();if(null!=this.__textColor){var n=this.__textColor.color;if("none"==n)e.textFill="none";else{var i=t._NativeColorBuilder._colorBuilder._build(n);e.textFill=null!=i?i._toCss():null}}return e.fontSize="14",e},n.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyAllStyle(e,o);var r=e.measureSingleLineString("A"),l=new t.core.Rect((n.width-r.width)/2+n.left,(n.height-r.height)/2+n.top,r.width,r.height);e.drawMultiLineString("A",l,t.TextOverflow.Clip,t.HAlign.Left),e.restoreTransform()},n}(t._LegendSymbolView);t._OverlayTextSymbol=e}(t||(t={})),function(t){var e=function(){function e(){}return e._overlayLegendSymbolStyleBuilder=function(){return null==e.__overlayLegendSymbolStyleBuilder&&(e.__overlayLegendSymbolStyleBuilder=new e),e.__overlayLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=e,r=t._StyleUtility._buildStyle();if(o instanceof t._OverlayEllipseSymbol||o instanceof t._OverlayRectSymbol){var l=o._colorBuilder._buildLegendSymbolColor(o);null!=l&&(r.fill=l,r.stroke=l);var a=o._getDataPointStyleOption(),s=o._getSelectedStyle(),u=o._getUnselectedStyle(),_=t._LegendUtility._getRelatedPointViewsStyle(e),p=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),c=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,c),i?t._StyleUtility._applyDataPointSymbolStyleOption(r,a):t._StyleUtility._applyDataPointStyleOption(r,a),n.hasSelectionInPlotArea&&(o._legendItemView()._isSelected()?i?t._StyleUtility._applyDataPointSymbolStyleOption(r,s):t._StyleUtility._applyDataPointStyleOption(r,s):i?t._StyleUtility._applyDataPointSymbolStyleOption(r,u):t._StyleUtility._applyDataPointStyleOption(r,u))}return t._StyleUtility._applyAllStyle(r,o._annotationStyle),r},e}();t._OverlayLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.PathBalloon="M -0.5421 -0.8857 A 0.6 0.6 0 1 1 0.5421 -0.8857 C 0.3878 -0.5605 0 -0.42 0 0 C 0 -0.42 -0.3878 -0.5605 -0.5421 -0.8857 Z",t.PathBalloonBBox=[-.6000000238418579,-1.742852807044983,1.2000000476837158,1.742852807044983],t.PathTriangle="m0,100l50,-100l50,100l-100,0z",t.PathGauge="M 50,0 L 60, 100 Q 60 ,110 50, 110, T 40, 100 Z",t.PathBalloon2="m50,0c-14.9112,0 -27.000001,12.6793 -27.000001,28.318866c0,15.643342 27.000001,68.422157 27.000001,68.422157s27.000001,-52.778815 27.000001,-68.422157c0,-15.639566 -12.0852,-28.318866 -27.000001,-28.318866z",t}();t._OverlayConstants=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return Object.defineProperty(e.prototype,"_baseColor",{get:function(){return null==this.__baseColor?t._CssColor._defaultStyleColor():this.__baseColor},enumerable:!0,configurable:!0}),e.prototype._applyPaletteColor=function(){this.__baseColor=this.__overlayView._getColor()},e}();t._OverlayShader=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._pointViews=function(){var e=t.AnnotationLib._parsePointPath(this._ownerView,this._definition._getAnnotationOverlayOption().pointPath);return null!=e?e:[]},n.prototype._createOverlayItemView=function(e,n){return new t._TextPointAnnotationOverlayItemViewBuilder(this)._bulid(e,n)},n.prototype.createOverlayItemViews=function(){for(var e=0,n=this._pointViews();e<n.length;e++){var i=n[e];i instanceof t._TextCartesianPointView&&null!=i&&this._createOverlayItemView(i,i._id()+this._id())}},n.prototype.useData=function(){for(var t=0,e=this._itemViews();t<e.length;t++){var n=e[t];n.initialize(),n._runConditionalFormatRules()}},n.prototype._itemViews=function(){for(var e=[],n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(o instanceof t._TextCartesianPointView)for(var r=0,l=o._overlayItemViews();r<l.length;r++){var a=l[r],s=this._isChild(a);null!=s&&e.push(s)}}return e},n.prototype._isChild=function(t){return t._getOverlayView()===this?t:null},n.prototype.box=function(){for(var e=[],n=0,i=this._itemViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._DrawingUtility._unionOfRectangles.apply(t._DrawingUtility,e):null},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n}(t._BaseAnnotationOverlayView);t._TextPointAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;o._updateAnnotation(o._createAnnotation());var r=t.AnnotationLib._parseCoordinateValue(o._annotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().offset);return null!=r&&(o._annotation().xOffset=r.x,o._annotation().yOffset=r.y),o}return i(n,e),n.prototype._textAnnotationOverlayView=function(){return this._ownerView},n.prototype._bindPointView=function(t){if(null!=t){var e=t._getAttachmentAgentManager();this._bindAttachmentManager(e,"View")&&(this.___parentView=t)}},n.prototype._isLayoutContextReady=function(){return"View"===this.bindStateType&&e.prototype._isLayoutContextReady.call(this)},n.prototype._isRenderContextReady=function(){return"View"===this.bindStateType&&e.prototype._isRenderContextReady.call(this)},n}(t._AnnotationOverlayItemView);t._TextPointAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e){if(null==this.__overlayView)return null;var n=this._createItemViewBy(this.__overlayView,e);return null!=n&&n._bindPointView(t),n},e.prototype._createItemViewBy=function(e,n){return"Text"===e._type()?new t._TextPointTextAnnotationOverlayItemView(e,n):null},e}();t._TextPointAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"symbol",{get:function(){return this._rectangleBoxTextSymbolAnnotation().symbol},set:function(t){this._rectangleBoxTextSymbolAnnotation().symbol=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return t._AnyTypeUtility._toString(this._innerProperty("text",this._option().text))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!0,configurable:!0}),n.prototype._rectangleBoxTextSymbolAnnotation=function(){return e.prototype._annotation.call(this)},n.prototype._option=function(){return e.prototype._annotationOverlayView.call(this)._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},n.prototype._createAnnotation=function(){var e=new t._RectangleBoxTextSymbolAnnotation(null,null,this._option().position,this._option().placement,this._option().textStyle.overflow,this._option().textStyle.alignment);return e.rotate=this._option().angle,e.symbol=this._option().symbol,e.fixedWidth=this._option().width,e},n.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n._text(this._parseExcelExpression(i)):n._text(t.AnnotationLib._parseTextBoundValues(this.parent,i))},n.prototype.initialize=function(){e.prototype.initialize.call(this),this._rectangleBoxTextSymbolAnnotation().symbol=this._option().symbol},n.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=this._annotation();if(null!=this._proxy()){var i=this._proxy().get("symbol",!0);null!=i&&(null==i.value?n.symbol=null:t._Util.deepAssign(n.symbol,i.value))}},n.prototype._beforeAnnotationLayout=function(){this._rectangleBoxTextSymbolAnnotation().maxWidth=this._ownerView._plotView()._rectangle().width},n.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._StyleUtility._applyOverlayStyleOption(this.__annotationStyle,this._option().style)),this.__annotationStyle},n.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._StyleUtility._applyTextStyleOption(n,this._option().textStyle),t._StyleUtility._applyAllStyle(n,this.style),t._StyleUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},n.prototype.layoutWithInnerAndOutterRotateRect=function(t,e){var n=this._option();return this._layoutLogic(n.hAlign,n.vAlign,n.groupAlign,n.placement,t,e)},n.prototype._layoutLogic=function(e,n,i,o,r,l){var a=this._annotation();if(null!=i)return a.hAlign=t._NativeExtension._toNonNullEnum(i,e),l.clone();var s=r.center,u=l.center,_=r.size,p=l.size,c=t.Vector.pointSub(s,u);switch(a.hAlign=e,a.vAlign=n,o){case t.Placement.Top:case t.Placement.Auto:case t.Placement.Bottom:_.height=p.height;var h=t.Vector.pointSub(r.leftTop,r.leftBottom).standard();s=t.Vector.endPoint(s,h,c.dot(h));break;case t.Placement.Left:case t.Placement.Right:_.width=p.width;var f=t.Vector.pointSub(r.leftTop,r.rightTop).standard();s=t.Vector.endPoint(s,f,c.dot(f))}return new t._RectangleShape(s.x,s.y,_.width,_.height,r.angle)},n.prototype.queryInterface=function(t){if("IInnerAndOutterRotateRectLayouter"===t)return this;var n=this._annotation().queryInterface(t);return null!=n?n:e.prototype.queryInterface.call(this,t)},n}(t._TextPointAnnotationOverlayItemView);t._TextPointTextAnnotationOverlayItemView=e}(t||(t={})),function(t){t._isCartesianOverlayGroupView=function(t){var e=t;return null!=e&&"function"==typeof e._overlayView&&"function"==typeof e._groupView}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition)if(t.options._isReferenceBandOverlayOption(n)){if(null!=(o=n).start&&null!=o.end)return new t._ReferenceBandDefinition(e,o)}else if(t.options._isOverlayOption(n)){var o;if("ReferenceBand"===(o=n).type&&t.options._isJsonOption(n)){var r=new t.options._ReferenceBandOverlayOption(n.json);if(null!=r.start&&null!=r.end)return new t._ReferenceBandDefinition(e,r)}}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianReferenceBandOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this.__axis},set:function(t){this.__axis!=t&&(this.__axis=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="ReferenceBand",this.__axis=t.AxisType.Y,this.__style=new e._DataPointStyleOption(null),this.__start=null,this.__end=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],r.prototype,"axis",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"start",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"end",null),r}(e._OverlayOption),e._ReferenceBandOverlayOption=n}(t||(t={})),function(t){!function(t){t._isReferenceBandOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ReferenceBand"==n.type&&void 0!==n.axis&&void 0!==n.style&&void 0!==n.start&&void 0!==n.end}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianReferenceBandOverlayView(e,this);return null},n}(t._BaseOverlayDefinition);t._ReferenceBandDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._ReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._ReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i,o,r){this.__context=e,this.__groupKey=n,this.__valueFieldName=null==i?"":i,this.__stringFormatting=null!=r?r:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._cartesianReferenceLineOverlayView()._getDefinition()._pluginCollection),this._isDateAxis(e._overlayGroupView()._groupView()._getCartesianPlotView(),e._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis)?this.__value=new Date(o):this.__value=o}return n.prototype._isDateAxis=function(e,n){for(var i=0,o=e._getCartesianPlotDataModel()._groups();i<o.length;i++){var r=o[i],l=null;n==t.AxisType.X?l=r._x():n==t.AxisType.Y&&(l=r._y());var a=l._definition();if(null!=a){var s=a.queryInterface("IXFieldDimensionDefinition");if(null!=s&&null!=s._fieldDefinition()&&s._fieldDefinition()._dataField._type()===t.core.DataType.Date)return!0;var u=a.queryInterface("IAggregateValueDimensionDefinition");if(null!=u&&null!=u._fieldDefinition()&&u._fieldDefinition()._dataField._type()===t.core.DataType.Date)return!0;var _=a.queryInterface("IXyValueDimensionDefinition");if(null!=_&&null!=_._fieldDefinition()&&_._fieldDefinition()._dataField._type()===t.core.DataType.Date)return!0}}return!1},n.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){if(null==t)return null;if("Field"==t){if(null!=this.__valueFieldName)return new e._DataValueInfo(this.__valueFieldName,this.__stringFormatting)}else if("Group"==t){if(null!=this.__groupKey)return new e._DataValueInfo(this.__groupKey,this.__stringFormatting)}else if("Value"==t&&null!=this.__value)return new e._DataValueInfo(this.__value,this.__stringFormatting);return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._CartesianReferencelineLabelTextProxy=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t){return n.call(this,t)||this}return i(o,n),o.prototype.buildLegendItemDataModels=function(n,i){var o=[];if(i instanceof t._CartesianReferenceLineOverlayView)for(var r=i._itemViews(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,n._definition._plotDefinition._pluginCollection),a=function(t){t._hasLegend()&&o.push(new e._ItemizedOverlayLegendItem(n,(function(){return t._legendLabel}),t.getSymbol(),l))},s=0,u=r;s<u.length;s++)a(u[s]);return o},o}(e._OverlayLegendItemsBuilder),e._ReferenceLineOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){t!=this.__text&&(this.__text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"display",{get:function(){return this.__display},set:function(t){this.__display!=t&&(this.__display=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){t!=this.__position&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__text=null,this.__position=t.OverlayLabelPosition.TopLeft,this.__display=!0,this.__textStyle=new e._TextStyleOption(null),this.__style=new e._StyleOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],r.prototype,"display",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlayLabelPosition,t.OverlayLabelPosition.TopLeft)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._ReferenceLineLabelOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"k",{get:function(){return this.__k},set:function(t){this.__k!=t&&(this.__k=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentileType",{get:function(){return this.__percentileType},set:function(t){this.__percentileType!=t&&(this.__percentileType=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__k=0,this.__percentileType=t.PercentileType.Exclusive},o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],n.prototype,"k",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.PercentileType,t.PercentileType.Exclusive)],n.prototype,"percentileType",null),n}(e._Option),e._ReferenceLineOverlayArgumentsOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legendText",{get:function(){return this.__legendText},set:function(t){this.__legendText!=t&&(this.__legendText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this.__axis},set:function(t){this.__axis!=t&&(this.__axis=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){t!=this.__aggregate&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.__value},set:function(t){t!=this.__value&&(this.__value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){t!=this.__label&&(this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"arguments",{get:function(){return this.__arguments},set:function(t){this.__arguments!=t&&(null==t&&(t=new e._ReferenceLineOverlayArgumentsOption),this.__arguments=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="ReferenceLine",this.__axis=t.AxisType.Y,this.__style=new e._DataPointStyleOption(null),this.__aggregate=null,this.__label=null,this.__value=null,this.__detailLevel=t.DetailLevel.Total,this.__field=null,this.__arguments=new e._ReferenceLineOverlayArgumentsOption(null),this.__detailKey=null,this.__legendText=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"legendText",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],r.prototype,"axis",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ReferenceLineAggregate)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._OverlayLabelOptionConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ReferenceLineOverlayArgumentsOption")],r.prototype,"arguments",null),r}(e._OverlayOption),e._ReferenceLineOverlayOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isReferenceLineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ReferenceLine"==n.type&&void 0!==n.axis&&void 0!==n.style&&void 0!==n.aggregate&&void 0!==n.value&&void 0!==n.label&&void 0!==n.legendText&&void 0!==n.detailLevel&&void 0!==n.field&&void 0!==n.detailKey&&void 0!==n.arguments}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianReferenceLineOverlayView(e,this);return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._ReferenceLineOverlayLegendItemsBuilder(this):null},n}(t._BaseOverlayDefinition);t._ReferenceLineDefinition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.matrix_invert=function(t){if(t.length!==t[0].length)return null;var e=0,n=0,i=0,o=t.length,r=0,l=[],a=[];for(e=0;e<o;e+=1)for(l.push(new Array),a.push(new Array),i=0;i<o;i+=1)e==i?l[e].push(1):l[e].push(0),a[e].push(t[e][i]);for(e=0;e<o;e+=1){if(0==(r=a[e][e])){for(n=e+1;n<o;n+=1)if(0!=a[n][e]){for(i=0;i<o;i++)r=a[e][i],a[e][i]=a[n][i],a[n][i]=r,r=l[e][i],l[e][i]=l[n][i],l[n][i]=r;break}if(0==(r=a[e][e]))return null}for(i=0;i<o;i++)a[e][i]=a[e][i]/r,l[e][i]=l[e][i]/r;for(n=0;n<o;n++)if(n!=e)for(r=a[n][e],i=0;i<o;i++)a[n][i]-=r*a[e][i],l[n][i]-=r*l[e][i]}return l},t.matrix_transpose=function(t){return null!=t?t[0].map((function(e,n){return t.map((function(t){return t[n]}))})):null},t.matrix_multiply=function(t,e){var n=t.length,i=t[0].length,o=e.length,r=e[0].length;if(i!==o)return null;for(var l=new Array(n),a=0;a<n;++a){l[a]=new Array(r);for(var s=0;s<r;++s){l[a][s]=0;for(var u=0;u<i;++u)l[a][s]+=t[a][u]*e[u][s]}}return l},t.correlSquare=function(t,e){if(t.length!==e.length)return null;for(var n=t.reduce((function(t,e){return t+e}))/t.length,i=e.reduce((function(t,e){return t+e}))/e.length,o=0,r=0,l=0,a=0;a<t.length;++a)o+=(t[a]-n)*(e[a]-i),r+=(t[a]-n)*(t[a]-n),l+=(e[a]-i)*(e[a]-i);return o*o/(r*l)},t}();t.LeastSquareMathLib=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t){return n.call(this,t)||this}return i(o,n),o.prototype.buildLegendItemDataModels=function(n,i){var o=[];if(i instanceof t._CartesianTrendlineOverlayView)for(var r=i._itemViews(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,n._definition._plotDefinition._pluginCollection),a=function(t){null!=t._label()&&t._hasLegend()&&o.push(new e._ItemizedOverlayLegendItem(n,(function(){return t._label()}),t.getSymbol(),l))},s=0,u=r;s<u.length;s++)a(u[s]);return o},o}(e._OverlayLegendItemsBuilder),e._TrendlineLineOverlayLegendItemsBuilder=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInOverlayTrendlineExpressionPlugins=function(){return null==n.__buildInOverlayTrendlineExpressionPluginCollection&&(n.__buildInOverlayTrendlineExpressionPluginCollection=new n([],n._pluginType)),n.__buildInOverlayTrendlineExpressionPluginCollection},n.prototype._convert=function(e){return t._isOverlayTrendlineExpressionPlugin(e)?e:null},n.prototype._overlayTrendlineExpression=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildTrendlineExpression(t,e,n);if(null!=a)return a}return null},n._pluginType="OverlayTrendlineExpression",n}(t._BuildInObjectCollection);t._BuildInOverlayTrendlineExpressionPluginCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.extract=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e._pointViews();if(null==o||0==o.length)return null;for(var r=[],l=[],a=[],s=[],u=0;u<o.length;++u){var _=o[u];if(!_._data()._filtered&&!_._data()._legendFiltered){var p=this.getAxisYValue(_,n,e.isLower);i?r.push(t.models._CartesianSupport.getXPos(_)):r.push(t.models._CartesianSupport.getX(_)),l.push(p),a.push(_),s.push(u)}}var c=new t.XyPoints;return c.xs=r,c.ys=l,c.points=a,c.index=s,c},e.getAxisYValue=function(e,n,i){var o=t.models._CartesianSupport.getY(e);if(null!=o)return null!=(r=t.models._CartesianSupport.getStackYValue(e._data()))?n&&null!=r.previous?(null==r.value?0:r.value)-r.previous:r.value:o.value;var r,l=t.models._CartesianSupport.getRangeYValue(e);return null!=l?null!=(r=t.models._CartesianSupport.getStackYValue(e._data()))?i?r.previous:r.value:i?l.lower:l.upper:null},e}();t._CartesianPointDataExtractor=e}(t||(t={})),t||(t={}),function(t){var e=function(){};t.XyPoints=e}(t||(t={})),function(t){var e=function(){function t(){}return t._numberToString=function(e,n,i){void 0===i&&(i=6),e<0&&i++;var o=e%1,r=e-o;0!=o&&(0==n?o=0:Math.abs(o)<Math.pow(.1,n)?0!=r&&(o=0):o=t._getSignificanceDigits(o,n));var l=(e=r+o).toString();if(l.length>i){if(0!=r){var a=r.toString();if(a.length==i)return e.toFixed(0);if(a.length<=i-1)return e.toFixed(i-1-a.length)}else{var s=e.toFixed(i-2);if(0!=Number(s))return s}return e.toExponential(1)}return l},t._getBaseLog=function(t,e){return Math.log(e)/Math.log(t)},t._getSignificanceDigits=function(e,n){if(0==e)return 0;if(e<0)return-t._getSignificanceDigits(-e,n);for(var i=Math.floor(-t._getBaseLog(10,e)),o=(e*=Math.pow(10,i)).toFixed(n),r="";i>0;)r+="0",i--;return o=o.replace(".","."+r),parseFloat(o)},t}();t.DefaultNumberExpressionPolicy=e}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=""),this.__expr=t,this.__base=[],this.__append=[]}return e._plus=function(){return new e("+")},e._sub=function(){return new e("-")},e._eq=function(){return new e("=")},e._fx=function(){return new e("y")},e._addNum=function(n,i,o){var r;return void 0===o&&(o=!1),(r=n>=0?e._plus():e._sub()).append(new e(o&&1==Math.abs(n)?"":t.DefaultNumberExpressionPolicy._numberToString(Math.abs(n),i))),(new e).join(r)},e._multiplyNum=function(n,i,o){return void 0===o&&(o=!0),n>=0?new e(o&&1==n?"":t.DefaultNumberExpressionPolicy._numberToString(n,i)):e._sub().join(new e(o&&-1==n?"":t.DefaultNumberExpressionPolicy._numberToString(Math.abs(n),i)))},e._clps=function(t){return new e("(").join(t).join(new e(")"))},e._var=function(t){return new e(t)},e._sin=function(){return new e("sin")},e._cos=function(){return new e("cos")},e.prototype.box=function(){return this.__rect.clone()},e.prototype.join=function(t){return this.__base.push(t),this},e.prototype.raise=function(t){return this.__pow=t,this},e.prototype.append=function(t){return this.__append.push(t),t},e.prototype.toString=function(){var t=this.__base.map((function(t){return t.toString()})),e=this.__expr+t.join("");if(null!=this.__pow){var n=this.__pow.toString();null!=n&&""!==n&&(e+="^("+this.__pow.toString()+")")}for(var i=0,o=this.__append;i<o.length;i++)e+=" "+o[i].toString();return e},e.prototype._layout=function(e,n,i,o,r,l){var a,s=e.fontSize;e.fontSize=t._DrawingUtility._scaleVisualValue(s,n),this.__fontScale=n,a=this.__expr.length<=0?new t.core.Size(0,0):e.measureSingleLineString(this.__expr),e.fontSize=s;for(var u=a.height,_=a.width,p=0,c=this.__base;p<c.length;p++){(g=c[p])._layout(e,n,i+_,o,r,l);var h=g.__rect.size;u=Math.max(u,h.height),_+=h.width}if(null!=this.__pow){this.__pow._layout(e,.75*n,i+_,o-u+r,r,l);var f=this.__pow.__rect.size;u+=Math.max(f.height-r,0),_+=f.width}for(var d=0,y=this.__append;d<y.length;d++){var g;_+=l,(g=y[d])._layout(e,n,i+_,o,r,l),h=g.__rect.size,u=Math.max(u,h.height),_+=h.width}this.__rect=new t.core.Rect(i,o-u,_,u)},e.prototype.preview=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,n),this.__style=n;var i=e.measureSingleLineString("x"),o=i.height/1.5,r=i.width/2;this._layout(e,1,0,0,o,r),e.restoreTransform()},e.prototype.translate=function(t,e){this.__rect.top+=e,this.__rect.left+=t;for(var n=0,i=this.__base;n<i.length;n++)i[n].translate(t,e);null!=this.__pow&&this.__pow.translate(t,e);for(var o=0,r=this.__append;o<r.length;o++)r[o].translate(t,e)},e.prototype.render=function(e){null!=this.__rect&&(e.beginTransform(),t._StyleUtility._applyAllStyle(e,this.__style),this._draw(e),e.restoreTransform())},e.prototype._draw=function(t){this._drawExpression(t);for(var e=0,n=this.__base;e<n.length;e++)n[e]._draw(t);null!=this.__pow&&this.__pow._draw(t);for(var i=0,o=this.__append;i<o.length;i++)o[i]._draw(t)},e.prototype._drawExpression=function(e){var n=e.fontSize;e.fontSize=t._DrawingUtility._scaleVisualValue(n,this.__fontScale),e.drawSingleLineString(this.__expr,this.__rect.left,this.__rect.bottom),e.fontSize=n},e}();t.Expression=e}(t||(t={})),function(t){var e=function(){function t(t){this.__expression=null,this.__functions=t.slice()}return t.prototype.type=function(){return"CompositeFunction"},t.prototype.y=function(t){if(null==t||isNaN(t)||0==this.__functions.length)return null;for(var e=t,n=this.__functions.length-1;n>=0;--n)e=this.__functions[n].y(e);return e},t.prototype.setExpression=function(t){this.__expression=t},t.prototype.expression=function(){return this.__expression},t}();t._CompositeFunction=e}(t||(t={})),function(t){var e=function(){function e(t){this.intercept=t}return Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!0,configurable:!0}),e.prototype.type=function(){return"Exponential"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)?null:this.__coef[0]*Math.exp(this.__coef[1]*t)},e.prototype.setCoefficients=function(t){return null!=t&&(t=null!=this.intercept?[this.intercept,t[0]]:[Math.exp(t[0]),t[1]],!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){var e=[];return null==this.intercept&&e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.matrixY=function(t){var e=[],n=t.map((function(t){return Math.log(t)}));if(null!=this.intercept){var i=Math.log(this.intercept);return e.push(n.map((function(t){return t-i}))),e}return e.push(n),e},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[0],3)).join(t.Expression._var("e")).raise((new t.Expression).append(t.Expression._multiplyNum(this.__coef[1],4)).join(t.Expression._var("x"))),e},e}();t._Exponential=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.order=e,this.period=n,this.__w=2*t._Utility._PI2/this.period}return Object.defineProperty(e.prototype,"order",{get:function(){return this.__order},set:function(t){"number"==typeof t&&t>0&&(this.__order=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"period",{get:function(){return null==this.__period?2*t._Utility._PI2:this.__period},set:function(t){null!=t&&t>0&&(this.__period=t)},enumerable:!0,configurable:!0}),e.prototype.type=function(){return"Fourier"},e.prototype.y=function(t){if("number"!=typeof t||isNaN(t))return null;for(var e=this.__coef[0],n=1;n<this.__coef.length;n+=2){var i=(n-1)/2+1;e+=this.__coef[n]*Math.cos(this.__w*i*t)+this.__coef[n+1]*Math.sin(this.__w*i*t)}return e},e.prototype.setCoefficients=function(t){return null!=t&&t.length>1&&!isNaN(this.__w)&&(this.__coef=t.slice(),!0)},e.prototype.matrixX=function(e){var n=[],i=this.order;(null==i||i<1)&&(i=1),n.push(e.map((function(t){return 1})));for(var o=2*t._Utility._PI2/this.period,r=1;r<=i;++r){for(var l=[],a=[],s=0,u=e;s<u.length;s++){var _=u[s],p=null==_?0:_;l.push(Math.cos(o*r*p)),a.push(Math.sin(o*r*p))}n.push(l),n.push(a)}return n},e.prototype.matrixY=function(t){var e=[];return e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.expression=function(){for(var e=t.Expression._fx(),n=e.append(t.Expression._eq()),i=1;i<this.__coef.length;i+=2){var o=(i-1)/2+1,r=o*this.__w,l=Math.min(o+1,4);n=(n=1==i?n.append(t.Expression._multiplyNum(this.__coef[i],l)):n.append(t.Expression._addNum(this.__coef[i],l,!0))).join(t.Expression._cos()).join(t.Expression._multiplyNum(r,l)).join(t.Expression._var("x")).append(t.Expression._addNum(this.__coef[i+1],l,!0)).join(t.Expression._sin()).join(t.Expression._multiplyNum(r,l)).join(t.Expression._var("x"))}return n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Fourier=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this.intercept=t}return Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!0,configurable:!0}),e.prototype.type=function(){return"Linear"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)?null:this.__coef[0]+t*this.__coef[1]},e.prototype.setCoefficients=function(t){return null!=t&&(t=null!=this.intercept?[this.intercept,t[0]]:[t[0],t[1]],!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){return null},e.prototype.matrixY=function(t){return null},e.prototype.expression=function(){var e=t.Expression._fx(),n=e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[1],2)).join(t.Expression._var("x"));return 0!=this.__coef[0]&&n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Linear=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.type=function(){return"Logarithmic"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)||t<=0?null:this.__coef[0]+this.__coef[1]*Math.log(t)},e.prototype.setCoefficients=function(t){return null!=t&&!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0)},e.prototype.matrixX=function(t){var e=[];return e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return Math.log(t)}))),e},e.prototype.matrixY=function(t){var e=[];return e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[1],3)).join(t.Expression._var("ln(x)")).append(t.Expression._addNum(this.__coef[0],3,!1)),e},e}();t._Logarithmic=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__coef=[],this.order=t,this.intercept=e}return Object.defineProperty(e.prototype,"order",{get:function(){return this.__order},set:function(t){"number"==typeof t&&t>0&&(this.__order=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!0,configurable:!0}),e.prototype.type=function(){return"Ploynomial"},e.prototype.y=function(t){if("number"!=typeof t||isNaN(t)||0==this.__coef.length)return null;for(var e=this.__coef[0],n=1;n<this.__coef.length;++n)e+=this.__coef[n]*Math.pow(t,n);return e},e.prototype.setCoefficients=function(t){return null!=t&&(null!=this.intercept&&t.unshift(this.intercept),t.length>0&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){var e=[];this.order=Math.min(t.length-1,this.order);var n=this.order;(null==n||n<1)&&(n=1),null==this.intercept&&e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return null==t?0:t})));for(var i=2;i<=n;++i){for(var o=[],r=0,l=t;r<l.length;r++){var a=l[r];o.push(Math.pow(a,i))}e.push(o)}return e},e.prototype.matrixY=function(t){var e=this,n=[];return null==this.intercept?(n.push(t.map((function(t){return null==t?0:t}))),n):(n.push(t.map((function(t){return(null==t?0:t)-e.intercept}))),n)},e.prototype.scaleX=function(t){for(var e=this.__coef.length,n=0;n<e;++n)this.__coef[n]*=Math.pow(t,n)},e.prototype.translateX=function(t){for(var e=this.__coef.length,n=1;n<e;++n)for(var i=0;i<n;++i)this.__coef[i]+=this._binomialCoef(n,i)*Math.pow(t,n-i)*this.__coef[n]},e.prototype.scaleY=function(t){for(var e=this.__coef.length,n=0;n<e;++n)this.__coef[n]*=t},e.prototype.translateY=function(t){this.__coef[0]+=t},e.prototype._binomialCoef=function(t,e){return this._factorial(t)/(this._factorial(e)*this._factorial(t-e))},e.prototype._factorial=function(t,e){return void 0===e&&(e=1),t<=1?e:(e*=t,this._factorial(t-1,e))},e.prototype.clone=function(){var t=new e(this.order,this.intercept);return t.setCoefficients(this.__coef),t},e.prototype.expression=function(){var e=t.Expression._fx(),n=e.append(t.Expression._eq()),i=this.__coef.length;i>1&&(n=n.append(t.Expression._multiplyNum(this.__coef[i-1],Math.min(i,4))).join(t.Expression._var("x")).raise(t.Expression._multiplyNum(i-1,0)));for(var o=i-2;o>0;--o)n=n.append(t.Expression._addNum(this.__coef[o],Math.min(o+1,4),!0)).join(t.Expression._var("x").raise(t.Expression._multiplyNum(o,0)));return 0!=this.__coef[0]&&n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Polynomial=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.type=function(){return"Power"},e.prototype.setCoefficients=function(t){return null!=t&&(t=[Math.exp(t[0]),t[1]],!(isNaN(t[0])||isNaN(t[1])||0==t[0]||isNaN(t[0])||isNaN(t[1])||(this.__coef=t.slice(),0)))},e.prototype.matrixX=function(t){var e=[];return e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return Math.log(t)}))),e},e.prototype.matrixY=function(t){var e=[],n=t.map((function(t){return Math.log(t)}));return e.push(n),e},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)||t<=0||2!=this.__coef.length?null:this.__coef[0]*Math.pow(t,this.__coef[1])},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[0],3)).join(t.Expression._var("x").raise(t.Expression._multiplyNum(this.__coef[1],3))),e},e}();t._Power=e}(t||(t={})),function(t){var e=function(){function e(t){this.__value=t}return e.prototype.value=function(){return this.__value},e.prototype.expression=function(){if(null!=this.__value){var e=t.Expression._var("R").raise(t.Expression._multiplyNum(2,0));return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__value,4,!1)),e}return null},e}();t._RSquare=e}(t||(t={})),function(t){t._isOverlayTrendlineExpressionPlugin=function(t){return null!=t.buildTrendlineExpression}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e,n){this.__rSquare=null,this._equation=t,this.__result=this._equation.setCoefficients(this._regress(e,n)),this.__result&&(this.__rSquare=this._calcualteRSquare(e,n))}return e.prototype.equation=function(){return this.__result?this._equation:null},e.prototype.rSquare=function(){return this.__result?new t._RSquare(this.__rSquare):null},e.prototype._calcualteRSquare=function(t,e){var n=this;if(null!=this._equation){var i=t.map((function(t){return n._equation.y(t)}));if(null!=i)return this._correlSquare(e,i)}return null},e.prototype._correlSquare=function(t,e){if(t.length!==e.length)return null;for(var n=t.map((function(t){return null==t?0:t})),i=e.map((function(t){return null==t?0:t})),o=n.reduce((function(t,e){return t+e}))/n.length,r=i.reduce((function(t,e){return t+e}))/i.length,l=0,a=0,s=0,u=0;u<n.length;++u)l+=(n[u]-o)*(i[u]-r),a+=(n[u]-o)*(n[u]-o),s+=(i[u]-r)*(i[u]-r);return l*l/(a*s)},e}();t._AbstractLinearRegression=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._regress=function(t,e){var n=this._equation.matrixX(t),i=this._equation.matrixY(e),o=this._matrix_transpose(n),r=this._matrix_invert(this._matrix_multiply(n,o));return null==r?null:this._matrix_multiply(i,this._matrix_multiply(o,r))[0]},e.prototype._matrix_multiply=function(t,e){var n=t.length,i=t[0].length,o=e.length,r=e[0].length;if(i!==o)return null;for(var l=new Array(n),a=0;a<n;++a){l[a]=new Array(r);for(var s=0;s<r;++s){l[a][s]=0;for(var u=0;u<i;++u)l[a][s]+=t[a][u]*e[u][s]}}return l},e.prototype._matrix_transpose=function(t){return null!=t?t[0].map((function(e,n){return t.map((function(t){return t[n]}))})):null},e.prototype._matrix_invert=function(t){if(t.length!==t[0].length)return null;for(var e=t.length,n=0,i=[],o=[],r=0;r<e;r+=1){i.push(new Array),o.push(new Array);for(var l=0;l<e;l+=1)r==l?i[r].push(1):i[r].push(0),o[r].push(t[r][l])}for(r=0;r<e;r+=1){if(0==(n=o[r][r])){for(var a=r+1;a<e;a+=1)if(0!=o[a][r]){for(l=0;l<e;l++)n=o[r][l],o[r][l]=o[a][l],o[a][l]=n,n=i[r][l],i[r][l]=i[a][l],i[a][l]=n;break}if(0==(n=o[r][r]))return null}for(l=0;l<e;l++)o[r][l]=o[r][l]/n,i[r][l]=i[r][l]/n;for(a=0;a<e;a++)if(a!=r)for(n=o[a][r],l=0;l<e;l++)o[a][l]-=n*o[r][l],i[a][l]-=n*i[r][l]}return i},e}(t._AbstractLinearRegression);t._OLSMultipleLinearRegression=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._regress=function(t,e){for(var n=t.map((function(t){return null==t?0:t})),i=e.map((function(t){return null==t?0:t})),o=n.length,r=0,l=0,a=0,s=0,u=0;u<o;++u)r+=n[u],l+=i[u],a+=n[u]*n[u],s+=n[u]*i[u];if(null!=this._equation.intercept){var _=(s-this._equation.intercept*r)/a;if(isNaN(_))return null;var p=[];return p.push(_),p}var c=(a*l-r*s)/(o*a-r*r);return _=(o*s-r*l)/(o*a-r*r),isNaN(c)||isNaN(_)?null:[c,_]},e}(t._AbstractLinearRegression);t._SimpleLinearRegression=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e,n){void 0===n&&(n=null),this.__function=t,this.__groupView=e,this.__max=null!=n&&n>1?n:500}return e.prototype._log=function(t,e){return Math.log(e)/Math.log(t)},e.prototype.interpolate=function(e,n){if(null==this.__groupView||null==this.__function)return new t._Polyline(e,n);var i,o=this.__groupView,r=[],l=[],a=o._xAxisView(),s=null==a._scaleModel._maximum?0:a._scaleModel._maximum,u=null==a._scaleModel._minimum?0:a._scaleModel._minimum,_=s-u,p=t._isLogAxisScale(a._scaleModel._scale),c=a._getDefinition()._option.logBase;p&&(_=this._log(c,s)-this._log(c,u)),i=t.AnnotationLib._isPlotInRadialCoordinateSystem(o._getCartesianPlotView())?this._getRadialStepBy(o,_):this._getStepBy(a,_);for(var h=e.length,f=0;f<h;++f)if(r.push(e[f]),l.push(n[f]),f<h-1){if(e[f]>e[f+1])return new t._Polyline([],[]);if(e[f]===e[f+1])continue;var d=i;if(t._isRadialAxisView(a)&&!o._swapAxes()&&(d=this._optimizeStep(i,f/h)),p){if(e[f]<=0)continue;for(var y=this._log(c,e[f+1]),g=d+this._log(c,e[f]);g<y;g+=d){var m=Math.pow(c,g);r.push(m),l.push(this.__function.y(m))}}else for(g=e[f]+d;g<e[f+1];g+=d)r.push(g),l.push(this.__function.y(g))}return new t._Polyline(r,l)},e.prototype._optimizeStep=function(t,e){return-5*t/3*e+2*t},e.prototype._getRadialStepBy=function(t,n){if(t._swapAxes()){var i=t._verticalAxisView(),o=this._getAppropriateUnitPixelInterval(i,n);return e.__pixelInterval/o}return this.__max>1?n/this.__max:null},e.prototype._getStepBy=function(t,n){var i=this._getAppropriateUnitPixelInterval(t,n),o=e.__pixelInterval/i;return this.__max>1&&n/o>this.__max&&(o=n/this.__max),o},e.prototype._getAppropriateUnitPixelInterval=function(e,n){if(e instanceof t._VerticalCircleAxisView){var i=e._radius;return i<0&&(i=1),Math.abs(e._sweep)*i/n}return t._isLineAxisView(e)?Math.abs(e._scaleModel._getRange()[1]-e._scaleModel._getRange()[0])/n:10},e.__pixelInterval=1.5,e}();t.CartesianFunctionalPointInterpolator=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){void 0===n&&(n=null),this.__function=t,this.__max=e,this.__logBase=null!=n&&n>0?n:null}return e.prototype._x=function(t){return null!=this.__logBase?Math.log(t)/Math.log(this.__logBase):t},e.prototype.interpolate=function(e,n){var i,o;if(null!=this.__logBase?(i=e.filter((function(t,e){return n[e]>0})),o=n.filter((function(t){return t>0}))):(i=e,o=n),null==this.__function||i.length>this.__max)return new t._Polyline(i,o);for(var r=[],l=[],a=this.__max-i.length,s=this._x(i[i.length-1])-this._x(i[0]),u=0;u<i.length;++u)if(r.push(i[u]),l.push(o[u]),u<i.length-1){if(i[u]>i[u+1])return new t._Polyline([],[]);if(i[u]===i[u+1])continue;if(null!=this.__logBase&&i[u]<=0)continue;for(var _=this._x(i[u+1])-this._x(i[u]),p=_*a/s,c=_/p,h=1;h<p;++h){var f=h*c+this._x(i[u]);null!=this.__logBase&&(f=Math.pow(this.__logBase,f)),r.push(f),l.push(this.__function.y(f))}}return new t._Polyline(r,l)},e}();t.FunctionalSimpleInterpolator=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e,n,i){this.max=e,this.min=t,this.mean=n,this.isInvert=i}return t.prototype.type=function(){return"LinearNormalizer"},t.from=function(e){if(null==e||0==e.length)return null;for(var n=null==e[0]?0:e[0],i=n,o=0,r=0,l=e;r<l.length;r++){var a=l[r];o+=null==a?0:a,i=Math.max(a,i),n=Math.min(a,n)}return i==n&&(i=1,n=0),new t(n,i,o/e.length,!1)},t.prototype.y=function(t){return null==t||isNaN(t)?null:this.isInvert?this._invert(t):this._forward(t)},t.prototype.inv=function(){return new t(this.min,this.max,this.mean,!this.isInvert)},t.prototype._forward=function(t){return(t-this.min)/(this.max-this.min)},t.prototype._invert=function(t){return t*(this.max-this.min)+this.min},t.prototype.expression=function(){return null},t}();t.LinearNormalizer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.queryInterface=function(t){return null},t}();t.DiscretePointTrendline=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n._setPeriod(e),n}return i(e,t),Object.defineProperty(e.prototype,"period",{get:function(){return null==this.__period?2:this.__period},set:function(t){this._setPeriod(t)},enumerable:!0,configurable:!0}),e.prototype._setPeriod=function(t){!isNaN(t)&&null!=t&&t>1&&(this.__period=t)},e}(t.DiscretePointTrendline);t.MovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l+=(n[a]-l)/(a+1),r.push(l);return new t._Polyline(o,r)},n.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n/e},n}(t.MovingAverageTrendline);t.CumulativeMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function n(){return e.call(this,null)||this}return i(n,e),n.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);for(var i=2/(e.length+1),o=[e[0]],r=[n[0]],l=n[0],a=1;a<e.length;++a)l=i*n[a]+(1-i)*l,o.push(e[a]),r.push(l);return new t._Polyline(o,r)},n}(t.MovingAverageTrendline);t.ExponentialMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l=l+n[a]-n[a-i],r.push(l);return new t._Polyline(o,r)},n.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n},n}(t.MovingAverageTrendline);t.MovingAnnualTotalTrendline=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l+=(n[a]-n[a-i])/i,r.push(l);return new t._Polyline(o,r)},n.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n/e},n}(t.MovingAverageTrendline);t.SimpleMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=0,r=0,l=0;l<i;++l)o+=(l+1)*n[l],r+=n[l];var a=i*(i+1)/2,s=[e[i-1]],u=[o/a];for(l=i;l<e.length;++l)r+=n[l]-n[l-i],a=a+i*n[l]-r,s.push(e[l]),u.push(a/(i*(i+1)/2));return new t._Polyline(s,u)},n}(t.MovingAverageTrendline);t.WeightedMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(){function t(){this._function=null,this._rSquare=null}return t.prototype._fit=function(t,e){null!=t&&null!=e&&t.length===e.length&&t.length>0&&this._internalFit(t,e)},t.prototype._getFunction=function(){return this._function},t.prototype._getRSquare=function(){return this._rSquare},t}();t._FunctionalTrendline=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.__equation=new t._Exponential(n),i}return i(n,e),n.prototype._internalFit=function(e,n){if(!n.some((function(t){return null==t||t<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},n}(t._FunctionalTrendline);t._ExponentialTrendline=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this)||this;return o.__equation=new t._Fourier(n,i),o}return i(n,e),n.prototype._internalFit=function(e,n){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()},n}(t._FunctionalTrendline);t._FourierTrendline=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.__equation=new t._Linear(n),i}return i(n,e),n.prototype._internalFit=function(e,n){var i=new t._SimpleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()},n}(t._FunctionalTrendline);t._LinearTrendline=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.__equation=new t._Logarithmic,n}return i(n,e),n.prototype._internalFit=function(e,n){if(!e.some((function(t){return null==t||t<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},n}(t._FunctionalTrendline);t._LogarithmicTrendline=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this)||this;return o.__equation=new t._Polynomial(n,i),o.__intercept=i,o}return i(n,e),n.prototype._internalFit=function(e,n){var i=this;if(null==this.__intercept){this.__xNomalizer=t.LinearNormalizer.from(e),this.__yNomalizer=t.LinearNormalizer.from(n),e=e.map((function(t){return i.__xNomalizer.y(t)})),n=n.map((function(t){return i.__yNomalizer.y(t)}));var o=(a=new t._OLSMultipleLinearRegression(this.__equation,e,n)).equation();if(null!=o){var r=o.clone();r.scaleX(1/(this.__xNomalizer.max-this.__xNomalizer.min)),r.translateX(-this.__xNomalizer.min),r.scaleY(this.__yNomalizer.max-this.__yNomalizer.min),r.translateY(this.__yNomalizer.min);var l=new t._CompositeFunction([this.__yNomalizer.inv(),o,this.__xNomalizer]);l.setExpression(r.expression()),this._function=l,this._rSquare=a.rSquare()}else this._function=null,this._rSquare=null}else{var a=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=a.equation(),this._rSquare=a.rSquare()}},n}(t._FunctionalTrendline);t._PolynomialTrendline=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.__equation=new t._Power,n}return i(n,e),n.prototype._internalFit=function(e,n){if(!e.some((function(t,e){return null==t||t<=0||null==n[e]||n[e]<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},n}(t._FunctionalTrendline);t._PowerTrendline=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,null,1)),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianTrendlineOverlayView(e,this);return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._TrendlineLineOverlayLegendItemsBuilder(this):null},n}(t._BaseOverlayDefinition);t._TrendlineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e._visualize=function(e,n,i,o){if(void 0===o&&(o=null),null==n||null==i||n.length!==i.length)return null;var r=[],l=[],a=e._horizontalAxisView(),s=e._verticalAxisView();if(e._swapAxes()){var u=n;n=i,i=u}if(t.AnnotationLib._isPlotInRadialCoordinateSystem(e._getCartesianPlotView()))for(var _=0;_<n.length;++_){var p=s._scaleModel._value(i[_]),c=a._scaleModel._value(n[_]);r.push(c*Math.cos(p)+e._cx()),l.push(c*Math.sin(p)+e._cy())}else for(_=0;_<n.length;++_){var h=a._scaleModel._value(n[_]),f=s._scaleModel._value(i[_]);null!=h&&null!=f&&(r.push(h),l.push(f))}if(null!=o){var d=o;if(d||(d=r.length<200),d){var y=new t._Spline(r,l).calculate();r=y.xs,l=y.ys}}for(var g=[],m=0;m<r.length;m++)g.push(new t.core.Point(r[m],l[m]));return new t._PolylineShape(g)},e}();t._CartesianTrendlineVisualizer=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"backwardPeriod",{get:function(){return this.__backwardPeriod},set:function(t){this.__backwardPeriod=e.prototype.validate.call(this,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"forwardPeriod",{get:function(){return this.__forwardPeriod},set:function(t){this.__forwardPeriod=e.prototype.validate.call(this,t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__forwardPeriod=0,this.__backwardPeriod=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"backwardPeriod",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"forwardPeriod",null),n}(e._Option),e._TrendlineForecastOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(null==t&&(t=new e._TrendlineTextOption),this.__text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"density",{get:function(){return this.__density},set:function(t){this.__density!=t&&(this.__density=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__style=new e._DataPointStyleOption(null),this.__label=null,this.__field=null,this.__detailLevel=t.DetailLevel.Total,this.__detailKey=null,this.__density=null,this.__text=new e._TrendlineTextOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineTextOption")],r.prototype,"text",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"density",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),r}(e._OverlayOption),e._TrendlineOverlayOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"equation",{get:function(){return this.__equation},set:function(t){this.__equation!=t&&(this.__equation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rSquaredValue",{get:function(){return this.__rSquaredValue},set:function(t){this.__rSquaredValue!=t&&(this.__rSquaredValue=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"json",{get:function(){return this.option()},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__equation=!1,this.__rSquaredValue=!1,this.__position=t.AnnotationPosition.Center,this.__textStyle=new e._TextStyleOption(null),this.__placement=t.LinePlacement.End},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LinePlacement,t.LinePlacement.End)],r.prototype,"placement",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Center)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"equation",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"rSquaredValue",null),o([t.JsonIgnoreAttribute()],r.prototype,"json",null),r}(e._Option),e._TrendlineTextOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isTrendlineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return void 0!==n.style&&void 0!==n.label&&void 0!==n.field&&void 0!==n.detailLevel&&void 0!==n.detailKey&&void 0!==n.text&&void 0!==n.density}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isCumulativeMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"CumulativeMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._CumulativeMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CumulativeMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="CumulativeMovingAverageTrendline",this.__period=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],n.prototype,"period",null),n}(e._TrendlineOverlayOption),e._CumulativeMovingAverageTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isCumulativeMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"CumulativeMovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isExponentialTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._ExponentialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){this.__intercept!=t&&(this.__intercept=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="ExponentialTrendline",this.__intercept=null,this.__forecast=new e._TrendlineForecastOption},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._InterceptValidator,!0)],r.prototype,"intercept",null),r}(e._TrendlineOverlayOption),e._ExponentialTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isExponentialTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"ExponentialTrendline"==n.type&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isExponentialMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._ExponentialMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="ExponentialMovingAverageTrendline",this.__period=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],n.prototype,"period",null),n}(e._TrendlineOverlayOption),e._ExponentialMovingAverageTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isExponentialMovingAverageTrendlineOverlayOption=function(e){return!!t._isTrendlineOverlayOption(e)&&"ExponentialMovingAverageTrendline"==e.type}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isFourierTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"FourierTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._FourierTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._FourierTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"order",{get:function(){return this.__order},set:function(t){this.__order!=t&&(this.__order=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="FourierTrendline",this.__order=1,this.__period=null,this.__forecast=new e._TrendlineForecastOption},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1,!0),t.ValidatorAttribute(t._NumberValidator,!0,1,6,!0,!0)],r.prototype,"order",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],r.prototype,"period",null),r}(e._TrendlineOverlayOption),e._FourierTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isFourierTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"FourierTrendline"==n.type&&void 0!==n.period&&void 0!==n.order&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLinearTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LinearTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._LinearTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LinearTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){this.__intercept!=t&&(this.__intercept=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="LinearTrendline",this.__intercept=null,this.__forecast=new e._TrendlineForecastOption},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"intercept",null),r}(e._TrendlineOverlayOption),e._LinearTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isLinearTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"LinearTrendline"==n.type&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLogarithmicTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LogarithmicTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._LogarithmicTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LogarithmicTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="LogarithmicTrendline",this.__forecast=new e._TrendlineForecastOption},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),r}(e._TrendlineOverlayOption),e._LogarithmicTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isLogarithmicTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"LogarithmicTrendline"==n.type&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isMovingAnnualTotalTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAnnualTotalTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._MovingAnnualTotalTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MovingAnnualTotalTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="MovingAnnualTotalTrendline",this.__period=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],n.prototype,"period",null),n}(e._TrendlineOverlayOption),e._MovingAnnualTotalTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isMovingAnnualTotalTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"MovingAnnualTotalTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="MovingAverageTrendline",this.__period=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],n.prototype,"period",null),n}(e._TrendlineOverlayOption),e._SimpleMovingAverageTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isSimpleMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"MovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isSimpleMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._SimpleMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SimpleMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){this.__intercept!=t&&(this.__intercept=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"order",{get:function(){return this.__order},set:function(t){this.__order!=t&&(this.__order=this.validate(t))},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="PolynomialTrendline",this.__order=2,this.__intercept=null,this.__forecast=new e._TrendlineForecastOption(null)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"intercept",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,2,!0),t.ValidatorAttribute(t._NumberValidator,!0,2,6,!0,!0)],r.prototype,"order",null),r}(e._TrendlineOverlayOption),e._PolynomialTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isPolynomialTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"PolynomialTrendline"==n.type&&void 0!==n.order&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPolynomialTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PolynomialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._PolynomialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolynomialTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="PowerTrendline",this.__forecast=new e._TrendlineForecastOption(null)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TrendlineForecastOption")],r.prototype,"forecast",null),r}(e._TrendlineOverlayOption),e._PowerTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isPowerTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"PowerTrendline"==n.type&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPowerTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PowerTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._PowerTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PowerTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"period",{get:function(){return this.__period},set:function(t){this.__period!=t&&(this.__period=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="WeightedMovingAverageTrendline",this.__period=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],n.prototype,"period",null),n}(e._TrendlineOverlayOption),e._WeightedMovingAverageTrendlineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isWeightedMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"WeightedMovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isWeightedMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"WeightedMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._WeightedMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WeightedMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"connectorLineStyle",{get:function(){return this.__connectorLineStyle},set:function(t){this.__connectorLineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__connectorLineStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__connectorLineStyle=new e._LineStyleOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"connectorLineStyle",null),r}(e._OverlayOption),e._WaterfallConnectLineOverlayOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#000000",1)),this.__defaultStyle},n}(t._BaseOverlayDefinition);t._WaterfallConnectLineDefinition=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l,a){void 0===a&&(a=null),this.__axisDefinitions=[],this._layoutDefinition=e,this._dvConfigOption=e._dvConfigOption,this._plotAreaOption=e._plotAreaOption,this._plotConfigOption=i.config,this._pluginCollection=e._pluginCollection,this._imageProvider=e._imageProvider,this._dataSchema=n,this._plotDataBuilder=r,this._plotViewBuilder=o,this.__paletteColorProvider=this._createPaletteColorProvider(i.config.palette),this._valueColorProvider=this._createValueColorProvider(e._valueColorProvider,i.config.palette),this._plotOption=i,this._legendSymbolViewBuilder=null==a?new t._LegendSymbolViewBuilder:a,this._encodingsDefinition=null==i.encodings?this._emptyEncodingsDefinition():l._buildEncodingsDefinition(this,i.encodings),null!=i.points&&(this.plotAreaDefinitionOfPoint=new t._InnerPlotAreaDefinition(e,i.points.plots,i.points.config.axes)),this.__colorIterator=this._createColorIterator(this.__paletteColorProvider),this._hoverBehaviorPolicy=t._BuildInHoverBehaviorPolicyBuilderCollection._defaultBuildInHoverBehaviorPolicyPlugins()._hoverBehaviorPolicy(this,this._plotConfigOption.plugins,this._pluginCollection)}return e.prototype._isAvailable=function(){return!0},e.prototype._symbolDefinitionProvider=function(){if(null==this.__symbolDefinitionProvider){var e=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],this._pluginCollection),n=this._layoutDefinition._symbolDefinitionProvider.symbolDefinitions.concat(this._layoutDefinition._symbolDefinitionProvider.symbolWithDataDefinitions).concat(e);this.__symbolDefinitionProvider=new t.SymbolDefinitionProvider(this._plotConfigOption.shapes,n,this._pluginCollection)}return this.__symbolDefinitionProvider},e.prototype.colorIterator=function(){return this.__colorIterator},e.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},e.prototype._createColorIterator=function(e){return null!=e?new t._ColorIterator(e):null},e.prototype._createPaletteColorProvider=function(e){if(null!=e){var n=new t._PaletteColorProvider(e);if(n._colorOptions.length>0)return n}return null},e.prototype._createValueColorProvider=function(e,n){if(null!=n){var i=new t._ValueColorProvider(e,n);if(i._colorWithValueOptions.length>0)return i}return e},e.prototype._createOverlayDefinitionList=function(e,n,i){for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],s=t._BuildInOverlayDefinitionBuilderCollection._builders()._overlayDefinition(this,a,n,i);null!=s&&o.push(s)}return o},e.prototype._createDataLabelDefinitionList=function(e,n,i){for(var o=[],r=[],l=0,a=e;l<a.length;l++){var s,u=a[l];null!=(s=t._BuildInDataLabelDefinitionBuilderCollection._builders()._dataLabelDefinition(this,u,n,i))&&u.scope==s._getDataLabelOption().scope&&-1==r.indexOf(s._getDataLabelOption().scope)&&(o.push(s),r.push(s._getDataLabelOption().scope))}return-1==r.indexOf(t._Constants.ClusterTextScope)&&((u=new t.options._PlotConfigTextOption).scope=t._Constants.ClusterTextScope,null!=(s=t._BuildInDataLabelDefinitionBuilderCollection._builders()._dataLabelDefinition(this,u,n,i))&&u.scope==s._getDataLabelOption().scope&&-1==r.indexOf(s._getDataLabelOption().scope)&&(o.push(s),r.push(s._getDataLabelOption().scope))),o},Object.defineProperty(e.prototype,"_paletteColorProvider",{get:function(){return null!=this.__paletteColorProvider?this.__paletteColorProvider:this._layoutDefinition._paletteColorProvider},enumerable:!0,configurable:!0}),e.prototype._getType=function(){return this._plotOption.type},e.prototype._getEncodingsDefinition=function(){return this._encodingsDefinition},e.prototype._overlayDefinitions=function(){return null==this.__overlayDefinitions&&(this.__overlayDefinitions=this._createOverlayDefinitionList(this._plotConfigOption.overlays,this._plotConfigOption.plugins,this._pluginCollection)),this.__overlayDefinitions},e.prototype._dataLabelDefinitions=function(){return null==this.__dataLabelDefinitions&&(this.__dataLabelDefinitions=this._createDataLabelDefinitionList(this._plotConfigOption.text,this._plotConfigOption.plugins,this._pluginCollection)),this.__dataLabelDefinitions},e.prototype._symbolDefinitionProviders=function(){var e=[];e.push(this._symbolDefinitionProvider()),e.push(this._layoutDefinition._symbolDefinitionProvider);var n=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],this._pluginCollection),i=new t.SymbolDefinitionProvider(null,n,this._pluginCollection);return e.push(i),e},Object.defineProperty(e.prototype,"coordinateSystemDefinition",{get:function(){return this.__coordinateSystemDefinition},set:function(t){this.__coordinateSystemDefinition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisDefinitions",{get:function(){return this.__axisDefinitions},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(t){return"IPlotDefinition"==t?this:null},e}();t._BasePlotDefinition=e}(t||(t={})),function(t){var e=function(e){function o(t,n){return e.call(this,t,n)||this}return i(o,e),o._buildInPlotDefinitionBuilders=function(){return null==o.__buildInPlotDefinitionBuilders&&(o.__buildInPlotDefinitionBuilders=new o([],o._pluginType)),o.__buildInPlotDefinitionBuilders},o.prototype._convert=function(e){return t._isPlotDefinitionBuilder(e)?e:null},o.prototype._plotDefinition=function(t,e,i,o,r){void 0===r&&(r=null);for(var l=0,a=this._objects(o,r);l<a.length;l++){var s=a[l].item._buildPlotDefinition(t,e,new n(i));if(null!=s)return s}return null},o._pluginType="Plot",o}(t._BuildInObjectCollection);t._BuildInPlotDefinitionBuilderCollection=e;var n=function(t){this._coordinateSystemDefinitions=t}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPlotDefinitionBuilder=function(t){return"function"==typeof t._buildPlotDefinition}}(t||(t={})),function(t){var e=function(){function t(){}return t._toPlotModel=function(t){return null!=t.queryInterface("IPlotModel")?t:null},t._toPlotView=function(t){return null!=t.queryInterface("IPlotView")?t:null},t._toSeriesView=function(t){return null!=t.queryInterface("ISeriesView")?t:null},t._toPointView=function(t){return null!=t.queryInterface("IPointView")?t:null},t}();t._PlotViewModelUtility=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n)||this;return r._definition=i,r._dataModel=o,r._colorIterator=i.colorIterator(),r.__rectangle=t.core.Rect.ReadOnlyRect,r._displayablePipeLine=new t.DisplayablePipeLine(r),r}return i(n,e),n.prototype._createIdentityContent=function(){var e=this._getLayoutView()._findAllPlotViews().indexOf(this).toString();return t._Util.HashCode("plot"+this._getDefinition()._getDataModelType()+e)},n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._plotAreaView=function(){return this._getLayoutView()._getPlotAreaView()},n.prototype._plotsView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)._plotsView},n.prototype._filterPointViews=function(){return this._getPointViews().filter((function(t){return!(t._data()._filtered||t._data()._legendFiltered)}))},n.prototype._selectionAdorners=function(){for(var t=[],e=0,n=this._filterPointViews();e<n.length;e++){var i=n[e];i._isSelected()&&t.push(i._selectionAdorner())}return t},n.prototype._dataPointDataLabelOption=function(){for(var e=0,n=this._definition._dataLabelDefinitions();e<n.length;e++){var i=n[e];if(i._getDataLabelOption().scope==t._Constants.DataPointTextScope)return i._getDataLabelOption()}return null},n.prototype._dataPointTooltipOption=function(){for(var t=0,e=this.option.config.tooltip;t<e.length;t++){var n=e[t];if("DataPoint"==n.scope)return n}return null},n.prototype._textDefinition=function(){for(var e=0,n=this._definition._dataLabelDefinitions();e<n.length;e++){var i=n[e];if(i._getDataLabelOption().scope==t._Constants.DataPointTextScope)return i}return null},n.prototype._className=function(){return"gcdv-plot"},n.prototype._attachCoordinateSystem=function(t){},n.prototype._layoutData=function(){this._traversePointView((function(t){null!=t._pointLayoutListView()&&t._pointLayoutListView()._layoutData()})),this._beforeAttachCoordinateSystem(),this._attachCoordinateSystem(this._definition.axisDefinitions),this._afterAttachCoordinateSystem()},n.prototype._beforeAttachCoordinateSystem=function(){},n.prototype._afterAttachCoordinateSystem=function(){this._actionConditionalFormat();for(var t=0,e=this._overlayViews();t<e.length;t++)e[t].useData()},n.prototype._actionConditionalFormat=function(){},n.prototype._generateOverlays=function(){this.__overlayViews=this._createOverlayViews(),this._prepareDataLabelOverlay();for(var t=0,e=this._overlayViews();t<e.length;t++)e[t].createOverlayItemViews()},n.prototype._prepareDataLabelOverlay=function(){for(var t=0,e=this._definition._dataLabelDefinitions();t<e.length;t++){var n=e[t]._buildOverlayView(this);null!=n&&this.__overlayViews.push(n)}},n.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},n.prototype._getClipping=function(){return null},n.prototype._getGroupViewPort=function(){var t=this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition),e=this._rectangle();return null==t||t._plotsView._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n.prototype._render=function(t,e){var n=this;if(this._isVisible()){var i=this._getGroupViewPort();this.__plotGroupElement=t.createGroup(this._className(),this._getClipping(),this._transform,i,i.width,i.height,0,0,(function(t){n._drawView(t,e)})),null==this.__plotGroupElement&&t.drawGroup(this._className(),this._getClipping(),this._transform,(function(t){n._drawView(t,e)}))}},n.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n),this._displayablePipeLine._flush(t,n)},n.prototype._query=function(e){var n=[],i=this._definition._pluginCollection,o=new t.models._VectorConditionalRule(e,i);return this._traversePointView((function(t){o.evaluate(t)&&n.push(t)})),n},n.prototype._createOverlayViews=function(){for(var t=[],e=0,n=this._definition._overlayDefinitions();e<n.length;e++){var i=n[e],o=this._createOverlayView(i);null!=o&&t.push(o)}return t},n.prototype._createOverlayView=function(t){if(null!=t){var e=t._buildOverlayView(this);if(null!=e)return e}return null},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Plot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getLayoutView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"points",{get:function(){return this._getPointViews().map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._dataModel._dataSlices._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"option",{get:function(){return this._definition._plotOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlays",{get:function(){return this._overlayViews().map((function(e){return t.models._isOverlayModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._definition._getType()},enumerable:!0,configurable:!0}),n.prototype._getDefinition=function(){return this._definition},n.prototype._getLayoutView=function(){return this._ownerView},n.prototype._traversePointView=function(t){for(var e=0,n=this._getPointViews();e<n.length;e++)t(n[e])},n.prototype._coordinateSystemView=function(){return this._plotsView()._coordinateSystemView()},n.prototype._overlayViews=function(){return null==this.__overlayViews&&(this.__overlayViews=this._createOverlayViews()),this.__overlayViews},n.prototype.queryInterface=function(t){return"IPlotModel"===t||"IPlotView"===t||"IDisplayablePipeLine"===t||"IFlushable"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getLayoutView()._id()+this._createIdentityContent()),this.__cachedId},n.prototype._contains=function(t){return!1},n.prototype._cutOff=function(){return!1},Object.defineProperty(n.prototype,"referenceGroupElement",{get:function(){return this.__plotGroupElement},enumerable:!0,configurable:!0}),n.prototype.flush=function(){if(null!=this.__plotGroupElement){var e=this._plotAreaView()._getDvView(),n=t._DvViewUtility._render(e);if(null!=n){n.startReferenceGroup(this.__plotGroupElement),this.__plotGroupElement.children.splice(0,this.__plotGroupElement.children.length),n.beginTransform(),t._StyleUtility._applyAllStyle(n,this.__plotGroupElement.styleContext);var i=new t._RenderContext;this._drawView(n,i),n.restoreTransform(),n.endReferenceGroup(),this.__plotGroupElement.dirty(),this.__plotGroupElement.flush()}}},n}(t._BaseView);t._BasePlotView=e}(t||(t={})),function(t){t._isPlotView=function(t){var e=t;return null!=e&&void 0!==e._colorIterator&&"function"==typeof e._getLayoutView&&"function"==typeof e._getDefinition&&"function"==typeof e._rectangle&&"function"==typeof e._overlayViews&&"function"==typeof e._filterPointViews&&"function"==typeof e._selectionAdorners&&"function"==typeof e._dataPointDataLabelOption&&"function"==typeof e._layoutData&&"function"==typeof e._actionConditionalFormat&&"function"==typeof e._generateOverlays&&"function"==typeof e._query&&"function"==typeof e._getPointViews&&"function"==typeof e._hasSelectedPointView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n)||this;return r.__hover=!1,r.__selected=!1,r.__rectangle=t.core.Rect.ReadOnlyRect,r._scale=1,r._externalStyle=null,r._floated=!1,r._xs=[],r._ys=[],r.__data=i,r._pointStyleBuilder=null==o?new t._PointStyleBuilder:o,r._legendColor=null,r.__legendShape=null,r.__legendSize=null,r.__legendBackgroundColor=null,r.__legendLightness=null,r.__pointLayoutListView=r._createPointPlotAreaView(),r}return i(n,e),n.prototype._getDefinition=function(){return this._ownerView._getDefinition()},n.prototype._createIdentityContent=function(){return""},n.prototype._getXs=function(){return this._xs},n.prototype._setXs=function(t){this._xs=t},n.prototype._getYs=function(){return this._ys},n.prototype._setYs=function(t){this._ys=t},n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},Object.defineProperty(n.prototype,"_hover",{get:function(){return this.__hover},set:function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},enumerable:!0,configurable:!0}),n.prototype._onHoverChanged=function(){},n.prototype._onSelectedChanged=function(){},n.prototype.cloneId=function(t){this.__cachedId=t._id()},n.prototype._modelProxy=function(){return this.__modelProxy},n.prototype._getAttachmentAgentManager=function(){return null},n.prototype._dataLabel=function(){return null==this.__dataLabel&&(this.__dataLabel=this._createDataLabelContent()),this.__dataLabel},n.prototype._createDataLabelContent=function(){return null},n.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},n.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},n.prototype._dataLabelView=function(t){return null!=t&&(this.__dataLabelView=t),this.__dataLabelView},n.prototype._data=function(){return this.__data},n.prototype._selectionAdorner=function(){return new t._PointAdorner(this)},n.prototype._backgroundShape=function(){return this.___backgroundShape},n.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},n.prototype._internalSelectedStyle=function(){return null!=this.__selectedStyle&&this.__selectedStyle._isChanged()?this.__selectedStyle:null},n.prototype._internalUnselectedStyle=function(){return null!=this.__unselectedStyle&&this.__unselectedStyle._isChanged()?this.__unselectedStyle:null},n.prototype._applyDataPointExternalStyle=function(e){t._StyleUtility._applyAllStyle(e,this._externalStyle)},n.prototype._calculateStyle=function(e){var n=this._pointStyleBuilder._buildPointStyle(this),i=null,o=null,r=null;e.hasSelectionInPlotArea&&(this._isSelected()||e.selected?i=this._pointStyleBuilder._buildSelectedPointStyle(this,e.apiSelectedStyle):o=this._pointStyleBuilder._buildUnselectedPointStyle(this)),this._hover&&(r=this._pointStyleBuilder._buildHoverPointStyle(this));var l=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(l,n),t._StyleUtility._applyAllStyle(l,i),t._StyleUtility._applyAllStyle(l,o),t._StyleUtility._applyAllStyle(l,r),l},n.prototype._tooltipContent=function(){var e=this._createTooltipHtmlContent(this.tooltip),n=this._tooltipStyle();return null!=e&&e.length>0?new t.models._TextTooltipContent(e,n):null},n.prototype._createTooltipHtmlContent=function(t){return null},n.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},n.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},n.prototype._tooltipStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultTextStyle()),n=this._getDefinition()._dvConfigOption;return t._StyleUtility._applyFillOption(e,n.style.backgroundColor),t._StyleUtility._applyLineStyleFromStyleOption(e,n.style),t._StyleUtility._applyTextStyleOption(e,n.textStyle),t._StyleUtility._applyFillOption(e,this.tooltip.style.backgroundColor),t._StyleUtility._applyLineStyleFromStyleOption(e,this.tooltip.style),t._StyleUtility._applyTextStyleOption(e,this._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this.tooltip.textStyle),e},n.prototype.contains=function(t){return!0},n.prototype._createPointPlotAreaView=function(){var e=this._getDefinition().plotAreaDefinitionOfPoint;return null!=e?new t._PointLayoutListView(this,e):null},n.prototype._updateLegendColor=function(t){this._legendColor=t},n.prototype._updateLegendShape=function(t){this.__legendShape=t},n.prototype._updateLegendSize=function(t){this.__legendSize=t},n.prototype._updateLegendBackgroundColor=function(t){this.__legendBackgroundColor=t},n.prototype._updateLegendLightness=function(t){this.__legendLightness=t},n.prototype._pointsRect=function(){return null},n.prototype._pointLayoutListView=function(){return this.__pointLayoutListView},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n);var i=this._pointsRect();null!=this.__pointLayoutListView&&null!=i&&this.__pointLayoutListView._layout(t,n,i)},n.prototype._layoutContent=function(t,e,n){this._xs=null,this._ys=null},n.prototype._render=function(t,n){e.prototype._render.call(this,t,n),this._isVisible()&&null!=this.__pointLayoutListView&&this.__pointLayoutListView._render(t,n)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._boundRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._createDataLabelView=function(t){return null},n.prototype._getStyleSymbolSize=function(){var t=this._internalStyle();return null!=t&&null!=t.symbolSize||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolSize?t.symbolSize:10},n.prototype._getStyleSymbolShape=function(){var t=this._internalStyle();return null!=t&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolShape&&""!=t.symbolShape?t.symbolShape:null},n.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._getSelectedStyleBackgroundColor=function(){var t=this._internalSelectedStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._dvConfigOption.selectedStyle)&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.selectedStyle)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._getUnselectedStyleBackgroundColor=function(){var t=this._internalUnselectedStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._dvConfigOption.unselectedStyle)&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.unselectedStyle)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},n.prototype._getSelectedStyleStrokeWidth=function(){var t=this._internalSelectedStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._dvConfigOption.selectedStyle)&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.selectedStyle)&&null!=t.strokeWidth?t.strokeWidth:null},n.prototype._getUnselectedStyleStrokeWidth=function(){var t=this._internalUnselectedStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._dvConfigOption.unselectedStyle)&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.unselectedStyle)&&null!=t.strokeWidth?t.strokeWidth:null},n.prototype._getPointColor=function(){return this._pointStyleBuilder._pointColorBuilder._buildColor(this)},n.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},n.prototype._toHtml=function(e){if(null!=e&&e.trim().length>0){for(var n=e.split("\n"),i=new t.models._ContentHtmlBuilder,o=0,r=n;o<r.length;o++){var l=r[o];i._startLine();for(var a=0,s=t.models.StringObject._parse(l);a<s.length;a++){var u=s[a];i._append(u)}i._endLine()}return i._html()}return""},n.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))&&null!=this._tooltipContent()?this:null},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataPoint},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._data()._dataSlices._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"item",{get:function(){return this._data()._item()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plot",{get:function(){return t._PlotViewModelUtility._toPlotModel(this._getPlotView())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plots",{get:function(){var t=[];return this._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView()._traversePlotAreaView((function(e){for(var n=0,i=e._getLayoutViews();n<i.length;n++)for(var o=0,r=i[n]._plotsPaneViews();o<r.length;o++){var l=r[o];t.push.apply(t,l.plots)}})),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plotArea",{get:function(){return t._PlotAreaViewModelUtility._toPlotAreaModel(this._getPlotView()._getLayoutView()._getPlotAreaView())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataLabel",{get:function(){var e=this._dataLabelView();return null!=e&&t.models._isDataLabelModel(e)?e:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!0,configurable:!0}),n.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(this._getDefinition()._plotConfigOption.style)},Object.defineProperty(n.prototype,"selectedStyle",{get:function(){if(null==this.__selectedStyle){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);e._merge(this._getDefinition()._plotConfigOption.selectedStyle),this.__selectedStyle=e}return this.__selectedStyle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unselectedStyle",{get:function(){if(null==this.__unselectedStyle){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);e._merge(this._getDefinition()._plotConfigOption.unselectedStyle),this.__unselectedStyle=e}return this.__unselectedStyle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(n){return"IPointView"===n||"IShapeModel"===n||"IPointModel"==n||"IShowTooltipModel"==n||"IQueryShowTooltipModel"==n?this:"ITooltipInfo"==n?null!=this._data()?(null==this.__tooltipInfo&&(this.__tooltipInfo=new t.models._DataPointTooltipInfo(this)),this.__tooltipInfo):null:"IModelProxy"==n?(null==this.__modelProxy&&(this.__modelProxy=new t.models.ModelProxy(this)),this.__modelProxy):e.prototype.queryInterface.call(this,n)},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getPlotView()._id()+this._createIdentityContent()),this.__cachedId},n.prototype._isSelected=function(){return this.__selected},n.prototype._getPlotView=function(){return this._ownerView},Object.defineProperty(n.prototype,"_selected",{get:function(){return this.__selected},set:function(t){this.__selected!=t&&(this.__selected=t,this._onSelectedChanged())},enumerable:!0,configurable:!0}),n.prototype._getTextOption=function(){return this.text},n.prototype._isVisible=function(){return!this._data()._filtered&&!this._data()._legendFiltered&&e.prototype._isVisible.call(this)},n.prototype._boundRectangle=function(){var e=this._rectangle();return null==e||e===t.core.Rect.ReadOnlyRect?null:e.clone()},Object.defineProperty(n.prototype,"color",{get:function(){return this._legendColor},set:function(t){this._legendColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__legendShape},set:function(t){this.__legendShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.__legendSize},set:function(t){this.__legendSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.__legendBackgroundColor},set:function(t){this.__legendBackgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lightness",{get:function(){return this.__legendLightness},set:function(t){this.__legendLightness=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"additionalKind",{get:function(){return this._data().additionalKind},set:function(t){this._data().additionalKind=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._selected=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),n.prototype.isVisible=function(){return this._isVisible()},n}(t._BaseView);t._BasePointView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPointView=function(t){var e=t;return null!=e&&void 0!==e._selected&&void 0!==e._floated&&void 0!==e._scale&&void 0!==e._externalStyle&&void 0!==e.backgroundColor&&void 0!==e.lightness&&"function"==typeof e._getXs&&"function"==typeof e._getYs&&"function"==typeof e._setXs&&"function"==typeof e._setYs&&"function"==typeof e._rectangle&&"function"==typeof e._updateRectangle&&"function"==typeof e.cloneId&&"function"==typeof e._modelProxy&&"function"==typeof e._getAttachmentAgentManager&&"function"==typeof e._dataLabel&&"function"==typeof e._dataLabelView&&"function"==typeof e._selectionAdorner&&"function"==typeof e._backgroundShape&&"function"==typeof e._internalStyle&&"function"==typeof e._internalSelectedStyle&&"function"==typeof e._internalUnselectedStyle&&"function"==typeof e._tooltipContent&&"function"==typeof e._createTooltipHtmlContent&&"function"==typeof e.queryRelatedTooltipViewModel&&"function"==typeof e.contains&&"function"==typeof e._pointLayoutListView&&"function"==typeof e._layout&&"function"==typeof e._shape&&"function"==typeof e._createDataLabelView&&"function"==typeof e._getStyleSymbolSize&&"function"==typeof e._getStyleSymbolShape&&"function"==typeof e._getStyleBackgroundColor&&"function"==typeof e._getSelectedStyleBackgroundColor&&"function"==typeof e._getUnselectedStyleBackgroundColor&&"function"==typeof e._getStyleStrokeWidth&&"function"==typeof e._getSelectedStyleStrokeWidth&&"function"==typeof e._getUnselectedStyleStrokeWidth&&"function"==typeof e._getPointColor&&"function"==typeof e._toLines&&"function"==typeof e._toHtml&&"function"==typeof e._getPlotView&&"function"==typeof e._data&&"function"==typeof e._calculateStyle}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildColor=function(t){var e=this._toPointView(t),n=this._calculateColor(e);return this._calculateLightness(e,n)},e.prototype._toPointView=function(t){return t},e.prototype._calculateLightness=function(e,n){if(t.models._isCssColor(n)&&null!=e.lightness){var i=n,o=e.lightness,r=t._NativeColorBuilder._colorBuilder._build(i.color),l=t._NativeColorUtility._toHsla(r),a=new t._HslaNativeColor(l._hue,l._saturation,o,l._alpha);n=new t._CssColor(t._NativeColorUtility._toRgbaFromHsla(a)._toCss())}return n},e.prototype._calculateColor=function(t){var e=t.color;return null==e&&(e=t._getPlotView()._getDefinition()._paletteColorProvider._defaultColor()),e},e}();t._PointColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.__useSymbolStyle=e,this._pointColorBuilder=null==n?new t._PointColorBuilder:n}return e.prototype._buildPointStyle=function(t){var e=this._toPointView(t),n=this._buildDefaultStyle();return this._applyColor(n,this._pointColorBuilder._buildColor(e),e),this._applyDataPointStyle(n,e),n},e.prototype._buildSelectedPointStyle=function(e,n){var i=this._toPointView(e),o=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._internalSelectedStyle()),this._applyDataPointStyleOption(o,n),o},e.prototype._buildUnselectedPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._dvConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._internalUnselectedStyle()),i},e.prototype._buildHoverPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.hoverStyle),i},e.prototype._toPointView=function(t){return t},e.prototype._buildDefaultStyle=function(){return this.__useSymbolStyle?t._StyleUtility._buildStyle():t._StyleUtility._buildStyle(null,null,null,null,1)},e.prototype._applyColor=function(t,e,n){null!=e&&(t.fill=e,t.stroke=e)},e.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.style),this._applyDataPointStyleOption(e,n._internalStyle())},e.prototype._applyDataPointStyleOption=function(e,n){this.__useSymbolStyle?t._StyleUtility._applyDataPointSymbolStyleOption(e,n):t._StyleUtility._applyDataPointStyleOption(e,n)},e}();t._PointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o._pointViews=[],o._hover=!1,o.__color=null,o._dataModel=i,o}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._getDefinition=function(){return this._getPlotView()._getDefinition()},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._updateSelected=function(t){for(var e=0,n=this._pointViews;e<n.length;e++)n[e]._selected=t},n.prototype.cloneId=function(t){this.__cachedId=t._id()},n.prototype._isSelected=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(!e[t]._isSelected())return!1;return!0},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){},n.prototype._shapes=function(){return[]},n.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(null)},n.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},n.prototype._createSelectedStyleModel=function(){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);return e._merge(this._getDefinition()._plotConfigOption.selectedStyle),e},n.prototype._internalSelectedStyle=function(){return null!=this.__selectedStyle&&this.__selectedStyle._isChanged()?this.__selectedStyle:null},n.prototype._createUnselectedStyleModel=function(){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);return e._merge(this._getDefinition()._plotConfigOption.unselectedStyle),e},n.prototype._internalUnselectedStyle=function(){return null!=this.__unselectedStyle&&this.__unselectedStyle._isChanged()?this.__unselectedStyle:null},n.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._getSeriesDataModel=function(){return this._dataModel},n.prototype._getPointViews=function(){return this._pointViews},n.prototype._data=function(){return this._dataModel},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getPlotView()._id()+this._createIdentityContent()),this.__cachedId},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Series},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._dataModel._dataSlices._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedStyle",{get:function(){return null==this.__selectedStyle&&(this.__selectedStyle=this._createSelectedStyleModel()),this.__selectedStyle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unselectedStyle",{get:function(){return null==this.__unselectedStyle&&(this.__unselectedStyle=this._createUnselectedStyleModel()),this.__unselectedStyle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"points",{get:function(){return this._pointViews.map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visiblePoints",{get:function(){return this._pointViews.map((function(e){return e._isVisible()&&t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){if(null==this.__color)for(var t=0,e=this._pointViews;t<e.length;t++){var n=e[t];if(0!=n._data()._dataSlices._length){if(null!=this.__color&&!this.__color.equalsWith(n.color)){this.__color=null;break}this.__color=n.color}}return this.__color},set:function(t){this.__color=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return this._shapes()},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"ISeriesView"===t||"IShapeModel"===t||"ISeriesModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseView);t._BaseSeriesView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._buildInPlotAreaDefinitionBuilders=function(){return null==n.__buildInPlotAreaDefinitionBuilders&&(n.__buildInPlotAreaDefinitionBuilders=new n([],n._pluginType)),n.__buildInPlotAreaDefinitionBuilders},n.prototype._convert=function(e){return t._isPlotAreaDefinitionBuilder(e)?e:null},n.prototype._plotAreaDefinition=function(e,n,i,o,r){for(var l=0,a=this._objects(o,r);l<a.length;l++){var s=a[l].item._buildPlotAreaDefinition(e,n,i);if(null!=s)return s}return new t._PlotAreaDefinition(e,n,i,null)},n._pluginType="PlotArea",n}(t._BuildInObjectCollection);t._BuildInPlotAreaDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isPlotAreaDefinitionBuilder=function(t){return"function"==typeof t._buildPlotAreaDefinition}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__dvDefinition=e,this._dvConfigOption=e._dvConfigOption,this._plotAreaOption=n,this._plotOptions=i,this._pluginCollection=e._pluginCollection,this._imageProvider=e._imageProvider,this._symbolDefinitionProvider=e._symbolDefinitionProvider,this._paletteColorProvider=e._paletteColorProvider,this._valueColorProvider=e._valueColorProvider,this._plotAreaViewBuilderCallback=null!=o?o:function(e,n){return new t._PlotAreaView(e,n)}}return e.prototype._findDataSchema=function(t){return this.__dvDefinition._findDataSchema(t)},e}();t._PlotAreaDefinition=e}(t||(t={})),function(t){var e=function(){function t(){}return t._toPlotAreaModel=function(t){return null!=t.queryInterface("IPlotAreaModel")?t:null},t._toPlotAreaView=function(t){return null!=t.queryInterface("IPlotAreaView")?t:null},t}();t._PlotAreaViewModelUtility=e}(t||(t={})),function(t){t._isPlotAreaView=function(t){var e=t;return void 0!==e._colorIterator&&null!=e._legendViews&&"function"==typeof e._getDefinition&&"function"==typeof e._plotViews&&"function"==typeof e._loadDataSources}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o._definition=i,o._colorIterator=new t._ColorIterator(i._paletteColorProvider),o}return i(n,e),n.prototype._createLayoutViews=function(){for(var t=[],e=0,n=this._createLayoutDefinitions();e<n.length;e++){var i=n[e],o=this._createLayoutView(this,i);null!=o&&t.push(o)}return t},n.prototype._createIdentityContent=function(){var e=this._getDvView()._indexOfPlotAreaView(this).toString();return t._Util.HashCode("plotarea"+e)},n.prototype._createLayoutDefinitions=function(){return t._LayoutDefinitionListBuilder.__layoutDefinitionListBuilder._buildLayoutDefinitions(this._definition,this._definition._plotOptions,this._definition._plotAreaOption.axes)},n.prototype._paddings=function(){return this._definition._plotAreaOption.padding},n.prototype._hasSelection=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)for(var n=0,i=e[t]._findAllPlotViews();n<i.length;n++)if(i[n]._hasSelectedPointView())return!0;return!1},n.prototype._className=function(){return"gcdv-plotarea"},n.prototype._layoutInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e),i._labels=[],i._axisLabels=[],i._legendsLabels=[],i._innerPlotAreaRect=null,(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=this._definition._plotAreaOption.plotsMargin;if(i._marginRectangle=null,null!=o){var r=n.clone(),l=r.width,a=r.height;r.left+=o.left*l,r.width-=o.left*l+o.right*l,r.top+=o.top*a,r.height-=o.top*a+o.bottom*a,i._marginRectangle=r}var s=n;null!=this.__backLegendViewManager&&(s=this.__backLegendViewManager._layout(e,n,i));var u=n;null!=this.__frontLegendViewManager&&(u=this.__frontLegendViewManager._layout(e,n,i)),(n=t._DrawingUtility._intersectionOfRectangle(s,u)).width<0&&(n.width=0),n.height<0&&(n.height=0),i._innerPlotAreaRect=n.clone();for(var _=0,p=this._getLayoutViews();_<p.length;_++)p[_]._layout(e,n,i);i._innerPlotAreaRect=null,i._legendsLabels=[],i._axisLabels=[],i._labels=[],i._marginRectangle=null,e.restoreTransform()},n.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform()},n.prototype._drawChildren=function(e,n){var i=this;e.beginTransform(),this._applyBorderStyle(e);var o=this._getRectangle();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var r=e.strokeWidth;o=t._DrawingUtility._inflateRectangle(o,-r,-r)}e.restoreTransform();var l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height),a=this._paddings(),s=null!=a?new t.core.Rect(o.left+a.left,o.top+a.top,o.width-a.left-a.right,o.height-a.top-a.bottom):o;this._zLevel==n._currentZLevel?e.drawGroup(null,l,null,(function(t){i._renderInnerContent(t,s,n)})):this._renderInnerContent(e,s,n)},n.prototype._renderInnerContent=function(t,e,n){n.hasSelectionInPlotArea=this._hasSelection(),n._labels=[],n._axisLabels=[],n._legendsLabels=[],t.beginTransform(),this._applyStyle(t),null!=this.__backLegendViewManager&&this.__backLegendViewManager._render(t,n);for(var i=0,o=this._getLayoutViews();i<o.length;i++)o[i]._render(t,n);null!=this.__frontLegendViewManager&&this.__frontLegendViewManager._render(t,n),t.restoreTransform(),n._legendsLabels=[],n._axisLabels=[],n._labels=[],n.hasSelectionInPlotArea=!1},n.prototype._applyStyle=function(e){t._StyleUtility._applyStyleOption(e,this._definition._plotAreaOption.style),t._StyleUtility._applyTextStyleOption(e,this._definition._plotAreaOption.textStyle)},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillOption(n,this._definition._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._definition._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(n,this._definition._plotAreaOption.backgroundColor)},n.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._StyleUtility._applyLineStyleFromStyleOption(n,this._definition._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(n,this._definition._plotAreaOption.style),t._StyleUtility._applyLineStyleOption(n,this._definition._plotAreaOption.borderStyle)},n.prototype._getCategoryWithAxis=function(t,e){if(null!=t)for(var n=0,i=t._categoryValueViews();n<i.length;n++){var o=i[n];if(o.contains(e))return o}return null},n.prototype._generateOverlays=function(){for(var t=0,e=this._plotViews();t<e.length;t++)e[t]._generateOverlays()},n.prototype._prepareLegend=function(){var e=this._definition._plotAreaOption.plugins,n=this._definition._pluginCollection,i=t._BuildInLegendLayerDefinitionBuilderCollection._buildInLegendLayerDefinitionBuilders()._legendLayerDefinition(this._definition,e,n),o=new t._LegendViewsBuilder(i._getLegendViewBuilder()).build(this);null!=i._backLegendLayerViewBuilder&&(this.__backLegendViewManager=i._backLegendLayerViewBuilder._buildLegendLayerView(this,o)),null!=i._frontLegendLayerViewBuilder&&(this.__frontLegendViewManager=i._frontLegendLayerViewBuilder._buildLegendLayerView(this,o))},n.prototype._getDvView=function(){return this._ownerView},n.prototype._getDefinition=function(){return this._definition},Object.defineProperty(n.prototype,"_legendViews",{get:function(){var t=[];return null!=this.__backLegendViewManager&&t.push.apply(t,this.__backLegendViewManager._legendViews()),null!=this.__frontLegendViewManager&&t.push.apply(t,this.__frontLegendViewManager._legendViews()),t},enumerable:!0,configurable:!0}),n.prototype._loadDataSources=function(e){for(var n=0,i=this._getLayoutViews();n<i.length;n++){var o=i[n];t._isLoadDataSource(o)&&o._loadDataSources(e)}this._generateOverlays(),this._prepareLegend()},n.prototype._layoutData=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)e[t]._layoutData()},n.prototype._getPlotAreaView=function(){return this},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._createIdentityContent()),this.__cachedId},n.prototype._hitTest=function(n,i,o){var r=null,l=this._getRectangle();if(null!=l&&l.contains(n)){if(null!=this.__frontLegendViewManager&&null!=(r=this.__frontLegendViewManager._hitTest(n,i,o)))return r;for(var a=0,s=this._getLayoutViews().slice().reverse();a<s.length;a++){var u=s[a];if(null!=(r=null!=u?u._hitTest(n,i,o):null))return r}if(null!=this.__backLegendViewManager&&null!=(r=this.__backLegendViewManager._hitTest(n,i,o)))return r;if(this._zLevel==i)return r=new t.HitTestResult(n,this,this,t.ElementType.PlotArea),null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__backLegendViewManager&&this.__backLegendViewManager.dispose(),null!=this.__frontLegendViewManager&&this.__frontLegendViewManager.dispose()},n.prototype._queryRelatedViewModel=function(e,n){for(var i=null,o=new t.core.Point(e,n),r=0,l=this.plotsPanes;r<l.length;r++)for(var a=0,s=l[r].plots;a<s.length;a++){var u=s[a];if(null!=u.queryInterface("ICartesianPlotModel")){var _=u.seriesList[0];if(_ instanceof t._CartesianSeriesView&&null!=(i=this._getCategoryWithAxis(_._getCartesianGroupView()._xAxisView(),o)))return i}}return i},n.prototype.queryRelatedTooltipViewModel=function(e,n){for(var i=null,o=new t.core.Point(e,n),r=0,l=this.plotsPanes;r<l.length;r++)for(var a=0,s=l[r].plots;a<s.length;a++){var u=s[a];if(null!=u.queryInterface("ICartesianPlotModel")){var _=u.seriesList[0];if(_ instanceof t._CartesianSeriesView&&null!=(i=this._getCategoryWithAxis(_._getCartesianGroupView()._xAxisView(),o)))return i}}return i},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.PlotArea},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._definition._plotAreaOption.row},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._definition._plotAreaOption.column},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"legends",{get:function(){for(var t=[],e=0,n=this._legendViews;e<n.length;e++){var i=n[e];null!=i&&t.push(i)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plotsPanes",{get:function(){for(var t=[],e=0,n=this._getLayoutViews();e<n.length;e++){var i=n[e];t.push.apply(t,i._plotsPaneViews())}return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){var e=[],n=this._getRectangle();return e.push(new t._RectangleShape(n.center.x,n.center.y,n.width,n.height,0)),e},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"IPlotAreaModel"==t||"IPlotAreaView"==t||"IShapeModel"==t||"IQueryShowTooltipModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseLayoutListView);t._PlotAreaView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._AxisLabelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._axisLabelSelectionInteractionBuilder=new e,e}();t._AxisLabelSelectionInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.AxisLabel)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=this._dv(o);if(null==r)return 0;var l=r.option;return null!=l&&l.selectionMode==t.SelectionMode.Category?(this._clear(o),this._select(i),t._LegendUtility._updateLegendItemSelectedState(o),1):0},e.prototype._dv=function(e){return null==e?null:e.type==t.ElementType.Control?e:this._dv(e.parent)},e.prototype._clear=function(t){for(var e=0,n=t.plotsPanes;e<n.length;e++)for(var i=0,o=n[e].plots;i<o.length;i++)for(var r=0,l=o[i].points;r<l.length;r++)l[r].selected=!1},e.prototype._select=function(t){for(var e=0,n=t.relatedModels();e<n.length;e++)n[e].selected=!0},e}(),e._AxisLabelSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._CancelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._cancelSelectionInteractionBuilder=new e,e}();t._CancelSelectionInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return n.prototype.onClick=function(n,i){if(null==i||i.type!=t.ElementType.PlotArea)return 0;for(var o=!1,r=i,l=0,a=r.plotsPanes;l<a.length;l++)for(var s=0,u=a[l].plots;s<u.length;s++)for(var _=0,p=u[s].points;_<p.length;_++)(g=p[_]).selected&&(g.selected=!1,o=!0);for(var c=0,h=r.legends;c<h.length;c++){var f=h[c];if(e._isItemizedLegendModel(f))for(var d=0,y=f.items;d<y.length;d++){var g;(g=y[d]).selected&&(g.selected=!1,o=!0)}}return t._LegendUtility._updateLegendItemSelectedState(r),o?1:0},n}(),e._CancelSelectionInteraction=n}(t||(t={})),function(t){t._isClickInteractionBuilder=function(t){return null!=t.buildClickInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._LegendSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._legendSelectionInteractionBuilder=new e,e}();t._LegendSelectionInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return n.prototype.onClick=function(n,i){if(null==i)return 0;var o=t._ViewModelUtility._legendItemModel(i);if(null==o)return 0;var r=t._ViewModelUtility._plotAreaModel(o);if(null==r)return 0;var l=t._ViewModelUtility._dvModel(r);if(null==l)return 0;var a=l.option;if(null!=a){if(a.selectionMode==t.SelectionMode.LegendMultiple)return o.selected=!o.selected,this._multipleSelect(r,o),1;if(a.selectionMode==t.SelectionMode.LegendSingle){for(var s=0,u=r.legends;s<u.length;s++){var _=u[s];if(e._isItemizedLegendModel(_))for(var p=0,c=_.items;p<c.length;p++){var h=c[p];h!=o&&(h.selected=!1)}}return o.selected=!o.selected,this._singleSelect(r),1}}return 0},n.prototype._singleSelect=function(n){for(var i=0,o=n.legends;i<o.length;i++){var r=o[i];if(e._isItemizedLegendModel(r))for(var l=0,a=r.items;l<a.length;l++)if(!(f=a[l]).selected)for(var s=0,u=f.relatedModels();s<u.length;s++)((g=u[s]).type==t.ElementType.DataPoint||g.type==t.ElementType.Series)&&(g.selected=f.selected)}for(var _=0,p=n.legends;_<p.length;_++)if(r=p[_],e._isItemizedLegendModel(r))for(var c=0,h=r.items;c<h.length;c++){var f;if((f=h[c]).selected)for(var d=0,y=f.relatedModels();d<y.length;d++){var g;((g=y[d]).type==t.ElementType.DataPoint||g.type==t.ElementType.Series)&&(g.selected=f.selected)}}t._LegendUtility._updateLegendItemSelectedState(n)},n.prototype._multipleSelect=function(e,n){for(var i=0,o=n.relatedModels();i<o.length;i++){var r=o[i];(r.type==t.ElementType.DataPoint||r.type==t.ElementType.Series)&&(r.selected=n.selected)}t._LegendUtility._updateLegendItemSelectedState(e)},n}(),e._LegendSelectionInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.DataPoint)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=t._ViewModelUtility._dvModel(o);if(null==r)return 0;var l=r.option;if(null!=l){if(l.selectionMode==t.SelectionMode.Points&&e.originalEvent instanceof MouseEvent&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey))return i.selected?0:(i.selected=!0,t._LegendUtility._updateLegendItemSelectedState(o),1);if(l.selectionMode==t.SelectionMode.Points||l.selectionMode==t.SelectionMode.Point){for(var a=!1,s=0,u=o.plotsPanes;s<u.length;s++)for(var _=0,p=u[s].plots;_<p.length;_++)for(var c=0,h=p[_].points;c<h.length;c++)(W=h[c])!=i&&W.selected?(W.selected=!1,a=!0):W!=i||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Group){a=!1;for(var f=0,d=o.plotsPanes;f<d.length;f++)for(var y=0,g=d[f].plots;y<g.length;y++)for(var m=0,v=g[y].points;m<v.length;m++)(W=v[m]).parent!=i.parent&&W.selected?(W.selected=!1,a=!0):W.parent!=i.parent||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Color){a=!1;for(var w=0,b=o.plotsPanes;w<b.length;w++)for(var S=0,P=b[w].plots;S<P.length;S++)for(var C=0,x=P[S].points;C<x.length;C++)(W=x[C]).color!=i.color&&W.selected?(W.selected=!1,a=!0):W.color!=i.color||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Shape){a=!1;for(var V=0,D=o.plotsPanes;V<D.length;V++)for(var A=0,O=D[V].plots;A<O.length;A++)for(var L=0,T=O[A].points;L<T.length;L++)(W=T[L]).shape!=i.shape&&W.selected?(W.selected=!1,a=!0):W.shape!=i.shape||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Size){a=!1;for(var M=0,I=o.plotsPanes;M<I.length;M++)for(var E=0,B=I[M].plots;E<B.length;E++)for(var R=0,k=B[E].points;R<k.length;R++)(W=k[R]).size!=i.size&&W.selected?(W.selected=!1,a=!0):W.size!=i.size||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Category){a=!1;for(var F=0,N=o.plotsPanes;F<N.length;F++)for(var U=0,z=N[F].plots;U<z.length;U++)for(var j=0,G=z[U].points;j<G.length;j++){var W;(W=G[j])instanceof t._CartesianPointView&&i instanceof t._CartesianPointView&&(W.dimension==i.dimension?(W._selected=!0,a=!0):(W._selected=!1,a=!0))}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}}return 0},e}(),e._PointSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._PointSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._pointSelectionInteractionBuilder=new e,e}();t._PointSelectionInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.Series)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=t._ViewModelUtility._dvModel(o);if(null==r)return 0;var l=r.option;if(null!=l){if(l.selectionMode==t.SelectionMode.Points&&e.originalEvent instanceof MouseEvent&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey)){for(var a=!1,s=0,u=i.points;s<u.length;s++){var _=u[s];_.selected||(a=!0,_.selected=!0)}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Points){a=!1;for(var p=0,c=o.plotsPanes;p<c.length;p++)for(var h=0,f=c[p].plots;h<f.length;h++)for(var d=0,y=f[h].points;d<y.length;d++)(W=y[d]).parent!=i&&W.selected?(W.selected=!1,a=!0):W.parent!=i||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Group){a=!1;for(var g=0,m=o.plotsPanes;g<m.length;g++)for(var v=0,w=m[g].plots;v<w.length;v++)for(var b=0,S=w[v].points;b<S.length;b++)(W=S[b]).parent!=i&&W.selected?(W.selected=!1,a=!0):W.parent!=i||W.selected||(W.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Color){a=!1;for(var P=this._hasSameColor(i),C=0,x=o.plotsPanes;C<x.length;C++)for(var V=0,D=x[C].plots;V<D.length;V++)for(var A=0,O=D[V].points;A<O.length;A++)(W=O[A]).parent==i&&P||!W.selected?W.parent==i&&P&&!W.selected&&(W.selected=!0,a=!0):(W.selected=!1,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Shape){a=!1;for(var L=this._hasSameShape(i),T=0,M=o.plotsPanes;T<M.length;T++)for(var I=0,E=M[T].plots;I<E.length;I++)for(var B=0,R=E[I].points;B<R.length;B++)(W=R[B]).parent==i&&L||!W.selected?W.parent==i&&L&&!W.selected&&(W.selected=!0,a=!0):(W.selected=!1,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Size){a=!1;for(var k=this._hasSameSize(i),F=0,N=o.plotsPanes;F<N.length;F++)for(var U=0,z=N[F].plots;U<z.length;U++)for(var j=0,G=z[U].points;j<G.length;j++){var W;(W=G[j]).parent==i&&k||!W.selected?W.parent==i&&k&&!W.selected&&(W.selected=!0,a=!0):(W.selected=!1,a=!0)}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}}return 0},e.prototype._hasSameColor=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.color;else if(e!=o.color)return!1}return!0},e.prototype._hasSameShape=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.shape;else if(e!=o.shape)return!1}return!0},e.prototype._hasSameSize=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.size;else if(e!=o.size)return!1}return!0},e}(),e._SeriesSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._SeriesSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._seriesSelectionInteractionBuilder=new e,e}();t._SeriesSelectionInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return n.prototype.buildConditionalFormattingRule=function(t,n,i){return null!=t&&"Label"===t.type?new e._AxisLabelConditionalFormattingRule(t,n,i):null},n.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._AxisConditionalFormattingRulePlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return i(n,e),n.prototype._findActionTarget=function(t){return"Label"==t.targetElement?this._current():null},n.prototype._createTargetElementAction=function(e,n,i){return new t._AxisLabelTargetElementAction(e,n,i)},n}(t._ConditionalFormattingRule);t._AxisLabelConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._assign=function(e,n,i){new t._AnyValueBinding(n)._setValue(e,i)},n}(e._TargetElementAction),e._AxisLabelTargetElementAction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return n.prototype.buildConditionalFormattingRule=function(t,n,i){return null!=t&&"OverlayItem"===t.type?new e._OverlayItemConditionalFormattingRule(t,n,i):null},n.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._OverlayItemConditionalFormattingRulePlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,i,o)||this;return r.__proxy=n,r}return i(n,e),n.prototype._set=function(t,e){null!=this.__proxy&&this.__proxy.set(t,e)},n.prototype._assign=function(e,n,i){if("style.stroke"==n){var o=this._parseColorValue(i);this._set(n,o)}else if("style.fill"==n){var r=this._parseColorValue(i);this._set(n,r)}else if("style.backgroundColor"==n){var l=this._parseColorValue(i);this._set(n,l)}else if("style.symbolStroke"==n){var a=this._parseColorValue(i);this._set(n,a)}else if("style.symbolFill"==n){var s=this._parseColorValue(i);this._set(n,s)}else if("textStyle.color"==n){var u=this._parseColorValue(i);if(t._isCssColor(u)){var _=u;this._set(n,_.color)}}else this._set(n,i)},n}(t._TargetElementAction);t._OverlayItemTargetElementAction=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(e){function n(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return i(n,e),n.prototype.isIdentityExpression=function(e){return null!=t._OverlayItemConditionalFormattingRuleExpressionBuilder._defaultBuilder().build(e)},n.prototype.getIdentityValue=function(e){return t._OverlayItemConditionalFormattingRuleExpressionBuilder._defaultBuilder().build(e)._evaluate(this._current())},n.prototype._createTargetElementAction=function(e,n,i){var o=this._current();return null!=o?new t._OverlayItemTargetElementAction(e,o.queryInterface("IModelProxy"),n,i):new t._TargetElementAction(e,n,i)},n._conditionalFormattingRuleType="OverlayItem",n}(t._ConditionalFormattingRule);t._OverlayItemConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._getBinding=function(e){return new t._ExcelExpressionBinding(e)},n}(e._RuleExpression),e._OverlayItemConditionalFormattingRuleExpression=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._defaultBuilder=function(){return null==n.__overlayItemConditionalFormattingRuleExpressionBuilder&&(n.__overlayItemConditionalFormattingRuleExpressionBuilder=new n),n.__overlayItemConditionalFormattingRuleExpressionBuilder},n.prototype._createRuleExpression=function(e){return new t._OverlayItemConditionalFormattingRuleExpression(e,n._defaultBuilder())},n}(t._RuleExpressionBuilder);t._OverlayItemConditionalFormattingRuleExpressionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.__html=""}return t.prototype._startLine=function(){this.__html+='<div style="'+t.__lineLayoutCss+'">'},t.prototype._endLine=function(){this.__html+="</div>"},t.prototype._append=function(t){"text"==t.type?this.__html+="<div>"+t.value+"</div>":"color"==t.type&&(this.__html+=this._getColorDivByCssColor(t.value))},t.prototype._getColorDivByCssColor=function(e){return'<div class="'+t.__colorSymbolClassName+'"style="background:'+e+";border-color:"+e+";"+t.__colorSymbolLayoutCss+'"></div>'},t.prototype._html=function(){return this.__html},t.__colorSymbolClassName="gcdv-tooltip-color-symbol",t.__colorSymbolLayoutCss="flex-shrink: 0; align-self: center;",t.__lineLayoutCss="display: flex;",t}();t._ContentHtmlBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="DoubleClickInteraction",this.type=t._BuildInDoubleClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDoubleClickInteraction=function(e){return new t.models._CoordinateSystemZoomDoubleClickInteraction(e)},e.prototype.queryInterface=function(t){return"IDoubleClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemDoubleClickZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomDoubleClickInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onDoubleClick=function(e,n){var i=t._ZoomInteractionUtility._zoomConfig(n);if(null!=i&&i.enableMouseDoubleClick){var o=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=o&&o._isHitTested(e.x,e.y)){var r=o._zoomFactor*t._Constants.ZoomInAcceleratedSpeed;return o._zoomAt(r,e.x,e.y),1}}return-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemZoomDoubleClickInteraction=n}(t||(t={})),function(t){t._isDoubleClickInteractionBuilder=function(t){return null!=t.buildDoubleClickInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="DraggingInteraction",this.type=t._BuildInDraggingInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDraggingInteraction=function(e){return new t.models._CoordinateSystemTranslationDraggingInteraction(e)},e.prototype.queryInterface=function(t){return"IDraggingInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemTranslationDraggingInteractionBuilder=new e,e}();t._CoordinateSystemTranslationDraggingInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isPointInBounds=function(t,e,n){return t>=n.left&&t<n.right&&e>=n.top&&e<n.bottom},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._isZoomEnabled(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,!0}return!1},e.prototype.onStart=function(t){return this.__x=t.x,this.__y=t.y,-1},e.prototype.onDragging=function(t,e,n,i){if(null!=this.__model&&this._isPointInBounds(t.x,t.y,this.__model._zoomBounds)){var o=t.x-this.__x,r=t.y-this.__y;return this.__x=t.x,this.__y=t.y,this.__model._translate(o,r),1}return-1},e.prototype.onEnd=function(t,e,n,i){return this.__model=null,this.__x=0,this.__y=0,-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemTranslationDraggingInteraction=n}(t||(t={})),function(t){t._isDraggingInteractionBuilder=function(t){return null!=t.buildDraggingInteraction}}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(t,e,n){this.firstPlotDef=t,this.start=e,this.items=n},i=function(){function e(){this.name="ExcelLegendItemSortingPolicy",this.type=t._BuildInLegendItemSortingPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return t._isItemizedLegendDataModel(e)&&t._LegendUtility._isType(e,t.LegendType.Color)?this:null},e.prototype._reverseStack=function(t,e){for(var i=[],o=[],r=0;r<e.length;++r){var l=e[r];if(this._isStackPlotItems(t,l)){for(var a=!1,s=l._relatedPlotDefinition(t)[0],u=0,_=i;u<_.length;u++)if((d=_[u]).firstPlotDef===s){d.items.push(l),a=!0;break}if(!a){var p=[];p.push(l),i.push(new n(s,o.length,p))}}else o.push(l)}for(var c=0,h=0,f=i;h<f.length;h++){var d;(d=f[h]).items.reverse();for(var y=0,g=d.items;y<g.length;y++)l=g[y],o.splice(d.start+c,0,l),c+=1}return o},e.prototype._isStackPlotItems=function(t,e){var n=e._relatedPlotDefinition(t);if(0==n.length)return!1;var i=n[0];return null!=i&&this._isShouldBeReversed(i,this._position(t,e._legend))},e.prototype._position=function(e,n){var i=n._option.position;return null==i&&(i=e._getDefinition()._plotAreaOption.legend.position),null==i&&(i=e._getDefinition()._dvConfigOption.legend.position),t._NativeExtension._toNonNullEnum(i,t.LegendPosition.Right)},e.prototype._isShouldBeReversed=function(e,n){var i=!1,o=e._getType(),r=e._plotConfigOption.axisMode,l=e._plotConfigOption.swapAxes,a=e._plotOption.encodings.details,s=0==a.length||null==a[0]?null:a[0].group;return r==t.AxisMode.Cartesian&&("Bar"==o?l&&s==t.Group.Cluster?i=!0:l||s!=t.Group.Stack||(i=n==t.LegendPosition.Left||n==t.LegendPosition.Right):("Line"==o||"Area"==o)&&(l||s!=t.Group.Stack||(i=n==t.LegendPosition.Left||n==t.LegendPosition.Right))),i},e.prototype.sort=function(e,n,i){switch(n=this._reverseStack(e,n),this._sortOrder(i)){case t.SortOrder.Reversed:n.reverse();break;case t.SortOrder.Ascending:n.sort((function(t,e){return t._title().localeCompare(e._title())}));break;case t.SortOrder.Descending:n.sort((function(t,e){return-1*t._title().localeCompare(e._title())}))}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t||"ILegendItemSortingPolicyBuilder"==t?this:null},e._defaultPlugin=new e,e}(),e._ExcelLegendItemSortingPolicyPlugin=i,t.plugins.PluginCollection.defaultPluginCollection.register(i._defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInFilterBuilders=function(){return null==n.__buildInFilterBuilders&&(n.__buildInFilterBuilders=new n([new t.models._ExcludeNullsFilter],n._pluginType)),n.__buildInFilterBuilders},n.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},n.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="CategoryFilter",n}(t._BuildInObjectCollection);t._BuildInCategoryFilterBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInFilterBuilders=function(){return null==n.__buildInFilterBuilders&&(n.__buildInFilterBuilders=new n([new t.models._ExcludeNullsFilter],n._pluginType)),n.__buildInFilterBuilders},n.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},n.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="FieldFilter",n}(t._BuildInObjectCollection);t._BuildInFieldFilterBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInFilterBuilders=function(){return null==n.__buildInFilterBuilders&&(n.__buildInFilterBuilders=new n([new t.models._ExcludeNullsFilter],n._pluginType)),n.__buildInFilterBuilders},n.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},n.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="ValueFilter",n}(t._BuildInObjectCollection);t._BuildInValueFilterBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.build=function(){return this},e.prototype.filter=function(e,n){return null!=t._NativeExtension.getPropertyValue(e,n)},e.prototype.queryInterface=function(t){return"IFilterBuilder"==t||"IFilter"==t?this:null},e}(),e._ExcludeNullsFilter=n}(t||(t={})),function(t){!function(t){t._isFilterBuilder=function(t){return null!=t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._AxisLabelHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._axisLabelHoverInteractionBuilder=new e,e}();t._AxisLabelHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"AxisLabelHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.AxisLabel&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._AxisLabelHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._CoordinateSystemZoomActivityHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemZoomActivityHoverInteractionBuilder=new e,e}();t._CoordinateSystemZoomActivityHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._disposeZoomContainer=function(){null!=this.__zoomContainer&&(this.__zoomContainer.dispose(),this.__zoomContainer=null)},Object.defineProperty(e.prototype,"name",{get:function(){return"PlotAreaZoomActivityHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.hover=function(e,n){if(t._ZoomInteractionUtility._showZoomButton(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,this.__zoomConfig=t._ZoomInteractionUtility._zoomConfig(n),!0}return!1},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._showZoomButton(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(this.__model==i&&null!=i&&i._isHitTested(e.x,e.y))return!0}return!1},e.prototype.onEnter=function(e){return this._disposeZoomContainer(),this.__zoomContainer=new t._ZoomContainer(this.__model,this.__zoomConfig),this.__zoomContainer._active(),0},e.prototype.onMove=function(t){return 0},e.prototype.onLeave=function(t){return this.__model=null,this._disposeZoomContainer(),0},e.prototype.dispose=function(){this._disposeZoomContainer()},e}(),e._CoordinateSystemZoomActivityHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._DataPointTrackerHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataPointTrackerHoverInteractionBuilder=new e,e}();t._DataPointTrackerHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.predicate=function(e){if(null!=e.model&&t._isQueryShowTrackerViewModel(e.model)){var n=e.model;return null!=n._queryRelatedViewModel(e.point.x,e.point.y)&&n._queryRelatedViewModel(e.point.x,e.point.y)instanceof t._BasePointView}return!1},e.defaultIncludingQueryShowTrackerViewModelPrediction=new e,e}(),i=function(){function e(t){this._control=t,this.__layer=this._control._widgetLayer()}return Object.defineProperty(e.prototype,"name",{get:function(){return"DataPointTrackerHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__layer._reset()},e.prototype.hover=function(e,n){var i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);return null!=o&&null!=o._tracker()&&o._tracker().length>0&&o._tracker().some((function(t){return t.contains(i)}))},e.prototype.isModel=function(e,n){if(null==this.__trackers)return!1;var i=new t.core.Point(e.x,e.y);if(this._queryShowTrackerViewModel(e.x,e.y)!=this.model)return!1;for(var o=0,r=this.__trackers;o<r.length;o++)if(!r[o].contains(i))return!1;return!0},e.prototype.onEnter=function(e){var n=this,i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);null!=o&&null!=o._tracker()&&o._tracker().length>0&&(this.__model=o,this.__trackers=[],o._tracker().forEach((function(t){t.contains(i)&&n.__trackers.push(t)})));for(var r=0,l=this.__trackers;r<l.length;r++){var a=l[r];a.contains(new t.core.Point(e.x,e.y))&&this.__layer._appendTracker(a)}return 1},e.prototype.onLeave=function(t){var e=this;return null!=this.__trackers&&(this.__trackers.forEach((function(t){e.__layer._removeTracker(t)})),this.__trackers=null),1},e.prototype.onMove=function(t){return 0},e.prototype._queryShowTrackerViewModel=function(e,i){var o=this._control.hitTest(new t.core.Point(e,i),n.defaultIncludingQueryShowTrackerViewModelPrediction);if(null!=o&&null!=o.model){var r=o.model;if(t._isQueryShowTrackerViewModel(r))return r._queryRelatedViewModel(o.point.x,o.point.y)}return null},e}(),e._DataPointTrackerHoverInteraction=i}(t||(t={})),function(t){t._isHoverInteractionBuilder=function(t){return null!=t.buildHoverInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._LegendHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._legendHoverInteractionBuilder=new e,e}();t._LegendHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"LegendHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){var i=t._ViewModelUtility._legendItemModel(n);return null!=i&&(this.__model=i,!0)},e.prototype.isModel=function(e,n){var i=t._ViewModelUtility._legendItemModel(n);return this.__model==i},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._LegendHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"OverlayItemHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.hover=function(e,n){return n instanceof t._BaseOverlayItemView&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e.prototype.dispose=function(){},e}(),e._OverlayItemHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._OverlayItemHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._overlayItemHoverInteractionBuilder=new e,e}();t._OverlayItemHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return Object.defineProperty(n.prototype,"name",{get:function(){return"PointHover"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n.prototype.hover=function(e,n){return n.type==t.ElementType.DataPoint?(this.__model=n,!0):(this.__model=this._hitTestDataPoint(e,n),null!=this.__model)},n.prototype.isModel=function(e,n){return n.type==t.ElementType.DataPoint?this.__model==n:null!=this.__model&&this.__model==this._hitTestDataPoint(e,n)},n.prototype.onEnter=function(t){return this.model.hover=!0,1},n.prototype.onLeave=function(t){return this.model.hover=!1,1},n.prototype.onMove=function(t){return 0},n.prototype._hitTestDataPoint=function(n,i){if(i.type==t.ElementType.DataPointLabel){var o=t._ViewModelUtility._dvModel(i);if(null!=o){var r=new t.core.Point(n.x,n.y),l=o.control.hitTest(r,new e.ExcludingModelPrediction(["DataPointLabel","AxisUnitLabel","AxisLabel","AxisTitle","LegendTitle"]));if(null!=l&&l.model.type==t.ElementType.DataPoint)return l.model}}return null},n}(),e._PointHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._PointHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._PointHoverInteractionBuilder=new e,e}();t._PointHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SeriesHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Series&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._SeriesHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._SeriesHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._seriesHoverInteractionBuilder=new e,e}();t._SeriesHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function t(){}return t.prototype.predicate=function(t){return!(null==t.model||!e._isQueryShowTooltipViewModel(t.model))&&null!=t.model.queryRelatedTooltipViewModel(t.point.x,t.point.y)},t.defaultIncludingQueryShowTooltipViewModelPrediction=new t,t}(),i=function(){function i(t){this._control=t,this.__tooltip=this._control._buildTooltip()}return Object.defineProperty(i.prototype,"name",{get:function(){return"TooltipHover"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._hideTooltip()},i.prototype.hover=function(t,e){var n=this._queryShowTooltipViewModel(t.x,t.y);return null!=n&&(this.__model=n,!0)},i.prototype.isModel=function(t,e){var n=this._queryShowTooltipViewModel(t.x,t.y);return null!=n&&this.__model===n},i.prototype.onEnter=function(n){var i=this.model._tooltipContent();if(null!=i){var o=new e._TextHtmlContent(i.text,i.style);this._showTooltip(o,new t.core.Point(n.originalEvent.clientX+2.5,n.originalEvent.clientY))}return 0},i.prototype.onLeave=function(t){return this._hideTooltip(),0},i.prototype.onMove=function(t){return 0},i.prototype._showTooltip=function(e,n){var i=new t.options._TooltipOption({showDelay:200,hideDelay:0,offsetX:0,offsetY:6});this.__tooltip.open(n,e,i,null)},i.prototype._hideTooltip=function(){this.__tooltip.close(null)},i.prototype._queryShowTooltipViewModel=function(i,o){var r=this._control.hitTest(new t.core.Point(i,o),n.defaultIncludingQueryShowTooltipViewModelPrediction);if(null!=r&&null!=r.model){var l=r.model;if(e._isQueryShowTooltipViewModel(l))return l.queryRelatedTooltipViewModel(r.point.x,r.point.y)}return null},i}(),e._TooltipHoverInteraction=i}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TooltipHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._tooltipHoverInteractionBuilder=new e,e}();t._TooltipHoverInteractionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._CategoryTrackerHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._categoryTrackerHoverInteractionBuilder=new e,e}();t._CategoryTrackerHoverInteractionBuilder=e}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.predicate=function(e){if(null!=e.model&&t._isQueryShowTrackerViewModel(e.model)){var n=e.model;return null!=n._queryRelatedViewModel(e.point.x,e.point.y)&&n._queryRelatedViewModel(e.point.x,e.point.y)instanceof t._CategoryValueView}return!1},e.defaultIncludingQueryShowTrackerViewModelPrediction=new e,e}(),i=function(){function e(t){this._control=t,this.__layer=this._control._widgetLayer()}return Object.defineProperty(e.prototype,"name",{get:function(){return"CategoryTrackerHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__layer._reset()},e.prototype.hover=function(e,n){var i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);return null!=o&&null!=o._tracker()&&o._tracker().length>0&&o._tracker().some((function(t){return t.contains(i)}))},e.prototype.isModel=function(e,n){if(null==this.__trackers)return!1;for(var i=new t.core.Point(e.x,e.y),o=0,r=this.__trackers;o<r.length;o++)if(!r[o].contains(i))return!1;return!0},e.prototype.onEnter=function(e){var n=this,i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);null!=o&&null!=o._tracker()&&o._tracker().length>0&&(this.__model=o,this.__trackers=[],o._tracker().forEach((function(t){t.contains(i)&&n.__trackers.push(t)})));for(var r=0,l=this.__trackers;r<l.length;r++){var a=l[r];a.contains(new t.core.Point(e.x,e.y))&&this.__layer._appendTracker(a)}return 1},e.prototype.onLeave=function(t){var e=this;return null!=this.__trackers&&(this.__trackers.forEach((function(t){e.__layer._removeTracker(t)})),this.__trackers=null),1},e.prototype.onMove=function(t){return 0},e.prototype._queryShowTrackerViewModel=function(e,i){var o=this._control.hitTest(new t.core.Point(e,i),n.defaultIncludingQueryShowTrackerViewModelPrediction);if(null!=o&&null!=o.model){var r=o.model;if(t._isQueryShowTrackerViewModel(r))return r._queryRelatedViewModel(o.point.x,o.point.y)}return null},e}(),e._CategoryTrackerHoverInteraction=i}(t||(t={})),function(t){var e=function(){function e(){this.name="PinchInteraction",this.type=t._BuildInPinchInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildPinchInteraction=function(e){return new t.models._CoordinateSystemZoomPinchInteraction(e)},e.prototype.queryInterface=function(t){return"IPinchInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemPinchZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomPinchInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t,this.name="CoordinateSystemPinch"}return e.prototype._getZoomInfo=function(t){var e=t.originalEvent.targetTouches,n=Math.abs(e[1].clientX-e[0].clientX),i=Math.abs(e[1].clientY-e[0].clientY),o=Math.sqrt(n*n+i*i),r=this._control.hostElement.getBoundingClientRect(),l=(e[0].clientX+e[1].clientX)/2,a=(e[0].clientY+e[1].clientY)/2;return[o,l-r.x,a-r.y]},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._isZoomEnabled(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,!0}return!1},e.prototype.onStart=function(t){return this.__startDistance=this._getZoomInfo(t)[0],this.__startZoomFactor=this.__model._zoomFactor,0},e.prototype.onPinch=function(t){if(null!=this.__model){var e=this._getZoomInfo(t),n=e[0]/this.__startDistance*this.__startZoomFactor;return this.__model._zoomAt(n,e[1],e[2]),1}return-1},e.prototype.onEnd=function(t){return this.__model=null,this.__startDistance=1,this.__startZoomFactor=1,-1},e.prototype.dispose=function(){this.__model=null},e}(),e._CoordinateSystemZoomPinchInteraction=n}(t||(t={})),function(t){t._isPinchInteractionBuilder=function(t){return null!=t.buildPinchInteraction}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.defaultBuildInRenderEngineBuilders=function(){return null==n.__buildInRenderEngineBuilders&&(n.__buildInRenderEngineBuilders=new n([],n._pluginType)),n.__buildInRenderEngineBuilders},n.prototype._convert=function(e){return t._isRenderEngineBuilder(e)?e:null},n.prototype._renderEngine=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildRenderEngine(t,e,n);if(null!=a)return a}return null},n._pluginType="RenderEngine",n}(t._BuildInObjectCollection);t.BuildInRenderEngineBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Canvas",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=0}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._CanvasWithSvgMetricsRenderEngine._renderEngineType?new t._CanvasWithSvgMetricsRenderEngine(n,i,new t._CanvasTextMetrics):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._canvasWithSvgMetricsRenderEngineBuilder=new e,e}();t._CanvasWithSvgMetricsRenderEngineBuilder=e}(t||(t={})),function(t){t._isRenderEngineBuilder=function(t){return null!=t.buildRenderEngine}}(t||(t={})),function(t){var e=function(){function e(){this.name="Canvas",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=1}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._CanvasRenderEngine._renderEngineType?new t._CanvasRenderEngine(n,i,new t._CanvasTextMetrics):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._pureCanvasRenderEngineBuilder=new e,e}();t.PureCanvasRenderEngineBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Svg",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=0}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._SvgRenderEngine._renderEngineType?new t._SvgRenderEngine(n,new t._SvgTextMetrics):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._svgRenderEngineBuilder=new e,e}();t._SvgRenderEngineBuilder=e}(t||(t={})),function(t){t.plugins||(t.plugins={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.build=function(){return this},e.prototype.queryInterface=function(t){return"IStringFormatBuilder"==t||"IStringFormatting"==t?this:null},e.prototype.format=function(e,n,i){if(void 0===i&&(i=null),null==n)return"";if("string"==typeof n)return n;if("number"==typeof n){var o=n;return isNaN(o)?"":(null!=e&&(e=t._EscapedCharacterStringUtility._normalize(e),e=t._EscapedCharacterStringUtility._trim(e)),null!=e&&""!=e||(e=o==Math.round(o)?"n0":"n2"),o=this._formatNumberWithType(o,i),t._NumberFormat._format(o,e,!0))}if(n instanceof Date){var r=n;return isNaN(r.getTime())?"":(null!=e&&(e=t._EscapedCharacterStringUtility._normalize(e),e=t._EscapedCharacterStringUtility._trim(e)),null!=e&&""!=e||(e=this.defaultFormat(t.core.DataType.Date)),t._Globalize._format(r,e))}return n.toString()},e.prototype.defaultFormat=function(e,n){switch(void 0===n&&(n=!1),e){case t.core.DataType.Number:return null!=n&&n?"p":"N";case t.core.DataType.Date:return"d";default:return null}},e.prototype._formatNumberWithType=function(t,e){return"Hundreds"==e?t/100:"Thousands"==e?t/1e3:"10000"==e?t/1e4:"100000"==e?t/1e5:"Millions"==e?t/1e6:"10000000"==e?t/1e7:"100000000"==e?t/1e8:"Billions"==e?t/1e9:"Trillions"==e?t/1e12:t},e}(),e._StringFormatting=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInstringFormatBuilders=function(){return null==n.__buildInStringFormatBuilders&&(n.__buildInStringFormatBuilders=new n([new t.models._StringFormatting],n._pluginType)),n.__buildInStringFormatBuilders},n.prototype._convert=function(e){return t.models._isStringFormatBuilder(e)?e:null},n.prototype._stringFormating=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="StringFormat",n}(t._BuildInObjectCollection);t._BuildInStringFormatBuilderCollection=e}(t||(t={})),function(t){!function(t){t._isStringFormatBuilder=function(t){return null!=t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.Default="Default",t.PlotText="PlotText",t}();t.StringFormattingTypes=e}(t.plugins||(t.plugins={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="WheelInteraction",this.type=t._BuildInWheelInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildWheelInteraction=function(e){return new t.models._CoordinateSystemZoomWheelInteraction(e)},e.prototype.queryInterface=function(t){return"IWheelInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemWheelZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomWheelInteractionBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._calcZoomAcceleratdSpeed=function(t){var e,n=Math.abs(t);return e=n<200?1.1:n<500?1.15:n<1e3?1.2:n<3e3?1.3:1.45,t>0?1/e:e},e.prototype.onWheel=function(e,n){var i=t._ZoomInteractionUtility._zoomConfig(n);if(null!=i&&i.enableMouseWheel){var o=t._ZoomInteractionUtility._coordinateSystemZoomView(n),r=e.originalEvent.deltaY;if(0!=r&&null!=o&&o._isHitTested(e.x,e.y)){var l=this._calcZoomAcceleratdSpeed(r),a=o._zoomFactor*l;return o._zoomAt(a,e.x,e.y),1}}return-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemZoomWheelInteraction=n}(t||(t={})),function(t){t._isWheelInteractionBuilder=function(t){return null!=t.buildWheelInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="Aggregate",this.type="DataSourceTransform",this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isAggregateTransformOption(n))for(var o=n.names,r=0,l=e._dataSources;r<l.length;r++){var a=l[r];if(null==o||null!=a._schema._name&&o.indexOf(a._schema._name)>=0){var s=n,u=s.groupby,_=a._items,p=s.aggregate,c=s.concat,h=[];if(c.type==t.ConcatType.Custom&&(h=this._convertCustomConcatIndexs(_,c.customArray)),null==u){for(var f={},d=0,y=s.aggregate;d<y.length;d++){var g=y[d],m=new t._DataItemBinding(g.field),v=t._AggregateValueBuilder._defaultAggregateValueBuilder._build(g.op,_,m),w=null!=g.outputAs?g.outputAs:g.field;null!=w&&(f[w]=v)}this._concatAggregateItem(_,new t._DataItemsGroup(f),f,c.type,h[0])}else for(var b=0,S=this._createDataItemsGroups(a,u);b<S.length;b++){var P=S[b],C=P._aggregate(p);if(null!=C){var x=null;if(null!=h&&h.length>0)if(h.length>1){var V=h.shift();null!=V&&(x=V)}else x=null!=h[0]?h[0]:null;this._concatAggregateItem(_,P,C,c.type,x)}}a._reIndexes(null),this._updateDataFields(a)}}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e.prototype._createDataItemsGroups=function(e,n){for(var i=[],o=0;o<e._items.length;o++){for(var r=e._items[o],l={},a=0,s=n;a<s.length;a++){var u=s[a];t._NativeExtension.hasProperty(r,u,!0)&&(l[u]=t._DataValueTypeExtension._toDataValueType(t._NativeExtension.getPropertyValue(r,e._schema._fields[u]._name)))}for(var _=!1,p=0,c=i;p<c.length;p++){var h=c[p];if(h._isDuplicate(l)){h._append(r,o),_=!0;break}}if(!_){var f=new t._DataItemsGroup(l);f._append(r,o),i.push(f)}}return i},e.prototype._concatAggregateItem=function(e,n,i,o,r){var l=e,a=0;switch(o){case t.ConcatType.Start:a=0;break;case t.ConcatType.End:a=e.length;break;case t.ConcatType.GroupStart:null!=n._startItem&&(a=e.indexOf(n._startItem));break;case t.ConcatType.GroupEnd:a=null!=n._endItem?e.indexOf(n._endItem)+1:e.length;break;case t.ConcatType.Custom:a=null!=r?e.indexOf(r):e.length}l.splice(a,0,t._DataValueTypeExtension._toObjectItem(i))},e.prototype._convertCustomConcatIndexs=function(t,e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i],l=null;0<=r&&r<t.length&&(l=t[r]),n.push(l)}return n},e.prototype._updateDataFields=function(e){for(var n=e._schema._fields,i=e._items,o=e._schema._name,r=0,l=i;r<l.length;r++)for(var a=l[r],s=0,u=t._NativeExtension.properties(a,!0);s<u.length;s++){var _=u[s],p=n[_];null==p&&(n[_]=p=new t._NullDataField(_,o));var c=t._NativeExtension.getPropertyValue(a,_);p instanceof t._NullDataField&&"number"==typeof c&&(n[_]=p=new t._NumberDataField(_,o))}},e._defaultPlugin=new e,e}();t._AggregateDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this.__start=-1,this.__startItem=null,this.__end=-1,this.__endItem=null,this.__groupfields=t,this.__items=[]}return Object.defineProperty(e.prototype,"_startItem",{get:function(){return this.__startItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_endItem",{get:function(){return this.__endItem},enumerable:!0,configurable:!0}),e.prototype._append=function(t,e){this.__items.push(t),-1==this.__start&&-1==this.__end?(this.__start=e,this.__end=e,this.__startItem=t,this.__endItem=t):e>this.__end&&(this.__end=e,this.__endItem=t)},e.prototype._aggregate=function(e){for(var n={},i=0,o=t._NativeExtension.properties(this.__groupfields,!0);i<o.length;i++){var r=o[i];n[r]=this.__groupfields[r]}for(var l=0,a=e;l<a.length;l++){var s=a[l],u=new t._DataItemBinding(s.field),_=t._AggregateValueBuilder._defaultAggregateValueBuilder._build(s.op,this.__items,u),p=null!=s.outputAs?s.outputAs:s.field;null!=p&&(n[p]=_)}return n},e.prototype._isDuplicate=function(e){var n=t._NativeExtension.properties(this.__groupfields,!0);if(0==n.length)return 0==t._NativeExtension.properties(e,!0).length;for(var i=0,o=n;i<o.length;i++){var r=o[i],l=this.__groupfields[r],a=e[r];if(null==l){if(null==a)continue;return!1}if(l!=a){if(!(l instanceof Date&&a instanceof Date))return!1;if(l.toString()!=a.toString())return!1}}return!0},e}();t._DataItemsGroup=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"op",{get:function(){return this.__op},set:function(t){this.__op=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(t){t==this.__field&&null!=this.__field||(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){t==this.__outputAs&&null!=this.__outputAs||(this.__outputAs=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__op=t.Aggregate.Count,this.__field=null,this.__outputAs=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate,t.Aggregate.Count)],n.prototype,"op",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"outputAs",null),n}(e._Option),e._AggregateOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){null!=this.__aggregate&&t==this.__aggregate||(this.__aggregate=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupby",{get:function(){return this.__groupby},set:function(t){this.__groupby!=t&&(this.__groupby=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"concat",{get:function(){return this.__concat},set:function(n){this.__concat==n&&null!=this.__concat||(this.__concat=null==n?new e._ConcatOption({type:t.ConcatType.End}):n)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__aggregate=null,this.__groupby=[],this.__concat=new e._ConcatOption({type:t.ConcatType.End}),this.type=t.TransformType.Aggregate},o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_AggregateOption"),t.ValidatorAttribute(t._AggregateOptionValidator,!0)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!1,!0)],r.prototype,"groupby",null),o([t.JsonConverterAttribute(t._ConcatOptionConverter,!0)],r.prototype,"concat",null),r}(e._TransformOption),e._AggregateTransformOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customArray",{get:function(){return this.__customArray},set:function(t){this.__customArray!=t&&(null==t&&(t=[]),this.__customArray=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type=t.ConcatType.End,this.__customArray=[]},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ConcatType,t.ConcatType.End)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],n.prototype,"customArray",null),n}(e._Option),e._ConcatOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isAggregateTransformOption=function(e){var n=e;return n.type==t.TransformType.Aggregate&&null!=n.aggregate}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){this.name="Bin",this.type="DataSourceTransform",this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isBinTransformOption(n))for(var o=n,r=n.names,l=0,a=e._dataSources;l<a.length;l++){var s=a[l];if(null==r||null!=s._schema._name&&r.indexOf(s._schema._name)>=0){var u=this._parse(o,s._schema);null!=u&&null==s._schema._fields[u._name]&&(s._schema._fields[u._name]=u)}}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e.prototype._parse=function(e,n){if(null==e)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);if(null==e.field)return null;if(null==e.bin)return null;if(null!=e.outputAs&&e.outputAs.length>0&&null!=e.field&&e.field.length>0){var i=n._fields[e.field];if(null!=i){if(i instanceof t._NumberDataField)return new t._BinNumberDataField(e,i);if(i instanceof t._DateDataField)return new t._BinDateDataField(e,i)}}return null},e._defaultPlugin=new e,e}();t._BinDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n.outputAs,t.core.DataType.Object,i._dataSource)||this;if(null==i)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);return o.__option=n,o.__field=i,o}return i(n,e),n.prototype._option=function(){return this.__option},n.prototype.originalField=function(){return this.__field},n.prototype.toSteps=function(t,e){var n=this._option().bin;if(null!=n){var i=n.steps;return null!=i&&Array.isArray(i)&&i.length>0?this._createStepsByStepsOption(t,e,i):this._createStepsAutomatically(t,e)}return[]},n.prototype._createStepsByStepsOption=function(t,e,n){var i=[],o=[];o=(o=o.concat(n)).sort((function(t,e){return t>e?1:t<e?-1:0}));var r=t;i.push(r);for(var l=0,a=n;l<a.length;l++){var s=a[l];s>r&&(i.push(s),r=s)}return r<e&&i.push(e),i},n.prototype._createStepsAutomatically=function(e,n,i){return void 0===i&&(i=4),new t._NumberTicksGenerator(e,n,!0,i)._ticks()},n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(n instanceof t._BinNumberDataField){var i=n;return this.originalField().equalsWith(i.originalField())}return!1},n}(t._BaseDataField);t._BinDateDataField=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n.outputAs,t.core.DataType.Object,i._dataSource)||this;if(null==i)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);return o.__option=n,o.__field=i,o}return i(n,e),n.prototype._option=function(){return this.__option},n.prototype.originalField=function(){return this.__field},n.prototype.toSteps=function(t,e){var n=this._option().bin;if(null!=n){var i=n.steps;return null!=i&&Array.isArray(i)&&i.length>0?this._createStepsByStepsOption(t,e,i):this._createStepsAutomatically(t,e)}return[]},n.prototype._createStepsByStepsOption=function(t,e,n){var i=[],o=[];o=(o=o.concat(n)).sort((function(t,e){return t>e?1:t<e?-1:0}));var r=t;i.push(r);for(var l=0,a=n;l<a.length;l++){var s=a[l];s>r&&(i.push(s),r=s)}return r<e&&i.push(e),i},n.prototype._createStepsAutomatically=function(e,n,i){return void 0===i&&(i=4),new t._NumberTicksGenerator(e,n,!0,i)._ticks()},n.prototype.equalsWith=function(t){if(!e.prototype.equalsWith.call(this,t))return!1;if(t instanceof n){var i=t;return this.originalField().equalsWith(i.originalField())}return!1},n}(t._BaseDataField);t._BinNumberDataField=e}(t||(t={})),function(t){t._isBinDataField=function(t){var e=t;return null!=e&&"function"==typeof e.originalField&&"function"==typeof e.toSteps}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"steps",{get:function(){return this.__steps},set:function(t){this.__steps!=t&&(this.__steps=null==t?null:t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__steps=null},o([t.JsonConverterAttribute(t._ArrayConverter,!0,"number",!1)],n.prototype,"steps",null),n}(e._Option),e._BinOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"bin",{get:function(){return this.__bin},set:function(t){null!=this.__bin&&this.__bin==t||(this.__bin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(e){if(this.__field!=e){var n=e;if(null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__field=n}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(e){if(this.__outputAs!=e){var n=e;if(null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__outputAs=n}},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__bin=null,this.__field=null,this.__outputAs=null,this.type=t.TransformType.Bin},o([t.JsonConverterAttribute(t._BinOptionConverter,!1)],n.prototype,"bin",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"outputAs",null),n}(e._TransformOption),e._BinTransformOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isBinTransformOption=function(e){var n=e;return n.type==t.TransformType.Bin&&null!=n.bin&&null!=n.field&&null!=n.outputAs}}(t||(t={})),function(t){var e=function(){function e(){this.name="Calculate",this.type=t._BuildInDataSourceTransformCollection._pluginType,this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isCalculateTransformOption(n))for(var o=n,r=n.names,l=0,a=e._dataSources;l<a.length;l++){var s=a[l];if(null==r||null!=s._schema._name&&r.indexOf(s._schema._name)>=0){for(var u=o.calculate,_=t._ExcelSyntaxEngine._defaultSyntaxEngine(),p=_.parse(u),c=null,h=0,f=s._items;h<f.length;h++){var d=f[h],y=new t._DataItemIdentifierProxy(d),g=_.evaluate(p,y,null,i);t._NativeExtension.setPropertyValue(d,o.outputAs,t._DataValueTypeExtension._toObject(g)),null==c&&(c=this._createDataFields(d,o.outputAs,s))}if(null!=s._schema._fields[o.outputAs])throw new t.OptionError(t.ErrorCode.UnexpectedValue,o.outputAs);s._schema._fields[o.outputAs]=c}}},e.prototype._createDataFields=function(e,n,i){var o=null,r=i._schema._name,l=new t._NullDataField(n,r),a=t._NativeExtension.getPropertyValue(e,n);return t._isNullDataField(l)&&("number"==typeof a?l=new t._NumberDataField(n,r):"string"==typeof a?l=new t._StringDataField(n,r):a instanceof Date&&!isNaN(a.getTime())?l=new t._DateDataField(n,r,o):"boolean"==typeof a&&(l=new t._BooleanDataField(n,r))),l},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CalculateDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this.__dataItem=t}return e.prototype.getIdentifierValue=function(e){return"current"==e?this.__dataItem:e.length>8&&"current."==e.substring(0,8)&&null!=this.__dataItem?new t._AnyValueBinding(e.substring(8))._getValue(this.__dataItem):null},e.prototype.queryInterface=function(t){return"IIdentifierProxy"==t?this:null},e}();t._DataItemIdentifierProxy=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"calculate",{get:function(){return this.__calculate},set:function(t){this.__calculate!=t&&(this.__calculate=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){this.__outputAs!=t&&(this.__outputAs=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__calculate=null,this.__outputAs=null,this.type=t.TransformType.Calculate},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"calculate",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"outputAs",null),n}(e._TransformOption),e._CalculateTransformOption=n}(t||(t={})),function(t){(t.options||(t.options={}))._isCalculateTransformOption=function(e){var n=e;return n.type==t.TransformType.Calculate&&null!=n.calculate&&null!=n.outputAs}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isUnpivotTransformOption=function(e){var n=e;return n.type==t.TransformType.Unpivot&&null!=n.category&&null!=n.valueFieldAs&&null!=n.outputAs}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"from",{get:function(){return this.__from},set:function(t){this.__from!=t&&(this.__from=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fieldAs",{get:function(){return this.__fieldAs},set:function(t){t!=this.__fieldAs&&(this.__fieldAs=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__from=null,this.__fieldAs=null},n.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0)],n.prototype,"from",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"fieldAs",null),n}(e._Option),e._UnpivotCategoryOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"names",{get:function(){return this.___names},set:function(t){this.___names!=t&&(this.___names=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){return this.__cateory},set:function(t){this.__cateory!=t&&(this.__cateory=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueFieldAs",{get:function(){return this.__valueFieldAs},set:function(t){this.__valueFieldAs!=t&&(this.__valueFieldAs=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){this.__outputAs!=t&&(this.__outputAs=this.validate(t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__cateory=null,this.__valueFieldAs=null,this.__outputAs=null,this.type=t.TransformType.Unpivot},o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!1,!1,!1,1)],n.prototype,"names",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_UnpivotCategoryOption"),t.ValidatorAttribute(t._UnpivotCategoryOptionValidator,!0)],n.prototype,"category",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"valueFieldAs",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],n.prototype,"outputAs",null),n}(e._TransformOption),e._UnpivotTransformOption=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._analyseItems=function(e,n,i){for(var o={},r=0,l=e;r<l.length;r++)for(var a=l[r],s=0,u=t._NativeExtension.properties(a,!0);s<u.length;s++){var _=u[s],p=o[_],c=t._NativeExtension.getPropertyValue(a,_);null==p&&(o[_]=p=this._createDataField(c,e,_,n,i))}return o},n.prototype._createDataField=function(e,n,i,o,r){return null==e?n.every((function(e){return null==t._NativeExtension.getPropertyValue(e,i)}))?new t._NullDataField(i,r.name):null:n.some((function(n){var o=t._NativeExtension.getPropertyValue(n,i);return null!=o&&typeof o!=typeof e}))?new t._BaseDataField(i,t.core.DataType.Unknown,r.name):"number"==typeof e?new t._NumberDataField(i,r.name):"string"==typeof e?null==o._parseDate(t._AnyTypeUtility._toString(e))?new t._StringDataField(i,r.name):new t._DateDataField(i,r.name,o):t._AnyTypeUtility._isDate(e)?new t._DateDataField(i,r.name,o):"boolean"==typeof e?new t._BooleanDataField(i,r.name):null},n}(t._DataSchemaBuilder);t._UnpivotDataSchemaBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Unpivot",this.type="DataSourceTransform",this.priority=0}return e.prototype._getOriginalDataSourceName=function(e){if(null==e)return null;if(Array.isArray(e)&&1==e.length)return e[0];throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,e)},e.prototype._isNewEmptyDataSource=function(t,e){return 0==t._items.length&&null==t._schema._name&&t!==e._defaultDataSource},e.prototype._getNamesOfFieldsToBeUnPivoted=function(e,n){var i=t._NativeExtension.properties(n._schema._fields,!0),o=e.from;return null==o||null!=o&&0==o.length?i:o.filter((function(t){return i.indexOf(t)>-1}))},e.prototype._getCategoryFieldName=function(e,n){var i=e.fieldAs;if(!t._NativeExtension.properties(n._schema._fields,!0).some((function(t){return i==t})))return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,i)},e.prototype._getValueFieldName=function(e,n){var i=e.valueFieldAs,o=e.category.fieldAs,r=t._NativeExtension.properties(n._schema._fields,!0);if(r.push(o),!r.some((function(t){return i==t})))return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,i)},e.prototype._createNewItems=function(e,n,i,o){var r=[];if(0==n.length)return this._cloneItem(e,r);for(var l=0,a=e;l<a.length;l++)for(var s=a[l],u=0,_=n;u<_.length;u++){for(var p=_[u],c={},h=0,f=t._NativeExtension.properties(s,!0);h<f.length;h++){var d=f[h],y=t._NativeExtension.getPropertyValue(s,d);-1==n.indexOf(d)?c[d]=y:p==d&&(c[i]=t._DataValueTypeExtension._toObject(d),c[o]=y)}t._NativeExtension.properties(c,!0).length>0&&r.push(c)}return r},e.prototype._cloneItem=function(e,n){for(var i=0,o=e;i<o.length;i++){for(var r=o[i],l={},a=0,s=t._NativeExtension.properties(r,!0);a<s.length;a++){var u=s[a];l[u]=t._NativeExtension.getPropertyValue(r,u)}n.push(l)}return n},e.prototype._createNewDataSource=function(e,n,i){var o=t._DataUtility._buildData(e,n,null),r=(new t._UnpivotDataSchemaBuilder)._buildDataSchema(o.values,o,i);return new t._DataSource(o.values,null,r)},e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isUnpivotTransformOption(n)){var o=n,r=this._getOriginalDataSourceName(o.names),l=e._dataSource(r);if(this._isNewEmptyDataSource(l,e))return;var a=l._items,s=o.category,u=this._getNamesOfFieldsToBeUnPivoted(s,l),_=this._getCategoryFieldName(s,l),p=this._getValueFieldName(o,l),c=o.outputAs,h=this._createNewItems(a,u,_,p),f=this._createNewDataSource(c,h,i);e._add(f)}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._UnpivotDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(){}return t.lerp=function(t,e,n){return(t=null==t?0:t)+((e=null==e?0:e)-t)*n},t.lerpString=function(e,n,i){var o=this;null==e&&(e="0"),null==n&&(n="0");var r=t.getNumbersFromString(e),l=0;return n.replace(/-?\d+(\.\d+)?/g,(function(e,n){var a,s=r[l++];if(null==s&&(s=0),1==i)a=null==n?0:n.length-1;else{var u=o._decimalPosition(s),_=null==n?0:n.length-1;a=u>_?u:_}return t.lerpNumber(s,t._parseNumber(e),i).toFixed(a)}))},t.getNumbersFromString=function(e){for(var n=/(-?\d+(?:\.\d+)?)/g,i=null,o=[];null!=(i=n.exec(e));)o.push(t._parseNumber(i[1]));return o},t._decimalPosition=function(t){var e=t.toString(),n=e.indexOf(".");return-1==n?0:e.length-n-1},t.lerpNumber=function(t,e,n){return t+(e-t)*n},t._parseNumber=function(t){if(null!=t){var e=Number(t);if(!isNaN(e))return e}return null},t}();t._LerpUtil=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__swapAxes=t,this.__lineAspect=e}return e.prototype.convert=function(e){if(e.length>1){if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepLeft||!this.__swapAxes&&this.__lineAspect==t.LineAspect.StepRight){(o=[]).push(e[0]);for(var n=1;n<e.length;n++)o.push(new t.core.Point(e[n].x,e[n-1].y)),o.push(new t.core.Point(e[n].x,e[n].y));return o}if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepRight||!this.__swapAxes&&this.__lineAspect==t.LineAspect.StepLeft){for((o=[]).push(e[0]),n=1;n<e.length;n++)o.push(new t.core.Point(e[n-1].x,e[n].y)),o.push(new t.core.Point(e[n].x,e[n].y));return o}if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepCenter){for((o=[]).push(e[0]),n=1;n<e.length;n++){var i=e[n-1].y+(e[n].y-e[n-1].y)/2;o.push(new t.core.Point(e[n-1].x,i)),o.push(new t.core.Point(e[n].x,i)),o.push(new t.core.Point(e[n].x,e[n].y))}return o}if(this.__swapAxes||this.__lineAspect!=t.LineAspect.StepCenter)return e;var o;for((o=[]).push(e[0]),n=1;n<e.length;n++){var r=e[n-1].x+(e[n].x-e[n-1].x)/2;o.push(new t.core.Point(r,e[n-1].y)),o.push(new t.core.Point(r,e[n].y)),o.push(new t.core.Point(e[n].x,e[n].y))}return o}return e},e}();t._LineAspectConverter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.isNil=function(t){return t.right-t.left<=0||t.bottom-t.top<=0},e.IsPointInPolygon=function(t,e){for(var n=e[0].x,i=e[0].x,o=e[0].y,r=e[0].y,l=1;l<e.length;l++){var a=e[l];n=Math.min(a.x,n),i=Math.max(a.x,i),o=Math.min(a.y,o),r=Math.max(a.y,r)}if(t.x<n||t.x>i||t.y<o||t.y>r)return!1;for(var s=!1,u=(l=0,e.length-1);l<e.length;u=l++)e[l].y>t.y!=e[u].y>t.y&&t.x<(e[u].x-e[l].x)*(t.y-e[l].y)/(e[u].y-e[l].y)+e[l].x&&(s=!s);return s},e.IsPointInPolygon2=function(t,e,n){for(var i=e[0],o=e[0],r=n[0],l=n[0],a=1;a<e.length;a++)i=Math.min(e[a],i),o=Math.max(e[a],o),r=Math.min(n[a],r),l=Math.max(n[a],l);if(t.x<i||t.x>o||t.y<r||t.y>l)return!1;for(var s=!1,u=(a=0,e.length-1);a<e.length;u=a++)n[a]>t.y!=n[u]>t.y&&t.x<(e[u]-e[a])*(t.y-n[a])/(n[u]-n[a])+e[a]&&(s=!s);return s},e._polygonArea=function(t){for(var e=0,n=0;n<t.length;n++){var i=(n+1)%t.length;e+=t[n].x*t[i].y-t[i].x*t[n].y}return e/2},e._getCenterOfGravityPoint=function(e){for(var n=0,i=0,o=0,r=1;r<=e.length;r++){var l=e[r%e.length].x,a=e[r%e.length].y,s=e[(r-1)%e.length].x,u=e[(r-1)%e.length].y,_=(l*u-a*s)/2;n+=_,i+=_*(l+s)/3,o+=_*(a+u)/3}return i/=n,o/=n,new t.core.Point(i,o)},e.CenterOfPolygon=function(e,n){for(var i=0,o=0,r=0,l=1;l<=e.length;l++){var a=e[l%e.length],s=n[l%n.length],u=e[(l-1)%e.length],_=n[(l-1)%n.length],p=(a*_-s*u)/2;i+=p,o+=p*(a+u)/3,r+=p*(s+_)/3}return o/=i,r/=i,new t.core.Point(o,r)},e.sort=function(t,e){for(var n,i=0;i<t.length;++i)for(var o=0;o<t.length;++o)e(t[o],t[i])&&(n=t[o],t[o]=t[i],t[i]=n)},e.pointToLine=function(t,n,i,o,r,l){var a=e._lineSpace(t,n,i,o),s=e._lineSpace(t,n,r,l),u=e._lineSpace(i,o,r,l);if(u+s==a)return 0;if(a<=1e-6)return s;if(u*u>=a*a+s*s)return s;if(s*s>=a*a+u*u)return u;var _=(a+s+u)/2;return 2*Math.sqrt(_*(_-a)*(_-s)*(_-u))/a},e.HashCode=function(n){if(null==n)return"";if("string"==typeof n)return e._hashCodeString(n);if("number"==typeof n)return e._hashCodeString("number"+n);if("boolean"==typeof n)return e._hashCodeString("boolean"+n);if(n instanceof Object){for(var i="",o=0,r=t._NativeExtension.properties(n,!0);o<r.length;o++){var l=r[o];i=i+e.HashCode(l)+e.HashCode(n[l])}return e._hashCodeString(i)}return null},e.SecondaryIdentityHash=function(t){return t+=t<<15^4294954365,t^=t>>>10,t+=t<<3,t^=t>>>6,(t+=(t<<2)+(t<<14))^t>>>16},e.isChildOf=function(t,e,n){function i(t,e,i){if(e.length<i.length)return null;for(var o=!1,r=0;r<i.length;r++){var l=t+r;if(!(null!=n&&n(e[l],i[r])||e[l]===i[r])){o=!1;break}o=!0}return o?{start:t,end:t+i.length-1}:null}if(t.length<e.length)return null;if(t.length==e.length)return i(0,t,e);for(var o=t.length-e.length+1,r=0;r<o;r++){var l=i(r,t,e);if(null!=l)return l}return null},e.findMaxSameArrayOf=function(n,i,o){for(var r=n.length>=i.length,l=r?n:i,a=r?i:n,s=0,u=0,_=0,p=0,c=0,h=0;h<a.length;h++)for(var f=h;f<a.length;f++){var d=e.isChildOf(l,a.slice(h,f+1),o);if(null!=d){var y=f+1-h;if(y>s){if(f-h!=d.end-d.start)throw new t.AssertError(t.ErrorCode.NotEqual,f-h,d.end-d.start);s=y,u=r?h:d.start,_=r?f:d.end,p=r?d.start:h,c=r?d.end:f}}}return 0!=s?{arrayStart:p,arrayEnd:c,otherStart:u,otherEnd:_}:null},e.createPtsFromRect=function(e,n){for(var i=[],o=[],r=[e.left,e.top,e.right,e.top,e.right,e.bottom,e.left,e.bottom,e.left,e.top],l=r.length-3,a=0;a<l;a+=2)for(var s=r[a],u=r[a+1],_=r[a+2],p=r[a+3],c=0;c<n/4;++c)i.push(s+(_-s)/(n/4)*c),o.push(u+(p-u)/(n/4)*c);return new t._Polyline(i,o)},e.createPtsFromCircle=function(e,n,i){for(var o=[],r=[],l=Math.PI,a=0;a<i;++a){var s=360/i*a/l,u=Math.sin(s)*e+n.x,_=Math.cos(s)*e+n.y;o.push(u),r.push(_)}return new t._Polyline(o,r)},e.createPtsFromRadialBar=function(e,n,i,o,r,l){var a=[],s=[],u=[],_=[],p=l-2,c=(n-e)/(p/2);if(0!=c)for(;e+c==e;)c*=10;for(var h=e;h<n;h+=c){var f=Math.cos(h),d=Math.sin(h),y=f*i+r.x,g=d*i+r.y,m=f*o+r.x,v=d*o+r.y;a.push(y),s.push(g),u.push(m),_.push(v)}if(0==a.length){f=Math.cos(e),d=Math.sin(e),y=f*i+r.x,g=d*i+r.y,m=f*o+r.x,v=d*o+r.y;for(var w=0;w<p;w++)a.push(y),s.push(g),u.push(m),_.push(v)}return a.unshift(u[0]),s.unshift(_[0]),u.push(a[a.length-1]),_.push(s[s.length-1]),new t._Polyline(a.concat(u.reverse()),s.concat(_.reverse()))},e.createPtsFromPyologon=function(t,e){return null},e.sameValue=function(t,e){return t===e||t instanceof Date&&e instanceof Date&&t.getTime()==e.getTime()},e.hasKey=function(t,e){return void 0!==t[e]},e.find=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e(o))return o}return null},e.toBoolean=function(t){return!!t},e.deepAssign=function(t,n,i){if(void 0===i&&(i=null),null!=i){if(n=n[i],!e._isObject(t[i]))return void(t[i]=n);if(e._isObject(n))for(var o=0,r=Object.keys(n);o<r.length;o++){var l=r[o];e.deepAssign(t[i],n,l)}else t[i]=n}else{if(!e._isObject(t)||!e._isObject(n))return;for(var a=0,s=Object.keys(n);a<s.length;a++)l=s[a],e.deepAssign(t,n,l)}},e._isObject=function(t){return null!=t&&"object"==typeof t},e.rad2Degree=function(t){return 180*t/Math.PI},e.degree2Rad=function(t){return t*Math.PI/180},e.getCssColorString=function(e){return e instanceof t.options._CssColorOption?e.color:null},e.numberArrayEquals=function(t,e){if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},e._hashCodeString=function(t){var e=0;if(null==t||0===t.length)return e+"";for(var n=t.length,i=0;i<n;++i)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e+""},e._lineSpace=function(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))},e}();t._Util=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.PercentileINC=function(t,e){if(e<0||e>1)return NaN;e*=100,t.sort((function(t,e){return(null==t?0:t)-(null==e?0:e)}));var n,i=e/100*(t.length-1);if(Math.floor(i)==i)n=t[i];else{var o=Math.floor(i),r=i-o;n=t[o]+(t[o+1]-t[o])*r}return n},t.PercentileEXC=function(t,e){var n=t.sort((function(t,e){return(null==t?0:t)-(null==e?0:e)})),i=e*(t.length+1)-1;if(isNaN(i))return NaN;var o=Math.floor(i);return o>=0&&o<n.length-1?n[o]+(n[o+1]-n[o])*(i-o):null},t.Sum=function(t){return 0===t.length?0:t.filter((function(t){return null!=t&&!isNaN(t)})).reduce((function(t,e){return t+e}))},t.Average=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));return 0==n.length?0:t.Sum(n)/n.length},t.Max=function(t){var e=t.filter((function(t){return null!=t&&!isNaN(t)}));return Math.max.apply(Math,e)},t.Min=function(t){var e=t.filter((function(t){return null!=t&&!isNaN(t)}));return Math.min.apply(Math,e)},t.Median=function(t){if(null!=t&&t.length>0){var e=[];(e=e.concat(t)).sort((function(t,e){return(null==e?0:e)-(null==t?0:t)}));var n=e.length-1;return(e[Math.floor(n/2)]+e[Math.round(n/2)])/2}return NaN},t.Count=function(t){return t.length},t}();t.Statics=e}(t||(t={})),function(t){var e=function(t,e){this.text=t,this.size=e};t._TextInline=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n)||this;return l.__rectangle=t.core.Rect.ReadOnlyRect,l.__isForwardDirection=null,l._autoAngle=null,l.___categoryValueViews=null,l._definition=i,l.__titleView=l._createTitleView(),l.__unitLabelView=l._createUnitLabelView(),l.__majorGridLineViews=[],l.__minorGridLineViews=[],l.__majorTickViews=[],l.__minorTickViews=[],l.__tickOverlap=1,l._scaleDimension=o,l._scaleBuilder=r,l._scaleModel=new t._AxisScaleModel,l._axisLabelLayoutPolicy=t._BuildInAxisLabelLayoutPolicyBuilderCollection.defaultBuildInAxisLabelLayoutPolicyBuilders()._axisLabelLayoutPolicy(l,l._definition._option.plugins,l._definition._pluginCollection),l._gridLineDisplayPolicy=t._BuildInGridLineDisplayPolicyBuilderCollection._defaultBuildInGridLineDisplayPolicyBuilders()._gridLineDisplayPolicy(l._definition._option.plugins,l._definition._pluginCollection),l}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._layoutContent=function(t,e,n){},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=null,r=0,l=this._majorGridLineViews();r<l.length;r++)if(null!=(o=l[r]._hitTest(t,n,i)))return o;for(var a=0,s=this._minorGridLineViews();a<s.length;a++)if(null!=(o=s[a]._hitTest(t,n,i)))return o;for(var u=0,_=this._labelViews();u<_.length;u++)if(null!=(o=_[u]._hitTest(t,n,i)))return o;return null!=(o=this._unitLabelView()._hitTest(t,n,i))||null!=(o=this._titleView()._hitTest(t,n,i))?o:e.prototype._hitTest.call(this,t,n,i)},n.prototype._getTickHeightBelowAxis=function(e,n){var i=0,o=n,r=this.__tickOverlap,l=e;return l==t.TickMark.Outside?r=1:l==t.TickMark.Inside?r=-1:l==t.TickMark.Cross&&(r=0),l!=t.TickMark.None&&(i+=.5*(1+r)*o),i},n.prototype._getCorrectAngle=function(){var t=this._labelAngle();return null==t&&(t=null!=this._autoAngle?this._autoAngle:0),t},n.prototype._getAcutalOrigin=function(){var t=this.__actualOrigin;return null==t&&(t=this._origin()),t},Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype.build=function(e){var n=this._scaleDimension._itemValue(e),i=this._scaleDimension.dimensions,o=t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(n,this,i);return this._createAxisTickLabelView(o,e,n)},n.prototype.applyConditionalFormat=function(){(new t.models._AxisConditionalFormattingRuleRunner)._apply(this)},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Axis},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getCoordinateSystemView()._getLayoutView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._scaleModel._minimum},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._scaleModel._maximum},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"majorUnit",{get:function(){return this._scaleModel._majorUnit},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minorUnit",{get:function(){return this._scaleModel._minorUnit},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this._position()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axisType",{get:function(){return this._definition._option.type},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(n){return"IShapeModel"==n||"IAxisLabelModel"==n?this:"IAxisTitle"==n?new t.models._AxisTitle(this._titleView()):"IGridLine"==n?new t.models._GridLine(this._majorGridLineViews().concat(this._minorGridLineViews())):"IAxisLabel"==n?new t.models._AxisLabel(this._labelViews()):"IAxisCategoryModel"==n?new t.models._AxisCategoryModel(this._categoryValueViews()):e.prototype.queryInterface.call(this,n)},n.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},n.prototype._getScaleReversed=function(){return this._isMirror()?1==this._getIsForwardDirection()?this._definition._option.reversed:!this._definition._option.reversed:this._definition._option.reversed},n.prototype._applyOptionToScale=function(e,n){var i=this._majorUnit();null==i||isNaN(i)||e._setMajorUnit(i);var o=this._minorUnit();if(null==o||isNaN(o)||e._setMinorUnit(o),e._setReversed(this._getScaleReversed()),t._isTimeAxisScale(e)){var r=e;r._setBaseDateMode(this._dateMode()),r._setMajorDateMode(this._majorDateMode()),r._setMinorDateMode(this._minorDateMode())}e instanceof t._PaddingAxisScale&&e._setDomainPadding([this._definition._option.axisPadding,this._definition._option.axisPadding]),this._refreshFormat(e,n)},n.prototype._refreshFormat=function(t,e){},n.prototype._adjustOrigin=function(t,e){this.__actualOrigin=null;var n=this._origin(),i=null!=t.min||t.useActualMin,o=null!=t.max||t.useActualMax;if(null!=n&&null!=e){var r=e._scaleModel._minimum,l=e._scaleModel._maximum;n<(null==r?0:r)&&i?this.__actualOrigin=r:n>(null==l?0:l)&&o&&(this.__actualOrigin=l)}},n.prototype._dimensions=function(){return this._scaleDimension.dimensions},n.prototype._createAxisScale=function(){var e=this,n=t._BuildInAxisScalePolicyBuilderCollection._defaultBuildInAxisScalePolicyBuilders()._axisScalePolicy(this,this._scaleDimension,this._definition._option.plugins,this._definition._pluginCollection),i=this._scaleBuilder.build(this._definition._option,this,n,(function(t){e._onCategoryValueViewsChanged(t)}));return this._initAxisScaleDomain(i,this._scaleDimension,this._definition._option),this._applyOptionToScale(i,this._scaleDimension),this._scaleModel._scale=i,i},n.prototype._initAxisScaleDomain=function(e,n,i){var o=null,r=null;null==i.min||i.min.type!=t.ValueOptionType.Number&&i.min.type!=t.ValueOptionType.Date||(o=n.scaleType!=t.ValueScaleType.Ordinal&&n.scaleType!=t.ValueScaleType.Logarithmic&&n.scaleType!=t.ValueScaleType.Percentage||i.min.type!=t.ValueOptionType.Date?i.min.value:null),null==i.max||i.max.type!=t.ValueOptionType.Number&&i.max.type!=t.ValueOptionType.Date||(r=n.scaleType!=t.ValueScaleType.Ordinal&&n.scaleType!=t.ValueScaleType.Logarithmic&&n.scaleType!=t.ValueScaleType.Percentage||i.max.type!=t.ValueOptionType.Date?i.max.value:null);var l=i.useActualMin,a=i.useActualMax,s=n._min(),u=n._max();this._getExpand()&&t._isOrdinalAxisScale(e)&&(u=(null==u?0:u)+1);for(var _=null!=r||a,p=null!=o||l,c=s,h=u,f=0,d=n.dimensions;f<d.length;f++){var y=d[f];if(t.models._isOverlayDimension(y)){var g=y,m=g._overlayMax(),v=g._overlayMin();!_&&null!=m&&m>(null==h?0:h)&&(h=m),!p&&null!=v&&v<(null==c?0:c)&&(c=v)}}null!=c&&null!=h&&(s=c,u=h),e._setDomain([s,u])},n.prototype._getExpand=function(){return this.__expand},n.prototype._setExpand=function(t){this.__expand=t},n.prototype._titleView=function(){return this.__titleView},n.prototype._unitLabelView=function(){return this.__unitLabelView},n.prototype._majorGridLineViews=function(){return this.__majorGridLineViews},n.prototype._minorGridLineViews=function(){return this.__minorGridLineViews},n.prototype._majorTickViews=function(){return this.__majorTickViews},n.prototype._minorTickViews=function(){return this.__minorTickViews},n.prototype._createTitleView=function(){return new t._BaseAxisTitleView(this)},n.prototype._createUnitLabelView=function(){return new t._BaseAxisUnitLabelView(this,this._definition._option.unitLabel)},n.prototype._createTickView=function(e,n){return new t._BaseAxisTickView(this,e,n)},n.prototype._labelViews=function(){return this._majorTickLabelViews()},n.prototype._majorTickLabelViews=function(){return this._scaleModel._majorTickValueModels()},n.prototype._onCategoryValueViewsChanged=function(t){this.___categoryValueViews=null},n.prototype._categoryValueViews=function(){return null==this.___categoryValueViews&&(t._isOrdinalAxisScale(this._scaleModel._scale)?this.___categoryValueViews=this._createCategoryValueViews(this._scaleModel._scale):this.___categoryValueViews=[]),this.___categoryValueViews},n.prototype._createCategoryValueViews=function(t){return[]},n.prototype._layoutCategoryValueView=function(){},n.prototype._layout=function(t,e,n){if(null!=this._scaleDimension){for(var i=this._labelViews(),o=0;o<i.length;++o)i[o]._visible=!0;this._layoutContent(t,e,n),this._layoutCategoryValueView()}},n.prototype._drawView=function(e,n){var i=this;if(null!=this._rectangle()){e.beginTransform(),t._StyleUtility._applyStyleOption(e,this._style()),t._StyleUtility._applyTextStyleOption(e,this._textStyle());var o=this._getClipRectangle(),r=null;n._renderLabel&&null!=o&&(r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height)),e.drawGroup(this._styleClassName(),r,null,(function(t){i._renderContentGroup(t,n)})),e.restoreTransform()}},n.prototype._getClipRectangle=function(){return null},n.prototype._renderGridLineViews=function(t,e){if(this._gridLineDisplayPolicy._shouldDisplay(this._position(),e)){var n=[];this._majorGridLineViews().forEach((function(i){null!=i&&i._isVisible()&&(n.push(i._tick),i._render(t,e))})),this._minorGridLineViews().forEach((function(i){if(null!=i&&i._isVisible()){if(n.indexOf(i._tick)>=0)return;i._render(t,e)}}))}},n.prototype._containsTick=function(t,e){for(var n=!1,i=0,o=t;i<o.length;i++){var r=o[i];if(r==e){n=!0;break}if(Math.abs(r-e)<=1e-10){n=!0;break}}return n},n.prototype._renderTickViews=function(e,n){if(!n._renderLabel&&this._definition._option.position!=t.AxisPosition.None){var i=[];if(this._majorTicks()!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorTickStyle());for(var o=function(t){i.push(t._tick),e.drawGroup("gcdv-tick-major",null,null,(function(e){t._render(e,n)}))},r=0,l=this._majorTickViews();r<l.length;r++)o(l[r]);e.restoreTransform()}if(this._minorTicks()!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMinorTickStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorTickStyle());for(var a=function(o){if(s._containsTick(i,o._tick)){if(s._majorTicks()==s._minorTicks())return"continue";if(s._majorTicks()==t.TickMark.Cross||s._minorTicks()==t.TickMark.Cross)return"continue"}e.drawGroup("gcdv-tick-minor",null,null,(function(t){o._render(t,n)}))},s=this,u=0,_=this._minorTickViews();u<_.length;u++)a(_[u]);e.restoreTransform()}}},n.prototype._renderLabelViews=function(e,n){n._renderLabel&&this._position()!=t.AxisPosition.None&&this._labels()!=t.AxisPosition.None&&this._labelViews().forEach((function(t,i){null!=t&&t._render(e,n)}))},n.prototype._renderUnitLabelView=function(e,n){n._renderLabel&&this._labels()!=t.AxisPosition.None&&this._unitLabelView()._render(e,n)},n.prototype._renderTitleView=function(e,n){n._renderLabel&&this._definition._option.position!=t.AxisPosition.None&&this._titleView()._render(e,n)},n.prototype._getLayoutShapes=function(t){var e=this._getLayoutLabelShapes();return t&&this._titleView()._isVisible()&&e.push(this._titleView()._rotatedRectangle()),e},n.prototype._getLayoutLabelShapes=function(){var e=this,n=[];if(this._labelViews().forEach((function(i){if(i._isVisible()&&e._labels()!=t.AxisPosition.None){var o=e._getLabelViewRectangle(i);n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(o))}})),this._labels()!=t.AxisPosition.None&&this._unitLabelView()._isVisible()){var i=this._unitLabelView()._option().textStyle.padding,o=this._unitLabelView()._rotatedRectangle(),r=Math.min(o.leftTop.x,o.rightTop.x,o.rightBottom.x,o.leftBottom.x),l=Math.max(o.leftTop.x,o.rightTop.x,o.rightBottom.x,o.leftBottom.x),a=Math.min(o.leftTop.y,o.rightTop.y,o.rightBottom.y,o.leftBottom.y),s=Math.max(o.leftTop.y,o.rightTop.y,o.rightBottom.y,o.leftBottom.y),u=new t.core.Rect(r,a,l-r,s-a);this._orientation()==t.Orientation.Vertical?(u.left-=null==i?0:i.left,u.width+=null==i?0:i.left+i.right):this._orientation()==t.Orientation.Horizontal&&(u.top-=null==i?0:i.top,u.height+=null==i?0:i.top+i.bottom),n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(u))}return n},n.prototype._getLabelViewRectangle=function(e){var n=this._labelStyle().padding,i=e._getRotatedRectangle(),o=Math.min(i.leftTop.x,i.rightTop.x,i.rightBottom.x,i.leftBottom.x),r=Math.max(i.leftTop.x,i.rightTop.x,i.rightBottom.x,i.leftBottom.x),l=Math.min(i.leftTop.y,i.rightTop.y,i.rightBottom.y,i.leftBottom.y),a=Math.max(i.leftTop.y,i.rightTop.y,i.rightBottom.y,i.leftBottom.y),s=new t.core.Rect(o,l,r-o,a-l);return this._orientation()==t.Orientation.Vertical?(s.left-=null==n?this._definition._getDefaultLabelPadding():n.left,s.width+=null==n?2*this._definition._getDefaultLabelPadding():n.left+n.right):this._orientation()==t.Orientation.Horizontal&&(s.top-=null==n?this._definition._getDefaultLabelPadding():n.top,s.height+=null==n?2*this._definition._getDefaultLabelPadding():n.top+n.bottom),s},n.prototype._checkWithRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(e.intersectsWith(new t._RectangleShape((r.left+r.right)/2,(r.top+r.bottom)/2,r.width,r.height,0)))return!0}return!1},n.prototype._checkWithRotateRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(r.intersectsWith(e))return!0}return!1},n.prototype._checkInBorder=function(t){var e=this._getCoordinateSystemView()._getLayoutView()._getPlotAreaView()._getRectangle();return e.contains(t.leftTop)&&e.contains(t.leftBottom)&&e.contains(t.rightTop)&&e.contains(t.rightBottom)},n.prototype._checkOverlapLegend=function(t){for(var e=0,n=this._getCoordinateSystemView()._getLayoutView()._getPlotAreaView()._legendViews;e<n.length;e++){var i=n[e]._contentView();if(null!=i&&i._intersectWith(t))return!0}return!1},n.prototype._checkOverlap=function(e,n,i){return!!this._checkWithRotateRectangles(n,e._tmpAxisLabels)||i!=t.OverlappingLabels.Auto&&(!(this._checkInBorder(n)&&!this._checkOverlapLegend(n))||i===t.OverlappingLabels.HideAll&&(this._checkWithRotateRectangles(n,e._labels)||this._checkWithRectangles(n,e._legendsLabels)||this._checkWithRectangles(n,e._headerLabels)||this._checkWithRectangles(n,e._footerLabels)))},n.prototype._majorUnit=function(){return null==this._definition._option.majorUnit?NaN:this._definition._option.majorUnit.value},n.prototype._minorUnit=function(){return null==this._definition._option.minorUnit?NaN:this._definition._option.minorUnit.value},n.prototype._dateMode=function(){return this._definition._option.dateMode},n.prototype._majorDateMode=function(){return this._definition._option.majorUnit.dateMode},n.prototype._minorDateMode=function(){return this._definition._option.minorUnit.dateMode},n.prototype._majorTickSize=function(){return this._definition._option.majorTickSize},n.prototype._minorTickSize=function(){return this._definition._option.minorTickSize},n.prototype._majorTicks=function(){return this._definition._option.majorTicks},n.prototype._minorTicks=function(){return this._definition._option.minorTicks},n.prototype._majorTickStyle=function(){return this._definition._option.majorTickStyle},n.prototype._minorTickStyle=function(){return this._definition._option.minorTickStyle},n.prototype._groupGrid=function(){return this._definition._option.groupGrid},n.prototype._groupGridStyle=function(){return this._definition._option.groupGridStyle},n.prototype._majorGrid=function(){return this._definition._option.majorGrid},n.prototype._minorGrid=function(){return this._definition._option.minorGrid},n.prototype._textStyle=function(){return this._definition._option.textStyle},n.prototype._labelStyle=function(){return this._definition._option.labelStyle},n.prototype._titleStyle=function(){return this._definition._option.titleStyle},n.prototype._lineStyle=function(){return this._definition._option.lineStyle},n.prototype._style=function(){return this._definition._option.style},n.prototype._axisLine=function(){return this._definition._option.axisLine},n.prototype._labels=function(){return this._definition._option.labels},n.prototype._position=function(){return this._definition._option.position},n.prototype._origin=function(){return this._definition._option.origin},n.prototype._overlappingLabels=function(){return this._definition._option.overlappingLabels},n.prototype._format=function(){return this._definition._option.format},n.prototype._orientation=function(){return this._definition._orientation},n.prototype._title=function(){var t=this._definition._option;if(null!=t.title)return t.title;for(var e=[],n=0,i=this._dimensions();n<i.length;n++){var o=i[n],r=null;null!=o._definition()&&(r=o._definition().label()),null!=r&&r.length>0&&e.indexOf(r)<0&&e.push(r)}return e.length>0?e.join(","):null},n.prototype._labelAngle=function(){for(var e=this._definition._option.labelAngle,n=e.length,i=0,o=this._dimensions();i<o.length;i++){var r=o[i];if(r instanceof t._CategoryDimension){var l=null;if(t._isCartesianCategoryDimensionDefinition(r._definition())&&(l=r._definition()._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions),null!=l&&l.length>0){var a=l.length-1;if(!(a>=n))return e[a];if(n>0)return e[n-1]}}}return n>0?e[0]:null},n.prototype._groupLabelAngles=function(){for(var e=0,n=this._dimensions();e<n.length;e++){var i=n[e];if(i instanceof t._CategoryDimension){var o=null;if(t._isCartesianCategoryDimensionDefinition(i._definition())&&(o=i._definition()._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions),null!=o&&o.length>0){var r=o.length,l=this._definition._option.labelAngle;if((l=l.slice(0,r)).length>0)for(var a=l.length;a<r;a++)l.push(l[l.length-1]);return l}}}return[]},n.prototype._getIsForwardDirection=function(){return this.__isForwardDirection},n.prototype._setIsForwardDirection=function(t){this.__isForwardDirection=t},n.prototype._isMirror=function(){return null!=this.__isForwardDirection},n.prototype._styleClassName=function(){var e=this._definition._option.type;return e==t.AxisType.X?"gcdv-axis-x":e==t.AxisType.Y?"gcdv-axis-y":null},n.prototype._defaultLineStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMajorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMinorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMajorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMinorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultGroupGridStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._getDefinition=function(){return this._definition},n.prototype._getCoordinateSystemView=function(){return this._ownerView},n}(t._BaseView);t._BaseAxisView=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){this.__cx=e,this.__cy=n,this.angle=r,this.endPoint=new t.core.Point(0,0),this.endPoint.x=e+Math.sin(this.angle)*o,this.endPoint.y=n-Math.cos(this.angle)*o,this.startPoint=new t.core.Point(0,0),this.startPoint.x=e-Math.sin(this.angle)*i,this.startPoint.y=n+Math.cos(this.angle)*i}return Object.defineProperty(e.prototype,"cx",{get:function(){return this.__cx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.__cy},enumerable:!0,configurable:!0}),e}();t._RotatedLine=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n)||this;return r.__hover=!1,r.__autoOverflow=null,r.__rotatedRectangle=new t._RectangleShape(0,0,0,0,0),r._value=o,r._label=i,r._initTextStyle(),r}return i(n,e),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this.__hover},set:function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},enumerable:!0,configurable:!0}),n.prototype._onHoverChanged=function(){this._textView()._hover=this.hover},Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n.prototype._getRotatedRectangle=function(){return this.__rotatedRectangle},n.prototype._setRotatedRectangle=function(t){this.__rotatedRectangle.equalsWith(t)||(this.__rotatedRectangle=t)},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this.__textStyle),t._StyleUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.backgroundColor),t._StyleUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.backgroundColor),t._StyleUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this._getAxisView()._getDefinition()._option.style.backgroundColor),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getDefinition()._option.style),this.__style=e}return this.__style},n.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._StyleUtility._applyTextStyleOption(e,this._getAxisView()._getDefinition()._option.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},n.prototype._textOverflow=function(){var e=this.__autoOverflow;return null==e&&(e=this.__textStyle.overflow),null==e&&(e=this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._textAlignment=function(){var t=this.__textStyle.alignment;return null==t&&(t=this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.label,this._textOverflow(),null,t.HAlign.Left,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},n.prototype._measure=function(t,e){return this._textView()._measure(t,e)},n.prototype._layout=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._drawView=function(e,n){var i=this._getTextAngle(),o=this._getTextLocation();if(null!=i&&0!=i&&null!=o){var r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(i),o);this._textView()._transform=r}else this._textView()._transform=null;this._textView()._render(e,n),n._axisLabels.push(this._getRotatedRectangle())},n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IAxisLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._shape=function(){return this._getRotatedRectangle().clone()},n.prototype._initTextStyle=function(){var e=t.options._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(this._getAxisView()._getDefinition()._option.textStyle);e._mergeStyle(this._getAxisView()._getDefinition()._option.labelStyle),this.__textStyle=e},n.prototype._canLabelWrap=function(t,e,n){return!!t._canWordWrap(this.label,n.width,e)},n.prototype._getAutoOverflow=function(){return this.__autoOverflow},n.prototype._setAutoOverflow=function(t){this.__autoOverflow=t},Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle=t},enumerable:!0,configurable:!0}),n.prototype.relatedModels=function(){for(var e=[],n=this._getAxisView()._labelViews().indexOf(this)+t.models._OrdinalDimension.__ORDINALDIMENSION_INDEXBASE__,i=this._value,o=0,r=this._getAxisView()._getCoordinateSystemView()._getPlotViews();o<r.length;o++)r[o]._traversePointView((function(o){var r=o._data();if(r instanceof t._ValuePointDataModel){var l=r.xDimensionValue;t._Util.sameValue(l.rawValue,i)&&l._value()==n&&e.push(o)}}));return e},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.AxisLabel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getAxisView()},enumerable:!0,configurable:!0}),n.prototype.translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRotatedRectangle();if(null!=r&&r.contains(n)&&this._visible){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisLabel);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getAxisView=function(){return this._ownerView},n}(t._BaseView);t._BaseAxisLabelView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o._tick=n,o._rotateLine=i,o}return i(e,t),e.prototype._drawView=function(t,e){null!=this._rotateLine&&t.drawLine(this._rotateLine.startPoint.x,this._rotateLine.startPoint.y,this._rotateLine.endPoint.x,this._rotateLine.endPoint.y)},e}(t._BaseView);t._BaseAxisTickView=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n._hover=!1,n._cachedMetricsResultWithSuggestedSize=null,n._initTextPadding(),n}return i(n,e),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.AxisTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._axisView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IAxisTitleModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hAlign=function(){return t.HAlign.Center},n.prototype._vAlign=function(){return t.VAlign.Middle},n.prototype._shape=function(){return this._rotatedRectangle()},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.textStyle),t._StyleUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.titleStyle),this.__style=e}return this.__style},n.prototype._textOverflow=function(){var e=this._axisView()._getDefinition()._option.titleStyle.overflow;return null==e&&(e=this._axisView()._getDefinition()._option.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._textAlignment=function(){var t=this._axisView()._getDefinition()._option.titleStyle.alignment;return null==t&&(t=this._axisView()._getDefinition()._option.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._axisView()._title(),this._textOverflow(),this._getTextPadding(),this._hAlign(),this._vAlign(),this._style(),null,this._textAlignment())),this.__textView},n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n.prototype._rectangle=function(){var e=this._rotatedRectangle(),n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);return new t.core.Rect(n,o,i-n,r-o)},n.prototype._rotatedRectangle=function(){var e=this._textView()._getRectangle(),n=null==this._getTextAngle()?0:this._getTextAngle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,t._Util.degree2Rad(n))},n.prototype._getTextPadding=function(){return this.__textPadding},n.prototype._setTextPadding=function(t){this.__textPadding=t},n.prototype._initTextPadding=function(){null==this._axisView()._getDefinition()._option.titleStyle.padding?this._setTextPadding(new t.options._PaddingOption({left:0,right:0,top:this._axisView()._getDefinition()._getDefaultTitlePadding(),bottom:this._axisView()._getDefinition()._getDefaultTitlePadding()})):this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},n.prototype._axisView=function(){return this._ownerView},n.prototype._calcRotatedSize=function(e,n){if(null==n||0==n)return e;var i=t._Util.degree2Rad(n),o=e.width*Math.abs(Math.sin(i))+e.height*Math.abs(Math.cos(i)),r=e.width*Math.abs(Math.cos(i))+e.height*Math.abs(Math.sin(i));return new t.core.Size(r,o)},n.prototype._measure=function(e,n){var i=this._getTextAngle();null!=n&&(n=this._calcRotatedSize(n,i));var o=this._textView()._measure(e,n)._size;return o=this._calcRotatedSize(o,i),this._cachedMetricsResultWithSuggestedSize=new t._RectangleViewMetricsResult(o),this._cachedMetricsResultWithSuggestedSize},n.prototype._layout=function(t,e,n){this._textView()._layout(t,n,e)},n.prototype._drawView=function(e,n){var i=this._getTextAngle(),o=this._getTextLocation();if(null!=i&&0!=i&&null!=o){var r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(i),o);this._textView()._transform=r}else this._textView()._transform=null;this._textView()._render(e,n)},n.prototype.translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rotatedRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisTitle);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n}(t._BaseView);t._BaseAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__axisOrientation=n,i.__axisViews=[],i}return i(n,e),n.prototype._axisOrientation=function(){return this.__axisOrientation},n.prototype._coordinateSystemView=function(){return this._ownerView},n.prototype._axisViews=function(){return this.__axisViews},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var n=this._coordinateSystemView(),i=n._horizontalViewSize,o=n._verticalViewSize;return"CartesianRadial"===n._getDefinition()._type?1!==i||1!==o:this._axisOrientation()===t.Orientation.Horizontal?1!==i:1!==o},n.prototype._add=function(t){this.__axisViews.push(t)},n.prototype._clear=function(){this.__axisViews.splice(0)},n.prototype._renderInnerContent=function(t,e,n){for(var i=this._axisViews(),o=0;o<i.length;o++)i[o]._render(t,n)},n.prototype._getLogicSize=function(){var e=this._getRectangle(),n=this._coordinateSystemView(),i=n._horizontalViewSize,o=n._verticalViewSize;return"CartesianXy"===n._getDefinition()._type?this._axisOrientation()===t.Orientation.Horizontal?new t.core.Size(e.width/i,e.height):new t.core.Size(e.width,e.height/o):new t.core.Size(e.width/i,e.height/o)},n.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__axesScrollableLabelsGroupElement&&(this.__axesScrollableLabelsGroupElement.offsetX=this._scrollX,this.__axesScrollableLabelsGroupElement.offsetY=this._scrollY,this.__axesScrollableLabelsGroupElement.flush())},n.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},n.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__axesScrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._scrollX,this._scrollY,(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__axesScrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},n.prototype._hitTestContent=function(t,n,i){var o=this._axisViews();if(o.length>0)for(var r=0,l=o.concat().reverse();r<l.length;r++){var a=l[r]._hitTest(t,n,i);if(null!=a)return a}return e.prototype._hitTestContent.call(this,t,n,i)},n}(t._ScrollableView);t._AxesView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.defaultAxisLabelBuilder=function(){return null==e.__defaultAxisLabelBuilder&&(e.__defaultAxisLabelBuilder=new e),e.__defaultAxisLabelBuilder},e.prototype.buildLabel=function(e,n,i,o){void 0===o&&(o=null);var r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(n._getDefinition()._option.plugins,n._getCoordinateSystemView()._getDefinition()._pluginCollection);if(null!=r){var l=this.getLabelFormat(e,n,i,o);return null==l&&null!=r&&(t._AnyTypeUtility._isNumber(e)?l=r.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(e)&&(l=r.defaultFormat(t.core.DataType.Date,!1))),r.format(l,e,null!=n._getDefinition()._option.format?n._getDefinition()._option.format.type:null)}return null!=e?e.toString():null},e.prototype.getLabelFormat=function(e,n,i,o){var r=null,l=n._getDefinition()._option.format;if(null!=l&&(r=l.value),null==r&&(r=this._formatFromDefinition(i,o),t._AnyTypeUtility._isNumber(e)&&null==r)){var a=n._scaleModel._maximum,s=n._scaleModel._minimum,u=n._scaleModel._getTickNumber(),_=((null==a?0:a)-(null==s?0:s))/(null==u?0:u);isNaN(n._scaleModel._majorUnit)||(_=n._scaleModel._majorUnit),r=this._getNumberFormat(_)}return r},e.prototype._formatFromDefinition=function(t,e){return null!=t?this._dimensionFormat(t):null!=e?e._format:null},e.prototype._dimensionFormat=function(e){for(var n=0,i=e.slice().reverse();n<i.length;n++){var o=i[n],r=o._definition();if(null!=r){if(t._isCartesianCategoryDimensionDefinition(r)){var l=r,a=l._getCartesianCategoryEncodingDefinition();if(null!=l&&a._hierarchicalGroupingDefinitions.length>0)return a._hierarchicalGroupingDefinitions[0]._dataFieldDefinition._format}var s=r.queryInterface("IXyValueDimensionDefinition");if(null!=s&&null!=s._fieldDefinition())return s._fieldDefinition()._format;var u=r.queryInterface("IXFieldDimensionDefinition");if(null!=u&&null!=u._fieldDefinition())return u._fieldDefinition()._format;var _=o._definition().queryInterface("IXyValueDimensionDefinition");if(null!=_)return _._fieldDefinition()._format;var p=o._definition().queryInterface("IAggregateValueDimensionDefinition");if(null!=p)return p._fieldDefinition()._format}}return null},e.prototype._getNumberFormat=function(t){if(null!=t){var e=t,n=this._getPrecision(e);return n>0?"n"+n:"n"}var i=Math.round(t);return 0==i||isNaN(i)?"n":"n0"},e.prototype._getPrecision=function(t){if(t<=0||isNaN(t))return 0;if(0==(t-=Math.floor(t)))return 0;var e=Math.log(t)/Math.LN10,n=Math.floor(e);return(n=-n)<=2&&(n=0),n},e}();t._AxisLabelBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===n&&(n=null),this.__axisTickLabelView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__axisTickLabelView._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection)}return e.prototype._axisLabelModel=function(){return this.__axisTickLabelView},e.prototype._axisView=function(){return this.__axisTickLabelView._getOwnerView()},e.prototype._tick=function(){return this.__axisTickLabelView.tick},e.prototype._dimensions=function(){return this._axisView()._scaleDimension.dimensions},e.prototype.getTokenValue=function(e,n,i){if(void 0===i&&(i=null),null==e)return null;if("name"===n)return new t.models._DataValueInfo(e,this.__stringFormatting);if("value"===n)for(var o=this._dimensions().slice().reverse(),r=function(n){var i=[];if(t._isCategoryDimension(n)){var o=n;t._TreeNodeUtility._traverseDFS(o._dimensionValueGroups(),(function(t,e){0==t.children.length&&i.push(t)}))}else if(t._isOrdinalDimension(n))for(var r=0,a=n._dimensionValueGroups1();r<a.length;r++){var s=a[r];i.push(s)}for(var u=0,_=i;u<_.length;u++)if((s=_[u])._dimensionValues().length>0&&s._dimensionValues()[0]._value()===l._tick()){var p=s._dataSlices._dataSource._schema._fields[e];if(null!=p){var c=t._DataSlicesAggregate._defaultAggregate._aggregate(s._dataSlices,p,t.Aggregate.List,1);if(null!=c)return l.__labelValue=c,{value:new t.models._DataValueInfo(c,l.__stringFormatting)}}}},l=this,a=0,s=o;a<s.length;a++){var u=r(s[a]);if("object"==typeof u)return u.value}return null},e.prototype.getIdentifierValue=function(e){var n=this._axisLabelModel();return"current"==e?n:e.length>8&&"current."==e.substring(0,8)&&null!=n?new t._AnyValueBinding(e.substring(8))._getValue(n):null},e.prototype._getDefaultFormat=function(e){var n=this._axisView(),i=this._dimensions(),o=t._AxisLabelBuilder.defaultAxisLabelBuilder().getLabelFormat(this.__labelValue,n,i,null);return null==o&&null!=this.__stringFormatting&&(t._AnyTypeUtility._isNumber(this.__labelValue)?o=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(this.__labelValue)&&(o=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1))),o},e.prototype._getDefaultFormatType=function(){return null!=this._axisView()._getDefinition()._option.format?this._axisView()._getDefinition()._option.format.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.queryInterface=function(t){return"ITokenProxy"===t||"IIdentifierProxy"===t||"ITextFormatProxy"===t?this:null},e}();t._AxisTickLabelViewTextProxy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__option=n,null!=n.text&&""!=n.text||(i._visible=!1),i}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.AxisUnitLabel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._axisView()},enumerable:!0,configurable:!0}),n.prototype._option=function(){return this.__option},n.prototype._paddings=function(){return this._option().textStyle.padding},n.prototype._hAlign=function(){return t.HAlign.Center},n.prototype._vAlign=function(){return t.VAlign.Middle},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.textStyle),t._StyleUtility._applyTextStyleOption(e,this._option().textStyle),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStyleOption(e,this._option().style),t._StyleUtility._applyFill(e,t._CssColor._none()),t._StyleUtility._applyFillOption(e,this._option().style.backgroundColor),this.__style=e}return this.__style},n.prototype._textOverflow=function(){var e=this._option().textStyle.overflow;return null==e&&(e=this._axisView()._getDefinition()._option.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},n.prototype._textAlignment=function(){var t=this._option().textStyle.alignment;return null==t&&(t=this._axisView()._getDefinition()._option.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.__option.text,this._textOverflow(),null,this._hAlign(),this._vAlign(),this._style(),null,this._textAlignment())),this.__textView},n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n.prototype._className=function(){return null},n.prototype._axisView=function(){return this._ownerView},n.prototype._getLabelAngle=function(){var e=this._option().labelAngle;return this._axisView()._getDefinition()._orientation==t.Orientation.Vertical?null==e?-90:e-90:null==e?0:e},n.prototype._calcRotatedSize=function(e,n){if(0==n)return e;var i=t._Util.degree2Rad(n),o=e.width*Math.abs(Math.sin(i))+e.height*Math.abs(Math.cos(i)),r=e.width*Math.abs(Math.cos(i))+e.height*Math.abs(Math.sin(i));return new t.core.Size(r,o)},n.prototype._measureInnerContent=function(e,n){var i=this._getLabelAngle();null!=n&&(n=this._calcRotatedSize(n,i));var o=this._textView()._measure(e,n)._size;return o=this._calcRotatedSize(o,i),new t._RectangleViewMetricsResult(o)},n.prototype._layoutInnerContent=function(e,n,i){if(n.height<=0||n.width<=0)this._visible=!1;else if(this._axisView()._getDefinition()._option.position!=t.AxisPosition.None)if(this._axisView()._getDefinition()._option.labels!=t.AxisPosition.None){var o=this._axisView()._getDefinition()._orientation==t.Orientation.Vertical,r=this._textView()._getMeasureInfo()._size,l=r.clone();if(null!=this._option().labelAngle){var a=this._option().labelAngle*Math.PI/180,s=r.width*Math.abs(Math.sin(a))+r.height*Math.abs(Math.cos(a)),u=r.width*Math.abs(Math.cos(a))+r.height*Math.abs(Math.sin(a));l=new t.core.Size(u,s)}if(o){var _=n.left+.5*l.height,p=n.top+.5*l.width;this._setTextAngle(this._getLabelAngle()),this._setTextLocation(new t.core.Point(_,p)),this._textView()._layout(e,i,new t.core.Rect(_-r.width/2,p-r.height/2,r.width,r.height))}else _=n.right-.5*l.width,p=n.top+.5*l.height,this._setTextAngle(this._getLabelAngle()),this._setTextLocation(new t.core.Point(_,p)),this._textView()._layout(e,i,new t.core.Rect(_-r.width/2,p-r.height/2,r.width,r.height))}else this._visible=!1;else this._visible=!1},n.prototype._renderInnerContent=function(e,n,i){var o=this._getTextAngle(),r=this._getTextLocation();if(null!=o&&0!=o&&null!=r){var l=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(o),r);this._textView()._transform=l}else this._textView()._transform=null;this._textView()._render(e,i)},n.prototype.translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},n.prototype._rotatedRectangle=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this._getTextAngle()?0:t._Util.degree2Rad(this._getTextAngle()))},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rotatedRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisUnitLabel);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n}(t._RectangleView);t._BaseAxisUnitLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._rectangle=function(){if(this._startPoint.x==this._endPoint.x){var e=this._startPoint.x-.5*this._getWidth(),n=Math.min(this._startPoint.y,this._endPoint.y),i=this._getWidth(),o=Math.abs(this._endPoint.y-this._startPoint.y);return new t.core.Rect(e,n,i,o)}if(this._startPoint.y==this._endPoint.y){e=Math.min(this._startPoint.x,this._endPoint.x);var r=this._startPoint.y-.5*this._getWidth();return i=Math.abs(this._startPoint.x-this._endPoint.x),o=this._getWidth(),new t.core.Rect(e,r,i,o)}return null},n.prototype._shape=function(){var e=new t._PolylineShape([this._startPoint,this._endPoint]);return e.strokeWidth=this._getWidth(),e},n.prototype._getWidth=function(){return this.__width},n.prototype._setWidth=function(t){this.__width=t},n.prototype._axisView=function(){return this._ownerView},n}(t._BaseView);t._BaseAxisLineView=e}(t||(t={})),function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"_minimum",{get:function(){var t=this._scale;return null!=t?t.min():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_maximum",{get:function(){var t=this._scale;return null!=t?t.max():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_majorUnit",{get:function(){var t=this._scale;return null!=t?t._getActualMajorUnit():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_minorUnit",{get:function(){var t=this._scale;return null!=t?t._getActualMinorUnit():null},enumerable:!0,configurable:!0}),e.prototype._value=function(t){var e=this._scale;return null!=e?e.value(t):null},e.prototype._getActualValue=function(t){var e=this._scale;return null!=e?e._getActualValue(t):null},e.prototype._getBaseValue=function(){var e=this._scale;return t._isTimeAxisScale(e)?e._getBaseValue():null},e.prototype._getRange=function(){return this._scale._getRange()},e.prototype._setRange=function(t){this._scale._setRange(t)},e.prototype._internalSetRange=function(t){this._scale._internalSetRange(t)},e.prototype._getRangePadding=function(){var e=this._scale;return e instanceof t._PaddingAxisScale?e._getRangePadding():null},e.prototype._setRangePadding=function(e){var n=this._scale;n instanceof t._PaddingAxisScale&&n._setRangePadding(e)},e.prototype._getDomainPadding=function(){var e=this._scale;return e instanceof t._PaddingAxisScale?e._getDomainPadding():null},e.prototype._setDomainPadding=function(e){var n=this._scale;n instanceof t._PaddingAxisScale&&n._setDomainPadding(e)},e.prototype._getReversed=function(){return this._scale._getReversed()},e.prototype._setReversed=function(t){this._scale._setReversed(t)},e.prototype._getTickNumber=function(){return this._scale._getTickNumber()},e.prototype._setTickNumber=function(t){this._scale._setTickNumber(t)},e.prototype._ticks=function(){return this._scale._getMajorTicks()},e.prototype._adjustScaleDomain=function(e,n){for(var i=this._scale,o=null==e.min&&!e.useActualMin,r=null==e.max&&!e.useActualMax,l=0,a=n;l<a.length;l++){var s=a[l];if(t._AnyTypeUtility._isNumber(s)&&null!=i){var u=i._getDomain();(null!=u[0]&&s<u[0]&&o||null!=u[1]&&s>u[1]&&r)&&i._setOrigin(s)}}},e.prototype._hasScale=function(){return null!=this._scale},e.prototype._majorTickValueModels=function(){return this._scale._majorTickValueModels()},e}();t._AxisScaleModel=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null);var l=e.call(this,n)||this;return l._linesSize=null==i?new t.core.Size(0,0):i,l._lablesSize=null==o?new t.core.Size(0,0):o,l._labelSize=null==r?new t.core.Size(0,0):r,l}return i(n,e),n}(t._RectangleViewMetricsResult);t._AxisViewMetricsResult=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=!0);var o=e.call(this,t)||this;return o._tick=n,o.isMajor=i,o._width=i?null!=o._majorGridStyle().strokeWidth?o._majorGridStyle().strokeWidth:o._defaultMajorGridStyle().strokeWidth:null!=o._minorGridStyle().strokeWidth?o._minorGridStyle().strokeWidth:o._defaultMinorGridStyle().strokeWidth,o}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.GridLine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._axisView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal?t.Orientation.Horizontal:t.Orientation.Vertical},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IShapeModel"==t||"IGridLineModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._hitTestShape();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.GridLine);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._axisView=function(){return this._ownerView},n.prototype._minorGridStyle=function(){return this._axisView()._getDefinition()._option.minorGridStyle},n.prototype._defaultMinorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._majorGridStyle=function(){return this._axisView()._getDefinition()._option.majorGridStyle},n.prototype._defaultMajorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},n._GridlineHittestSpace=5,n}(t._BaseView);t._BaseGridLineView=e}(t||(t={})),t||(t={}),function(t){t._isAxisGroupLabelView=function(t){return null!=t&&"function"==typeof t._group}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelView=function(t){var e=t;return null!=e&&void 0!==e._value&&void 0!==e.label&&"function"==typeof e._setTextAngle&&"function"==typeof e._setTextLocation&&"function"==typeof e._setRotatedRectangle&&"function"==typeof e._textView&&"function"==typeof e._measure&&"function"==typeof e._layout&&"function"==typeof e._shape&&"function"==typeof e._canLabelWrap&&"function"==typeof e._setAutoOverflow&&"function"==typeof e._textOverflow}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isAxisTickLabelView=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isAxisTitleView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isAxisUnitLabelView=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){t._isPolygonalAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._setOtherAxisView&&"function"==typeof e.__angles}}(t||(t={})),t||(t={}),function(t){t._isRadialAxisView=function(t){var e=t;return null!=e&&void 0!==e._axisLabelHeight&&void 0!==e._axisSize&&void 0!==e._cx&&void 0!==e._cy&&void 0!==e._innerRadius&&void 0!==e._radius&&void 0!==e._sweep&&"function"==typeof e._setStartAngleDegree&&"function"==typeof e._startAngle&&"function"==typeof e._setOriginAngle&&"function"==typeof e._setOriginRadius&&"function"==typeof e._setRadiusOffset&&"function"==typeof e._getAxisLineWidth&&"function"==typeof e._measureMaxLabelSize&&"function"==typeof e._getAnnoNumber}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.prototype._canWordWrap=function(t,e,n){return!0},t.prototype._autoChangeAngle=function(t){return-45},t.prototype._layoutCount=function(){return 2},t.prototype._autoOverflow=function(){return null},t.prototype._wordWrapSeparators=function(){return null},t.prototype._buildAxisLabelLayoutPolicy=function(t,e){return this},t.prototype.queryInterface=function(t){return"IAxisLabelLayoutPolicy"===t||"IAxisLabelLayoutPolicyBuilder"===t?this:null},t.defaultAxisLabelLayoutPolicy=new t,t}();t._DefaultAxisLabelLayoutPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"Excel"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"AxisLabelExpandPolicy"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype._expand=function(e){if(e._getDefinition()._orientation==t.Orientation.Vertical)return null;for(var n=null,i=0,o=0,r=e._labelViews();o<r.length;o++){var l=r[o];if(l._isVisible()){var a=e._getLabelViewRectangle(l);n=null==n?a.clone():t._DrawingUtility._unionOfRectangles(n,a),i=Math.max(i,a.width)}}var s=e._rectangle(),u=null!=n?n:s.clone();return u.left=s.left-i/2,u.width=s.width+i,u},e.prototype._buildAxisLabelExpandPolicy=function(e,n){var i=this;return null!=n&&n.length>0&&n.filter((function(t){return t.type===i.type&&t.name===i.name})).length>0&&t._isLineAxisView(e)?this:null},e.prototype.queryInterface=function(t){return"IAxisLabelExpandPolicy"===t||"IAxisLabelExpandPolicyBuilder"===t||"IPlugin"===t?this:null},e.excelAxisLabelExpandPolicy=new e,e}();t._ExcelAxisLabelExpandPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildAxisLabelLayoutPolicy=function(t,e){var n=this;return null!=e&&e.length>0&&e.filter((function(t){return t.type===n.type&&t.name===n.name})).length>0?this:null},Object.defineProperty(e.prototype,"name",{get:function(){return"Excel"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"AxisLabelLayoutPolicy"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype._canWordWrap=function(t,e,n){if(null!=n){var i=n.queryInterface("IRenderPolicies");if(null!=i&&null!=i.wordWrapPolicy)return i.wordWrapPolicy.buildWrappedStrings(n.renderEngine,t,e,this._wordWrapSeparators()).canWrap}return!0},e.prototype._autoChangeAngle=function(t){return null==t?-45:-90},e.prototype._layoutCount=function(){return 3},e.prototype._autoOverflow=function(){return t.TextOverflow.Ellipsis},e.prototype._wordWrapSeparators=function(){return[" "]},e.prototype.queryInterface=function(t){return"IAxisLabelLayoutPolicy"===t||"IAxisLabelLayoutPolicyBuilder"===t||"IPlugin"===t?this:null},e.excelAxisLabelLayoutPolicy=new e,e}();t._ExcelAxisLabelLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.defaultBuildInAxisLabelExpandPolicyBuilders=function(){return null==n.__buildInAxisLabelExpandPolicyBuilders&&(n.__buildInAxisLabelExpandPolicyBuilders=new n([],n._pluginType)),n.__buildInAxisLabelExpandPolicyBuilders},n.prototype._convert=function(e){return t._isAxisLabeExpandPolicyBuilder(e)?e:null},n.prototype._axisLabelExpandPolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildAxisLabelExpandPolicy(t,e);if(null!=r)return r}return null},n._pluginType="AxisLabelExpandPolicy",n}(t._BuildInObjectCollection);t._BuildInAxisLabelExpandPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.defaultBuildInAxisLabelLayoutPolicyBuilders=function(){return null==n.__buildInAxisLabelLayoutPolicyBuilders&&(n.__buildInAxisLabelLayoutPolicyBuilders=new n([t._DefaultAxisLabelLayoutPolicy.defaultAxisLabelLayoutPolicy],n._pluginType)),n.__buildInAxisLabelLayoutPolicyBuilders},n.prototype._convert=function(e){return t._isAxisLabelLayoutPolicyBuilder(e)?e:null},n.prototype._axisLabelLayoutPolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildAxisLabelLayoutPolicy(t,e);if(null!=r)return r}return null},n._pluginType="AxisLabelLayoutPolicy",n}(t._BuildInObjectCollection);t._BuildInAxisLabelLayoutPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInGridLineDisplayPolicyBuilders=function(){return null==n.__buildInGridLineDisplayPolicyBuilders&&(n.__buildInGridLineDisplayPolicyBuilders=new n([],n._pluginType)),n.__buildInGridLineDisplayPolicyBuilders},n.prototype._convert=function(e){return t._isGridLineDisplayPolicyBuilder(e)?e:null},n.prototype._gridLineDisplayPolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildGridLineDisplayPolicy();if(null!=r)return r}return t._DefaultGridLineDisplayPolicy._defaultGridLineDisplayPolicy},n._pluginType="GridLineDisplayPolicyBuilder",n}(t._BuildInObjectCollection);t._BuildInGridLineDisplayPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._shouldDisplay=function(e,n){return!n._renderLabel&&e!=t.AxisPosition.None},e._defaultGridLineDisplayPolicy=new e,e}();t._DefaultGridLineDisplayPolicy=e}(t||(t={})),function(t){t._isAxisLabelExpandPolicy=function(t){return null!=t&&"function"==typeof t._expand}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelExpandPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildAxisLabelExpandPolicy}}(t||(t={})),function(t){t._isAxisLabeExpandPolicyBuilder=function(t){return null!=t._buildAxisLabelExpandPolicy}}(t||(t={})),function(t){t._isAxisLabelLayoutPolicy=function(t){var e=t;return null!=e&&"function"==typeof e._canWordWrap&&"function"==typeof e._autoChangeAngle&&"function"==typeof e._layoutCount&&"function"==typeof e._autoOverflow&&"function"==typeof e._wordWrapSeparators}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelLayoutPolicyBuilder=function(t){return null!=t._buildAxisLabelLayoutPolicy}}(t||(t={})),t||(t={}),function(t){t._isGridLineDisplayPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildGridLineDisplayPolicy}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__groupLabelViews=[],r.__groupGridLineViews=[],r.__lineView=null,r.__leftMargin=0,r.__rightMargin=0,r.__topMargin=0,r.__bottomMargin=0,r._axisLabelHeightList=[],r}return i(n,e),n.prototype._labelViews=function(){return this._majorTickLabelViews().slice().concat(this._groupLabelViews())},n.prototype._lineView=function(){return this.__lineView},n.prototype._groupLabelViews=function(){return this.__groupLabelViews},n.prototype._groupGridLineViews=function(){return this.__groupGridLineViews},n.prototype._createAxisTickLabelView=function(e,n,i){return new t._LineAxisLabelView(this,e,n,i)},n.prototype._createTitleView=function(){var e=new t._LineAxisTitleView(this);return this._orientation()==t.Orientation.Vertical&&(this.position==t.AxisPosition.Near?e._setTextAngle(-90):e._setTextAngle(90)),e},n.prototype._createAxisLineView=function(){return new t._LineAxisLineView(this)},n.prototype._getSuggestHeight=function(t){var e=this._getForceMaxHeight(t),n=this._getForceHeight(t);return null!=e&&null!=n?Math.min(n,e):null!=n?n:null!=e?e:t},n.prototype._getForceMaxHeight=function(e){var n=null,i=this._definition._option.maxHeight;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},n.prototype._getForceHeight=function(e){var n=null,i=this._definition._option.height;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},n.prototype._getSuggestWidth=function(t){var e=this._getForceMaxWidth(t),n=this._getForceWidth(t);return null!=e&&null!=n?Math.min(n,e):null!=n?n:null!=e?e:t},n.prototype._getForceMaxWidth=function(e){var n=null,i=this._definition._option.maxWidth;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},n.prototype._getForceWidth=function(e){var n=null,i=this._definition._option.width;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},n.prototype._getAxisLineWidth=function(){if(this._axisLine()){var t=this._definition._option.lineStyle.strokeWidth;if(null!=t&&t>1)return t}return 0},n.prototype._isEmpty=function(){for(var t=!1,e=!0,n=0,i=this._dimensions();n<i.length;n++)if(null!=i[n]._definition()){e=!1;break}return e&&0==this._labelViews().length&&(t=!0),t},n.prototype._measureLine=function(t,e){return this._getAxisLineWidth()},n.prototype._measureTicks=function(e,n){var i=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),o=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),r=Math.max(i,o);return null!=n&&(r=this._orientation()==t.Orientation.Horizontal?Math.min(r,n.height>0?n.height:0):Math.min(r,n.width>0?n.width:0)),r},n.prototype._getLabelSuggestedSize=function(e,n,i){var o=this._getCorrectAngle(),r=e.clone(),l=0,a=0;this._orientation()==t.Orientation.Vertical?(l=e.height,a=e.width/i):(l=e.width/i,a=e.height);var s=180*Math.acos(n.height/l)/Math.PI;if(0==o)r=new t.core.Size(l,a);else if(o>=90||o<=-90)r=new t.core.Size(a,l);else if(isNaN(s))r=new t.core.Size(a,l);else if(Math.abs(s)>=Math.abs(o)){var u=a;r=new t.core.Size(u,l)}else r=new t.core.Size(a,l);return r},n.prototype._measureLabels=function(e,n){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._labelStyle()),this._orientation()==t.Orientation.Vertical&&(n=new t.core.Size(n.height,n.width));var i=this._majorTickLabelViews(),o=this._calculateMaxLabelSize(e,i,n);return e.restoreTransform(),o},n.prototype._measureGroupLabels=function(e,n){var i=this;e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());for(var o=0,r=this._groupLabelAngles(),l=function(n){if(t._isCategoryDimension(n)){var l=n,s=n._definition()._getCartesianCategoryEncodingDefinition()._dataFieldDefinitions.slice().reverse(),u=l._dimensionValueGroups(),_=[];t._TreeNodeUtility._traverseDFS(u,(function(n,o){var l=r.length>0?r[o]:null,a=2*i._definition._getDefaultLabelPadding(),u=s[o];if(n.children.length>0){var p=i._groupLabelFromValue(n.key,u),c=e.measureSingleLineString(p),h=c.height,f=c.width;if(null!=l&&0!=l){var d=l*Math.PI/180,y=c.width,g=c.height;f=y*Math.abs(Math.cos(d))+g*Math.abs(Math.sin(d)),h=y*Math.abs(Math.sin(d))+g*Math.abs(Math.cos(d))}var m=0;if(i._orientation()==t.Orientation.Horizontal?m<h+a&&(m=h+a):m<f+a&&(m=f+a),o<_.length&&null==_[o])_[o]=[];else if(o>=_.length)for(var v=_.length;v<=o;v++)_.push(new Array);_[o].push(m)}})),a._axisLabelHeightList=_.map((function(t){return Math.max.apply(Math,t)}));for(var p=0;p<a._axisLabelHeightList.length;++p)o+=a._axisLabelHeightList[p];return"break"}},a=this,s=0,u=this._dimensions();s<u.length&&"break"!==l(u[s]);s++);var _=this._labels()!=t.AxisPosition.None||this._groupGrid()!=t.TickMark.None&&this._groupGrid()!=t.TickMark.Inside?o:0;return e.restoreTransform(),_},n.prototype._measureUnitLabels=function(e,n){if(this._labels()!=t.AxisPosition.None&&null!=this._unitLabelView()._option().text&&""!=this._unitLabelView()._option().text){var i=this._unitLabelView()._measure(e,n)._size;return this._orientation()==t.Orientation.Horizontal?i.height:i.width}return 0},n.prototype._measureTitle=function(t,e){return this._getTitleHeight(t,e)},n.prototype._getTitleHeight=function(e,n){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._titleStyle());var i=this._titleView()._measure(e,n);return e.restoreTransform(),this._orientation()==t.Orientation.Horizontal?i._size.height:i._size.width},n.prototype._measureMaxLabelSize=function(e,n){e.beginTransform(),t._StyleUtility._applyStyleOption(e,this._style()),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());var i=this._orientation()==t.Orientation.Horizontal,o=this._measureLine(e,n);i?n.height-=o:n.width-=o;var r=this._measureTicks(e,n);i?n.height-=r:n.width-=r;var l=this._majorTickLabelViews(),a=this._calculateMaxLabelSize(e,l,n);return e.restoreTransform(),a},n.prototype._calculateMaxLabelSize=function(e,n,i){var o=0,r=this._labelStyle().padding;this._orientation()==t.Orientation.Vertical?o=null==r?2*this._definition._getDefaultLabelPadding():r.left+r.right:this._orientation()==t.Orientation.Horizontal&&(o=null==r?2*this._definition._getDefaultLabelPadding():r.top+r.bottom);for(var l=new t.core.Size(0,0),a=0,s=n;a<s.length;a++){var u=s[a],_=null;u._textOverflow()!=t.TextOverflow.Clip&&null==(_=this._labelsOverflowSize(e,i,u,n.length))&&((_=i.clone()).height-=o);var p=u._measure(e,_)._size;l.width<p.width&&(l.width=p.width),l.height<p.height&&(l.height=p.height)}return l},n.prototype.getViewPosition=function(){return this._position()==t.AxisPosition.None?t.Position.None:this._orientation()==t.Orientation.Horizontal?this._position()==t.AxisPosition.Near?t.Position.Bottom:t.Position.Top:this._orientation()==t.Orientation.Vertical?this._position()==t.AxisPosition.Near?t.Position.Left:t.Position.Right:t.Position.None},n.prototype.getLabelPosition=function(){return this._labels()==t.AxisPosition.None?t.Position.None:null==this._labels()?this.getViewPosition():this._orientation()==t.Orientation.Horizontal?this._labels()==t.AxisPosition.Near?t.Position.Bottom:t.Position.Top:this._orientation()==t.Orientation.Vertical?this._labels()==t.AxisPosition.Near?t.Position.Left:t.Position.Right:t.Position.None},n.prototype._overlapAxis=function(t){for(var e=this._labelViews(),n=0;n<e.length;++n)if(null!=(r=e[n])&&r._isVisible()&&null!=r._getRotatedRectangle())for(var i=n+1;i<e.length;++i){var o=e[i];if(null==o||null==o._getRotatedRectangle()||!r._getRotatedRectangle().intersectsWith(o._getRotatedRectangle()))break;o._visible=!1}if(t._checkOverlap){for(t._tmpAxisLabels=[],n=0;n<e.length;++n){var r;null!=(r=e[n])&&r._isVisible()&&null!=r._getRotatedRectangle()&&(this._checkOverlap(t,r._getRotatedRectangle(),this._overlappingLabels())?r._visible=!1:t._tmpAxisLabels.push(r._getRotatedRectangle()))}for(var l=0,a=t._tmpAxisLabels;l<a.length;l++){var s=a[l];t._axisLabels.push(s)}t._tmpAxisLabels=[]}},n.prototype._isLabelViewsOverlapped=function(){for(var e=this._labelViews().filter((function(e){return!(e instanceof t._LineAxisGroupLabelView)})),n=0;n<e.length;++n){var i=e[n];if(null!=i&&i._isVisible()&&null!=i._getRotatedRectangle())for(var o=n+1;o<e.length;++o){var r=e[o];if(null!=r&&null!=r._getRotatedRectangle()&&i._getRotatedRectangle().intersectsWith(r._getRotatedRectangle()))return!0}}return!1},n.prototype._getLayoutCount=function(){return this._axisLabelLayoutPolicy._layoutCount()},n.prototype._autoChangeAngle=function(){return this._axisLabelLayoutPolicy._autoChangeAngle(this._autoAngle)},n.prototype._labelsOverflowSize=function(e,n,i,o){var r=this._orientation()==t.Orientation.Horizontal,l=0,a=this._labelStyle().padding;this._orientation()==t.Orientation.Vertical?l=null==a?2*this._definition._getDefaultLabelPadding():a.left+a.right:this._orientation()==t.Orientation.Horizontal&&(l=null==a?2*this._definition._getDefaultLabelPadding():a.top+a.bottom);var s=null;if(i._textOverflow()!=t.TextOverflow.Clip){var u,_=this._axisLabelLayoutPolicy._autoOverflow();if(null!=_&&null!=this._autoAngle&&i._textOverflow()==t.TextOverflow.Wrap){if(i._setAutoOverflow(_),_==t.TextOverflow.Wrap||_==t.TextOverflow.Ellipsis){var p=i._measure(e,null)._size;(u=r?n.clone():new t.core.Size(n.height,n.width)).height-=l,s=this._getLabelSuggestedSize(u,p,o),_==t.TextOverflow.Wrap&&(i._canLabelWrap(this._axisLabelLayoutPolicy,e,s)||(s=null))}}else p=i._measure(e,null)._size,(u=r?n.clone():new t.core.Size(n.height,n.width)).height-=l,s=this._getLabelSuggestedSize(u,p,o),i._textOverflow()==t.TextOverflow.Wrap&&(i._setAutoOverflow(null),i._canLabelWrap(this._axisLabelLayoutPolicy,e,s)||(s=null))}return s},n.prototype._layoutLabelViews=function(e,n,i){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());var o=this._majorTickLabelViews(),r=this._getCorrectAngle(),l=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(l=!1);for(var a=this._orientation()==t.Orientation.Horizontal,s=this._labelStyle().padding,u=0,_=o;u<_.length;u++){var p=_[u],c=new t.core.Size(0,0);if(this._labels()!=t.AxisPosition.None){var h=this._labelsOverflowSize(e,n.size,p,o.length);p._measure(e,h),c=p._textView()._getMeasureInfo()._size}var f=p.tick;if(a){if(null==(w=this._scaleModel._scale.value(f))||isNaN(w)){p._visible=!1;continue}if(l){y=null==s?this._definition._getDefaultLabelPadding():s.top,g=n.top+y,p._setRotatedRectangle(t._RectangleShape._fromTopConnectingPoint(new t.core.Point(w,g),c,r*Math.PI/180));var d=new t.core.Point(w,g);p._setTextLocation(d),p._setTextAngle(r),p._layout(e,this._fromTopConnectingPoint(d,c,r),i)}else{var y=null==s?this._definition._getDefaultLabelPadding():s.bottom,g=n.bottom-y;p._setRotatedRectangle(t._RectangleShape._fromBottomConnectingPoint(new t.core.Point(w,g),c,r*Math.PI/180));var m=new t.core.Point(w,g);p._setTextLocation(m),p._setTextAngle(r),p._layout(e,this._fromBottomConnectingPoint(m,c,r),i)}}else{if(null==(g=this._scaleModel._scale.value(f))||isNaN(g)){p._visible=!1;continue}if(l){y=null==s?this._definition._getDefaultLabelPadding():s.right,w=n.right-y,p._setRotatedRectangle(t._RectangleShape._fromRightConnectingPoint(new t.core.Point(w,g),c,r*Math.PI/180));var v=new t.core.Point(w,g);p._setTextLocation(v),p._setTextAngle(r),p._layout(e,this._fromRightConnectingPoint(v,c,r),i)}else{y=null==s?this._definition._getDefaultLabelPadding():s.left;var w=n.left+y;p._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(new t.core.Point(w,g),c,r*Math.PI/180));var b=new t.core.Point(w,g);p._setTextLocation(b),p._setTextAngle(r),p._layout(e,this._fromLeftConnectingPoint(b,c,r),i)}}}e.restoreTransform()},n.prototype._fromLeftConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height):i<=-90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height)},n.prototype._fromRightConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height):i<=-90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height)},n.prototype._fromTopConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y,n.width,n.height):i>0?i>=90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height):i<=-90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height)},n.prototype._fromBottomConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y-n.height,n.width,n.height):i>0?i>=90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height):i<=-90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height)},n.prototype._layoutLineView=function(e,n,i){var o=null!=this._getAcutalOrigin()?0:.5*this._getAxisLineWidth();this.__lineView=this._createAxisLineView();var r=this._orientation()==t.Orientation.Vertical,l=this._position()==t.AxisPosition.Near;if(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle()),r){var a=l?n.right-o:n.left+o;this._lineView()._startPoint=new t.core.Point(a,n.top),this._lineView()._endPoint=new t.core.Point(a,n.bottom)}else{var s=l?n.top+o:n.bottom-o;this._lineView()._startPoint=new t.core.Point(n.left,s),this._lineView()._endPoint=new t.core.Point(n.right,s)}this._lineView()._setWidth(this._getAxisLineWidth()),e.restoreTransform()},n.prototype._layoutTickViews=function(e,n,i){for(var o=this._position()==t.AxisPosition.Near,r=this._orientation()==t.Orientation.Horizontal,l=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),a=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),s=this._majorTickSize(),u=this._minorTickSize(),_=this._getAxisLineWidth(),p=0,c=this._scaleModel._scale._getMajorTicks();p<c.length;p++){var h=c[p];if(null!=(v=this._scaleModel._scale.value(h))&&!isNaN(v)){var f=this._calLineAxislinePosition(_,!0,r,o),d=this._createRotateLine(r,v,f,n,l,s,o),y=this._createTickView(h,d);this._majorTickViews().push(y)}}for(var g=0,m=this._scaleModel._scale._getMinorTicks();g<m.length;g++){var v,w=m[g];if(null!=(v=this._scaleModel._scale.value(w))&&!isNaN(v)){var b=this._calLineAxislinePosition(_,!1,r,o),S=(d=this._createRotateLine(r,v,b,n,a,u,o),this._createTickView(w,d));this._minorTickViews().push(S)}}},n.prototype._createRotateLine=function(e,n,i,o,r,l,a){return e?new t._RotatedLine(n,i,Math.min(o.height,r),l-r,a?0:Math.PI):new t._RotatedLine(i,n,Math.min(o.width,r),l-r,Math.PI/2*(a?1:-1))},n.prototype._calLineAxislinePosition=function(t,e,n,i){return e?n?this._calHoriLineAxislinePosition(this._majorTicks(),t,i):this._calVertLineAxislinePosition(this._majorTicks(),t,i):n?this._calHoriLineAxislinePosition(this._minorTicks(),t,i):this._calVertLineAxislinePosition(this._minorTicks(),t,i)},n.prototype._calHoriLineAxislinePosition=function(e,n,i){var o=i?this._rectangle().top+n/2:this._rectangle().bottom-n/2;return e===t.TickMark.Outside?o=i?this._rectangle().top+n:this._rectangle().bottom-n:e===t.TickMark.Inside&&(o=i?this._rectangle().top:this._rectangle().bottom),o},n.prototype._calVertLineAxislinePosition=function(e,n,i){var o=i?this._rectangle().right-n/2:this._rectangle().left+n/2;return e===t.TickMark.Outside?o=i?this._rectangle().right-n:this._rectangle().left+n:e===t.TickMark.Inside&&(o=i?this._rectangle().right:this._rectangle().left),o},n.prototype._layoutGridLineViews=function(e,n,i){var o=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var r=0,l=this._majorTickViews();r<l.length;r++){var a=l[r],s=a._tick,u=void 0;if(o){var _=new t.core.Point(a._rotateLine.startPoint.x,this.__plotRect.top),p=new t.core.Point(a._rotateLine.startPoint.x,this.__plotRect.bottom);u=new t._VerticalLineGridLineView(this,s,!0,_,p)}else _=new t.core.Point(this.__plotRect.left,a._rotateLine.startPoint.y),p=new t.core.Point(this.__plotRect.right,a._rotateLine.startPoint.y),u=new t._HorizontalLineGridLineView(this,s,!0,_,p);this._majorGridLineViews().push(u)}if(this._minorGrid())for(var c=0,h=this._minorTickViews();c<h.length;c++){var f=h[c],d=void(s=f._tick);o?(_=new t.core.Point(f._rotateLine.startPoint.x,this.__plotRect.top),p=new t.core.Point(f._rotateLine.startPoint.x,this.__plotRect.bottom),d=new t._VerticalLineGridLineView(this,s,!1,_,p)):(_=new t.core.Point(this.__plotRect.left,f._rotateLine.startPoint.y),p=new t.core.Point(this.__plotRect.right,f._rotateLine.startPoint.y),d=new t._HorizontalLineGridLineView(this,s,!1,_,p)),this._minorGridLineViews().push(d)}},n.prototype._layoutGroupGridLineViews=function(e,n,i){for(var o=this,r=0,l=this._dimensions();r<l.length;r++){var a=l[r];if(t._isCategoryDimension(a)){i._tmpGroupGridLinePositions=[];var s=a._dimensionValueGroups();t._TreeNodeUtility._traverseDFS(s,(function(t,r){t.children.length>0&&o._layoutGroupGridLineView(e,n,i,r,t)})),i._tmpGroupGridLinePositions=[];break}}},n.prototype._traverseRange=function(e){var n=e.children;if(0==n.length){var i=e._dimensionValues();return this._calculateRangeByDimensionValues(i)}for(var o=new t._DataDomain(Number.MAX_VALUE,-Number.MAX_VALUE),r=0,l=n;r<l.length;r++){var a=l[r],s=this._traverseRange(a);null!=s.min&&s.min<(null==o.min?0:o.min)&&(o.min=s.min),null!=s.max&&s.max>(null==o.max?0:o.max)&&(o.max=s.max)}return o},n.prototype._calculateRangeByDimensionValues=function(e){for(var n=null,i=null,o=0,r=e;o<r.length;o++){var l=r[o]._value();null!=l&&((null==n||l<n)&&(n=l),(null==i||l>i)&&(i=l))}return new t._DataDomain(n,i)},n.prototype._layoutGroupGridLineView=function(e,n,i,o,r){var l=this._measureTicks(e,this._rectangle().size),a=this._axisLabelHeightList.slice(o),s=l;if(a.length>0){var u=a.reduce((function(t,e){return t+e})),_=null==this._lineView()?0:this._lineView()._getWidth();u=this._orientation()==t.Orientation.Horizontal?Math.min(this._rectangle().height-_,u):Math.min(this._rectangle().width-_,u),s+=Math.max(0,u)}var p=this._scaleModel._scale.min(),c=this._scaleModel._scale.max(),h=i._tmpGroupGridLinePositions,f=this._traverseRange(r);if(null!=f.min&&null!=f.max){var d,y=f.min-.5;y<p&&(y=p),h.indexOf(y)<0&&null!=(d=this._createGroupGridLineView(n,y,s))&&(this._groupGridLineViews().push(d),h.push(y)),(y=f.max+.5)>c&&(y=c),h.indexOf(y)<0&&null!=(d=this._createGroupGridLineView(n,y,s))&&(this._groupGridLineViews().push(d),h.push(y))}},n.prototype._createGroupGridLineView=function(e,n,i){var o=this._scaleModel._value(n);if(null!=o){var r=new t._AxisGroupGridLineView(this),l=this._createGroupGridLine(e,o,i);return r._setRotateLine(l),r}return null},n.prototype._createGroupGridLine=function(e,n,i){if(this._groupGrid()==t.TickMark.None)return null;var o=this._orientation()==t.Orientation.Horizontal,r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=null;if(o){var a=i,s=r?this._rectangle().top-this.__plotRect.top:this.__plotRect.bottom-this._rectangle().bottom;this._groupGrid()==t.TickMark.Outside?l=r?new t._RotatedLine(n,this._rectangle().top,a,0,0):new t._RotatedLine(n,this._rectangle().bottom,0,a,0):this._groupGrid()==t.TickMark.Inside?l=r?new t._RotatedLine(n,this._rectangle().top,0,s,0):new t._RotatedLine(n,this._rectangle().bottom,s,0,0):this._groupGrid()==t.TickMark.Cross&&(l=r?new t._RotatedLine(n,this._rectangle().top,a,s,0):new t._RotatedLine(n,this._rectangle().bottom,s,a,0))}else a=i,s=r?this.__plotRect.right-this._rectangle().right:this._rectangle().left-this.__plotRect.left,this._groupGrid()==t.TickMark.Outside?l=r?new t._RotatedLine(this._rectangle().right,n,a,0,Math.PI/2):new t._RotatedLine(this._rectangle().left,n,0,a,Math.PI/2):this._groupGrid()==t.TickMark.Inside?l=r?new t._RotatedLine(this._rectangle().right,n,0,s,Math.PI/2):new t._RotatedLine(this._rectangle().left,n,s,0,Math.PI/2):this._groupGrid()==t.TickMark.Cross&&(l=r?new t._RotatedLine(this._rectangle().right,n,a,s,Math.PI/2):new t._RotatedLine(this._rectangle().left,n,s,a,Math.PI/2));return l},n.prototype._layoutUnitLabelView=function(t,e,n){},n.prototype._layoutTitleView=function(t,e,n){this._titleView()._layout(t,e,n)},n.prototype._groupLabelFromValue=function(e,n){var i=e;return t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(i,this,null,n)},n.prototype._layoutGroupLabelViews=function(e,n,i){var o=this;e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());for(var r=this._groupLabelAngles(),l=function(l){if(t._isCategoryDimension(l)){var a=l,s=l._definition()._getCartesianCategoryEncodingDefinition()._dataFieldDefinitions.slice().reverse(),u=a._dimensionValueGroups();return t._TreeNodeUtility._traverseDFS(u,(function(t,l){var a=r.length>0?r[l]:null,u=s[l];t.children.length>0&&o._layoutGroupLabelView(e,n,t,u,l,a,i)})),"break"}},a=0,s=this._dimensions();a<s.length&&"break"!==l(s[a]);a++);e.restoreTransform()},n.prototype._layoutGroupLabelView=function(e,n,i,o,r,l,a){for(var s=0,u=0;u<this._axisLabelHeightList.length-1;++u)u>r&&(s+=this._axisLabelHeightList[u]);var _=this._position()==t.AxisPosition.Near,p=this._orientation()==t.Orientation.Horizontal;this._labels()==t.AxisPosition.Far&&(_=!1);var c=0;c=p?_?n.top:n.bottom:_?n.right:n.left;var h=p?c+(_?s:-s):c+(_?-s:s),f=this._scaleModel._scale.min(),d=this._scaleModel._scale.max(),y=this._traverseRange(i),g=((null==y.min?0:y.min)+(null==y.max?0:y.max))/2;if(f<=g&&g<=d){var m=this._groupLabelFromValue(i.key,o),v=new t._LineAxisGroupLabelView(this,m,g,i);this._groupLabelViews().push(v);var w=v._measure(e,n.size)._size,b=null;if(p){var S=this._scaleModel._value(g),P=h+(_?this._definition._getDefaultLabelPadding():-this._definition._getDefaultLabelPadding());null!=S&&(b=new t.core.Point(S,P))}else P=this._scaleModel._value(g),S=h+(_?-this._definition._getDefaultLabelPadding():this._definition._getDefaultLabelPadding()),null!=P&&(b=new t.core.Point(S,P));if(null!=b){var C=null!=l?l:0,x=t._Util.degree2Rad(C);p?_?(v._setRotatedRectangle(t._RectangleShape._fromTopConnectingPoint(b,w,x)),v._setTextLocation(b),v._setTextAngle(C),v._layout(e,this._fromTopConnectingPoint(b,w,null!=l?l:0),a)):(v._setRotatedRectangle(t._RectangleShape._fromBottomConnectingPoint(b,w,x)),v._setTextLocation(b),v._setTextAngle(C),v._layout(e,this._fromBottomConnectingPoint(b,w,null!=l?l:0),a)):_?(v._setRotatedRectangle(t._RectangleShape._fromRightConnectingPoint(b,w,x)),v._setTextLocation(b),v._setTextAngle(C),v._layout(e,this._fromRightConnectingPoint(b,w,null!=l?l:0),a)):(v._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(b,w,x)),v._setTextLocation(b),v._setTextAngle(C),v._layout(e,this._fromLeftConnectingPoint(b,w,null!=l?l:0),a))}}},n.prototype._layoutContent=function(e,n,i){var o=i._lineCartesianCoordinateSystemContent;if(this._orientation()==t.Orientation.Vertical?this._updateRectangle(new t.core.Rect(n.left,n.top,n.height,n.width)):this._updateRectangle(n.clone()),null!=o){o.width<0&&(o.width=0),o.height<0&&(o.height=0),this._scaleModel._scale._refresh(),this._groupLabelViews().length=0,this._unitLabelView()._visible=!0,this._titleView()._visible=!0,this._majorGridLineViews().length=0,this._minorGridLineViews().length=0,this._majorTickViews().length=0,this._minorTickViews().length=0,this._groupGridLineViews().length=0,this.__plotRect=o,n=this._rectangle().clone();var r=i._otherSideRect;this._layoutLineView(e,n,i),this._layoutTickViews(e,n,i);var l=n;null!=r&&(this._orientation()==t.Orientation.Vertical&&(r=new t.core.Rect(r.left,r.top,r.height,r.width)),l=r),this._layoutLabelViews(e,l,i),this._layoutGroupGridLineViews(e,l,i),this._layoutGroupLabelViews(e,l,i),this._layoutGridLineViews(e,l,i),this._layoutUnitLabelView(e,l,i),this._layoutTitleView(e,n,i),this._overlappingLabels()!=t.OverlappingLabels.Show&&this._overlapAxis(i),this._setMargin()}},n.prototype._getAxisLinePosition=function(e){var n=null;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle());var i=this._position()==t.AxisPosition.Near,o=this._orientation()==t.Orientation.Vertical;return null!=e.strokeWidth&&e.strokeWidth>0&&!t._ColorUtility._isTransparent(e.stroke)&&(n=o?i?this._rectangle().right:this._rectangle().left:i?this._rectangle().top:this._rectangle().bottom),e.restoreTransform(),n},n.prototype._getClipRectangle=function(){return null!=this._lineView()&&null!=this._lineView()._rectangle()?t._DrawingUtility._unionOfRectangles(this._rectangle(),this._lineView()._rectangle()):this._rectangle().clone()},n.prototype._renderContentGroup=function(t,e){this._renderGridLineViews(t,e),this._renderTickViews(t,e),this._renderGroupGridLineViews(t,e),this._renderAxisLine(t,e),this._renderLabelViews(t,e),this._renderUnitLabelView(t,e),this._renderTitleView(t,e)},n.prototype._renderTickViews=function(t,n){this._isEmpty()||e.prototype._renderTickViews.call(this,t,n)},n.prototype._renderAxisLine=function(e,n){n._renderLabel&&this._axisLine()&&this._definition._option.position!=t.AxisPosition.None&&null!=this._lineView()&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(this._lineView()._startPoint.x,this._lineView()._startPoint.y,this._lineView()._endPoint.x,this._lineView()._endPoint.y),e.restoreTransform())},n.prototype._renderLabelViews=function(t,n){this._isEmpty()||e.prototype._renderLabelViews.call(this,t,n)},n.prototype._renderGroupGridLineViews=function(e,n){if(!n._renderLabel&&this._position()!=t.AxisPosition.None&&this._labels()!=t.AxisPosition.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultGroupGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._groupGridStyle());for(var i=0,o=this._groupGridLineViews();i<o.length;i++){var r=o[i];this._renderGroupGridLine(e,n,r)}e.restoreTransform()}},n.prototype._renderGroupGridLine=function(e,i,o){this._groupGrid()!=t.TickMark.None&&null!=o._getRotateLine()&&e.drawGroup(n.__tickGroupClassName,null,null,(function(t){t.drawLine(o._getRotateLine().startPoint.x,o._getRotateLine().startPoint.y,o._getRotateLine().endPoint.x,o._getRotateLine().endPoint.y)}))},n.prototype._setMargin=function(){for(var e=this._rectangle().clone(),n=0,i=this._labelViews();n<i.length;n++){var o=i[n];if(o._isVisible()&&this._labels()!=t.AxisPosition.None){var r=o._getRotatedRectangle(),l=Math.min(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),a=Math.max(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),s=Math.min(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),u=Math.max(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y);e=t._DrawingUtility._unionOfRectangles(e,new t.core.Rect(l,s,a-l,u-s))}}return e},n.prototype._getLeftMargin=function(){return this.__leftMargin},n.prototype._setLeftMargin=function(t){null!=t&&(this.__leftMargin=t)},n.prototype._getRightMargin=function(){return this.__rightMargin},n.prototype._setRightMargin=function(t){null!=t&&(this.__rightMargin=t)},n.prototype._getTopMargin=function(){return this.__topMargin},n.prototype._setTopMargin=function(t){null!=t&&(this.__topMargin=t)},n.prototype._getBottomMargin=function(){return this.__bottomMargin},n.prototype._setBottomMargin=function(t){null!=t&&(this.__bottomMargin=t)},n.prototype._plotRect=function(){return this.__plotRect},n.prototype._getLayoutShapes=function(n){var i=[];return this._definition._option.position!=t.AxisPosition.None&&((this._isEmpty()||this._hasOtherSide())&&i.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),i.push.apply(i,e.prototype._getLayoutShapes.call(this,n))),i},n.prototype._getLayoutLabelShapes=function(){var n=[];if(this._definition._option.position!=t.AxisPosition.None){n.push.apply(n,e.prototype._getLayoutLabelShapes.call(this));var i=t._BuildInAxisLabelExpandPolicyBuilderCollection.defaultBuildInAxisLabelExpandPolicyBuilders()._axisLabelExpandPolicy(this,this._definition._option.plugins,this._definition._pluginCollection);if(null!=i){var o=i._expand(this);null!=o&&n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(o))}}return n},n.prototype._getLayoutLineShapes=function(){var e=[];return this._definition._option.position!=t.AxisPosition.None&&(e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),this._titleView()._isVisible()&&e.push(this._titleView()._rotatedRectangle())),e},n.prototype._hasOtherSide=function(){var t=this._getAcutalOrigin(),e=this.getViewPosition(),n=this.getLabelPosition();return null!=this._definition._option.labels&&(null==t&&e!=n||null!=t)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=e.prototype._hitTest.call(this,n,i,o);if(null==r){var l=this._rectangle();if(null!=l&&l.contains(n))return r=new t.HitTestResult(n,this,this,t.ElementType.Axis),null==o||null!=o&&o.predicate(r)?r:null}return r},n.prototype._measure=function(e,i){var o=this._orientation()==t.Orientation.Horizontal,r=o?new t.core.Size(i.width,0):new t.core.Size(i.height,0);this._scaleModel._scale._refresh(),this._axisLabelHeightList.splice(0),e.beginTransform(),t._StyleUtility._applyStyleOption(e,this._style()),t._StyleUtility._applyTextStyleOption(e,this._textStyle());var l=this._measureLine(e,i);o?i.height-=l:i.width-=l;var a=this._measureTicks(e,i);o?i.height-=a:i.width-=a;var s=0,u=null;if(this._labels()!=t.AxisPosition.None){var _=0,p=this._labelStyle().padding;this._orientation()==t.Orientation.Vertical?_=null==p?2*this._definition._getDefaultLabelPadding():p.left+p.right:this._orientation()==t.Orientation.Horizontal&&(_=null==p?2*this._definition._getDefaultLabelPadding():p.top+p.bottom);var c=this._measureLabels(e,i),h=this._getCorrectAngle(),f=c.width,d=c.height;if(0!=h){var y=h*Math.PI/180;d=c.width*Math.abs(Math.sin(y))+c.height*Math.abs(Math.cos(y)),f=c.width*Math.abs(Math.cos(y))+c.height*Math.abs(Math.sin(y))}this._orientation()==t.Orientation.Horizontal?s+=d:s+=f,s>0&&(s+=_),u=new t.core.Size(f,d)}o?i.height-=s:i.width-=s;var g=this._measureGroupLabels(e,i);o?i.height-=g:i.width-=g;var m=this._measureUnitLabels(e,i);o?i.height-=m:i.width-=m;var v=this._measureTitle(e,i);if(this._axisLabelHeightList.push(s),e.restoreTransform(),this._isEmpty()){var w=m+v;r.height=l+(w>n.__EMPTYAXISHEIGHT_?w:n.__EMPTYAXISHEIGHT_)}else r.height=l+a+s+g+m+v;var b=s+g+m,S=r.height-b;return new t._AxisViewMetricsResult(this._position()==t.AxisPosition.None?new t.core.Size(0,0):r,new t.core.Size(r.width,S),new t.core.Size(r.width,b),u)},n.__tickGroupClassName="gcdv-tick-group",n.__EMPTYAXISHEIGHT_=12,n}(t._BaseAxisView);t._LineAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._shape=function(){var e=this._rectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},n.prototype._layoutLineView=function(n,i,o){if(e.prototype._layoutLineView.call(this,n,i,o),null!=this._lineView()){var r=this._lineView()._getWidth();i.height-=r,this._position()==t.AxisPosition.Near&&(i.top+=r)}},n.prototype._layoutTickViews=function(n,i,o){e.prototype._layoutTickViews.call(this,n,i,o);var r=this._measureTicks(n,i.size);i.height-=r,this._position()==t.AxisPosition.Near&&(i.top+=r)},n.prototype._layoutLabelViews=function(n,i,o){e.prototype._layoutLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=this._axisLabelHeightList[this._axisLabelHeightList.length-1];i.height-=l,r&&(i.top+=l)},n.prototype._layoutGroupLabelViews=function(n,i,o){e.prototype._layoutGroupLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);for(var l=0,a=0;a<this._axisLabelHeightList.length-1;++a)l+=this._axisLabelHeightList[a];i.height-=l,r&&(i.top+=l)},n.prototype._layoutUnitLabelView=function(e,n,i){var o=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(o=!1);var r=n.clone(),l=this._unitLabelView()._measure(e,r.size)._size;o||(r.top=n.bottom-l.height),r.height=l.height,this._unitLabelView()._layout(e,i,r),n.height-=l.height,o&&(n.top+=l.height)},n.prototype._createCategoryValueViews=function(e){var n=[],i=this._plotRect();if(null==i)return n;var o=e.max()-e.min();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=i.top,l=i.height,a=function(a){var u=i.width/o,_=e.value(a)-u/2,p=s._scaleDimension._itemValue(a),c=[],h=s._getCoordinateSystemView()._getPlotViews();null!=h&&h.length>0&&h.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==a&&c.push(t)}))})),_<s._rectangle().left&&(u-=s._rectangle().left-_,_=s._rectangle().left);var f=s._rectangle().left+s._rectangle().width;_+u>f&&(u=f-_);var d=new t._RectangleShape(_+u/2,r+l/2,u,l,0),y=new t.models._HorizontalCartesianCategoryValueView(p,s,c,d,e.value(a));y._setTick(a),n.push(y)},s=this,u=0,_=e._dataTicks();u<_.length;u++)a(_[u]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._plotRect().top,i=this._plotRect().width/this.___categoryValueViews.length,o=this._plotRect().height,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],s=e.value(a._getTick())-i/2,u=new t._RectangleShape(s+i/2,n+o/2,i,o,0);a._layout(u)}},n.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.left<this._rectangle().left&&this._setLeftMargin(this._rectangle().left-t.left),t.right>this._rectangle().right&&this._setRightMargin(t.right-this._rectangle().right),t},n.prototype._getClipRectangle=function(){var n=e.prototype._getClipRectangle.call(this),i=this._getAcutalOrigin(),o=this.getViewPosition(),r=this.getLabelPosition();if(null!=i&&(null==this._labels()||this._labels()!=t.AxisPosition.None)||o!=r){for(var l=0,a=this._labelViews();l<a.length;l++){var s=a[l];if(s._isVisible()&&this._labels()!=t.AxisPosition.None){var u=s._getRotatedRectangle(),_=Math.min(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),p=Math.max(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),c=Math.min(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y),h=Math.max(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y);n=t._DrawingUtility._unionOfRectangles(n,new t.core.Rect(_,c,p-_,h-c))}}if(this._unitLabelView()._isVisible()){var f=this._unitLabelView()._option().textStyle.padding,d=(u=this._unitLabelView()._rotatedRectangle(),_=Math.min(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),p=Math.max(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),Math.min(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y)),y=(h=Math.max(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y),new t.core.Rect(_,d,p-_,h-d));this._orientation()==t.Orientation.Vertical?(y.left-=null==f?0:f.left,y.width+=null==f?0:f.left+f.right):this._orientation()==t.Orientation.Horizontal&&(y.top-=null==f?0:f.top,y.height+=null==f?0:f.top+f.bottom),n=t._DrawingUtility._unionOfRectangles(n,new t.core.Rect(_,d,p-_,h-d))}}return n.left-=this._getLeftMargin(),n.width+=this._getLeftMargin()+this._getRightMargin(),n},n}(t._LineAxisView);t._HorizontalLineAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._shape=function(){var e=this._rectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},n.prototype._layoutLineView=function(n,i,o){if(e.prototype._layoutLineView.call(this,n,i,o),null!=this._lineView()){var r=this._lineView()._getWidth();i.width-=r,this._position()==t.AxisPosition.Far&&(i.left+=r)}},n.prototype._layoutTickViews=function(n,i,o){e.prototype._layoutTickViews.call(this,n,i,o);var r=this._measureTicks(n,i.size);i.width-=r,this._position()==t.AxisPosition.Far&&(i.left+=r)},n.prototype._layoutLabelViews=function(n,i,o){e.prototype._layoutLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=this._axisLabelHeightList[this._axisLabelHeightList.length-1];i.width-=l,r||(i.left+=l)},n.prototype._layoutGroupLabelViews=function(n,i,o){e.prototype._layoutGroupLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);for(var l=0,a=0;a<this._axisLabelHeightList.length-1;++a)l+=this._axisLabelHeightList[a];i.width-=l,r||(i.left+=l)},n.prototype._layoutUnitLabelView=function(e,n,i){var o=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(o=!1);var r=n.clone(),l=this._unitLabelView()._measure(e,r.size)._size;o&&(r.left=r.right-l.width),r.width=l.width,this._unitLabelView()._layout(e,i,r),n.width-=l.width,o||(n.left+=l.width)},n.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.top<this._rectangle().top&&this._setTopMargin(this._rectangle().top-t.top),t.bottom>this._rectangle().bottom&&this._setBottomMargin(t.bottom-this._rectangle().bottom),t},n.prototype._createCategoryValueViews=function(e){var n=[],i=this._plotRect();if(null==i)return n;var o=e.max()-e.min();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=i.left,l=i.width,a=function(a){var u=i.height/o,_=e.value(a)-u/2,p=s._scaleDimension._itemValue(a),c=[],h=s._getCoordinateSystemView()._getPlotViews();null!=h&&h.length>0&&h.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==a&&c.push(t)}))})),_<s._rectangle().top&&(u-=s._rectangle().top-_,_=s._rectangle().top);var f=s._rectangle().top+s._rectangle().height;_+u>f&&(u=f-_);var d=new t._RectangleShape(r+l/2,_+u/2,l,u,0),y=new t.models._VerticalCartesianCategoryValueView(p,s,c,d,e.value(a));y._setTick(a),n.push(y)},s=this,u=0,_=e._dataTicks();u<_.length;u++)a(_[u]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._plotRect().left,i=this._plotRect().width,o=this._plotRect().height/this.___categoryValueViews.length,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],s=e.value(a._getTick())-o/2,u=new t._RectangleShape(n+i/2,s+o/2,i,o,0);a._layout(u)}},n.prototype._getClipRectangle=function(){var n=e.prototype._getClipRectangle.call(this),i=this._getAcutalOrigin(),o=this.getViewPosition(),r=this.getLabelPosition();if(null!=i&&(null==this._labels()||this._labels()!=t.AxisPosition.None)||o!=r){for(var l=0,a=this._labelViews();l<a.length;l++){var s=a[l];if(s._isVisible()&&this._labels()!=t.AxisPosition.None){var u=s._getRotatedRectangle(),_=Math.min(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),p=Math.max(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),c=Math.min(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y),h=Math.max(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y);n=t._DrawingUtility._unionOfRectangles(n,new t.core.Rect(_,c,p-_,h-c))}}if(this._unitLabelView()._isVisible()){var f=this._unitLabelView()._option().textStyle.padding,d=(u=this._unitLabelView()._rotatedRectangle(),_=Math.min(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),p=Math.max(u.leftTop.x,u.rightTop.x,u.rightBottom.x,u.leftBottom.x),Math.min(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y)),y=(h=Math.max(u.leftTop.y,u.rightTop.y,u.rightBottom.y,u.leftBottom.y),new t.core.Rect(_,d,p-_,h-d));this._orientation()==t.Orientation.Vertical?(y.left-=null==f?0:f.left,y.width+=null==f?0:f.left+f.right):this._orientation()==t.Orientation.Horizontal&&(y.top-=null==f?0:f.top,y.height+=null==f?0:f.top+f.bottom),n=t._DrawingUtility._unionOfRectangles(n,new t.core.Rect(_,d,p-_,h-d))}}return n.top-=this._getTopMargin(),n.height+=this._getTopMargin()+this._getBottomMargin(),n},n}(t._LineAxisView);t._VerticalLineAxisView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._drawView=function(t,e){t.beginTransform(),t.restoreTransform()},e}(t._BaseAxisLineView);t._LineAxisLineView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l.__startPoint=o,l.__endPoint=r,l}return i(n,e),n.prototype._unvisualizeGridline=function(e){var n=this.orientation==t.Orientation.Horizontal?this.__startPoint.x:this.__startPoint.y;-1!=e.indexOf(n)&&(this._visible=!1)},n.prototype._shape=function(){var e=new t._PolylineShape([this.__startPoint,this.__endPoint]);return e.strokeWidth=this._width,e},n.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape((this.__startPoint.x+this.__endPoint.x)/2,(this.__startPoint.y+this.__endPoint.y)/2,Math.abs(this.__startPoint.x-this.__endPoint.x),e,0)},n.prototype._render=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},n}(t._BaseGridLineView);t._HorizontalLineGridLineView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l.__startPoint=o,l.__endPoint=r,l}return i(n,e),n.prototype._unvisualizeGridline=function(e){var n=this.orientation==t.Orientation.Horizontal?this.__startPoint.x:this.__startPoint.y;-1!=e.indexOf(n)&&(this._visible=!1)},n.prototype._shape=function(){var e=new t._PolylineShape([this.__startPoint,this.__endPoint]);return e.strokeWidth=this._width,e},n.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape((this.__startPoint.x+this.__endPoint.x)/2,(this.__startPoint.y+this.__endPoint.y)/2,e,Math.abs(this.__startPoint.y-this.__endPoint.y),0)},n.prototype._render=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},n}(t._BaseGridLineView);t._VerticalLineGridLineView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._getRotateLine=function(){return this.__rotateLine},e.prototype._setRotateLine=function(t){this.__rotateLine=t},e.prototype._drawView=function(t,e){null!=this._getRotateLine()&&t.drawLine(this._getRotateLine().startPoint.x,this._getRotateLine().startPoint.y,this._getRotateLine().endPoint.x,this._getRotateLine().endPoint.y)},e}(t._BaseView);t._AxisGroupGridLineView=e}(t||(t={})),function(t){t._isLineAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._getSuggestHeight&&"function"==typeof e._getForceHeight&&"function"==typeof e._getSuggestWidth&&"function"==typeof e._getForceWidth&&"function"==typeof e._getTitleHeight&&"function"==typeof e._measureMaxLabelSize&&"function"==typeof e.getViewPosition&&"function"==typeof e.getLabelPosition&&"function"==typeof e._isLabelViewsOverlapped&&"function"==typeof e._getLayoutCount&&"function"==typeof e._autoChangeAngle&&"function"==typeof e._getAxisLinePosition&&"function"==typeof e._setLeftMargin&&"function"==typeof e._setRightMargin&&"function"==typeof e._setTopMargin&&"function"==typeof e._setBottomMargin&&"function"==typeof e._plotRect}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.tick=i,r}return i(n,e),n.prototype._isVisible=function(){return null!=this._label&&""!=this._label||(this._visible=!1),this._visible},Object.defineProperty(n.prototype,"label",{get:function(){var e=this._ownerView._scaleDimension;if(e.scaleType===t.ValueScaleType.Ordinal&&this._isTickInScope(this.tick,e)){var n=this._ownerView._getDefinition()._option.labelTemplate;null!=n&&null==this.__labelByTemplate&&(this.__labelByTemplate=this._generateLabelByTemplate(n),this._label=this.__labelByTemplate)}return this._label},enumerable:!0,configurable:!0}),n.prototype._isTickInScope=function(t,e){var n=e._min(),i=e._max();return t>=(null==n?0:n)&&t<=(null==i?0:i)},n.prototype._generateLabelByTemplate=function(e){var n=t._TemplateSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e),o=this._textProxy(),r=this._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection;return n.evaluate(i,o,null,r)},n.prototype._textProxy=function(){return null==this.__textProxy&&(this.__textProxy=new t._AxisTickLabelViewTextProxy(this)),this.__textProxy},n}(t._BaseAxisLabelView);t._LineAxisLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,null==o?null:i)||this;return r.__group=o,r}return i(n,e),n.prototype._group=function(){return this.__group},n.prototype.relatedModels=function(){for(var e=[],n=this._group()._dataSlices,i=0,o=this._getAxisView()._getCoordinateSystemView()._getPlotViews();i<o.length;i++)o[i]._traversePointView((function(i){t._DataSlicesUtility._includes(n,i._data()._dataSlices)&&e.push(i)}));return e},n}(t._BaseAxisLabelView);t._LineAxisGroupLabelView=e}(t||(t={})),function(t){t._isLineAxisLabelView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._BaseAxisTickView);t._LineAxisTickView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._initTextPadding=function(){if(null==this._axisView()._getDefinition()._option.titleStyle.padding)this._setTextPadding(new t.options._PaddingOption({left:0,right:0,top:this._axisView()._getDefinition()._getDefaultTitlePadding(),bottom:this._axisView()._getDefinition()._getDefaultTitlePadding()}));else{var e=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,n=this._axisView()._getDefinition()._option.position==t.AxisPosition.Near,i=this._axisView()._getDefinition()._option.titleStyle.padding;e?this._setTextPadding(i):n?this._setTextPadding(new t.options._PaddingOption({left:i.bottom,right:i.top,top:i.left,bottom:i.right})):this._setTextPadding(new t.options._PaddingOption({left:i.top,right:i.bottom,top:i.right,bottom:i.left}))}},n.prototype._layout=function(n,i,o){if(i.height<=0||i.width<=0)this._visible=!1;else if(this._axisView()._getDefinition()._option.position!=t.AxisPosition.None)if(null!=this._cachedMetricsResultWithSuggestedSize){var r=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,l=this._axisView()._getDefinition()._option.position==t.AxisPosition.Near,a=this._textView()._getMeasureInfo()._size,s=this._cachedMetricsResultWithSuggestedSize._size;if(r){var u=new t.core.Size(s.width,Math.max(a.height,s.height)),_=i.left+(i.width-u.width)/2,p=i.top;l?i.height>u.height&&(p=i.bottom-u.height):i.height<u.height&&(p=i.bottom-u.height),e.prototype._layout.call(this,n,new t.core.Rect(_,p,u.width,u.height),o)}else{u=new t.core.Size(s.height,Math.max(a.height,s.width));var c=i.left+u.height/2,h=i.top+i.height/2;l?i.width<u.height&&(c=i.right-u.height/2):i.width>u.height&&(c=i.right-u.height/2);var f=new t.core.Point(c,h);this._setTextLocation(f),e.prototype._layout.call(this,n,new t.core.Rect(c-u.width/2,h-u.height/2,u.width,u.height),o)}}else this._visible=!1;else this._visible=!1},n}(t._BaseAxisTitleView);t._LineAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,i,o,r)||this;return l.__radiusOffset=0,l._axisLabelHeight=0,l._axisSize=0,l.__startAngle=0,l.__sweep=t._Utility._PI2,l.__innerRadius=0,l}return i(n,e),n.prototype._getStartAngleDegree=function(){return 180*this.__startAngle/Math.PI},n.prototype._setStartAngleDegree=function(t){this.__startAngle=t*Math.PI/180},n.prototype._startAngle=function(){return this.__startAngle+3*Math.PI/2},n.prototype._getOriginAngle=function(){return this.__originAngle},n.prototype._setOriginAngle=function(t){this.__originAngle=t},n.prototype._getOriginRadius=function(){return this.__originRadius},n.prototype._setOriginRadius=function(t){this.__originRadius=t},n.prototype._getScaleReversed=function(){return this._definition._option.reversed},n.prototype._shape=function(){var e=this._startAngle(),n=(1-this._innerRadius)*this._radius,i=this._getAxisHeight(),o=this._cx+Math.cos(e)*(this._radius-n/2)+Math.sin(e)*i/2,r=this._cy+Math.sin(e)*(this._radius-n/2)-Math.cos(e)*i/2;return new t._RectangleShape(o,r,n,i,e)},n.prototype._getAxisHeight=function(){var t=this._getCorrectAngle(),e=Math.PI+(isNaN(t)?0:t*Math.PI/180),n=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),i=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),o=this._labelStyle().padding,r=null==o?this._definition._getDefaultLabelPadding():o.top;return this._annoSize.width*Math.abs(Math.sin(e))+this._annoSize.height*Math.abs(Math.cos(e))+(Math.max(n,i)+r)},Object.defineProperty(n.prototype,"_cx",{get:function(){return this.__cx},set:function(t){this.__cx=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_cy",{get:function(){return this.__cy},set:function(t){this.__cy=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_innerRadius",{get:function(){return this.__innerRadius},set:function(t){this.__innerRadius=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_radius",{get:function(){return this.__radius},set:function(t){this.__radius=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_sweep",{get:function(){return this.__sweep},set:function(t){this.__sweep=t},enumerable:!0,configurable:!0}),n.prototype._createTitleView=function(){return new t._RadialAxisTitleView(this)},n.prototype._createAxisTickLabelView=function(e,n,i){return this._orientation()==t.Orientation.Horizontal?new t._RadialAxisLabelView(this,e,n,i):new t._LineAxisLabelView(this,e,n,i)},n.prototype._getRadiusOffset=function(){return this.__radiusOffset},n.prototype._setRadiusOffset=function(t){this.__radiusOffset=t},n.prototype._overlapAxis=function(t){for(var e=this._labelViews(),n=e.length,i=0;i<n;++i){var o=e[i];if(null!=o&&o._isVisible())for(var r=i+1;r<n;++r){var l=e[r];if(null==l||!o._getRotatedRectangle().intersectsWith(l._getRotatedRectangle()))break;l._visible=!1}}if(n>=2&&e[0]._getRotatedRectangle().intersectsWith(e[n-1]._getRotatedRectangle())&&(e[n-1]._visible=!1),t._checkOverlap){for(t._tmpAxisLabels=[],i=0;i<e.length;++i){var a=e[i];null!=a&&a._isVisible()&&null!=a._getRotatedRectangle()&&(this._checkOverlap(t,a._getRotatedRectangle(),this._overlappingLabels())?a._visible=!1:t._tmpAxisLabels.push(a._getRotatedRectangle()))}for(var s=0,u=t._tmpAxisLabels;s<u.length;s++){var _=u[s];t._axisLabels.push(_)}t._tmpAxisLabels=[]}},n.prototype._getAxisLineWidth=function(){if(this._definition._option.axisLine){var t=this._definition._option.lineStyle.strokeWidth;if(null!=t&&!isNaN(t)&&t>1)return t}return 0},n.prototype._measure=function(e,n){this._scaleModel._scale._refresh(),e.beginTransform(),t._StyleUtility._applyStyleOption(e,this._style()),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());var i=this._getCorrectAngle(),o=new t.core.Size(0,0),r=this._calculateMaxLabelSize(e);if(this._labels()!=t.AxisPosition.None){var l=r.height;if(null!=i&&0!=i){var a=i*Math.PI/180,s=r.width,u=r.height;l=s*Math.abs(Math.sin(a))+u*Math.abs(Math.cos(a))}o.height+=l,this._axisLabelHeight=l}else this._axisLabelHeight=0;o.height+=this._getAxisLineWidth();var _=Math.max(this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()));o.height+=_,this._axisLabelHeight+=_,e.restoreTransform(),e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._titleStyle());var p=this._titleView()._measure(e,n)._size;o.height+=p.height,e.restoreTransform();var c=this._labelStyle().padding,h=null==c?2*this._definition._getDefaultLabelPadding():c.top+c.bottom;return this._labels()!=t.AxisPosition.None&&0!=this._axisLabelHeight&&(o.height+=h,this._axisLabelHeight+=h),e.restoreTransform(),this._annoSize=r,new t._AxisViewMetricsResult(this._position()==t.AxisPosition.None?new t.core.Size(0,0):o)},n.prototype._measureMaxLabelSize=function(e){e.beginTransform(),t._StyleUtility._applyStyleOption(e,this._definition._option.style),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());var n=this._calculateMaxLabelSize(e);return e.restoreTransform(),n},n.prototype._layoutContent=function(e,n,i){this._updateRectangle(n),this._titleView()._visible=!0,this._majorGridLineViews().length=0,this._minorGridLineViews().length=0,this._majorTickViews().length=0,this._minorTickViews().length=0,this._scaleModel._scale._refresh(),this._layoutLabelViews(e,n,i),this._layoutTickViews(e,n,i),this._layoutGridLineViews(e,n,i),this._layoutTitleView(e,n,i),this._overlappingLabels()!=t.OverlappingLabels.Show&&this._overlapAxis(i)},n.prototype._layoutLabelViews=function(e,n,i){var o=this;e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());var r=this._majorTickLabelViews(),l=this._startAngle();null!=this._getOriginAngle()&&(l=this._getOriginAngle());var a=this._getCorrectAngle(),s=this._position()==t.AxisPosition.Near,u=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),_=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),p=Math.max(u,_),c=this._labelStyle().padding,h=this._getAxisLineWidth(),f=this._orientation()==t.Orientation.Horizontal,d=s?this._radius:this._innerRadius*this._radius;null!=this._getOriginRadius()&&(d=this._getOriginRadius());var y=s?d+h:d-h;y<0&&(y=0);for(var g=function(n){var r=n._measure(e,null)._size;m._labels()==t.AxisPosition.None&&(r.width=0,r.height=0);var u=n.tick;if(f){var _=m._scaleModel._scale.value((null==u?0:u)+m._getRadiusOffset());if(null==_||isNaN(_))return n._visible=!1,"continue";var d=Math.cos(l)*_+m._cx,g=Math.sin(l)*_+m._cy,v=null==c?m._definition._getDefaultLabelPadding():c.top,w=Math.PI+(isNaN(a)?0:t._Util.degree2Rad(a)),b=r.width/2*Math.abs(Math.sin(w))+r.height/2*Math.abs(Math.cos(w)),S=d+Math.sin(l)*(p+v+b+h)*(s?1:-1),P=g-Math.cos(l)*(p+v+b+h)*(s?1:-1),C=t._Util.rad2Degree(l)+(isNaN(a)?-90:a);n._setRotatedRectangle(new t._RectangleShape(S,P,r.width,r.height,t._Util.degree2Rad(C)));var x=new t.core.Point(S,P);n._setTextAngle(C),n._setTextLocation(x),n._layout(e,new t.core.Rect(S-r.width/2,P-r.height/2,r.width,r.height),i)}else{var V=m._scaleModel._scale.value(u);if(null==V||isNaN(V))return n._visible=!1,"continue";v=null==c?m._definition._getDefaultLabelPadding():c.bottom,S=m._cx+Math.cos(V)*(y+p+v),P=m._cy+Math.sin(V)*(y+p+v),s||(S=m._cx+Math.cos(V)*(y-p-v),P=m._cy+Math.sin(V)*(y-p-v));var D=new t._RectangleShape(S,P,r.width,r.height,a*Math.PI/180),A=[D.leftTop,D.rightTop,D.rightBottom,D.leftBottom],O=A.map((function(e){return o._getProjectivePoint(e,t._Utility._toFixed(Math.tan(V%t._Utility._PI2),2,!1),o._cx,o._cy)})).map((function(t){return o._getDistance(t,o._cx,o._cy)})),L=Math.min.apply(Math,O),T=O.indexOf(L),M=O.lastIndexOf(L);s?(S+=S-(T==M?A[T].x:(A[T].x+A[M].x)/2),P+=P-(T==M?A[T].y:(A[T].y+A[M].y)/2)):(S-=S-(T==M?A[T].x:(A[T].x+A[M].x)/2),P-=P-(T==M?A[T].y:(A[T].y+A[M].y)/2)),n._setRotatedRectangle(new t._RectangleShape(S,P,r.width,r.height,a*Math.PI/180));var I=new t.core.Point(S,P);n._setTextAngle(a),n._setTextLocation(I),n._layout(e,new t.core.Rect(S-r.width/2,P-r.height/2,r.width,r.height),i)}},m=this,v=0,w=r;v<w.length;v++)g(w[v]);e.restoreTransform()},n.prototype._layoutTickViews=function(t,e,n){this._layoutMajorTickViews(),this._layoutMinorTickViews()},n.prototype._layoutMajorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._majorTickSize(),r=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),l=this._calAxisLineWidth(this._majorTicks()),a=this._calTickAxisRadius(l),s=this._scaleModel._scale._getMajorTicks(),u=this._getRadiusOffset(),_=this._radius,p=this._cx,c=this._cy,h=0,f=s;h<f.length;h++){var d=f[h],y=this._scaleModel._scale.value(d+(i?u:0));if(null!=y&&!isNaN(y)){var g=this._createRotateLine(i,y,p,c,_,n,o,r,l,a,e);if(null!=g){var m=this._createTickView(d,g);this._majorTickViews().push(m)}}}},n.prototype._layoutMinorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._minorTickSize(),r=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),l=this._calAxisLineWidth(this._minorTicks()),a=this._calTickAxisRadius(l),s=this._scaleModel._scale._getMajorTicks(),u=this._scaleModel._scale._getMinorTicks(),_=this._getRadiusOffset(),p=this._radius,c=this._cx,h=this._cy,f=0,d=u;f<d.length;f++){var y=d[f];if(!(s.indexOf(y)>=0)){var g=this._scaleModel._scale.value(y+(i?_:0));if(null!=g&&!isNaN(g)){var m=this._createRotateLine(i,g,c,h,p,n,o,r,l,a,e);if(null!=m){var v=this._createTickView(y,m);this._minorTickViews().push(v)}}}}},n.prototype._createRotateLine=function(e,n,i,o,r,l,a,s,u,_,p){if(e){if(n<0&&Math.abs(n)>t._Constants.Precision)return null;if(n-r>t._Constants.Precision)return null;var c=Math.cos(l)*n+i+Math.sin(l)*u*(p?1:-1),h=Math.sin(l)*n+o-Math.cos(l)*u*(p?1:-1);return p?new t._RotatedLine(c,h,a-s,s,l):new t._RotatedLine(c,h,s,a-s,l)}var f=n,d=i+Math.cos(f)*_,y=o+Math.sin(f)*_;return p?new t._RotatedLine(d,y,s,a-s,f-Math.PI/2):new t._RotatedLine(d,y,a-s,s,f-Math.PI/2)},n.prototype._calTickAxisRadius=function(e){var n=this._position()==t.AxisPosition.Near,i=n?this._radius:this._innerRadius*this._radius;return null!=this._getOriginRadius()&&(i=this._getOriginRadius()),n?i+e:i-e},n.prototype._calAxisLineWidth=function(e){var n=this._getAxisLineWidth();return e===t.TickMark.Cross?n/=2:e===t.TickMark.Inside&&(n=0),n},n.prototype._calStartAngle=function(){var t=this._startAngle();return null!=this._getOriginAngle()&&(t=this._getOriginAngle()),t},n.prototype._layoutGridLineViews=function(t,e,n){this._layoutMajorGridLineViews(),this._layoutMinorGridLineViews()},n.prototype._layoutMajorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._getRadiusOffset(),r=this._radius,l=this._innerRadius,a=this._cx,s=this._cy,u=this._sweep,_=0,p=i;_<p.length;_++){var c=p[_],h=this._scaleModel._scale.value(c+(n?o:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-r>t._Constants.Precision)continue;var d=Math.cos(e)*f+a,y=Math.sin(e)*f+s,g=Math.sqrt(Math.pow(d-a,2)+Math.pow(y-s,2)),m=isNaN(u)?2*Math.PI:u,v=new t._CircleGridLineView(this,c,!0,new t.core.Point(a,s),g,e,m);this._majorGridLineViews().push(v)}else{var w=h,b=a-Math.sin(w-Math.PI/2)*r,S=s+Math.cos(w-Math.PI/2)*r,P=a-Math.sin(w-Math.PI/2)*l*r,C=s+Math.cos(w-Math.PI/2)*l*r,x=w-Math.PI/2;v=new t._RadialGridLineView(this,c,!0,new t.core.Point(P,C),new t.core.Point(b,S),x),this._majorGridLineViews().push(v)}}},n.prototype._layoutMinorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._minorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._scaleModel._scale._getMinorTicks(),r=this._getRadiusOffset(),l=this._radius,a=this._innerRadius,s=this._cx,u=this._cy,_=this._sweep,p=0,c=o;p<c.length;p++){var h=c[p];if(!(i.indexOf(h)>=0)){var f=this._scaleModel._scale.value(h+(n?r:0));if(null!=f&&!isNaN(f))if(n){var d=f;if(d<0&&Math.abs(d)>t._Constants.Precision)continue;if(d-l>t._Constants.Precision)continue;var y=Math.cos(e)*d+s,g=Math.sin(e)*d+u,m=Math.sqrt(Math.pow(y-s,2)+Math.pow(g-u,2)),v=isNaN(_)?2*Math.PI:_,w=new t._CircleGridLineView(this,h,!1,new t.core.Point(s,u),m,e,v);this._minorGridLineViews().push(w)}else{var b=f,S=s-Math.sin(b-Math.PI/2)*l,P=u+Math.cos(b-Math.PI/2)*l,C=s-Math.sin(b-Math.PI/2)*a*l,x=u+Math.cos(b-Math.PI/2)*a*l,V=b-Math.PI/2;w=new t._RadialGridLineView(this,h,!1,new t.core.Point(C,x),new t.core.Point(S,P),V),this._minorGridLineViews().push(w)}}}},n.prototype._layoutTitleView=function(t,e,n){this._titleView()._layout(t,this._rectangle(),n)},n.prototype._getLayoutShapes=function(e){var n=[];if(this._definition._option.position!=t.AxisPosition.None){for(var i=0,o=this._labelViews();i<o.length;i++){var r=o[i];r._isVisible()&&n.push(r._getRotatedRectangle())}this._orientation()==t.Orientation.Horizontal&&n.push(this._titleView()._rotatedRectangle())}return n},n.prototype._calculateMaxLabelSize=function(e){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._textStyle()),t._StyleUtility._applyTextStyleOption(e,this._labelStyle());for(var n=new t.core.Size(0,0),i=0,o=this._scaleModel._scale.ticks();i<o.length;i++){var r=o[i],l=this._scaleDimension._itemValue(r),a=this._scaleDimension.dimensions,s=t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(l,this,a);if(null!=s){var u=e.measureSingleLineString(s);n.width<u.width&&(n.width=u.width),n.height<u.height&&(n.height=u.height)}}return e.restoreTransform(),n},n.prototype._getProjectivePoint=function(e,n,i,o){var r=new t.core.Point(0,0);return 0==n?(r.x=e.x,r.y=e.y):(r.x=(n*i+e.x/n+e.y-o)/(1/n+n),r.y=-1/n*(r.x-e.x)+e.y),r.x=t._Utility._toFixed(r.x,4,!1),r.y=t._Utility._toFixed(r.y,4,!1),r},n.prototype._getDistance=function(e,n,i){return t._Utility._toFixed(Math.sqrt((e.x-n)*(e.x-n)+(e.y-i)*(e.y-i)),2,!1)},n.prototype._renderContentGroup=function(t,e){this._renderGridLineViews(t,e),this._renderTickViews(t,e),this._renderAxisLine(t,e),this._renderLabelViews(t,e),this._renderTitleView(t,e)},n.prototype._renderAxisLine=function(e,n){if(!n._renderLabel&&this._axisLine()&&this._definition._option.position!=t.AxisPosition.None){var i=this._startAngle();e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._titleStyle());var o=this._getAxisLineWidth(),r=this._position()==t.AxisPosition.Near;if(this._orientation()==t.Orientation.Horizontal){null!=this._getOriginAngle()&&(i=this._getOriginAngle());var l=this._cx+(r?1:-1)*Math.sin(i)*o/2+Math.cos(i)*this._radius,a=this._cy-(r?1:-1)*Math.cos(i)*o/2+Math.sin(i)*this._radius,s=this._cx+(r?1:-1)*Math.sin(i)*o/2+Math.cos(i)*this._innerRadius*this._radius,u=this._cy-(r?1:-1)*Math.cos(i)*o/2+Math.sin(i)*this._innerRadius*this._radius;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(s,u,l,a),e.restoreTransform()}else{var _=this._position()===t.AxisPosition.Far?this._radius*this._innerRadius-o/2:this._radius+o/2;_<0&&(_=0),null!=this._getOriginRadius()&&(_=this._getOriginRadius()+o/2),e.beginTransform();var p=e.fill;t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle()),t._StyleUtility._applyFill(e,t._CssColor._none()),this._isMirror()?1==this._getIsForwardDirection()?e.drawDonut(this._cx,this._cy,_,_,i,.5*this._sweep,null):e.drawDonut(this._cx,this._cy,_,_,i-.5*this._sweep,.5*this._sweep,null):e.drawDonut(this._cx,this._cy,_,_,i,this._sweep,null),t._StyleUtility._applyFill(e,p),e.restoreTransform()}e.restoreTransform()}},n.prototype._getAnnoNumber=function(t,e,n){var i=t?n.height:n.width,o=e,r=this._getCorrectAngle();if(null!=r&&0!=r){var l=r*Math.PI/180,a=n.width,s=n.height;i=t?a*Math.abs(Math.sin(l))+s*Math.abs(Math.cos(l)):a*Math.abs(Math.cos(l))+s*Math.abs(Math.sin(l))}if(i>0&&o>0){var u=Math.floor(o/(i+6));return u<=0&&(u=1),u}return 10},n}(t._BaseAxisView);t._RadialAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCategoryValueViews=function(e){var n=[],i=this._startAngle(),o=e.max()-e.min();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=(this._radius-this._innerRadius*this._radius)/o,l=function(o){var l=e.value(o),s=null==l?0:l,u=s+r/2>a._radius?a._radius:s+r/2,_=s-r/2>0?s-r/2:0,p=a._scaleDimension._itemValue(o),c=[],h=a._getCoordinateSystemView()._getPlotViews();null!=h&&h.length>0&&h.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==o&&c.push(t)}))}));var f=new t.core.Point(a._cx,a._cy),d=new t._DonutShape(f,u,_,i,a._sweep),y=new t.models._HorizontalRadialCategoryValueView(p,a,c,d,s);y._setTick(o),n.push(y)},a=this,s=0,u=e._dataTicks();s<u.length;s++)l(u[s]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._startAngle(),i=(this._radius-this._innerRadius*this._radius)/this.___categoryValueViews.length,o=0,r=this.___categoryValueViews;o<r.length;o++){var l=r[o],a=new t.core.Point(this._cx,this._cy),s=e.value(l._getTick()),u=null==s?0:s,_=u+i/2>this._radius?this._radius:u+i/2,p=u-i/2>0?u-i/2:0,c=new t._DonutShape(a,null==_?0:_,null==p?0:p,n,this._sweep);l._layout(c)}},n}(t._RadialAxisView);t._HorizontalRadialAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._shape=function(){var e=1;this._labels()!=t.AxisPosition.None&&(e=Math.max(this._annoSize.width,this._annoSize.height));var n=this._radius,i=this._radius+e;this._position()==t.AxisPosition.Far&&(n=(i=this._innerRadius*this._radius)-e)<0&&(n=0);var o=this._sweep;return new t._DonutShape(new t.core.Point(this._cx,this._cy),i,n,this._startAngle(),o)},n.prototype._createCategoryValueViews=function(e){var n=[],i=e.max()-e.min();if(i<=0){if(!(e._dataTicks().length>0))return n;i=e._dataTicks().length}for(var o=this._sweep/i,r=this._radius,l=this._innerRadius*this._radius,a=function(i){var a=e.value(i),u=null==a?0:a,_=u-o/2,p=s._scaleDimension._itemValue(i),c=[],h=s._getCoordinateSystemView()._getPlotViews();null!=h&&h.length>0&&h.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==i&&c.push(t)}))}));var f=new t.core.Point(s._cx,s._cy),d=new t._DonutShape(f,r,l,_,o),y=new t.models._VerticalRadialCategoryValueView(p,s,c,d,u);y._setTick(i),n.push(y)},s=this,u=0,_=e._dataTicks();u<_.length;u++)a(_[u]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._sweep/this.___categoryValueViews.length,i=this._radius,o=this._innerRadius*this._radius,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],s=new t.core.Point(this._cx,this._cy),u=e.value(a._getTick()),_=(null==u?0:u)-n/2,p=new t._DonutShape(s,i,o,_,n);a._layout(p)}},n}(t._RadialAxisView);t._VerticalCircleAxisView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t,n,i)||this;return s._center=o,s._radius=r,s._startAngle=l,s._sweepAngle=a,s}return i(n,e),n.prototype._unvisualizeGridline=function(t){},n.prototype._shape=function(){return new t._ArcShape(this._center,this._radius,this._width,this._startAngle,this._sweepAngle)},n.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._DonutShape(this._center,this._radius+e/2,this._radius-e/2,this._startAngle,this._sweepAngle)},n.prototype._render=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(e){var n=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawDonut(o._center.x,o._center.y,o._radius,o._radius,o._startAngle,o._sweepAngle,null),t._StyleUtility._applyFill(e,n)})),e.restoreTransform()},n}(t._BaseGridLineView);t._CircleGridLineView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l,a,s){var u=e.call(this,t,n,i,o,r,l,a)||this;return u.__angles=s,u}return i(n,e),n.prototype._points=function(){var e=this.__angles,n=[];if(null!=e)for(var i=this._radius,o=0;o<e.length;++o){var r=e[o],l=Math.cos(r)*i+this._center.x,a=Math.sin(r)*i+this._center.y;n.push(new t.core.Point(l,a))}return n},n.prototype._shape=function(){return new t._PolygonalLineShape(this._center,this._radius,this.__angles,this._width)},n.prototype._hitTestShape=function(){var e=this.__angles,n=[],i=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width,o=this._radius-i/2,r=this._radius+i/2;if(e.length>2){for(var l=0;l<e.length;++l){var a=e[l],s=Math.cos(a)*r+this._center.x,u=Math.sin(a)*r+this._center.y;n.push(new t.core.Point(s,u))}for(l=e.length-1;l>=0;--l)a=e[l],s=Math.cos(a)*o+this._center.x,u=Math.sin(a)*o+this._center.y,n.push(new t.core.Point(s,u))}return new t._PolygonShape(n)},n.prototype._render=function(e,n){var i;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor);var o=this._points();e.drawGroup(i,null,null,(function(e){var n=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawLines(o.map((function(t){return t.x})),o.map((function(t){return t.y})),null),t._StyleUtility._applyFill(e,n)})),e.restoreTransform()},n}(t._CircleGridLineView);t._PolygonalGridLineView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){var a=e.call(this,t,n,i)||this;return a.__startPoint=o,a.__endPoint=r,a.__angle=l,a}return i(n,e),n.prototype._unvisualizeGridline=function(t){},n.prototype._shape=function(){var e=new t._PolylineShape([this.__startPoint,this.__endPoint]);return e.strokeWidth=this._width,e},n.prototype._hitTestShape=function(){var e=(this.__startPoint.x+this.__endPoint.x)/2,n=(this.__startPoint.y+this.__endPoint.y)/2,i=this.__angle-3*Math.PI/2,o=Math.sqrt(Math.pow(Math.abs(this.__startPoint.x-this.__endPoint.x),2)+Math.pow(Math.abs(this.__startPoint.y-this.__endPoint.y),2)),r=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape(e,n,o,r,i)},n.prototype._render=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._StyleUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},n}(t._BaseGridLineView);t._RadialGridLineView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.tick=i,r}return i(n,e),n.prototype._isVisible=function(){return null!=this._label&&""!=this._label||(this._visible=!1),this._visible},Object.defineProperty(n.prototype,"label",{get:function(){var e=this._ownerView._scaleDimension;if(e.scaleType===t.ValueScaleType.Ordinal&&this._isTickInScope(this.tick,e)){var n=this._ownerView._getDefinition()._option.labelTemplate;null!=n&&null==this.__labelByTemplate&&(this.__labelByTemplate=this._generateLabelByTemplate(n),this._label=this.__labelByTemplate)}return this._label},enumerable:!0,configurable:!0}),n.prototype._isTickInScope=function(t,e){var n=e._min(),i=e._max();return t>=(null==n?0:n)&&t<=(null==i?0:i)},n.prototype._drawView=function(e,n){var i=this._getAxisView(),o=i._startAngle();for(null!=i._getOriginAngle()&&(o=i._getOriginAngle());o<0;)o+=t._Utility._PI2;var r=this._getTextLocation(),l=this._getTextAngle(),a=!1;Math.cos(o)<0&&(a=!0);var s=null;null!=l&&null!=r&&(a?s=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l)-Math.PI,r):0!=l&&(s=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l),r))),this._textView()._transform=s,this._textView()._render(e,n),n._axisLabels.push(this._getRotatedRectangle())},n.prototype._generateLabelByTemplate=function(e){var n=t._TemplateSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e),o=this._textProxy(),r=this._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection;return n.evaluate(i,o,null,r)},n.prototype._textProxy=function(){return null==this.__textProxy&&(this.__textProxy=new t._AxisTickLabelViewTextProxy(this)),this.__textProxy},n}(t._BaseAxisLabelView);t._RadialAxisLabelView=e}(t||(t={})),function(t){t._isRadialAxisLabelView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._setOtherAxisView=function(t){this.__otherAxisView=t},n.prototype._getGridlineAngles=function(){return this.__angles(this.__otherAxisView)},n.prototype._shape=function(){if(this._orientation()==t.Orientation.Horizontal){var e=this._startAngle(),n=(1-this._innerRadius)*this._radius,i=this._getAxisHeight(),o=this._cx+Math.cos(e)*(this._radius-n/2)+Math.sin(e)*i/2,r=this._cy+Math.sin(e)*(this._radius-n/2)-Math.cos(e)*i/2;return new t._RectangleShape(o,r,n,i,e)}var l=1;this._labels()!=t.AxisPosition.None&&(l=Math.max(this._annoSize.width,this._annoSize.height));var a=this._radius,s=this._radius+l;this._position()==t.AxisPosition.Far&&(a=(s=this._innerRadius*this._radius)-l)<0&&(a=0);var u=[],_=this.__angles(this);if(_.length>2){for(var p=0;p<_.length;++p){var c=_[p],h=Math.cos(c)*s+this._cx,f=Math.sin(c)*s+this._cy;u.push(new t.core.Point(h,f))}for(p=_.length-1;p>=0;--p)c=_[p],h=Math.cos(c)*a+this._cx,f=Math.sin(c)*a+this._cy,u.push(new t.core.Point(h,f))}return new t._PolygonShape(u)},n.prototype.__angles=function(t){var e=t._scaleModel._ticks();if(e.length<=0)return[];var n=[];if(t._scaleModel._minimum!=e[0]){var i=t._scaleModel._value(t._scaleModel._minimum);n.push(i)}for(var o=0;o<e.length;++o)i=t._scaleModel._value(e[o]),isNaN(i)||null==i||n.push(i);return t._scaleModel._maximum!=e[e.length-1]&&(i=t._scaleModel._value(t._scaleModel._maximum),n.push(i)),n},n.prototype._getCross=function(e,n,i,o){var r=(n.y-e.y)*(o.x-i.x)-(e.x-n.x)*(i.y-o.y);if(0==r)return null;var l=((n.x-e.x)*(o.x-i.x)*(i.y-e.y)+(n.y-e.y)*(o.x-i.x)*e.x-(o.y-i.y)*(n.x-e.x)*i.x)/r,a=-((n.y-e.y)*(o.y-i.y)*(i.x-e.x)+(n.x-e.x)*(o.y-i.y)*e.y-(o.x-i.x)*(n.y-e.y)*i.y)/r;return new t.core.Point(l,a)},n.prototype._layoutMinorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._minorTickSize(),r=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),l=this._calAxisLineWidth(this._minorTicks()),a=this._calTickAxisRadius(l),s=this._scaleModel._scale._getMajorTicks(),u=this._scaleModel._scale._getMinorTicks(),_=this._getRadiusOffset(),p=this._radius,c=this._cx,h=this._cy,f=0;f<u.length;++f){var d=u[f];if(!(s.indexOf(d)>=0)){var y=this._scaleModel._scale.value(d+(i?_:0));if(null!=y&&!isNaN(y)){var g=this._createRotateLineForMinorTick(i,y,c,h,p,n,o,r,l,a,s,u,f,e);if(null!=g){var m=this._createTickView(d,g);this._minorTickViews().push(m)}}}}},n.prototype._createRotateLineForMinorTick=function(e,n,i,o,r,l,a,s,u,_,p,c,h,f){if(e){if(n<0&&Math.abs(n)>t._Constants.Precision)return null;if(n-r>t._Constants.Precision)return null;var d=Math.cos(l)*n+i+Math.sin(l)*u*(f?1:-1),y=Math.sin(l)*n+o-Math.cos(l)*u*(f?1:-1);return f?new t._RotatedLine(d,y,a-s,s,l):new t._RotatedLine(d,y,s,a-s,l)}for(var g=h>0?h-1:0,m=h<c.length-1?h+1:c.length-1;g>0&&p.indexOf(c[g])<0;)--g;for(;m<c.length&&p.indexOf(c[m])<0;)++m;var v=null,w=null;g>=0&&g<c.length&&(v=c[g]),m>=0&&m<c.length&&(w=c[m]);var b=this._scaleModel._scale.value(v),S=this._scaleModel._scale.value(w),P=new t.core.Point(i+Math.cos(b)*_,o+Math.sin(b)*_),C=new t.core.Point(i+Math.cos(S)*_,o+Math.sin(S)*_),x=n,V=i+Math.cos(x)*_,D=o+Math.sin(x)*_,A=P.equalsWith(C)?P:this._getCross(P,C,new t.core.Point(V,D),new t.core.Point(i,o));return null!=A?f?new t._RotatedLine(A.x,A.y,s,a-s,x-Math.PI/2):new t._RotatedLine(A.x,A.y,a-s,s,x-Math.PI/2):null},n.prototype._layoutMajorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._getRadiusOffset(),r=this._radius,l=this._innerRadius,a=this._cx,s=this._cy,u=this._sweep,_=0,p=i;_<p.length;_++){var c=p[_],h=this._scaleModel._scale.value(c+(n?o:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-r>t._Constants.Precision)continue;var d=Math.cos(e)*f+a,y=Math.sin(e)*f+s,g=Math.sqrt(Math.pow(d-a,2)+Math.pow(y-s,2)),m=isNaN(u)?2*Math.PI:u,v=this._getGridlineAngles(),w=new t._PolygonalGridLineView(this,c,!0,new t.core.Point(a,s),g,e,m,v);this._majorGridLineViews().push(w)}else{var b=h,S=a-Math.sin(b-Math.PI/2)*r,P=s+Math.cos(b-Math.PI/2)*r,C=a-Math.sin(b-Math.PI/2)*l*r,x=s+Math.cos(b-Math.PI/2)*l*r,V=b-Math.PI/2;w=new t._RadialGridLineView(this,c,!0,new t.core.Point(S,P),new t.core.Point(C,x),V),this._majorGridLineViews().push(w)}}},n.prototype._layoutMinorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._minorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._scaleModel._scale._getMinorTicks(),r=this._getRadiusOffset(),l=this._radius,a=this._innerRadius,s=this._cx,u=this._cy,_=this._sweep,p=0;p<o.length;++p){var c=o[p];if(!(i.indexOf(c)>=0)){var h=this._scaleModel._scale.value(c+(n?r:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-l>t._Constants.Precision)continue;var d=Math.cos(e)*f+s,y=Math.sin(e)*f+u,g=Math.sqrt(Math.pow(d-s,2)+Math.pow(y-u,2)),m=isNaN(_)?2*Math.PI:_,v=this._getGridlineAngles(),w=new t._PolygonalGridLineView(this,c,!1,new t.core.Point(s,u),g,e,m,v);this._minorGridLineViews().push(w)}else{for(var b=p>0?p-1:0,S=p<o.length-1?p+1:o.length-1;b>0&&i.indexOf(o[b])<0;)--b;for(;S<o.length&&i.indexOf(o[S])<0;)++S;var P=o[b],C=o[S],x=h,V=this._scaleModel._scale.value(P),D=this._scaleModel._scale.value(C),A=s+Math.cos(x)*l,O=u+Math.sin(x)*l,L=new t.core.Point(s+Math.cos(V)*l,u+Math.sin(V)*l),T=new t.core.Point(s+Math.cos(D)*l,u+Math.sin(D)*l),M=new t.core.Point(s+Math.cos(V)*a*l,u+Math.sin(V)*a*l),I=new t.core.Point(s+Math.cos(D)*a*l,u+Math.sin(D)*a*l),E=new t.core.Point(A,O),B=L.equalsWith(T)?L:this._getCross(L,T,E,new t.core.Point(s,u)),R=M.equalsWith(I)?M:this._getCross(M,I,E,new t.core.Point(s,u));w=new t._RadialGridLineView(this,c,!1,B,R,x),this._minorGridLineViews().push(w)}}}},n.prototype._renderAxisLine=function(e,n){if(!n._renderLabel&&this._axisLine()&&this._definition._option.position!=t.AxisPosition.None){var i=this._startAngle();e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._definition._option.titleStyle);var o=this._getAxisLineWidth();if(this._orientation()==t.Orientation.Horizontal){null!=this._getOriginAngle()&&(i=this._getOriginAngle());var r=this._cx+Math.sin(i)*o/2+Math.cos(i)*this._radius,l=this._cy-Math.cos(i)*o/2+Math.sin(i)*this._radius,a=this._cx+Math.sin(i)*o/2+Math.cos(i)*this._innerRadius*this._radius,s=this._cy-Math.cos(i)*o/2+Math.sin(i)*this._innerRadius*this._radius;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(a,s,r,l),e.restoreTransform()}else{e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,this._lineStyle());var u=this._position()===t.AxisPosition.Far?this._radius*this._innerRadius-o/2:this._radius+o/2;u<0&&(u=0),null!=this._getOriginRadius()&&(u=this._getOriginRadius()+o/2);var _=this.__angles(this),p=new t._Polyline([],[]);if(null!=_)for(var c=0;c<_.length;++c){var h=_[c],f=Math.cos(h)*u+this._cx,d=Math.sin(h)*u+this._cy;p.xs.push(f),p.ys.push(d)}var y=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawLines(p.xs,p.ys,null),t._StyleUtility._applyFill(e,y),e.restoreTransform()}e.restoreTransform()}},n}(t._RadialAxisView);t._PolygonalAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCategoryValueViews=function(e){var n=[],i=this._startAngle(),o=e.max()-e.min();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=(this._radius-this._innerRadius*this._radius)/o,l=function(o){var l=e.value(o),s=null==l?0:l,u=s+r/2>a._radius?a._radius:s+r/2,_=s-r/2>0?s-r/2:0,p=a._scaleDimension._itemValue(o),c=[],h=a._getCoordinateSystemView()._getPlotViews();null!=h&&h.length>0&&h.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==o&&c.push(t)}))}));var f=new t.core.Point(a._cx,a._cy),d=new t._DonutShape(f,u,_,i,a._sweep),y=new t.models._HorizontalRadialCategoryValueView(p,a,c,d,s);y._setTick(o),n.push(y)},a=this,s=0,u=e._dataTicks();s<u.length;s++)l(u[s]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._startAngle(),i=(this._radius-this._innerRadius*this._radius)/this.___categoryValueViews.length,o=0,r=this.___categoryValueViews;o<r.length;o++){var l=r[o],a=new t.core.Point(this._cx,this._cy),s=e.value(l._getTick()),u=null==s?0:s,_=u+i/2>this._radius?this._radius:u+i/2,p=u-i/2>0?u-i/2:0,c=new t._DonutShape(a,_,p,n,this._sweep);l._layout(c)}},n}(t._PolygonalAxisView);t._HorizontalPolygonalAxisView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a){var s=t.call(this,e,n,i,o,r)||this;return s.nearbyAngle=l,s.nearbyNextAngle=a,s}return i(e,t),e}(t._RotatedLine);t._PolygonalRotatedLine=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCategoryValueViews=function(e){var n=[],i=e.max()-e.min();if(i<=0){if(!(e._dataTicks().length>0))return n;i=e._dataTicks().length}for(var o=this._sweep/i,r=this._radius,l=this._innerRadius*this._radius,a=function(i){var a=e.value(i)-o/2,u=s._scaleDimension._itemValue(i),_=[],p=s._getCoordinateSystemView()._getPlotViews();null!=p&&p.length>0&&p.forEach((function(t){t._traversePointView((function(t){var e=t._data();t._getPlotView()._getXValue(e)==i&&_.push(t)}))}));var c=new t.core.Point(s._cx,s._cy),h=new t._DonutShape(c,r,l,a,o),f=new t.models._VerticalRadialCategoryValueView(u,s,_,h,e.value(i));f._setTick(i),n.push(f)},s=this,u=0,_=e._dataTicks();u<_.length;u++)a(_[u]);return n},n.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel._scale,n=this._sweep/this.___categoryValueViews.length,i=this._radius,o=this._innerRadius*this._radius,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],s=new t.core.Point(this._cx,this._cy),u=e.value(a._getTick())-n/2,_=new t._DonutShape(s,i,o,u,n);a._layout(_)}},n}(t._PolygonalAxisView);t._VerticalPolygonalAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._initTextPadding=function(){if(null==this._axisView()._getDefinition()._option.titleStyle.padding){var e=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal;this._setTextPadding(new t.options._PaddingOption({left:0,right:0,top:e?0:this._axisView()._getDefinition()._getDefaultTitlePadding(),bottom:e?0:this._axisView()._getDefinition()._getDefaultTitlePadding()}))}else this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},n.prototype._layout=function(n,i,o){if(i.height<=0||i.width<=0)this._visible=!1;else if(this._axisView()._getDefinition()._option.position!=t.AxisPosition.None)if(null!=this._textView()._getMeasureInfo()){var r=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,l=this._axisView()._getDefinition()._option.position==t.AxisPosition.Near,a=this._textView()._getMeasureInfo()._size;if(r){var s=this._axisView(),u=s._getAxisLineWidth(),_=s._startAngle();null!=s._getOriginAngle()&&(_=s._getOriginAngle());var p=Math.cos(_)*(s._radius+s._innerRadius*s._radius)/2+s._cx+(l?1:-1)*Math.sin(_)*u,c=Math.sin(_)*(s._radius+s._innerRadius*s._radius)/2+s._cy-(l?1:-1)*Math.cos(_)*u,h=s._axisLabelHeight,f=p+(l?1:-1)*(Math.sin(_)*h),d=c-(l?1:-1)*(Math.cos(_)*h),y=f+(l?1:-1)*Math.sin(_)*a.height/2-Math.cos(_)*a.width/2,g=d-(l?1:-1)*Math.cos(_)*a.height/2-Math.sin(_)*a.width/2;this._setTextAngle(t._Util.rad2Degree(_)),this._setTextLocation(new t.core.Point(y,g)),e.prototype._layout.call(this,n,new t.core.Rect(y-a.width/2,g-a.height/2,a.width,a.height),o)}else{var m=i.left+i.width/2-a.width/2,v=i.bottom-a.height;e.prototype._layout.call(this,n,new t.core.Rect(m,v,a.width,a.height),o)}}else this._visible=!1;else this._visible=!1},n.prototype._drawView=function(e,n){var i=this._axisView(),o=i._startAngle();for(null!=i._getOriginAngle()&&(o=i._getOriginAngle());o<0;)o+=t._Utility._PI2;var r=this._getTextLocation(),l=this._getTextAngle(),a=!1;Math.cos(o)<0&&(a=!0);var s=null;null!=l&&null!=r&&(a?s=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l-180),r):0!=l&&(s=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l),r))),this._textView()._transform=s,this._textView()._render(e,n)},n}(t._BaseAxisTitleView);t._RadialAxisTitleView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(t._LineAxisTitleView);t._TextAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._majorTicks=function(){return t.TickMark.None},n.prototype._axisLine=function(){return!1},n.prototype._title=function(){var t=this._definition._option;return null!=t.title?t.title:null},n.prototype._createTitleView=function(){return new t._TextAxisTitleView(this)},n.prototype._measureUnitLabels=function(t,e){return 0},n}(t._LineAxisView);t._TextCategoriesLineAxisView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._gridLineMajor="gcdv-gridline-major",t._gridLineMinor="gcdv-gridline-minor",t._connectingLine="gcdv-connecting-line",t._label="gcdv-label",t}();t._CssClassName=e}(t||(t={})),function(t){t._isDisplayablePipeLine=function(t){var e=t;return null!=e&&"function"==typeof e._push&&"function"==typeof e._unshift&&"function"==typeof e._shift&&"function"==typeof e._pop&&"function"==typeof e._delete&&"function"==typeof e._indexOf&&"function"==typeof e._flush&&"function"==typeof e._filter}}(t||(t={})),function(t){t._isFlushable=function(t){var e=t;return null!=e&&void 0!==e.referenceGroupElement&&"function"==typeof e.flush}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.defaultBuildInReferenceLineLabelLayoutInjectors=function(){return null==n.__buildInReferenceLineLabelLayoutInjectors&&(n.__buildInReferenceLineLabelLayoutInjectors=new n([t._DefaultReferenceLineLabelLayoutInjector.defaultInReferenceLineLabelLayoutInjector],n._pluginType)),n.__buildInReferenceLineLabelLayoutInjectors},n.prototype._convert=function(e){return t._isReferenceLineLabelLayoutInjector(e)?e:null},n.prototype.injectReferenceLineLabelLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++)o[i].item.inject(t,e)},n._pluginType="ReferenceLineLabelLayout",n}(t._BuildInObjectCollection);t._BuildInReferenceLineLabelLayoutInjectorCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.inject=function(e,n){var i=null;if(e instanceof t._CartesianRadialReferenceLineOverlayItemView)null!=(i=new t.models._CircleReferencelineLabelLayouter(e))&&e._injectLabelLayouter(i);else if(e instanceof t._CartesianLineReferenceLineOverlayItemView){var o=e._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis,r=e._overlayGroupView()._groupView()._getCartesianPlotView();null!=(i=o!==t.AxisType.Y||r._axisMode()!=t.AxisMode.Polygonal&&r._axisMode()!=t.AxisMode.Radial?new t.models._LineReferenceLineLabelLayout(e):new t.models._RadialLineReferenceLineLabelLayout(e))&&e._injectLabelLayouter(i)}},e.prototype.queryInterface=function(t){return"IReferenceLineLabelLayoutInjector"===t?this:null},e.defaultInReferenceLineLabelLayoutInjector=new e,e}();t._DefaultReferenceLineLabelLayoutInjector=e}(t||(t={})),function(t){t._isReferenceLineLabelLayoutInjector=function(t){return null!=t.inject}}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._cartesianCoordinateSystemView=function(){return this._coordinateSystemView()},n.prototype._renderCartesianSystem=function(e,n){var i=this;if(this._canScroll()){var o=this._getRectangle(),r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup("scroll-viewport",r,null,(function(t){i._cartesianCoordinateSystemView()._renderCartesianSystem(t,n)}))}else this._cartesianCoordinateSystemView()._renderCartesianSystem(e,n)},n}(t._PlotsView);t._CartesianPlotsView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._cartesianPointView=function(){return this._ownerView},n.prototype._defaultStrokeColor=function(){var t=this._ownerView._legendColor;return null==t&&(t=this._cartesianPointView()._getCartesianSeriesView().color),t},n.prototype._isPositive=function(){return this._cartesianPointView()._isPositive()},n.prototype._getPosition=function(e,n){var i=this._cartesianPointView()._getPlotView();if(e==t.TextPosition.Center)return t.Position.None;var o=this._isPositive();if(n===t.Placement.Auto)return t.Position.None,i._swapAxes()?o?this._cartesianPointView()._reversed()?t.Position.Left:t.Position.Right:this._cartesianPointView()._reversed()?t.Position.Right:t.Position.Left:o?this._cartesianPointView()._reversed()?t.Position.Bottom:t.Position.Top:this._cartesianPointView()._reversed()?t.Position.Top:t.Position.Bottom;switch(n){case t.Placement.Top:return t.Position.Top;case t.Placement.Left:return t.Position.Left;case t.Placement.Right:return t.Position.Right;case t.Placement.Bottom:return t.Position.Bottom}return t.Position.None},n.prototype._calcTextAutoPositionBy=function(e,n,i,o,r){if(e!=t.TextPosition.Auto)return e;var l=this._cartesianPointView()._rectangle();if(n==t.Position.Top){if(l.top-r-i.height<o.top)return t.TextPosition.Inside}else if(n==t.Position.Bottom){if(l.bottom+r+i.height>o.bottom)return t.TextPosition.Inside}else if(n==t.Position.Left){if(l.left-r-i.width<o.left)return t.TextPosition.Inside}else if(n==t.Position.Right&&l.right+r+i.width>o.right)return t.TextPosition.Inside;return t.TextPosition.Outside},n.prototype._layoutContent=function(e,n,i){var o=this._cartesianPointView()._getPlotView(),r=this._position(),l=this.__option.placement,a=this._getPosition(r,l);n=this._cartesianPointView()._rectangle();var s=o._getLayoutView()._dataLabelsRectangle(),u=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,_=this.__option.offset,p=n.center.clone(),c=null;r==t.TextPosition.Auto&&(r=this._calcTextAutoPositionBy(r,a,u,o._rectangle(),_)),a==t.Position.Top?(p.y=n.top,c=p.clone(),r==t.TextPosition.Inside?(c.y+=_,c.y+u.height>s.bottom&&(c.y=s.bottom-u.height),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width/2,c.y,u.width,u.height))):(c.y-=_,c.y-u.height<s.top&&(c.y=s.top+u.height),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width/2,c.y-u.height,u.width,u.height)))):a==t.Position.Bottom?(p.y=n.bottom,c=p.clone(),r==t.TextPosition.Inside?(c.y-=_,c.y-u.height<s.top&&(c.y=s.top+u.height),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width/2,c.y-u.height,u.width,u.height))):(c.y+=_,c.y+u.height>s.bottom&&(c.y=s.bottom-u.height),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width/2,c.y,u.width,u.height)))):a==t.Position.Left?(p.x=n.left,c=p.clone(),r==t.TextPosition.Inside?(c.x+=_,c.x+u.width>s.right&&(c.x=s.right-u.width),this._textView()._layout(e,i,new t.core.Rect(c.x,c.y-u.height/2,u.width,u.height))):(c.x-=_,c.x-u.width<s.left&&(c.x=s.left+u.width),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width,c.y-u.height/2,u.width,u.height)))):a==t.Position.Right?(p.x=n.right,c=p.clone(),r==t.TextPosition.Inside?(c.x-=_,c.x-u.width<s.left&&(c.x=s.left+u.width),this._textView()._layout(e,i,new t.core.Rect(c.x-u.width,c.y-u.height/2,u.width,u.height))):(c.x+=_,c.x+u.width>s.right&&(c.x=s.right-u.width),this._textView()._layout(e,i,new t.core.Rect(c.x,c.y-u.height/2,u.width,u.height)))):(c=p.clone()).x+u.width/2>s.right?this._textView()._layout(e,i,new t.core.Rect(s.right-u.width,c.y-u.height/2,u.width,u.height)):c.x-u.width/2<s.left?this._textView()._layout(e,i,new t.core.Rect(s.left,c.y-u.height/2,u.width,u.height)):this._textView()._layout(e,i,new t.core.Rect(c.x-u.width/2,c.y-u.height/2,u.width,u.height)),this._linePosition()==t.LinePosition.Center?this._startPoint=n.center:this._startPoint=p,this._endPoint=c},n}(t._PointDataLabelView);t._CartesianPointDataLabelView=e}(t||(t={})),function(t){var e=function(){function t(){}return t.cloneVertex=function(t,e){null!=e._getXs()&&null!=e._getYs()&&(t._setXs(e._getXs().slice()),t._setYs(e._getYs().slice()))},t.cloneBaseInfo=function(t,e){t._visible=e._visible},t}();t.CartesianPointViewClone=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._layoutContent=function(n,i,o){var r=this.__option.placement;if(r!=t.Placement.Auto)e.prototype._layoutContent.call(this,n,i,o);else{var l=this._position(),a=this._cartesianPointView()._getPlotView(),s=this._getPosition(l,r);i=this._cartesianPointView()._rectangle();var u=a._getLayoutView()._dataLabelsRectangle(),_=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,p=this.__option.offset,c=i.center.clone(),h=null;l==t.TextPosition.Auto&&(l=this._calcTextAutoPositionBy(l,s,_,a._rectangle(),p)),s==t.Position.Top?l==t.TextPosition.Inside?(c.y=i.bottom,(h=c.clone()).y+=p,h.y+_.height>u.bottom&&(h.y=u.bottom-_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y,_.width,_.height))):(c.y=i.top,(h=c.clone()).y-=p,h.y-_.height<u.top&&(h.y=u.top+_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height,_.width,_.height))):s==t.Position.Bottom?l==t.TextPosition.Inside?(c.y=i.top,(h=c.clone()).y-=p,h.y-_.height<u.top&&(h.y=u.top+_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height,_.width,_.height))):(c.y=i.bottom,(h=c.clone()).y+=p,h.y+_.height>u.bottom&&(h.y=u.bottom-_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y,_.width,_.height))):s==t.Position.Left?l==t.TextPosition.Inside?(c.x=i.right,(h=c.clone()).x+=p,h.x+_.width>u.right&&(h.x=u.right-_.width),this._textView()._layout(n,o,new t.core.Rect(h.x,h.y-_.height/2,_.width,_.height))):(c.x=i.left,(h=c.clone()).x-=p,h.x-_.width<u.left&&(h.x=u.left+_.width),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width,h.y-_.height/2,_.width,_.height))):s==t.Position.Right?l==t.TextPosition.Inside?(c.x=i.left,(h=c.clone()).x-=p,h.x-_.width<u.left&&(h.x=u.left+_.width),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width,h.y-_.height/2,_.width,_.height))):(c.x=i.right,(h=c.clone()).x+=p,h.x+_.width>u.right&&(h.x=u.right-_.width),this._textView()._layout(n,o,new t.core.Rect(h.x,h.y-_.height/2,_.width,_.height))):(h=c.clone()).x+_.width/2>u.right?this._textView()._layout(n,o,new t.core.Rect(u.right-_.width,h.y-_.height/2,_.width,_.height)):h.x-_.width/2<u.left?this._textView()._layout(n,o,new t.core.Rect(u.left,h.y-_.height/2,_.width,_.height)):this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height/2,_.width,_.height)),this._linePosition()==t.LinePosition.Center?this._startPoint=i.center:this._startPoint=c,this._endPoint=h}},n.prototype._render=function(n,i){this._layout(n,null,new t._RenderContext),(null==i._dataLabelClipRectangle||this._isVisible())&&e.prototype._render.call(this,n,i)},n}(t._CartesianPointDataLabelView);t._CartesianSymbolDataLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._cartesianPointView=function(){return this._ownerView},n.prototype._defaultStrokeColor=function(){var t=this._cartesianPointView()._legendColor;return null==t&&(t=this._cartesianPointView()._getCartesianSeriesView().color),t},n.prototype._isPolygonAxes=function(){return this._cartesianPointView()._getPlotView()._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Polygonal},n.prototype._calculateRadius=function(e,n){if(!t._isRadialAxisView(e))return null;if(this._isPolygonAxes()){var i=e._startAngle(),o=i+e._sweep;if(n<i||n>o)return null;for(var r=e._scaleModel._ticks(),l=0,a=r.length-1,s=0;s<r.length;++s){var u=r[s];if(e._scaleModel._value(u)>n){a=s;break}l=s}var _=e._scaleModel._value(r[l]),p=e._scaleModel._value(r[a]),c=p-_;return Math.cos(c/2)/Math.cos(Math.abs(p-n-c/2))*e._radius}return e._radius},n.prototype._calculateTextAutoPositionBy=function(e,n,i,o,r,l){var a=new t.core.Point(i.x+Math.cos(r)*o,i.y+Math.sin(r)*o);return a.x>i.x?e+=l.width:a.x<i.x&&(e-=l.width),a.y>i.y?n+=l.height:a.y<i.y&&(n-=l.height),(e-i.x)*(e-i.x)+(n-i.y)*(n-i.y)>o*o?t.TextPosition.Inside:t.TextPosition.Outside},n}(t._PointDataLabelView);t._RadialDataLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._layoutContent=function(n,i,o){if(null==i){var r=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView();i=this._cartesianPointView()._rectangle();var l=r._getCartesianPlotView()._getLayoutView()._dataLabelsRectangle(),a=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=this.__option.offset,u=i.center.clone(),_=null,p=this._position();if(p==t.TextPosition.Center)_=u.clone(),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height));else{var c=this._calculateRadialCenter(),h=this._calculateRadialAngle(),f=this._calculateRadius(r._verticalAxisView(),h);p==t.TextPosition.Auto&&(p=this._calcTextAutoPositionBy(p,c,h,f,a,s)),p==t.TextPosition.Inside?(_=new t.core.Point(u.x-Math.cos(h)*s,u.y-Math.sin(h)*s)).x>c.x?_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height)):_.x<c.x?_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height)):_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height)):(_=new t.core.Point(u.x+Math.cos(h)*s,u.y+Math.sin(h)*s)).x>c.x?(_.x+a.width>l.right&&(_.x=l.right-a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height))):_.x<c.x?(_.x-a.width<l.left&&(_.x=l.left+a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height))):_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))}this._linePosition()==t.LinePosition.Center?this._startPoint=i.center:this._startPoint=u,this._endPoint=_}else e.prototype._layoutContent.call(this,n,i,o)},n.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e!=t.TextPosition.Auto)return e;null==l&&(l=0);var a=this._cartesianPointView()._rectangle().center,s=a.x+Math.cos(i)*l,u=a.y+Math.sin(i)*l;return this._calculateTextAutoPositionBy(s,u,n,o,i,r)},n.prototype._calculateRadialAngle=function(){var t=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView(),e=this._cartesianPointView()._data();if(t._swapAxes())return t._xAxisView()._scaleModel._value(e.xDimensionValue._value());var n=e.queryInterface("INumberStackValue");return null!=n?t._yAxisView()._scaleModel._value(n.value):null},n.prototype._calculateRadialCenter=function(){var e=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView();return new t.core.Point(e._cx(),e._cy())},n}(t._RadialDataLabelView);t._RadialSymbolDataLabelView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._stack=function(e,n,i){for(var o=new t._Map,r=new t._Map,l=0,a=e;l<a.length;l++)for(var s=0,u=a[l]._filterPoints();s<u.length;s++){var _=u[s],p=_.xDimensionValue._value(),c=null,h=_._value(),f=_.queryInterface("INumberValue");if(null!=f){var d=f.value;null==d||d>=0?(null==(c=o._get(p))?o._set(p,d):o._set(p,c+(null==d?0:d)),h=o._get(p)):(null==(c=r._get(p))?r._set(p,d):r._set(p,c+d),h=r._get(p))}var y=_.queryInterface("INumberRangeValue");if(null!=y){var g=y.upper,m=y.lower;(h=(null==g?0:g)-(null==m?0:m))>=0?(null==(c=o._get(p))?o._set(p,h):o._set(p,c+h),null==c&&(c=0),h=o._get(p)):(null==(c=r._get(p))?r._set(p,h):r._set(p,c+h),null==c&&(c=0),h=r._get(p))}_._setDimValue(i,c),_._setDimValue(n,h)}},n.prototype._percentage=function(e,n,i){for(var o=new t._Map,r=new t._Map,l=0,a=e;l<a.length;l++)for(var s=0,u=a[l]._filterPoints();s<u.length;s++){var _=(v=u[s]).xDimensionValue._value(),p=[];null!=(P=v.queryInterface("INumberStackValue"))&&(null!=P.previous?p.push(P.previous):p.push(0),p.push(P.value));for(var c=0,h=p;c<h.length;c++){var f=h[c];(null==o._get(_)||o._get(_)<(null==f?0:f))&&o._set(_,f),(null==r._get(_)||r._get(_)>(null==f?0:f))&&r._set(_,f)}}for(var d=0,y=e;d<y.length;d++)for(var g=0,m=y[d]._filterPoints();g<m.length;g++){_=(v=m[g]).xDimensionValue._value();var v,w=o._get(_),b=r._get(_),S=(null==w?0:w)-(null==b?0:b);if(0!=S){var P,C=0;f=v._value(),null!=(P=v.queryInterface("INumberStackValue"))&&(null!=P.previous&&(C=P.previous/S,v._setDimValue(i,C)),f=(null==P.value?0:P.value)/S),v._setDimValue(n,f)}}},n.prototype.buildPlotLayout=function(e,n){return t._isBarCartesianPlotView(e)?this:null},n}(t.models._CartesianPlotLayout);t._BarPlotLayout=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},n.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},n}(t._CartesianPointViewRectangleAttachmentAgent);t._BarPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._render=function(n,i){this._layout(n,null,new t._RenderContext);var o=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView()._yAxisView(),r=this._cartesianPointView()._data(),l=!0;if(r instanceof t._XyValuePointDataModel){var a=r._displayValue(),s=o._scaleModel._maximum,u=o._scaleModel._minimum;((null==a?0:a)>(null==s?0:s)||(null==a?0:a)<(null==u?0:u))&&(l=!1)}var _=i._dataLabelClipRectangle,p=this._rotatedRectangle();(null==_||l||_.contains(p.leftTop)||_.contains(p.leftBottom)||_.contains(p.rightTop)||_.contains(p.rightBottom))&&e.prototype._render.call(this,n,i)},n}(t._CartesianPointDataLabelView);t._CartesianBarDataLabelView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._CartesianPointDataLabelView);t._FunnelBarDataLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},n.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},n}(t._CartesianPointViewRectangleAttachmentAgent);t._FunnelPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i,o,r){this.leftTop=t,this.rightTop=e,this.leftNeck=r,this.rightNeck=n,this.leftBottom=o,this.rightBottom=i}return e.prototype.scale=function(n,i){if(isNaN(n)||isNaN(i))return null;var o=new t.core.Point((this.leftTop.x+this.rightTop.x)/2,(this.leftTop.y+this.rightTop.y)/2),r=new t.core.Point((this.leftBottom.x+this.rightBottom.x)/2,(this.leftBottom.y+this.rightBottom.y)/2),l=new t.core.Point((o.x+r.x)/2,(o.y+r.y)/2),a=t.Vector.angle(t.Vector.pointSub(r,o),t.Vector.vertical()),s=new t.Matrix;s.rotate(a),s.scale(n,i),s.rotate(-a);var u=t._MatrixUtility._transformPoint(s,l);s.translate(l.x-u.x,l.y-u.y);var _=t._MatrixUtility._transformPoints(s,this.points);return new e(_[0],_[1],_[2],_[3],_[4],_[5])},e.prototype.topWidth=function(){return t._ShapeUtil.DisPointToPoint(this.leftTop,this.rightTop)},e.prototype.bottomWidth=function(){return t._ShapeUtil.DisPointToPoint(this.leftBottom,this.rightBottom)},Object.defineProperty(e.prototype,"points",{get:function(){return[this.leftTop,this.rightTop,this.rightNeck,this.rightBottom,this.leftBottom,this.leftNeck]},enumerable:!0,configurable:!0}),e.prototype._rectangle=function(){var e=Math.min.apply(Math,this.xs),n=Math.min.apply(Math,this.ys),i=Math.max.apply(Math,this.xs)-e,o=Math.max.apply(Math,this.ys)-n;return new t.core.Rect(e,n,i,o)},Object.defineProperty(e.prototype,"xs",{get:function(){return this.points.map((function(t){return t.x}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ys",{get:function(){return this.points.map((function(t){return t.y}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this._rectangle().center},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return!!t._Util.IsPointInPolygon2(e,this.xs,this.ys)},e.prototype.equalsWith=function(t){return this===t||this.leftTop.equalsWith(t.leftTop)&&this.rightTop.equalsWith(t.rightTop)&&this.leftNeck.equalsWith(t.leftNeck)&&this.rightNeck.equalsWith(t.rightNeck)&&this.leftBottom.equalsWith(t.leftBottom)&&this.rightBottom.equalsWith(t.rightBottom)},e.prototype.clone=function(){return new e(this.leftTop.clone(),this.rightTop.clone(),this.rightNeck.clone(),this.rightBottom.clone(),this.leftBottom.clone(),this.leftNeck.clone())},e}();t._FunnelPolygon=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o.__rotateAngle=0,o}return i(n,e),n.prototype.getConnectingLineWidth=function(){var t=this.__option.connectingLine;return null!=t&&null!=t.strokeWidth?t.strokeWidth:0},n.prototype._getRotateAngle=function(){return this.__rotateAngle},n.prototype._setRotateAngle=function(t){this.__rotateAngle=t},n.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e!=t.TextPosition.Auto)return e;null==l&&(l=0);var a=this._pointView()._getRadius(),s=n.x+Math.cos(i)*(a+l),u=n.y+Math.sin(i)*(a+l);return this._calculateTextAutoPositionBy(s,u,n,o,i,r)},n.prototype.getDefaultLabelRectangle=function(e,n,i,o,r){if(e==t.TextPosition.Center||e==t.TextPosition.Auto){var l=o/2;return new t._RectangleShape(n.x+l*Math.cos(i),n.y+l*Math.sin(i),r.width,r.height,i)}if(e==t.TextPosition.Inside)return this._getDefaultInsideLabelRectangle(n,i,o,r);if(e==t.TextPosition.Outside)return this._getOutsideLabelRectangleByPoint(new t.core.Point(n.x+Math.cos(i)*o,n.y+Math.sin(i)*o),n,r,!0);throw new t.AssertError(t.ErrorCode.UnexpectedValue,e)},n.prototype._getDefaultInsideLabelRectangle=function(e,n,i,o){var r=Math.sin(n),l=Math.cos(n),a=this._getRotateAngle(),s=o.width,u=o.height,_=e.x,p=e.y,c=new t._RectangleShape(0,0,s,u,a),h=c.getBoundRectangle().size,f=h.width/2,d=h.height/2,y=new t.core.Point(_+l*i,p+r*i),g=y.x,m=y.y;return g>_?m>p?new t._RectangleShape(g-f,m-d,s,u,a):m<p?new t._RectangleShape(g-f,m+d,s,u,a):new t._RectangleShape(g-f,m,s,u,a):g<_?m>p?new t._RectangleShape(g+f,m-d,s,u,a):m<p?new t._RectangleShape(g+f,m+d,s,u,a):new t._RectangleShape(g+f,m,s,u,a):m>p?new t._RectangleShape(g,m-d,s,u,a):m<p?new t._RectangleShape(g,m+d,s,u,a):new t._RectangleShape(g,m,s,u,a)},n.prototype._getOutsideLabelRectangleByPoint=function(e,n,i,o){var r=this._pointView()._getPlotView()._getLayoutView()._dataLabelsRectangle(),l=this._getRotateAngle(),a=i.width,s=i.height,u=n.x,_=n.y,p=new t._RectangleShape(0,0,a,s,l),c=p.getBoundRectangle().size,h=c.width,f=c.height,d=h/2,y=f/2,g=e.x,m=e.y,v=r.right,w=r.left,b=r.top,S=r.bottom;return g>u?(o&&g+h>v&&(g=v-h),m>_?(o&&m+f>S&&(m=S-f),p=new t._RectangleShape(g+d,m+y,a,s,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g+d,m-y,a,s,l)):p=new t._RectangleShape(g+d,m,a,s,l)):g<u?(o&&g-h<w&&(g=w+h),m>_?(o&&m+f>S&&(m=S-f),p=new t._RectangleShape(g-d,m+y,a,s,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g-d,m-y,a,s,l)):p=new t._RectangleShape(g-d,m,a,s,l)):m>_?(o&&m+f>S&&(m=S-f),p=new t._RectangleShape(g,m+y,a,s,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g,m-y,a,s,l)):p=new t._RectangleShape(g,m,a,s,l),o&&(e.x=g,e.y=m),p},n.prototype._renderConnectingLine=function(t,n){if(null!=this.__option.connectingLine){var i=this.linePoints;null!=i&&i.length>1?(t.beginTransform(),this._applyConnectingLineStyle(t),t.drawLines(i.map((function(t){return t.x})),i.map((function(t){return t.y}))),t.restoreTransform()):e.prototype._renderConnectingLine.call(this,t,n)}},n.prototype._layoutContent=function(n,i,o){if(null==i){var r=this._pointView(),l=r._getCartesianSeriesView()._getCartesianGroupView();i=r._rectangle();var a=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=this.__option.offset,u=null,_=null,p=this._position(),c=r._getCenter(),h=r._getStartAngle()+r._getSweep()/2;if(p==t.TextPosition.Center){var f=r._getInnerRadius()+(r._getRadius()-r._getInnerRadius())/2;_=(u=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).clone(),this._setTextLocation(new t.core.Point(_.x,_.y)),this._setTextAngle(h),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))}else if(f=r._getRadius(),u=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f),p==t.TextPosition.Auto&&(p=this._calcTextAutoPositionBy(p,c,h,this._calculateRadius(l._verticalAxisView(),h),a,s)),p==t.TextPosition.Inside){null!=s&&(f-=s),_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f);var d=this._getDefaultInsideLabelRectangle(c,h,f,a);this._setTextAngle(d.angle),this._setTextLocation(d.center),this._textView()._layout(n,o,new t.core.Rect(d.center.x-a.width/2,d.center.y-a.height/2,a.width,a.height))}else{null!=s&&(f+=s),_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f);var y=this._getOutsideLabelRectangleByPoint(_,c,a,!0);this._setTextAngle(y.angle),this._setTextLocation(y.center),this._textView()._layout(n,o,new t.core.Rect(y.center.x-a.width/2,y.center.y-a.height/2,a.width,a.height))}this._linePosition()==t.LinePosition.Center?(f=r._getInnerRadius()+(r._getRadius()-r._getInnerRadius())/2,this._startPoint=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)):this._startPoint=u,this._endPoint=_}else e.prototype._layoutContent.call(this,n,i,o)},n}(t._RadialDataLabelView);t._RadialBarDataLabelView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._cluster=function(t,e,n){for(var i=0,o=t;i<o.length;i++)for(var r=null,l=0,a=o[i]._filterPoints();l<a.length;l++){var s=a[l],u=s._value(),_=s.queryInterface("INumberValue");null!=_&&(u=_.value),s._setDimValue(n,r),null==r&&(r=0),r+=null==u?0:u,s._setDimValue(e,r)}},n.prototype._stack=function(e,n,i){var o=new Array(e.length),r=new t._Map;e.forEach((function(t,e){for(var l=0,a=t._filterPoints();l<a.length;l++){var s=a[l],u=s.xDimensionValue._value(),_=s._value(),p=s.queryInterface("INumberValue");null!=p&&(_=p.value),null==o[e]?o[e]=_:o[e]=o[e]+(null==_?0:_);var c=r._get(u);null!=c&&s._setDimValue(i,c),null==c?r._set(u,_):r._set(u,c+(null==_?0:_)),s._setDimValue(n,r._get(u))}}));for(var l=0,a=e;l<a.length;l++)for(var s=0,u=a[l]._filterPoints();s<u.length;s++){var _=u[s],p=_.xDimensionValue._value(),c=_._value(),h=null,f=_.queryInterface("INumberStackValue");null!=f&&(null==(h=f.previous)&&(h=0),c=f.value);var d=0;if(null!=p)for(var y=p-1;y>0;y--){var g=r._get(y);null!=g&&(d+=g)}h=(null==h?0:h)+d,c=(null==c?0:c)+d,_._setDimValue(i,h),_._setDimValue(n,c)}},n.prototype._percentage=function(t,e,n){},n.prototype.buildPlotLayout=function(e,n){return t._isBarCartesianPlotView(e)&&e._isWaterfall()?this:null},n}(t.models._CartesianPlotLayout);t._WaterfallPlotLayout=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.__number=t,this.__format=e,this.__stringFormatting=n,this._refresh()}return Object.defineProperty(t.prototype,"number",{get:function(){return this.__number},set:function(t){this.__number=t,this._refresh()},enumerable:!0,configurable:!0}),t.prototype._format=function(){return this.__format},t.prototype._stringFormatting=function(){return this.__stringFormatting},t.prototype._clone=function(){return new t(this.number,this._format(),this.__stringFormatting)},t.prototype._refresh=function(){null!=this.__stringFormatting?this.text=this.__stringFormatting.format(this.__format,this.number):this.text=this.number.toString()},t}();t._TextNumbericContent=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;i._definition=n;for(var o=t._data(),r=0,l=i._getLayoutViews();r<l.length;r++)l[r]._loadDataSlices(o._dataSlices);return i}return i(n,e),n.prototype._plotAreaView=function(){return this._pointView()._getPlotView()._getLayoutView()._getPlotAreaView()},n.prototype._pointView=function(){return this._ownerView},n.prototype._createLayoutViews=function(){for(var t=[],e=0,n=this._definition._layoutDefinitions;e<n.length;e++){var i=n[e],o=this._createLayoutView(this,i);null!=o&&t.push(o)}return t},n.prototype._layoutInnerContent=function(e,n,i){var o=new t._RenderContext;o._headerLabels=[],o._footerLabels=[],o._labels=[],o._axisLabels=[],o._legendsLabels=[];for(var r=0,l=this._getLayoutViews();r<l.length;r++)l[r]._layout(e,n,o);o._footerLabels=[],o._headerLabels=[],o._legendsLabels=[],o._axisLabels=[],o._labels=[]},n.prototype._renderInnerContent=function(e,n,i){var o=new t._RenderContext;o._headerLabels=[],o._footerLabels=[],o._labels=[],o._axisLabels=[],o._legendsLabels=[];for(var r=0,l=this._getLayoutViews();r<l.length;r++)l[r]._render(e,o);o._footerLabels=[],o._headerLabels=[],o._legendsLabels=[],o._axisLabels=[],o._labels=[]},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=null,r=this._getRectangle();if(null!=r&&r.contains(t))for(var l=0,a=this._getLayoutViews().slice().reverse();l<a.length;l++){var s=a[l];if(null!=(o=null!=s?s._hitTest(t,n,i):null))return o}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._getPlotAreaView=function(){return this._ownerView._getPlotView()._getLayoutView()._getPlotAreaView()},n.prototype._id=function(){return this._ownerView._id()},n}(t._BaseLayoutListView);t._PointLayoutListView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__overlap=!1,o._visible=!0,o._transform=null,o._zLevel=0,o._zIndex=0,o._ownerView=t,o.__getter=n,o.__lineOption=i,o}return i(n,e),n.prototype._lineStart=function(){return this._start},Object.defineProperty(n.prototype,"position",{get:function(){var t=this._rectangleShape();return null!=t?t.center:null},enumerable:!0,configurable:!0}),n.prototype.translate=function(t,e){if(null!=this.matrix){var n=this._transformInfo();n.connectionPoint.x+=t,n.connectionPoint.y+=e,this._layoutWithTransfromInfo(n)}},Object.defineProperty(n.prototype,"text",{get:function(){return this.__getter()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!0,configurable:!0}),n.prototype._getOverlap=function(){return this.__overlap},n.prototype._setOverlap=function(t){this.__overlap=t},n.prototype._rectangleShape=function(){if(null!=this.matrix){var e=t._MatrixUtility._matrixIdentify(this.matrix);return e!=this.__cachedInfo&&(this.__cachedInfo=e,this.__cachedShape=this._toShape()),this.__cachedShape}return null},n.prototype._defaultStrokeColor=function(){return null},n.prototype._initConnectLine=function(){var e=this.__lineOption;if(null!=e){var n=t._StyleUtility._buildStyle();n.stroke=this._defaultStrokeColor(),t._StyleUtility._applyLineStyleOption(n,e),this.__connectLineStyle=n}},n.prototype._getConnectLineStyle=function(){return this.__connectLineStyle},n.prototype._layoutLabel=function(t,e){this._layout(t,e),this.__cachedInfo=null,this._initConnectLine(),null!=this.__connectLineStyle&&(this.showConnectingLine=!0)},n.prototype._render=function(e,n){null!=this._attachmentAgent()&&n._renderLabel&&this._isVisible()&&(this._beforeRender(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._renderAnnotation(e,n),e.restoreTransform(),this._afterRender(e,n))},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._contain(e)){var o=new t.HitTestResult(e,this,this,t.ElementType.DataPointLabel);return null==i||null!=i&&i.predicate(o)?o:null}return null},Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),n.prototype._getOwnerView=function(){return this._ownerView},n.prototype._isVisible=function(){return this._visible},n.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._TemplateAnnotation);t.BaseLabelFrame=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,(function(){return e._dataLabel().text}),n)||this;return i.___pointView=e,i}return i(e,t),e.prototype._pointView=function(){return this.___pointView},Object.defineProperty(e.prototype,"parent",{get:function(){return this.___pointView},enumerable:!0,configurable:!0}),e.prototype._defaultStrokeColor=function(){return this.___pointView._getPointColor()},e.prototype._isVisible=function(){return!!this._pointView()._isVisible()&&this._visible},e}(t.BaseLabelFrame);t.DatalabelFrame=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__cachedTextMetricsResult=null,n.__text=t,n}return i(n,e),n._defaultBackgroundStyle=function(){return null==n.__defaultBackgroundStyle&&(n.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0,null,!1)),n.__defaultBackgroundStyle},n._defaultTextStyle=function(){return null==n.__defaultTextStyle&&(n.__defaultTextStyle=t._StyleUtility._buildStyle(),n.__defaultTextStyle.textFill="#666666",n.__defaultTextStyle.fontSize="16px"),n.__defaultTextStyle},n.prototype._paths=function(){return[t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._OverlayConstants.PathBalloon)]},n.prototype._textStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(n._defaultTextStyle());return t._StyleUtility._applyTextStyleOption(e,this.textStyle),e},n.prototype._backgroundStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(n._defaultBackgroundStyle());return t._StyleUtility._applyDataLabelStyleFromStyleOption(e,this.backgroundStyle),e},n.prototype._box=function(){return this.__box},n.prototype._junction=function(e,n){return null==this.__box?null:t._MatrixUtility._transformPoint(e,new t.core.Point(this._ballonWidth()/2,this._ballonHeight()))},n.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},n.prototype._refresh=function(e){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this.__text,Number.MAX_VALUE,t.TextOverflow.Wrap);this.__textSize=n.size.clone();var i=this._ballonWidth(),o=this._ballonHeight(),r=new t.core.Rect(0,0,i,o);n.size.width>i&&(r.left-=(n.size.width-i)/2,r.width=n.size.width),n.size.height>o&&(r.top-=(n.size.height-o)/2,r.height=n.size.height),this.__box=r;var l=this._ballonBBox(),a=this._ballonWidth()/l.width,s=this._ballonHeight()/l.height,u=new t.Matrix;u.scale(a,s),u.translate(-l.left,-l.top),this.__matrix=u,this.__invert=u.invert(),e.restoreTransform()},n.prototype._ballonWidth=function(){return 25},n.prototype._ballonHeight=function(){return 35},n.prototype._ballonCenter=function(){return new t.core.Point(12.5,12.5)},n.prototype._ballonBBox=function(){var e=t._OverlayConstants.PathBalloonBBox;return new t.core.Rect(e[0],e[1],e[2],e[3])},n.prototype._draw=function(e){if(null!=this.__matrix){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._OverlayConstants.PathBalloon);e.drawPath(n,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,null,this.__matrix),e.restoreTransform();var i=this._ballonCenter(),o=new t.core.Rect(i.x-this.__textSize.width/2,i.y-this.__textSize.height/2,this.__textSize.width,this.__textSize.height);e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this.__text,o,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},n.prototype._contain=function(n){var i=this._box();return null!=i&&n.x>=i.left&&n.x<i.right&&n.y>=i.top&&n.y<i.bottom&&(n=t._MatrixUtility._transformPoint(this.__invert,n),e.prototype._contain.call(this,n))},n}(t._PathPrototype);t._BalloonLabel=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.__pointerType=t.BubblePointerType.Bottom,i.__cachedTextMetricsResult=null,i.__text=n,i}return i(n,e),n._defaultBackgroundStyle=function(){return null==n.__defaultBackgroundStyle&&(n.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0)),n.__defaultBackgroundStyle},n._defaultTextStyle=function(){return null==n.__defaultTextStyle&&(n.__defaultTextStyle=t._StyleUtility._buildStyle(),n.__defaultTextStyle.textFill="#666666",n.__defaultTextStyle.fontSize="16px"),n.__defaultTextStyle},n.prototype._paths=function(){return[this.__path]},n.prototype._textStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(n._defaultTextStyle());return t._StyleUtility._applyTextStyleOption(e,this.textStyle),e},n.prototype._backgroundStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(n._defaultBackgroundStyle());return t._StyleUtility._applyDataLabelStyleFromStyleOption(e,this.backgroundStyle),e},n.prototype._box=function(){return new t.core.Rect(0,0,this.__size.width,this.__size.height)},n.prototype._setPointerType=function(e){var n=this.pointerSize.height;switch(e){case t.BubblePointerType.Left:this.__size.width+=n,this.__pointerType=t.BubblePointerType.Left;break;case t.BubblePointerType.Right:this.__size.width+=n,this.__pointerType=t.BubblePointerType.Right;break;case t.BubblePointerType.Top:this.__size.height+=n,this.__pointerType=t.BubblePointerType.Top;break;default:this.__size.height+=n,this.__pointerType=t.BubblePointerType.Bottom}},n.prototype._setPointerTypeWithIndex=function(e){var n=this._indexToPointType(e),i=this.pointerSize.height;switch(n){case t.BubblePointerType.Left:this.__size.width+=i,this.__pointerType=t.BubblePointerType.Left;break;case t.BubblePointerType.Right:this.__size.width+=i,this.__pointerType=t.BubblePointerType.Right;break;case t.BubblePointerType.Top:this.__size.height+=i,this.__pointerType=t.BubblePointerType.Top;break;default:this.__size.height+=i,this.__pointerType=t.BubblePointerType.Bottom}},n.prototype._indexToPointType=function(e){return 1==e?t.BubblePointerType.Top:2==e?t.BubblePointerType.Left:3==e?t.BubblePointerType.Right:t.BubblePointerType.Bottom},n.prototype._junction=function(e,n){if(null==this.__size)return null;if(null==this.junctionLayouter){this._setPointerType(t.BubblePointerType.Bottom);var i=this._box();return t._MatrixUtility._transformPoint(e,new t.core.Point(i.center.x,i.bottom))}return this.junctionLayouter._getJunction(e,n)},n.prototype._parseFontSize=function(t){var e=t.fontSize;return null==e?16:parseInt(e,10)},n.prototype._getBorderRadius=function(t){return.5*this._parseFontSize(t)},n.prototype._getPointerSize=function(e){var n=this._parseFontSize(e);return new t.core.Size(.25*n,.2*n)},n.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},n.prototype._refresh=function(e){if(this.__text.length<=0)return this.__textSize=new t.core.Size(0,0),void(this.__size=new t.core.Size(0,0));e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this.__text,Number.MAX_VALUE,t.TextOverflow.Wrap);this.__textSize=n.size.clone(),this.__size=n.size.clone();var i=this._backgroundStyle().strokeWidth;this.strokeWidth=i;var o=this._getPointerSize(e),r=this._getBorderRadius(e);r=Math.min(this.__size.height/2-o.width/2,r),this.__size.width+=2*i+2*r,this.__size.height+=2*i,this.pointerSize=o,this.__borderRadius=r,e.restoreTransform()},n.prototype._draw=function(e){if(null!=this.__size){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=e.strokeWidth,i=new t.core.Rect(n/2,n/2,this.__size.width-n,this.__size.height-n);i=this._drawBubble(e,i),e.restoreTransform();var o=this.__borderRadius;i=new t.core.Rect(i.left+n/2+o,i.top+n/2,this.__textSize.width,this.__textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this.__text,i,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},n.prototype._drawBubble=function(e,n){var i=n.clone(),o=this.pointerSize,r=n.center;switch(this.__pointerType){case t.BubblePointerType.Left:i.left+=o.height,i.width-=o.height,r.x=n.left;break;case t.BubblePointerType.Right:i.width-=o.height,r.x=n.right;break;case t.BubblePointerType.Top:i.top+=o.height,i.height-=o.height,r.y=n.top;break;default:i.height-=o.height,r.y=n.bottom}var l=this.__borderRadius,a=new t.core.Point(i.left,i.top+l);return a.x=i.left,a.y=i.top+l,this.__path=t._PathBuilder._defaultPathBuilder._buildPath().moveto(a.x,a.y),a.x=i.left+l,a.y=i.top,this.__path.quadraticBezierCurve(i.left,i.top,a.x,a.y),this.__pointerType===t.BubblePointerType.Top&&(a.x=r.x-o.width/2,this.__path.lineto(a.x,a.y),this.__path.lineto(r.x,r.y),a.x+=o.width,this.__path.lineto(a.x,a.y)),a.x=i.right-l,this.__path.lineto(a.x,a.y),a.x=i.right,a.y=i.top+l,this.__path.quadraticBezierCurve(i.right,i.top,a.x,a.y),this.__pointerType===t.BubblePointerType.Right&&(a.y=r.y-o.width/2,this.__path.lineto(a.x,a.y),this.__path.lineto(r.x,r.y),a.y+=o.width,this.__path.lineto(a.x,a.y)),a.y=i.bottom-l,this.__path.lineto(a.x,a.y),a.x=i.right-l,a.y=i.bottom,this.__path.quadraticBezierCurve(i.right,i.bottom,a.x,a.y),this.__pointerType===t.BubblePointerType.Bottom&&(a.x=r.x+o.width/2,this.__path.lineto(a.x,a.y),this.__path.lineto(r.x,r.y),a.x-=o.width,this.__path.lineto(a.x,a.y)),a.x=i.left+l,this.__path.lineto(a.x,a.y),a.x=i.left,a.y=i.bottom-l,this.__path.quadraticBezierCurve(i.left,i.bottom,a.x,a.y),this.__pointerType===t.BubblePointerType.Left&&(a.y=r.y+o.width/2,this.__path.lineto(a.x,a.y),this.__path.lineto(r.x,r.y),a.y-=o.width,this.__path.lineto(a.x,a.y)),this.__path.close(),e.drawPath(this.__path,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),i},n.prototype._contain=function(t){var n=this.__size;return t.x>=0&&t.x<n.width&&t.y>=0&&t.y<n.height&&e.prototype._contain.call(this,t)},n}(t._PathPrototype);t._BubbleLabel=e}(t||(t={})),function(t){var e=function(){function e(t){this.__cachedTextMetricsResult=null,this._text=t}return e._defaultBackgroundStyle=function(){return null==e.__defaultBackgroundStyle&&(e.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0)),e.__defaultBackgroundStyle},e._defaultTextStyle=function(){return null==e.__defaultTextStyle&&(e.__defaultTextStyle=t._StyleUtility._buildStyle(),e.__defaultTextStyle.textFill="#666666",e.__defaultTextStyle.fontSize="16px"),e.__defaultTextStyle},e.prototype._textStyle=function(){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(e._defaultTextStyle());return t._StyleUtility._applyTextStyleOption(n,this.textStyle),n},e.prototype._backgroundStyle=function(){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(e._defaultBackgroundStyle());return t._StyleUtility._applyDataLabelStyleFromStyleOption(n,this.backgroundStyle),n},e.prototype._refresh=function(e){if(this._text.length<=0)return this._textSize=new t.core.Size(0,0),void(this._size=new t.core.Size(0,0));e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this._text,Number.MAX_VALUE,t.TextOverflow.Clip),i=this._backgroundStyle().strokeWidth;this._textSize=n.size.clone(),this._size=n.size.clone(),this._size.width+=2*i,this._size.height+=2*i,e.restoreTransform()},e.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},e.prototype._renderRefresh=function(t){},e.prototype._box=function(){return new t.core.Rect(0,0,this._size.width,this._size.height)},e.prototype._draw=function(e){if(""!=this._text){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=e.strokeWidth,i=new t.core.Rect(n/2,n/2,this._size.width-n,this._size.height-n);e.drawRect(i.left,i.top,i.width,i.height),e.restoreTransform(),i=new t.core.Rect(n,n,this._textSize.width,this._textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this._text,i,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},e.prototype._contain=function(t){var e=this._size;return t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height},e.prototype._containStroke=function(t){return!1},e.prototype._junction=function(e,n){return null==this.junctionLayouter?t._MatrixUtility._transformPoint(e,this._box().center):this.junctionLayouter._getJunction(e,n)},e}();t._LabelShape=e}(t||(t={})),function(t){!function(t){t[t.Bottom=0]="Bottom",t[t.Top=1]="Top",t[t.Left=2]="Left",t[t.Right=3]="Right"}(t.BubblePointerType||(t.BubblePointerType={}))}(t||(t={})),function(t){var e=function(){function e(){}return e.NiceTimeSpan=function(n,i){var o=e.__second;null!=i&&(o=e._manualTimeInc(i));var r=0,l=0;if(o<e.__second&&n.TotalSeconds<10){for(r=n.Ticks,l=e._timeSpanFromTmInc(o).Ticks;r>10*l;)l*=10;var a=l;return r>a&&(a*=2),r>a&&(a=5*l),r>a&&(a=10*l),new t._TimeSpan(a)}if(0==(r=Math.ceil(n.TotalSeconds)))return e._timeSpanFromTmInc(o);if(l=1,o<e.__minute){if(r<e.__minute&&0!=(l=e._getNiceInc([1,2,5,10,15,30],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__minute}if(o<e.__hour){if(r<e.__hour&&0!=(l=e._getNiceInc([1,2,5,10,15,30],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__hour}if(o<e.__day){if(r<e.__day&&0!=(l=e._getNiceInc([1,3,6,12],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__day}if(o<e.__month){if(r<e.__month&&0!=(l=e._getNiceInc([1,2,7,14],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__month}if(o<e.__year){if(r<e.__year&&0!=(l=e._getNiceInc([1,2,3,4,6],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__year}return r<(l=100*e.__year)&&0==(l=e._getNiceInc([1,2,5,10,20,50],r,o))&&(l=100*e.__year),t._TimeSpan.fromSeconds(l)},e._timeSpanFromTmInc=function(n){var i=t._TimeSpan.fromSeconds(1);if(n!=e.__maxTime)if(n>-1)i=t._TimeSpan.fromSeconds(n);else{var o=n,r=1;for(o+=7;o>0;)r*=10,o--;i=new t._TimeSpan(r)}return i},e._manualTimeInc=function(n){var i=e.__second;if(null==n)return i;switch(n){case t.DateMode.MilliSecond:i=e.__milliSecond;break;case t.DateMode.Second:i=e.__second;break;case t.DateMode.Minute:i=e.__minute;break;case t.DateMode.Hour:i=e.__hour;break;case t.DateMode.Day:i=e.__day;break;case t.DateMode.Month:i=e.__month;break;case t.DateMode.Year:i=e.__year}return i},e._getNiceInc=function(t,e,n){for(var i=0;i<t.length;i++){var o=t[i]*n;if(e<=o)return o}return 0},e.__maxTime=Number.MAX_VALUE,e.__milliSecond=-3,e.__second=1,e.__minute=60*e.__second,e.__hour=60*e.__minute,e.__day=24*e.__hour,e.__month=31*e.__day,e.__year=365*e.__day,e}();t._TimeHelper=e}(t||(t={})),function(t){var e=function(){function t(t){this.__ticks=t}return Object.defineProperty(t.prototype,"Ticks",{get:function(){return this.__ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalSeconds",{get:function(){return this.__ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalDays",{get:function(){return this.__ticks/1e7/86400},enumerable:!0,configurable:!0}),t.fromSeconds=function(e){return new t(1e7*e)},t.fromDays=function(e){return new t(1e7*e*24*60*60)},t.TicksPerSecond=1e7,t}();t._TimeSpan=e}(t||(t={})),function(t){var e;(e=t.plugins||(t.plugins={})).PluginCollection.defaultPluginCollection.register(t._SvgRenderEngineBuilder._svgRenderEngineBuilder),e.PluginCollection.defaultPluginCollection.register(t._CanvasWithSvgMetricsRenderEngineBuilder._canvasWithSvgMetricsRenderEngineBuilder),e.PluginCollection.defaultPluginCollection.register(t.BoxSymbolDefinitionBuilder._boxSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.DashSymbolDefinitionBuilder._dashSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.DiamondSymbolDefinitionBuilder._diamondSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.DotSymbolDefinitionBuilder._dotSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.PlusSymbolDefinitionBuilder._plusSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.TriangleSymbolDefinitionBuilder._triangleSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t.XSymbolDefinitionBuilder._xSymbolDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(t._PointSelectionInteractionBuilder._pointSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._SeriesSelectionInteractionBuilder._seriesSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._LegendSelectionInteractionBuilder._legendSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CancelSelectionInteractionBuilder._cancelSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._AxisLabelSelectionInteractionBuilder._axisLabelSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._TooltipHoverInteractionBuilder._tooltipHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CategoryTrackerHoverInteractionBuilder._categoryTrackerHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._DataPointTrackerHoverInteractionBuilder._dataPointTrackerHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._PointHoverInteractionBuilder._PointHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._SeriesHoverInteractionBuilder._seriesHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._LegendHoverInteractionBuilder._legendHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._AxisLabelHoverInteractionBuilder._axisLabelHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._OverlayItemHoverInteractionBuilder._overlayItemHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CoordinateSystemZoomActivityHoverInteractionBuilder._coordinateSystemZoomActivityHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CoordinateSystemZoomDoubleClickInteractionBuilder._coordinateSystemDoubleClickZoomInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CoordinateSystemTranslationDraggingInteractionBuilder._coordinateSystemTranslationDraggingInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CoordinateSystemZoomWheelInteractionBuilder._coordinateSystemWheelZoomInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._CoordinateSystemZoomPinchInteractionBuilder._coordinateSystemPinchZoomInteractionBuilder)}(t||(t={})),function(t){t.plugins||(t.plugins={}),t.plugins.PluginCollection.defaultPluginCollection.register(t._ExcelAxisLabelLayoutPolicy.excelAxisLabelLayoutPolicy),t.plugins.PluginCollection.defaultPluginCollection.register(t._ExcelAxisLabelExpandPolicy.excelAxisLabelExpandPolicy)}(t||(t={})),function(t){var e=function(t,e){this.lowerY=t,this.upperY=e};t._YValueRange=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._LineAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._LineAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._XyCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._LineAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultLineAxisDefinitionBuilder=new e,e}();t._LineAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultLineAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n,i,o){return n._orientation==t.Orientation.Vertical?(n._isForwardDirection,new t._VerticalLineAxisView(e,n,i,o)):n._orientation==t.Orientation.Horizontal?(n._isForwardDirection,new t._HorizontalLineAxisView(e,n,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._LineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._PolygonalAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._PolygonalAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="PolygonalAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._PolygonalCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._PolygonalAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPolygonalAxisDefinitionBuilder=new e,e}();t._PolygonalAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPolygonalAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n,i,o){return n._orientation==t.Orientation.Vertical?new t._VerticalPolygonalAxisView(e,n,i,o):n._orientation==t.Orientation.Horizontal?new t._HorizontalPolygonalAxisView(e,n,i,o):null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._PolygonalAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._RadialAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._RadialAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="RadialAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._RadialCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._RadialAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultRadialAxisDefinitionBuilder=new e,e}();t._RadialAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultRadialAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n,i,o){return n._orientation==t.Orientation.Vertical?new t._VerticalCircleAxisView(e,n,i,o):n._orientation==t.Orientation.Horizontal?new t._HorizontalRadialAxisView(e,n,i,o):null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._RadialAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._TextAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._TextAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){return n._getCoordinateSystemType()===t._TextCategoriesCoordinateSystemDefinition._type?new t._TextAxisDefinition(e,i,t.Orientation.Horizontal):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultTextAxisDefinitionBuilder=new e,e}();t._TextAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultTextAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n,i,o){return n._orientation==t.Orientation.Horizontal?new t._TextCategoriesLineAxisView(e,n,i,o):null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._TextAxisViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(t){this.__plotView=t}return t.prototype._plotView=function(){return this.__plotView},t.prototype._layout=function(t,e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];this._layoutDataLabel(t,r,n)}},t.prototype._layoutDataLabel=function(t,e,n){e._layout(t,null,n)},t}();t._PlotDataLabelViewLayout=e}(t||(t={})),function(t){var e=function(){function e(e){this.cacheFailedPoints={},this.skipProcess=!1,this.__labelPosition=t.LabelPosition.NotSet,this.__dataLabelView=e,this.__lineWidth=e.getConnectingLineWidth(),this.__rotatedRectangle=new t._RectangleShape(0,0,0,0,0)}return e.prototype.getPrevious=function(t){var e=t.indexOf(this);return-1==e?null:0==e?t[t.length-1]:t[e-1]},e.prototype.getNext=function(t){var e=t.indexOf(this);return-1==e?null:e==t.length-1?t[0]:t[e+1]},e.prototype._getLabelPosition=function(){return this.__labelPosition},e.prototype._setLabelPosition=function(t){this.__labelPosition=t},e.prototype._checkOverlap=function(t,e){for(var n=0,i=t;n<i.length;n++)if(i[n].intersectsWith(e))return!0;return!1},e.prototype._getNormalizePoint=function(n,i,o){var r=this._startPoint,l=n*Math.cos(i),a=n*Math.sin(i);return l=e._normalizeValue(r.x+l,o),a=e._normalizeValue(r.y+a,o),new t.core.Point(l,a)},e.prototype._getRotatedRectangle=function(){return this.__rotatedRectangle},e.prototype._setRotatedRectangle=function(t){this.__rotatedRectangle=t},e.prototype._setSmartLabelPosition=function(e,n){var i,o=this._dataLabelView(),r=o._pointView(),l=o._measure(e,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size,a=o.__option.offset,s=o._position(),u=r._getRadius(),_=u,p=r._getCenter(),c=p.x,h=p.y,f=r._getSweep(),d=r._getStartAngle(),y=d+f/2,g=Math.sin(y),m=Math.cos(y),v=n.map((function(t){return t._getRotatedRectangle()})),w=new t.core.Point(c+m*_,h+g*_);if(this._startPoint=w,this.linePoints=null,s==t.TextPosition.Center||s==t.TextPosition.Auto){if(i=o.getDefaultLabelRectangle(s,p,y,_,l),!this._checkOverlap(v,i))return this._setLabelPosition(t.LabelPosition.Center),void this._setRotatedRectangle(i);s=t.TextPosition.Inside}if(s==t.TextPosition.Inside){if(_=u-a,i=o.getDefaultLabelRectangle(s,p,y,_,l),!this._checkOverlap(v,i))return this._setLabelPosition(t.LabelPosition.Inside),void this._setRotatedRectangle(i);s=t.TextPosition.Outside}_=u+a,i=o.getDefaultLabelRectangle(s,p,y,_,l);var b=y%t._Utility._PI2,S=w.clone();a>0&&(S=new t.core.Point(p.x+Math.cos(y)*_,p.y+Math.sin(y)*_)),this._updateLabelInformation(i,a,b,null,S),this._setLabelPosition(t.LabelPosition.Outside),this._saveLabelBasicInformation(u,d,f,y,l,a)},e.prototype._saveLabelBasicInformation=function(e,n,i,o,r,l){var a=t._Utility._PI2,s=o%a;s<0&&(s+=a);var u=new t._PieLabelInformation;u.startAngle=n%a,u.sweep=i,u.angle=s,u.radius=e,u.size=r.clone(),u.offset=l,this.__labelInfo=u,this.offsetRadius=l,this.labelAngle=s},e._getInformationForLabelWithLine=function(e,n,i,o,r,l){var a=o-Math.PI/2,s=o+Math.PI/2;for(o<0&&(n-=Math.PI);!t.LayoutHelper.isBetween(n,a,s);)n+=Math.PI;var u=r.x,_=r.y,p=l.horizontalLineWidth,c=e/2+p,h=new t.core.Point(u+c*Math.cos(n),_+c*Math.sin(n));return c=p,[h,[i,r,new t.core.Point(u+c*Math.cos(n),_+c*Math.sin(n))]]},e.prototype.needConnectingLines=function(){return this.__lineWidth>0},e.prototype.connectingLineWidth=function(){return this.__lineWidth},e.prototype._dataLabelView=function(){return this.__dataLabelView},e.prototype.angle=function(){return this.__labelInfo.angle},e.prototype.startAngle=function(){return this.__labelInfo.startAngle},e.prototype.endAngle=function(){return this.__labelInfo.startAngle+this.__labelInfo.sweep},e.prototype.offset=function(){return this.__labelInfo.offset},e.prototype.pieRadius=function(){return this.__labelInfo.radius},e.prototype._intersectsWithRotatedRectangle=function(e){return e.intersectsWith(this._getRotatedRectangle())||t.LayoutHelper._isRectangleShapeIntersectsWithLines(e,this.linePoints,this.connectingLineWidth())},e.prototype._intersectsWithRotatedRectangleAndLines=function(e,n,i){var o=this._getRotatedRectangle(),r=this.linePoints,l=this.connectingLineWidth();return o.intersectsWith(e)||t.LayoutHelper._isRectangleShapeIntersectsWithLines(o,n,i)||t.LayoutHelper._isRectangleShapeIntersectsWithLines(e,r,l)||t.LayoutHelper.__isLinesIntersect(n,i,r,l)},e.prototype._isIntersectWithViewRectangle=function(t,e){return t.points.some((function(t){return!e.contains(t)}))},e.prototype._isIntersectWithPiePieces=function(t,e,n){void 0===n&&(n=0);var i=this.pieRadius()+n,o=i*i,r=t.x,l=t.y;return e.points.some((function(t){var e=t.x-r;if(Math.abs(e)>=i)return!1;var n=t.y-l;return!(Math.abs(n)>=i)&&e*e+n*n<o}))},e.prototype._layoutMiddleItemPosition=function(e,n,i){if(this.needConnectingLines()){for(var o=this.angle(),r=this.__labelInfo.size,l=r.width,a=r.height,s=this._startPoint,u=Math.max(e.width,e.height),_=o-Math.PI/4,p=o+Math.PI/4,c=Math.min(l,a),h=null,f=null,d=c;d<u;d++)if(h=(y=this._getLabelPositionEx(this._getNormalizePoint(d,o,i.pointNormalizeUnit),d,o,n,e,i)).rotatedRectangle,!this._isIntersectWithPiePieces(n,h)&&!this._isIntersectWithViewRectangle(h,e)){if(t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(y.rotatedRectangle.center,s),_,p))return void this._updateLabelInformation(y.rotatedRectangle,d,o,y.linePoints,y.connectionPoint);f=y}if(null==f)for(d=1;d<c;d++){var y;if(h=(y=this._getLabelPositionEx(this._getNormalizePoint(d,o,i.pointNormalizeUnit),d,o,n,e,i)).rotatedRectangle,!this._isIntersectWithPiePieces(n,h)&&!this._isIntersectWithViewRectangle(h,e)){if(t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(y.rotatedRectangle.center,s),_,p))return void this._updateLabelInformation(y.rotatedRectangle,d,o,y.linePoints,y.connectionPoint);f=y}}null!=f&&this._setLabelInfo(f)}},e._normalizeValue=function(t,e){return Math.round(t/e)*e},e.prototype._getNextLocation=function(e,n,i,o,r){var l,a,s=n.radius,u=n.angle,_=this.angle(),p=e.angleRange/2,c=e.radiusStep,h=e.angleStep,f=_-p,d=_+p,y=Math.max(this.offset(),c);0==s&&(u=o?f:d);var g=!1;do{if(i&&(s+=c),!i||g){if(u+=(o?1:-1)*h,o&&u>d){if(g)return null;u=f,i||(s+=c)}else if(!o&&u<f){if(g)return null;u=d,i||(s+=c)}g=!1}var m=this._getNormalizePoint(s,u,e.pointNormalizeUnit);l=m.x,a=m.y,r.contains(m)||(i&&(s=y),g=!0)}while(g||l==n.point.x&&a==n.point.y);var v=new t._Location;return v.angle=u,v.radius=s,v.point=new t.core.Point(l,a),v},e.prototype._getLabelPositionEx=function(n,i,o,r,l,a){var s=this._dataLabelView(),u=this.__labelInfo,_=s._getRotateAngle(),p=this._startPoint,c=this.needConnectingLines(),h=u.size.width,f=u.size.height,d=null,y=null;if(c){var g=e._getInformationForLabelWithLine(h,_,p,o,n,a),m=g[0];y=new t._RectangleShape(m.x,m.y,h,f,_),d=g[1]}else y=s._getOutsideLabelRectangleByPoint(n,r,u.size,!1);var v=new t._LabelPositionInformation;return v.rotatedRectangle=y,v.linePoints=d,v.connectionPoint=n,v.radius=i,v.angle=o,v},e.prototype._updateLabelInformation=function(t,e,n,i,o){this._setRotatedRectangle(t),this.linePoints=i,this.offsetRadius=e,this.labelAngle=n,this.connectionPoint=o},e.prototype._backupLabelInformation=function(){this.__currentPosInfo=this._getCurrentLabelInformation()},e.prototype._getCurrentLabelInformation=function(){var e=new t._LabelPositionInformation;return e.rotatedRectangle=this._getRotatedRectangle(),e.linePoints=this.linePoints,e.radius=this.offsetRadius,e.angle=this.labelAngle,e.connectionPoint=this.connectionPoint,e},e.prototype._setLabelInfo=function(t){this._updateLabelInformation(t.rotatedRectangle,t.radius,t.angle,t.linePoints,t.connectionPoint)},e.prototype._restoreLabelInfo=function(t){if(!t&&null!=this.__currentPosInfo){var e=this.__currentPosInfo;this._updateLabelInformation(e.rotatedRectangle,e.radius,e.angle,e.linePoints,e.connectionPoint)}this.__currentPosInfo=null},e.prototype.validate=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++)if(!i[n].isValidPosition(this,e))return!1;return!0},e.prototype.intersectWith=function(t,e){for(var n=this.connectingLineWidth(),i=0,o=e;i<o.length;i++)if(o[i]._intersectsWithRotatedRectangleAndLines(t.rotatedRectangle,t.linePoints,n))return!0;return!1},e.prototype._getAngleForCheckOrder=function(e){var n=this.needConnectingLines();return t.LayoutHelper.__getAngleByPoints(n?this.connectionPoint:this._getRotatedRectangle().center,e)},e.prototype._isInOrder=function(e,n,i,o){for(var r=this.needConnectingLines(),l=t.LayoutHelper.__getAngleByPoints(r?e.connectionPoint:e.rotatedRectangle.center,i),a=0,s=n;a<s.length;a++){var u=s[a],_=Math.sin(l-u._getAngleForCheckOrder(i));if(0!=_&&o!=_>0)return!1}return!0},e}();t._RadialBarDataLabelViewEx=e}(t||(t={})),function(t){var e=function(){function e(e){if(null==e||e.length<=0)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__items=e;for(var n=0,i=0,o=e;i<o.length;i++){var r=o[i];n+=r._dataLabelView()._pointView()._getSweep(),r.group=this}this.__sweep=n,this.__startAngle=e[0].startAngle()}return e.prototype.sweep=function(){return this.__sweep},e.prototype.startAngle=function(){return this.__startAngle},e.prototype.angle=function(){return(this.__startAngle+this.__sweep/2)%t._Utility._PI2},e.prototype.items=function(){return this.__items},e.prototype.getItemsNeedConsiderCheck=function(){return this.__items.filter((function(t){return!t.skipProcess}))},e._getHalfItems=function(t,e){var n=t.length;if(n>1){var i=Math.floor((n+1)/2);return e?t.slice(0,i):t.slice(i)}return t.slice()},e.prototype._isOverlapWith=function(t,n){var i=this.getItemsNeedConsiderCheck().slice(),o=t.getItemsNeedConsiderCheck().slice();if(!n){var r=i;i=o,o=r}var l=e._getHalfItems(i,!1);l.reverse();for(var a=e._getHalfItems(o,!0),s=function(t){var e=t._getRotatedRectangle(),n=t.linePoints;if(a.some((function(i){return i._intersectsWithRotatedRectangleAndLines(e,n,t.connectingLineWidth())})))return{value:!0}},u=0,_=l;u<_.length;u++){var p=s(_[u]);if("object"==typeof p)return p.value}return!1},e.prototype.getNext=function(t){var e=t.indexOf(this);return-1==e?null:e==t.length-1?t[0]:t[e+1]},e.prototype.getPrevious=function(t){var e=t.indexOf(this);return-1==e?null:0==e?t[t.length-1]:t[e-1]},e._backupLabels=function(t){if(null!=t)for(var e=0,n=t;e<n.length;e++)n[e]._backupLabelInformation()},e._getLabelInformations=function(t){return null!=t?t.map((function(t){return t._getCurrentLabelInformation()})):[]},e._setLabelInfos=function(e,n){if(null==e||null==n||e.length!=n.length)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e);if(null!=e)for(var i=e.length,o=0;o<i;o++)e[o]._setLabelInfo(n[o])},e._restoreLabels=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++)i[n]._restoreLabelInfo(e)},e.prototype._layoutLabel=function(n,i,o,r,l,a,s,u,_){if(void 0===_&&(_=!1),l.length<=0)return!1;var p=(l=l.slice()).pop(),c=_;e._backupLabels(l);var h=[p.connectionPoint.x,p.connectionPoint.y].join("_");if(t._Util.hasKey(p.cacheFailedPoints,h)&&p.cacheFailedPoints[h])return!1;var f=[p];e._backupLabels(f);do{var d=this._positionLabel(n,i,o,p,_?!r:r,l,a,s,u,c);if(d.success)return!0;if(0==l.length)return!1;if(!d.canRetry){e._restoreLabels(f,!1);break}if(this._layoutLabel(n,i,o,r,l,a,s.concat(new t.PushGroupItemsCondition([p])),u))return!0;p.cacheFailedPoints[h]=!0,h=[p.connectionPoint.x,p.connectionPoint.y].join("_"),c=!0}while(l.length>0);p.cacheFailedPoints[h]=!0;for(var y=0,g=l;y<g.length;y++)g[y].cacheFailedPoints={};return e._restoreLabels(l,!1),!1},e._getValidateInformation=function(e,n,i,o,r){var l=new t._ValidateInformation;return l.posInfo=e,l.pieCenter=i,l.viewRect=n,l.layoutOption=r,l.clockwise=o,l},e.prototype._positionLabel=function(n,i,o,r,l,a,s,u,_,p){var c=[new t.ConnectionPointCondition,new t.OffsetCondition,new t.ViewRectangleCondition],h=new t._Location;h.point=r.connectionPoint,h.radius=r.offsetRadius,h.angle=r.labelAngle;for(var f=r._getNextLocation(o,h,_,l,n);null!=f;f=r._getNextLocation(o,f,_,l,n)){var d=f.radius,y=f.angle,g=r._getLabelPositionEx(f.point,d,y,i,n,o),m=e._getValidateInformation(g,n,i,l,o);if(r.validate(c,m)&&r.validate(s,m)&&r.validate(u,m)){if(u.length>0)return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(r.intersectWith(g,a)?t.PositionLabelResultCode.Overlap:t.PositionLabelResultCode.Success);if(r._isInOrder(g,a,i,l)){if(!r.intersectWith(g,a))return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.Success);if(p)return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.Overlap)}}}return t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.NoSpace,!1)},e.prototype._spreadHalfGroupLabels=function(t,n,i,o,r,l,a){var s;o=o.slice(),r||o.reverse();var u=[],_=[];null!=l&&_.push(l);for(var p=[],c=0,h=o;c<h.length;c++){var f=h[c];if(_.length>0&&!f.intersectWith(f._getCurrentLabelInformation(),_))_.push(f),u.push(f);else{e._backupLabels(u);var d=[];d=(d=d.concat(u)).concat(f),(s=this._positionLabel(t,n,i,f,r,u,a,[],!1,!1).success)||(e._backupLabels([f]),s=this._layoutLabel(t,n,i,!r,d,a,[],!1,!0),e._restoreLabels([f],s)),s?(_.push(f),u.push(f)):(f.skipProcess=!0,p.push(f)),e._restoreLabels(u,s)}}},e.prototype._spreadLabels=function(e,n,i){var o=this.items(),r=o.length;if(!(r<=1)){var l,a,s,u,_=null;if(r%2==1)(_=o[u=(r-1)/2])._layoutMiddleItemPosition(e,n,i),l=new t.MiddleLabelCondition(_),a=o.slice(0,u),s=o.slice(u+1);else{var p=o[(u=r/2)-1];p._layoutMiddleItemPosition(e,n,i),(p=o[u])._layoutMiddleItemPosition(e,n,i),l=new t.MiddleCondition(o[u].startAngle()),a=o.slice(0,u),s=o.slice(u)}this._spreadHalfGroupLabels(e,n,i,a,!1,_,[l]),this._spreadHalfGroupLabels(e,n,i,s,!0,_,[l,new t.PlacedGroupItemsCondition(a)])}},e.prototype._push=function(e,n,i,o,r,l,a){var s=this.getItemsNeedConsiderCheck(),u=s.length,_=s[o?0:u-1],p=_.labelAngle+(o?r:-r),c=i.angleRange/2,h=_.angle(),f=h-c,d=h+c;if(!t.LayoutHelper.__isFitAngle(p,f,d))return!1;var y=[new t.GroupBoundCondition(_.connectionPoint.clone(),r)];return o||y.push(new t.CheckGroupCondition(a)),s=s.slice(),o&&s.reverse(),this._layoutLabel(e,n,i,o,s,[],y.concat(l),!0)},e}();t._RadialBarDataLabelViewExGroup=e}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._layout=function(e,n,i){var o=this._cartesianPlotView();if(o._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Polygonal&&o._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Radial)throw new t.AssertError(t.ErrorCode.UnexpectedValue,o._getDefinition()._plotConfigOption.axisMode);n.sort((function(t,e){var n=e,i=t._pointView(),o=n._pointView();return i._getSweep()-o._getSweep()}));for(var r=0,l=n;r<l.length;r++){var a=l[r];this._layoutDataLabel(e,a,i)}},n.prototype._cartesianPlotView=function(){return e.prototype._plotView.call(this)},n.prototype._layoutDataLabel=function(t,n,i){n._pointView()._isVisible()&&e.prototype._layoutDataLabel.call(this,t,n,i)},n}(t._PlotDataLabelViewLayout);t._RadialPlotDataLabelViewLayout=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.__viewRect=t._rectangle(),n.__layoutOption=n._initLayoutOption(),n}return i(n,e),n.prototype._initLayoutOption=function(){var e=Math.PI/180,n=new t._LabelLayoutInfo;return n.angleStep=2*e,n.pushAngleStep=5*e,n.angleRange=135*e,n.radiusStep=3,n.pointNormalizeUnit=1,n.horizontalLineWidth=5,n},n.prototype._viewRect=function(){return this.__viewRect},n.prototype._pieCenter=function(){return this.__viewRect.center},n.prototype._layout=function(t,e,n){e.sort((function(t,e){var n=e,i=t._pointView(),o=n._pointView();return i._getSweep()-o._getSweep()}));for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createDataLabelViewEx(l);null!=a&&(i.push(a),a._setSmartLabelPosition(t,i))}var s=this._getSortedOutsideLabels(i);this._overlapOutsideLabelViewExs(s),this._layoutLabelViewExs(t,i,n)},n.prototype._createDataLabelViewEx=function(e){return e._pointView()._isVisible()?new t._RadialBarDataLabelViewEx(e):null},n.prototype._getSortedOutsideLabels=function(e){var n=e.filter((function(e){return e._getLabelPosition()==t.LabelPosition.Outside}));return n.sort((function(t,e){return t.angle()-e.angle()}))},n.prototype._layoutTwoGroups=function(e,n,i,o){var r,l,a,s=!0,u=e.items().length,_=n.items().length;u<_||u==_&&e.sweep()<n.sweep()?(r=e,l=n,a=!1):(r=n,l=e,a=s);var p,c=!0,h=!0,f=1,d=o.angleRange,y=null,g=null,m=!0,v=!0;do{if((p=f*o.pushAngleStep)>d)break;if(m){t._RadialBarDataLabelViewExGroup._backupLabels(r.items());var w=v?[]:[new t.PushGroupItemsCondition(l.items())];if(c=r._push(this._viewRect(),this._pieCenter(),o,a,p,w,r.getPrevious(i))){if(!e._isOverlapWith(n,s))break;y=t._RadialBarDataLabelViewExGroup._getLabelInformations(r.items())}else m=!1,v&&null!=y&&t._RadialBarDataLabelViewExGroup._setLabelInfos(r.items(),y)}if(v){t._RadialBarDataLabelViewExGroup._backupLabels(l.items());var b=m?[]:[new t.PushGroupItemsCondition(r.items())];if(h=l._push(this._viewRect(),this._pieCenter(),o,!a,p,b,l.getPrevious(i))){if(!e._isOverlapWith(n,s))break;g=t._RadialBarDataLabelViewExGroup._getLabelInformations(l.items())}else v=!1,m&&null!=g&&t._RadialBarDataLabelViewExGroup._setLabelInfos(l.items(),g)}m&&t._RadialBarDataLabelViewExGroup._restoreLabels(r.items(),!1),v&&t._RadialBarDataLabelViewExGroup._restoreLabels(l.items(),!1),f++}while(m||v);var S=c||h;t._RadialBarDataLabelViewExGroup._restoreLabels(r.items(),S),t._RadialBarDataLabelViewExGroup._restoreLabels(l.items(),S)},n.prototype._overlapOutsideLabelViewExs=function(t){for(var e=this._generateGroups(t),n=this._viewRect(),i=this._pieCenter(),o=e.slice(),r=0,l=e;r<l.length;r++)(p=l[r])._spreadLabels(n,i,this.__layoutOption);if(e.length>1)for(var a=null,s=[],u=0,_=s=(s=s.concat(e)).concat(e[0]);u<_.length;u++){var p=_[u];null!=a&&a._isOverlapWith(p,!0)&&this._layoutTwoGroups(a,p,o,this.__layoutOption),a=p}},n.prototype._layoutLabelViewExs=function(e,n,i){for(var o=0,r=n;o<r.length;o++){var l=r[o];l._dataLabelView().linePoints=l.linePoints;var a=l._getRotatedRectangle();l._dataLabelView()._setTextAngle(a.angle),l._dataLabelView()._setTextLocation(a.center);var s=new t.core.Rect(a.center.x-a.size.width/2,a.center.y-a.size.height/2,a.size.width,a.size.height);l._dataLabelView()._layout(e,s,i)}},n._intersectsWith=function(t,e){return t._getRotatedRectangle().intersectsWith(e._getRotatedRectangle())},n.prototype._generateGroups=function(e){var i=e.length,o=[];if(i>1){for(var r=void 0,l=[],a=0;a<i;a++)r=e[a],l.push(r),n._intersectsWith(r,r.getNext(e))||(o.push(new t._RadialBarDataLabelViewExGroup(l)),l=[]);if(l.length>0){if(!(o.length>0))return[new t._RadialBarDataLabelViewExGroup(e)];l=l.concat(o[0].items()),o[0]=new t._RadialBarDataLabelViewExGroup(l)}}else i>0&&o.push(new t._RadialBarDataLabelViewExGroup(e));return o},n}(t._RadialPlotDataLabelViewLayout);t._PiePlotDataLabelViewLayout=e}(t||(t={})),function(t){var e=function(){function e(t){this.___overlappingLabels=t}return e.prototype._render=function(e,n,i){t._DataLabelOverlapChecker.checkOverlap(i,n,this.___overlappingLabels);for(var o=0,r=n;o<r.length;o++){var l=r[o];l._getOverlap()||this._renderDataLabel(e,i,l)}},e.prototype._renderDataLabel=function(t,e,n){n._pointView()._isVisible()&&n._render(t,e)},e}();t._DataLabelsRender=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t._dataPointDataLabelOption().overlappingLabels)||this;return n._plotView=t,n}return i(n,e),n._from=function(e){return t._isCartesianPlotView(e)?new n(e):null},n.prototype._render=function(n,i,o){var r=null;if(this._plotView._axisMode()==t.AxisMode.Cartesian){var l=this._plotView,a=l._horizontalAxisView(),s=l._verticalAxisView();null!=a&&null!=s&&(r=new t.core.Rect(a._rectangle().left,s._rectangle().top,a._rectangle().width,s._rectangle().height))}o._dataLabelClipRectangle=r,e.prototype._render.call(this,n,i,o),o._dataLabelClipRectangle=null},n}(t._DataLabelsRender);t._CartesianDataLabelsRender=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._from=function(e){return t._isLineCartesianPlotView(e)||t._isAreaCartesianPlotView(e)||t._isScatterCartesianPlotView(e)?new n(e):null},n.prototype._renderDataLabel=function(t,e,n){n._render(t,e)},n}(t._CartesianDataLabelsRender);t._CartesianSymbolDataLabelsRender=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._from=function(e){return t._isBarCartesianPlotView(e)?new n(e):null},n.prototype._isRadialBar=function(){return this._plotView._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Polygonal||this._plotView._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Radial},n.prototype._sortBySweep=function(t){t.sort((function(t,e){var n=e,i=t._pointView(),o=n._pointView();return i._getSweep()-o._getSweep()}))},n.prototype._render=function(n,i,o){this._isRadialBar()?this._sortBySweep(i):this.___overlappingLabels===t.OverlappingLabels.Auto&&(this.___overlappingLabels=t.OverlappingLabels.Show),e.prototype._render.call(this,n,i,o)},n}(t._CartesianDataLabelsRender);t._BarDataLabelsRender=e}(t||(t={})),t||(t={}),function(t){t._isSymbolPointView=function(t){var e=t;return null!=e&&void 0!==e.defaultShape&&"function"==typeof e._symbolDefinition&&"function"==typeof e._symbol}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t){var e=n.call(this)||this;return e.__plotDefinition=t,e}return i(o,n),o.prototype._buildLegendDataModel=function(n,i){return t._isCartesianPlotDefinition(this.__plotDefinition)?new t._EmptyColorLegendDataModel(n,new e.CartesianLegendAdopter):null},o}(e._LegendDataModelBuilder),e._CartesianEmptyColorLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){return null!=e&&t._isCustomLegendEncodingDefinition(e)?new t._CustomValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter):null},n}(e._LegendDataModelBuilder),e._CustomLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){return null!=e&&t._isValuesNameLegendEncodingDefinition(e)?new t._ValuesNameDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter):null},n}(e._LegendDataModelBuilder),e._ValuesNameLegendBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o,r){var l=t.call(this,e,n,r)||this;return l.key=o,l.rule=i,l}return i(e,t),e.prototype._dataPointKey=function(){return e._generateKey(this.key)},e._generateKey=function(t){return t},e}(t._ItemizedPointLegendItemDataModel),e._CustomItemizedValuePointLegendItem=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return i(e,t),e}(t._DataPointItemizedLegendDataModel);t._CustomValueDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInCustomLegendItemRuleBuilders=function(){return null==n.__buildInCustomLegendItemRuleBuilders&&(n.__buildInCustomLegendItemRuleBuilders=new n([],n._pluginType)),n.__buildInCustomLegendItemRuleBuilders},n.prototype._convert=function(e){return t._isCustomLegendItemRuleBuilder(e)?e:null},n.prototype._rule=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildRule(t);if(null!=r)return r}return null},n._pluginType="LegendItemRule",n}(t._BuildInObjectCollection);t._BuildInCustomLegendItemRuleBuilderCollection=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isCustomLegendItemRuleBuilder=function(t){return null!=t.buildRule}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="LegendItemRule",this.type=t._BuildInCustomLegendItemRuleBuilderCollection._pluginType,this.priority=0}return Object.defineProperty(n.prototype,"ruleType",{get:function(){return"Decrease"},enumerable:!0,configurable:!0}),n.prototype.conformity=function(n){if(t._isCartesianPointDataModel(n)){var i=e._CartesianSupport.getStackYValue(n);if(null!=i){var o=null==i.value?0:i.value;return null!=i.previous?o<i.previous:o<0}}return!1},n.prototype.buildRule=function(t){return t===this.ruleType?this:null},n.prototype.queryInterface=function(t){return"ICustomLegendItemRule"==t||"ICustomLegendItemRuleBuilder"==t||"IPlugin"==t?this:null},n}(),e._DecreaseRule=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="LegendItemRule",this.type=t._BuildInCustomLegendItemRuleBuilderCollection._pluginType,this.priority=0}return Object.defineProperty(n.prototype,"ruleType",{get:function(){return"Increase"},enumerable:!0,configurable:!0}),n.prototype.conformity=function(n){if(t._isCartesianPointDataModel(n)){var i=e._CartesianSupport.getStackYValue(n);if(null!=i){var o=null==i.value?0:i.value;return null!=i.previous?o>=i.previous:o>=0}}return!1},n.prototype.buildRule=function(t){return t===this.ruleType?this:null},n.prototype.queryInterface=function(t){return"ICustomLegendItemRule"==t||"ICustomLegendItemRuleBuilder"==t||"IPlugin"==t?this:null},n}(),e._IncreaseRule=n}(t||(t={})),function(t){var e=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,null,n)||this}return i(e,t),e.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},e.prototype.queryInterface=function(e){return"IColorLegend"===e?this:t.prototype.queryInterface.call(this,e)},e}(t._SingleLegendDataModel);t._EmptyColorLegendDataModel=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o,r){var l=t.call(this,e,null==o?n:n+" - "+o,r)||this;return l.__valuesName=n,l.__key=i,l}return i(e,t),e.prototype._valuesName=function(){return this.__valuesName},e.prototype._key=function(){return this.__key},e.prototype._dataPointKey=function(){return e._generateKey(this.__valuesName,this.__key)},e._generateKey=function(t,e){return null==e?t:t+"-"+e},e}(t._ItemizedPointLegendItemDataModel),e._ItemizedValuesNameLegendItem=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return i(e,t),e}(t._DataPointItemizedLegendDataModel);t._ValuesNameDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._generateKey=function(t,e){return t+"_"+e},n.prototype._setUp=function(){for(var e=[],n=this._plotAreaView._getDefinition()._plotAreaOption.plugins,i=this._plotAreaView._getDefinition()._pluginCollection,o=this._definition._getCustomLegendItems(),r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),l=0,a=o;l<a.length;l++){var s=a[l],u=this._generateKey(s.title,s.ruleType),_=t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(s.ruleType,n,i);(y=new t.models._CustomItemizedValuePointLegendItem(this._legend,s.title,_,u,r))._setSymbol(this._getLegendSymbol()),e.push(y)}for(var p=0,c=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,n,i)._getPointViews(this._plotAreaView,this._legend);p<c.length;p++)for(var h=c[p],f=0,d=e;f<d.length;f++){var y;if((y=d[f]).rule.conformity(h._data())){u=y._dataPointKey();var g=this._legend._dataPointKeysMap._get(u);null==g&&(g=[],this._legend._dataPointKeysMap._set(u,g)),g.push(h);break}}var m=this._legend.__items;m.push.apply(m,e)},n.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._applyColor=function(e){this._sortItems();for(var n=0,i=this._legend.__items;n<i.length;n++){var o=i[n];if(o instanceof t.models._CustomItemizedValuePointLegendItem){var r=this._getColorProvider()._colorWithValue(o.key);null==r&&(r=this._getColor(e)),o._updateColor(r)}else o._updateColor(this._getColor(e))}},n.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition;if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),s=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],s=null!=s?s:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(s.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(t,e){var n=t,i=e;return n.key==i.key?0:null==n.key?1:null==i.key?-1:n.key.toLowerCase().localeCompare(i.key.toLowerCase())}));n._isAscending||i.reverse()}},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n}(t._ItemizedLegendInitializer);t.CustomLegendInitializer=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._setUp=function(){},e.prototype._apply=function(){this._adopterApply(this._plotAreaView)},e}(t._LegendInitializer);t._EmptyLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._setUp=function(){for(var e=this,n=[],i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),o=this._definition,r=0,l=this._getRelatedPlot(this._plotAreaView,o);r<l.length;r++){var a=l[r];null!=a&&null!=o&&a._traverseCartesianGroupView((function(r){for(var l=0,a=r._getCartesianSeriesViews();l<a.length;l++)for(var s=a[l],u=s.valueDefinition,_=0,p=s._getPointViews();_<p.length;_++){var c=p[_],h=null;if(0!=c._data()._dataSlices._length){var f=null;null!=o._dataFieldDefinitions&&o._dataFieldDefinitions.length>0&&(h=""+(f=t._DataSlicesAggregate._defaultAggregate._aggregate(c._data()._dataSlices,o._dataFieldDefinitions[0]._dataField,t.Aggregate.List)));var d=t.models._ItemizedValuesNameLegendItem._generateKey(u,h),y=e._legend._dataPointKeysMap._get(d);if(null==y){y=[],e._legend._dataPointKeysMap._set(d,y);var g=e._suffixGetter(f,o),m=new t.models._ItemizedValuesNameLegendItem(e._legend,u,h,g,i);n.push(m),m._setSymbol(e._getLegendSymbol())}y.push(c)}var v=t.models._ItemizedValuesNameLegendItem._generateKey(u,h),w=e._legend._dataPointKeysMap._get(v);null==w&&(w=[]),w.push(c)}}))}var s=this._legend.__items;s.push.apply(s,n)},n.prototype._apply=function(){this._sortItems(),this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._getRelatedPlot=function(e,n){for(var i=[],o=0,r=e._plotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=l;a._getDefinition()===n._plotDefinition&&i.push(a)}}return i},n.prototype._suffixGetter=function(t,e){if(null!=e._dataFieldDefinitions&&e._dataFieldDefinitions.length>0){var n=e._dataFieldDefinitions[0]._format;return this._getStringByFormat(t,n)}return null},n.prototype._getStringByFormat=function(e,n){var i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection);return null!=i&&null==n&&(t._AnyTypeUtility._isNumber(e)?n=i.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(e)&&(n=i.defaultFormat(t.core.DataType.Date,!1))),i.format(n,e)},n.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition;if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),s=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],s=null!=s?s:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(s.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){var i=e,o=n;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(i._valuesName(),o._valuesName())}));n._isAscending||i.reverse()}},n.prototype._applyColor=function(t){for(var e=0,n=this._groupingItems();e<n.length;e++){var i=n[e];if(i.length>0)for(var o=this._getColor(t),r=0,l=i.length;r<l;++r)i[r]._updateColor(this._tintColor(o,r,l))}},n.prototype._groupingItems=function(){for(var t={},e=[],n=0,i=this._legend.__items;n<i.length;n++){var o=i[n];if(null==o._key())e.push([o]);else{var r=o._valuesName();null==t[r]&&(t[r]=[],e.push(t[r])),t[r].push(o)}}return e},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._tint(e,n/i):e},n}(t._ItemizedLegendInitializer);t._ValuesNameLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._generateKey=function(t,e){return t+"_"+e},n.prototype._setUp=function(){for(var e=[],n=this._plotAreaView._getDefinition()._plotAreaOption.plugins,i=this._plotAreaView._getDefinition()._pluginCollection,o=this._definitions[0],r=o._getCustomLegendItems(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,o._plotDefinition._pluginCollection),a=0,s=r;a<s.length;a++){var u=s[a],_=this._generateKey(u.title,u.ruleType),p=t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(u.ruleType,n,i);(g=new t.models._CustomItemizedValuePointLegendItem(this._mergedLegend,u.title,p,_,l))._setSymbol(this._getLegendSymbol()),e.push(g)}for(var c=0,h=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,n,i)._getPointViews(this._plotAreaView,this._mergedLegend);c<h.length;c++)for(var f=h[c],d=0,y=e;d<y.length;d++){var g;if((g=y[d]).rule.conformity(f._data())){_=g._dataPointKey();var m=this._mergedLegend._dataPointKeysMap._get(_);null==m&&(m=[],this._mergedLegend._dataPointKeysMap._set(_,m)),m.push(f);break}}var v=this._mergedLegend.__items;v.push.apply(v,e)},n.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._applyColor=function(t){this._sortItems();for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null==o&&(o=this._getColor(t)),i._updateColor(o)}},n.prototype._sortItems=function(){var e=this,n=this._definitions[0]._sortDefinition;if(null!=n){var i=this._mergedLegend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(t,e){return t.key==e.key?0:null==t.key?1:null==e.key?-1:t.key.toLowerCase().localeCompare(e.key.toLowerCase())}));n._isAscending||i.reverse()}},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n}(t._MergedItemizedLegendInitializer);t._MergedCustomLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._setUp=function(){for(var e=this,n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection),i=this._definitions,o=[],r=function(i){for(var r=i,a=0,s=l._getRelatedPlot(l._plotAreaView,r);a<s.length;a++){var u=s[a];null!=u&&null!=r&&u._traverseCartesianGroupView((function(i){for(var l=0,a=i._getCartesianSeriesViews();l<a.length;l++)for(var s=a[l],u=s.valueDefinition,_=0,p=s._getPointViews();_<p.length;_++){var c=p[_],h=null;if(0!=c._data()._dataSlices._length){var f=null;null!=r._dataFieldDefinitions&&r._dataFieldDefinitions.length>0&&(h=""+(f=t._DataSlicesAggregate._defaultAggregate._aggregate(c._data()._dataSlices,r._dataFieldDefinitions[0]._dataField,t.Aggregate.List)));var d=t.models._ItemizedValuesNameLegendItem._generateKey(u,h),y=e._mergedLegend._dataPointKeysMap._get(d);if(null==y){y=[],e._mergedLegend._dataPointKeysMap._set(d,y);var g=e._suffixGetter(f,r),m=new t.models._ItemizedValuesNameLegendItem(e._mergedLegend,u,h,g,n);o.push(m),m._setSymbol(e._getLegendSymbol())}y.push(c)}var v=t.models._ItemizedValuesNameLegendItem._generateKey(u,h),w=e._mergedLegend._dataPointKeysMap._get(v);null==w&&(w=[]),w.push(c)}}))}},l=this,a=0,s=i;a<s.length;a++)r(s[a]);var u=this._mergedLegend.__items;u.push.apply(u,o)},n.prototype._apply=function(){this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},n.prototype._getRelatedPlot=function(e,n){for(var i=[],o=0,r=e._plotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=l;a._getDefinition()===n._plotDefinition&&i.push(a)}}return i},n.prototype._suffixGetter=function(t,e){if(null!=e._dataFieldDefinitions&&e._dataFieldDefinitions.length>0){var n=e._dataFieldDefinitions[0]._format;return this._getStringByFormat(t,n)}return null},n.prototype._getStringByFormat=function(e,n){var i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection);return null!=i&&null==n&&(t._AnyTypeUtility._isNumber(e)?n=i.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(e)&&(n=i.defaultFormat(t.core.DataType.Date,!1))),i.format(n,e)},n.prototype._applyColor=function(t){for(var e=0,n=this._groupingItems();e<n.length;e++){var i=n[e];if(i.length>0)for(var o=this._getColor(t),r=0,l=i.length;r<l;++r)i[r]._updateColor(this._tintColor(o,r,l))}},n.prototype._groupingItems=function(){for(var t={},e=[],n=0,i=this._mergedLegend.__items;n<i.length;n++){var o=i[n];if(null==o._key())e.push([o]);else{var r=o._valuesName();null==t[r]&&(t[r]=[],e.push(t[r])),t[r].push(o)}}return e},n.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._tint(e,n/i):e},n.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},n}(t._MergedItemizedLegendInitializer);t._MergedValuesNameLegendInitializer=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedCustomLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedValuesNameLegendDataModel=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._apply=function(n,i){if(t._isDataPointItemizedLegendDataModel(i)){var o=i;this._useItemizedPointLegend(o)}else if(t._isLinearLegendDataModel(i))for(var r=i,l=0,a=r._findRelatedPlotViews(n);l<a.length;l++){var s=a[l];t._isCartesianPlotView(s)&&this._applyLinearColorPointLegend(n._getDefinition(),s,r)}else if(i instanceof t._LightnessLegendDataModel)for(var u=0,_=i._findRelatedPlotViews(n);u<_.length;u++)s=_[u],t._isCartesianPlotView(s)&&this._applyLightnessLegend(n._getDefinition(),s,i);var p=i.queryInterface("IColorLegend");if(null!=p){var c=p._getColorIterator(n);null!=c&&new e._CartesianSeriesColorApplier(c)._apply(i._findRelatedPlotViews(n))}},n.prototype._useItemizedPointLegend=function(e){for(var n=t._LegendUtility._isType(e,t.LegendType.Color),i=t._LegendUtility._isType(e,t.LegendType.Shape),o=t._LegendUtility._isType(e,t.LegendType.Size),r=t._LegendUtility._isType(e,t.LegendType.BackgroundColor),l=0,a=e._items();l<a.length;l++){var s=a[l];if(s instanceof t._ItemizedPointLegendItemDataModel){var u=e._dataPointKeysMap._get(s._dataPointKey());if(null!=u)for(var _=0,p=u;_<p.length;_++){var c=p[_];n&&c._updateLegendColor(s._color()),i&&c._updateLegendShape(s._shape),o&&c._updateLegendSize(s._size),r&&c._updateLegendBackgroundColor(s._color())}}}},n.prototype._applyLinearColorPointLegend=function(e,n,i){t._LegendUtility._isType(i,t.LegendType.Color)&&n._traverseCartesianGroupView((function(e){for(var n=0,o=e._getCartesianSeriesViews();n<o.length;n++){var r=o[n];r._getCartesianSeriesDataModel()._setGradientColorScale(i._linearScale());for(var l=0,a=r._getPointViews();l<a.length;l++){var s=a[l];if(t._isNumbericLegendEncodingDefinition(i._getDefinition())){var u=i._getDefinition(),_=t._DataSlicesAggregate._defaultAggregate._aggregate(s._data()._dataSlices,u._fieldDefinition()._dataField,u._aggregate()),p=i._getColorProvider()._colorWithValue(_);null==p&&(p=i._getColorByPoint(s)),s._updateLegendColor(p)}}}}))},n.prototype._applyLightnessLegend=function(e,n,i){t._LegendUtility._isType(i,t.LegendType.Lightness)&&n._traverseCartesianGroupView((function(t){for(var e=0,n=t._getCartesianSeriesViews();e<n.length;e++)for(var o=0,r=n[e]._getPointViews();o<r.length;o++){var l=r[o],a=i._getLightnessByPoint(l);null!=a&&l._updateLegendLightness(a)}}))},n}(),e.CartesianLegendAdopter=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this.__identifys=[],this.__colorIterator=t}return n.prototype._apply=function(n){for(var i=this,o=0,r=n;o<r.length;o++){var l=r[o];t._isCartesianPlotView(l)&&l._traverseCartesianGroupView((function(t){for(var n=0,o=t._getCartesianSeriesViews();n<o.length;n++){var r=o[n];if(0!=r._getCartesianSeriesDataModel()._points().length&&null==r.color&&null==r._getCartesianSeriesDataModel()._getGradientColorScale()&&null==i._findIdentify(r._getCartesianSeriesDataModel())){var l=new e._CartesianSeriesIdentify(r._getCartesianSeriesDataModel());i.__identifys.push(l)}}}))}for(var a=0,s=this.__identifys;a<s.length;a++)s[a]._updateColor(this._getColor());if(this.__identifys.length>0)for(var u=0,_=n;u<_.length;u++)l=_[u],t._isCartesianPlotView(l)&&l._traverseCartesianGroupView((function(t){for(var e=0,n=t._getCartesianSeriesViews();e<n.length;e++){var o=n[e];if(0!=o._getCartesianSeriesDataModel()._points().length&&null==o.color&&null==o._getCartesianSeriesDataModel()._getGradientColorScale()){var r=i._findIdentify(o._getCartesianSeriesDataModel());null!=r&&(o.color=r._color())}}}))},n.prototype._getColor=function(){return this._getColorIterator()._next(!0)},n.prototype._getColorIterator=function(){return this.__colorIterator},n.prototype._findIdentify=function(t){for(var e=0,i=this.__identifys;e<i.length;e++){var o=i[e];if(n._areSeriesEqual(o._series(),t))return o}return null},n._areSeriesEqual=function(t,e){if(t==e)return!0;if(t._plot()._definition()._plotOption.type!=e._plot()._definition()._plotOption.type)return!1;var n=t._group()._x(),i=e._group()._x();if(null!=n&&null!=i){var o=n._definition(),r=i._definition();if(null!=o&&null!=r){if(!o.equalsWith(r))return!1}else if(null!=o||null!=r)return!1}else if(null!=n||null!=i)return!1;var l=t._group()._y(),a=e._group()._y();if(null!=l&&null!=a){var s=l._definition(),u=a._definition();if(null!=s&&null!=u){if(!s.equalsWith(u))return!1}else if(null!=s||null!=u)return!1}else if(null!=l||null!=a)return!1;var _=t._detailDimension(),p=e._detailDimension();if(null!=_&&null!=p){if(!_._equalsWith(p))return!1}else if(null!=_||null!=p)return!1;return!0},n}(),e._CartesianSeriesColorApplier=n}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__series=t}return t.prototype._color=function(){return this.__color},t.prototype._updateColor=function(t){this.__color!=t&&(this.__color=t)},t.prototype._series=function(){return this.__series},t}();t._CartesianSeriesIdentify=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(n){return void 0===n&&(n=null),e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),n)||this}return i(n,e),n.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},n.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._CartesianLegendSymbolLib._getSameColor(this)),this.__sameColor},n}(t._LegendSymbolView);t._CartesianScatterLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(n){return e.call(this,n,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),t._CartesianAreaLegendSymbolStyleBuilder._cartesianAreaLegendSymbolStyleBuilder())||this}return i(n,e),n.prototype._showSymbol=function(){return null==this.__seriesSymbols?e.prototype._showSymbol.call(this):this.__seriesSymbols},n.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._CartesianLegendSymbolLib._getSameColor(this)),this.__sameColor},n.prototype._applyOther=function(){if(this.__seriesSymbols=null,!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e),this.__seriesSymbols=e.symbols)}},n}(t._AreaLegendSymbolView);t._CartesianAreaLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(){return e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder())||this}return i(n,e),n.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._CartesianLegendSymbolLib._getSameColor(this)),this.__sameColor},n.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},n}(t._BoxLegendSymbolView);t._CartesianBarLegendSymbol=e}(t||(t={})),function(t){var e=function(){function e(){}return e._applySeriesStyle=function(e){var n=e._legendItemView()._data._legend;if(t._isDataPointItemizedLegendDataModel(n)){for(var i=null,o=null,r=!0,l=0,a=e._legendItemView()._data._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());l<a.length;l++){var s=a[l].queryInterface("ICartesianPointModel");if(null==s)return;var u=this._getCartesianSeries(s);if(!t.models._CartesianSupport.isCartesianSeiresHasDetailDimension(u))return;if(r)i=t.models._CartesianSupport.getCartesianSeriesStyle(u),o=s.detail,r=!1;else if(o!=s.detail||!this._seriesStyleEquals(i,t.models._CartesianSupport.getCartesianSeriesStyle(u)))return}null!=i&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(e._getDataPointStyleOption(),i)}},e._getSeriesStyle=function(e){var n=e._legendItemView()._data._legend;if(t._isDataPointItemizedLegendDataModel(n)){for(var i=null,o=null,r=!0,l=0,a=e._legendItemView()._data._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());l<a.length;l++){var s=a[l].queryInterface("ICartesianPointModel");if(null==s)return null;var u=this._getCartesianSeries(s);if(!t.models._CartesianSupport.isCartesianSeiresHasDetailDimension(u))return null;if(r)i=t.models._CartesianSupport.getCartesianSeriesStyle(u),o=s.detail,r=!1;else if(o!=s.detail||!this._seriesStyleEquals(i,t.models._CartesianSupport.getCartesianSeriesStyle(u)))return null}return i}return null},e._getSeriesColor=function(e){var n=e._legendItemView()._data,i=null,o=!0;if(n instanceof t._ItemizedPointLegendItemDataModel)for(var r=0,l=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());r<l.length;r++){var a=l[r].queryInterface("ICartesianPointModel");if(null==a)return null;if(o)i=this._getCartesianSeries(a).color,o=!1;else if(!this._colorEquals(i,this._getCartesianSeries(a).color))return null}return i},e._getSameColor=function(e){var n=e._legendItemView()._data,i=null;if(n instanceof t._ItemizedPointLegendItemDataModel)for(var o=0,r=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());o<r.length;o++){var l=r[o];if(t._isCartesianPointView(l)){var a=l;if(null!=a){if(null==i)i=this._calculatorColorBy(a);else if(!this._colorEquals(i,this._calculatorColorBy(a)))return null;continue}return null}}return i},e._calculatorColorBy=function(t){return t._getPointColor()},e._seriesStyleEquals=function(e,n){return null!=e&&null!=n&&!!(e.symbols==n.symbols&&e.opacity==n.opacity&&t.options._ColorOptionExtension._equalsColorOption(e.fill,n.fill)&&t.options._ColorOptionExtension._equalsColorOption(e.backgroundColor,n.backgroundColor)&&t.options._ColorOptionExtension._equalsColorOption(e.stroke,n.stroke)&&e.strokeDasharray==n.strokeDasharray&&e.strokeOpacity==n.strokeOpacity&&t.options._StrokeWidthOptionExtension._equalsStrokeWidthOption(e.strokeWidth,n.strokeWidth)&&t.options._ColorOptionExtension._equalsColorOption(e.symbolFill,n.symbolFill)&&e.symbolOpacity==n.symbolOpacity&&e.symbolShape==n.symbolShape&&e.symbolSize==n.symbolSize&&t.options._ColorOptionExtension._equalsColorOption(e.symbolStroke,n.symbolStroke)&&e.symbolStrokeDasharray==n.symbolStrokeDasharray&&e.symbolStrokeOpacity==n.symbolStrokeOpacity&&e.symbolStrokeWidth==n.symbolStrokeWidth)},e._getCartesianSeries=function(t){return t.parent},e._colorEquals=function(t,e){return t==e},e}();t._CartesianLegendSymbolLib=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,t._CartesianLineLegendSymbolStyleBuilder._cartesianLineLegendSymbolStyleBuilder())||this;return i.__symbols=n,i}return i(n,e),n.prototype._showSymbol=function(){return null==this.__seriesSymbols?this.__symbols:this.__seriesSymbols},n.prototype._applyOther=function(){if(this.__seriesSymbols=null,!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e),this.__seriesSymbols=e.symbols)}},n.prototype.render=function(n,i,o){n.beginTransform();var r=this._styleBuilder._buildLegendSymbolLineStyle(this,o);n.strokeWidth=1,t._StyleUtility._applyStyle(n,r);var l=n.stroke;l instanceof t._LinearGradientColor||l instanceof t._RadialGradientColor?this._drawHorizontalLineByPath(n,i.left,i.top+i.height/2,i.width):n.drawLine(i.left,i.top+i.height/2,i.right,i.top+i.height/2),n.restoreTransform(),this._showSymbol()&&e.prototype.render.call(this,n,i,o)},n.prototype._drawHorizontalLineByPath=function(t,e,n,i){var o=t.strokeWidth;null!=o&&o>0&&(t.beginTransform(),t.fill=t.stroke,t.strokeWidth=0,t.drawRect(e,n-o/2,i,o),t.restoreTransform())},n}(t._CartesianScatterLegendSymbolView);t._CartesianLineLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),t._TextLegendSymbolStyleBuilder._textLegendSymbolStyleBuilder())||this;return i.__showSymbol=n,i}return i(n,e),n.prototype._showSymbol=function(){return this.__showSymbol},n.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},n.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._CartesianLegendSymbolLib._getSameColor(this)),this.__sameColor},n.prototype._calcFontSize=function(e,i){var o=n.__baseFontSize;if(null!=i)o=parseFloat(i);else for(var r=0,l=this._legendItemView()._legendView()._data()._getDefinition()._plotDefinition._dataLabelDefinitions();r<l.length;r++){var a=l[r];if(a._getDataLabelOption().scope==t._Constants.DataPointTextScope){var s=a._getDataLabelOption().textStyle.fontSize;null!=s&&(o=parseFloat(s))}}return(o+2*e).toString()},n.prototype._measureSymbolSize=function(e,n){e.beginTransform();var i=t._LegendUtility._getRelatedPointViewsTextStyle(this),o=null!=i?i.fontSize:null;e.fontSize=this._calcFontSize(n,o);var r=e.measureSingleLineString("A").height;return e.restoreTransform(),new t.core.Size(Math.max(1.2*r,16),r)},n.prototype.render=function(e,n,i){if(null!=this._size){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolTextStyle(this,i);return t._StyleUtility._applyAllStyle(e,o),null!=this._size&&(e.fontSize=this._calcFontSize(this._size,o.fontSize)),e.drawMultiLineString("A",n,t.TextOverflow.Clip,t.HAlign.Center),void e.restoreTransform()}var r=this._legendItemView()._data,l=this._styleBuilder._buildLegendSymbolStyle(this,i,r._getSymbol()._showSymbol()),a=r instanceof t.models._ItemizedValuePointLegendItem?r.key:null,s=this._getStyleSymbolShape(),u=this._shape,_=this._getDefaultShape(this._getPlotDefinition()),p=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._symbolDefinitionProviders(),a,s,u,_);null!=p&&p.createSymbol(n,l).render(e,i)},n.__baseFontSize=14,n}(t._LegendSymbolView);t._TextLegendSymbolView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._cartesianAreaLegendSymbolStyleBuilder=function(){return null==e.__cartesianAreaLegendSymbolStyleBuilder&&(e.__cartesianAreaLegendSymbolStyleBuilder=new e),e.__cartesianAreaLegendSymbolStyleBuilder},e.prototype._getLegendSymbolAltStyle=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.altStyle;if(null==n)return null;var i=e._legendItemView()._data;if(i instanceof t._ItemizedPointLegendItemDataModel){var o=i._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(0==o.length)return null;for(var r=0,l=o;r<l.length;r++){var a=l[r]._data();if(a instanceof t._RangeValuePointDataModel&&(null==a._displayLower()?0:a._displayLower())<=(null==a._displayUpper()?0:a._displayUpper()))return null}return n}return null},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),i?t._StyleUtility._applyDataPointSymbolStyleOption(o,l):t._StyleUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._StyleUtility._applyDataPointSymbolStyleOption(o,a):t._StyleUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._StyleUtility._applyDataPointSymbolStyleOption(o,s):t._StyleUtility._applyDataPointStyleOption(o,s)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),i||t._StyleUtility._applyDataPointStyleOption(o,this._getLegendSymbolAltStyle(e)),o},e}();t._CartesianAreaLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._cartesianLegendSymbolColorBuilder=function(){return null==e.__cartesianLegendSymbolColorBuilder&&(e.__cartesianLegendSymbolColorBuilder=new e),e.__cartesianLegendSymbolColorBuilder},e.prototype._buildLegendSymbolColor=function(e){var n=e,i=e._legendItemView(),o=null;return t._LegendUtility._isType(i._data._legend,t.LegendType.Shape)&&!t._LegendUtility._isType(i._data._legend,t.LegendType.Color)&&this._isLegendEverySymbolsHasSameColor(i)&&(o=n._sameColor()),null!=i._data._color()&&(o=i._data._color()),null!=i._legendView()._iconColor()&&(o=i._legendView()._iconColor()),null==o&&(o=t._CssColor._defaultStyleColor()),o},e.prototype._isLegendEverySymbolsHasSameColor=function(e){var n=e._data._legend;return!!t._isItemizedLegendDataModel(n)&&!n._items().map((function(t){return t._getSymbol()})).some((function(t){return null==t._sameColor()}))},e}();t._CartesianLegendSymbolColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._cartesianLineLegendSymbolStyleBuilder=function(){return null==n.__cartesianLineLegendSymbolStyleBuilder&&(n.__cartesianLineLegendSymbolStyleBuilder=new n),n.__cartesianLineLegendSymbolStyleBuilder},n.prototype._buildLegendSymbolLineStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder()._buildLegendSymbolColor(e),r=t._CartesianLegendSymbolLib._getSeriesColor(e);null!=r&&(o=r),null!=o&&(i.stroke=o);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),t._StyleUtility._applyDataPointStyleOption(i,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._StyleUtility._applyDataPointStyleOption(i,a):e._legendItemView().relatedModels().length>0&&t._StyleUtility._applyDataPointStyleOption(i,s));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(i,c._filteredOutSymbolStyle),i},n}(t._DefaultLegendSymbolStyleBuilder);t._CartesianLineLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._textLegendSymbolStyleBuilder=function(){return null==e.__textLegendSymbolStyleBuilder&&(e.__textLegendSymbolStyleBuilder=new e),e.__textLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=this._getSelectedTextStyleOption(e),_=this._getUnselectedTextStyleOption(e),p=t._LegendUtility._getRelatedPointViewsStyle(e),c=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),h=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);if(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,p),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,c),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,h),i)t._StyleUtility._applyDataPointSymbolStyleOption(o,l);else{var f=t._LegendUtility._getRelatedPointViewsTextStyle(e);null!=f&&null!=f.color&&(o.fill=new t._CssColor(f.color),o.stroke=new t._CssColor(f.color)),null!=f&&null!=f.opacity&&(o.fillOpacity=f.opacity,o.strokeOpacity=f.opacity)}if(n.hasSelectionInPlotArea)if(e._legendItemView()._isSelected())if(i)t._StyleUtility._applyDataPointSymbolStyleOption(o,a);else{var d=u.color,y=u.opacity;null!=d&&(o.fill=new t._CssColor(d),o.stroke=new t._CssColor(d)),null!=y&&(o.fillOpacity=y,o.strokeOpacity=y)}else e._legendItemView().relatedModels().length>0&&(i?t._StyleUtility._applyDataPointSymbolStyleOption(o,s):(d=_.color,y=u.opacity,null!=d&&(o.fill=new t._CssColor(d),o.stroke=new t._CssColor(d)),null!=y&&(o.fillOpacity=y,o.strokeOpacity=y)));var g=e._legendItemView();return g._data._filtered&&t._StyleUtility._applyStyle(o,g._filteredOutSymbolStyle),o},e.prototype._buildLegendSymbolTextStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=e._colorBuilder._buildLegendSymbolColor(e);null!=o&&(o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color));var r=e._getDataPointStyleOption(),l=e._getSelectedStyle(),a=e._getUnselectedStyle(),s=this._getSelectedTextStyleOption(e),u=this._getUnselectedTextStyleOption(e),_=t._LegendUtility._getRelatedPointViewsTextStyle(e);t._StyleUtility._applyDataPointStyleOption(i,r),t._StyleUtility._applyTextStyleOption(i,_),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?(t._StyleUtility._applyDataPointStyleOption(i,l),t._StyleUtility._applyTextStyleOption(i,s)):e._legendItemView().relatedModels().length>0&&(t._StyleUtility._applyDataPointStyleOption(i,a),t._StyleUtility._applyTextStyleOption(i,u)));var p=e._legendItemView();return p._data._filtered&&t._StyleUtility._applyStyle(i,p._filteredOutSymbolStyle),i},e.prototype._getSelectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.selectedTextStyle),i._mergeStyle(n._plotConfigOption.selectedTextStyle),i},e.prototype._getUnselectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.unselectedTextStyle),i._mergeStyle(n._plotConfigOption.unselectedTextStyle),i},e}();t._TextLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(e,n){if(t._isCartesianPlotDefinition(e)){var i=this._createData(e,n);return null!=i&&i._initialize(),i}return null},e.prototype._createData=function(e,n){return null!=e._encodingsDefinition._getCartesianCategoryEncodingDefinition()?this._createCategoryData(e,n):e._valueDefinitions().every((function(e){return t._isXyStyleValueDimensionDefinition(e)}))?this._createXyData(e,n):this._createSingleValueData(e,n)},e.prototype._createCategoryData=function(e,n){return new t._CartesianCategoryPlotDataModel(n,e)},e.prototype._createSingleValueData=function(e,n){return new t._CartesianSingleValuePlotDataModel(n,e)},e.prototype._createXyData=function(e,n){return new t._CartesianXyPlotDataModel(n,e)},e}();t._CartesianPlotDataBuilder=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LineCartesian",this.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)?new t.models._LineCartesianCoordinateSystemLayout:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._LineCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="RadialCartesian",this.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?new t.models._RadialCartesianCoordinateSystemLayout:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._RadialCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){!function(e){var n=function(){function e(){}return e.prototype._setVerticalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.bottom,e.top]):t._scaleModel._internalSetRange([e.bottom,e.top])},e.prototype._setHorizontalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.left,e.right]):t._scaleModel._internalSetRange([e.left,e.right])},e.prototype._calcHorizontalAxisPadding=function(e,n,i,o,r,l){var a,s=o.top,u=o.bottom,_=0,p=0,c=new t.core.Size(o.width,i.height),h=e._getSuggestHeight(c.height),f=e._measure(n,new t.core.Size(c.width,h));e._hasOtherSide()?(_=f._linesSize.height>h?h:f._linesSize.height,p=f._lablesSize.height):_=f._size.height>h?h:f._size.height,a=f._labelSize.width;var d=e._getForceHeight(c.height);null!=d&&(_=d);var y=e._getForceMaxHeight(c.height);null!=y&&_>y&&(_=y);var g=e.getViewPosition();g==t.Position.Bottom?u-=_:g==t.Position.Top&&(s+=_);var m=e.getLabelPosition();e._hasOtherSide()&&(m==t.Position.Bottom?u-=p:m==t.Position.Top&&(s+=p)),r._top+=s-o.top,r._bottom+=o.bottom-u,l._left=Math.max(l._left,.5*a),l._right=Math.max(l._right,.5*a)},e.prototype._calcVerticalAxisPadding=function(e,n,i,o,r,l){var a,s=o.left,u=o.right,_=0,p=0,c=new t.core.Size(i.width,o.height),h=e._getSuggestWidth(c.width),f=e._measure(n,new t.core.Size(h,c.height));e._hasOtherSide()?(_=f._linesSize.height>h?h:f._linesSize.height,p=f._lablesSize.height):_=f._size.height>h?h:f._size.height,a=f._labelSize.height;var d=e._getForceWidth(c.width);null!=d&&(_=d);var y=e._getForceMaxWidth(c.width);null!=y&&_>y&&(_=y);var g=e.getViewPosition();g==t.Position.Left?s+=_:g==t.Position.Right&&(u-=_);var m=e.getLabelPosition();e._hasOtherSide()&&(m==t.Position.Right?u-=p:m==t.Position.Left&&(s+=p)),r._left+=s-o.left,r._right+=o.right-u,l._top=Math.max(l._top,.5*a),l._bottom=Math.max(l._bottom,.5*a)},e.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a,s){var u,_=r.top,p=r.bottom,c=0,h=new t.core.Size(l.width,i.height),f=this._getHorizontalAxisViewHeight(e,h,n);c=f[0],u=f[1];var d=e._getAcutalOrigin(),y=e.getViewPosition(),g=e.getLabelPosition(),m=e._hasOtherSide(),v=_;if(null==d)y==t.Position.Bottom?v=p:y==t.Position.Top?v=_-c:c=1;else if(null!=s){var w=s._scaleModel._value(d);y==t.Position.Bottom?v=null!=w?w:p:y==t.Position.Top?v=null!=w?w-c:_:c=1}var b=new t.core.Rect(l.left,v,l.width,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,a.height),m){var S=_;g==t.Position.Top?S=_-u:g==t.Position.Bottom&&(S=p),o._otherSideRect=new t.core.Rect(l.left,S,l.width,u),e._layout(n,b,o),o._otherSideRect=null}else e._layout(n,b,o);if(o._lineCartesianCoordinateSystemContent=null,null==d)y==t.Position.Bottom?p+=c:y==t.Position.Top&&(_-=c);else if(null!=s){var P=s._scaleModel._value(d),C=null==P?0:P;y==t.Position.Bottom?p+=Math.max(0,C+c-l.bottom):y==t.Position.Top&&(_-=Math.max(0,l.top-(C-c)))}return m&&(g==t.Position.Bottom?p+=u:g==t.Position.Top&&(_-=u)),r.top=_,r.height=p-_,r},e.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,s){var u,_=r.left,p=r.right,c=0,h=new t.core.Size(i.width,l.height),f=this._getVerticanAxisViewWidth(e,h,n);c=f[0],u=f[1];var d=e._getAcutalOrigin(),y=e.getViewPosition(),g=e.getLabelPosition(),m=e._hasOtherSide(),v=_;if(null==d)y==t.Position.Left?v=_-c:y==t.Position.Right?v=p:c=1;else if(null!=s){var w=s._scaleModel._value(d);y==t.Position.Left?v=null!=w?w-c:_-c:y==t.Position.Right?v=null!=w?w:p:c=1}var b=new t.core.Rect(v,l.top,l.height,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),m){var S=_;g==t.Position.Left?S=_-u:g==t.Position.Right&&(S=p),o._otherSideRect=new t.core.Rect(S,l.top,l.height,u),e._layout(n,b,o),o._otherSideRect=null}else e._layout(n,b,o);if(o._lineCartesianCoordinateSystemContent=null,null==d)y==t.Position.Left?_-=c:y==t.Position.Right&&(p+=c);else if(null!=s){var P=s._scaleModel._value(d);y==t.Position.Left?_-=Math.max(0,(null==P?0:P)-c-l.left):y==t.Position.Right&&(p+=Math.max(0,(null==P?0:P)+c-l.right))}return m&&(g==t.Position.Right?p+=u:g==t.Position.Left&&(_-=u)),r.left=_,r.width=p-_,r},e.prototype._getHorizontalAxisViewHeight=function(e,n,i){var o=0,r=0,l=e._getSuggestHeight(n.height),a=e._measure(i,new t.core.Size(n.width,l));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var s=e._getForceHeight(n.height);null!=s&&(o=s);var u=e._getForceMaxHeight(n.height);return null!=u&&o>u&&(o=u),[o,r]},e.prototype._getVerticanAxisViewWidth=function(e,n,i){var o=0,r=0,l=e._getSuggestWidth(n.width),a=e._measure(i,new t.core.Size(l,n.height));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var s=e._getForceWidth(n.width);null!=s&&(o=s);var u=e._getForceMaxWidth(n.width);return null!=u&&o>u&&(o=u),[o,r]},e.prototype._initAxisesScale=function(t,e,n,i,o){for(var r=0,l=t.verticalAxisViews;r<l.length;r++){var a=l[r];this._setVerticalAxisRange(a,n,o)}for(var s=0,u=t.horizontalAxisViews;s<u.length;s++){var _=u[s];this._setHorizontalAxisRange(_,n,o)}},e.prototype._layoutCoordinateSystem=function(e,n,o,r){for(var l=new t._CartesianCoordinateSystemLayoutResult,a=n.clone(),s=r.horizontalAxisViews,u=r.verticalAxisViews,_=new i,p=new i,c=0,h=u;c<h.length;c++){var f=h[c];this._calcVerticalAxisPadding(f,e,n,a,_,p)}for(var d=0,y=s;d<y.length;d++){var g=y[d];this._calcHorizontalAxisPadding(g,e,n,a,_,p)}var m=Math.max(_._left,p._left),v=Math.max(_._right,p._right);a.left+=m,a.width-=m+v;var w=Math.max(_._top,p._top),b=Math.max(_._bottom,p._bottom);if(a.top+=w,a.height-=w+b,r._canScroll()){var S=new t.core.Rect(a.left,a.top,a.width/r._horizontalViewSize,a.height/r._verticalViewSize);this._initAxisesScale(r,n,S,e,!0),l.plotRect=a,l.plotLogicRect=S}else this._initAxisesScale(r,n,a,e,!0),l.plotRect=a,l.plotLogicRect=a;for(var P=l.plotRect.clone(),C=0,x=u;C<x.length;C++)f=x[C],P=this._layoutVerticalAxisView(f,e,n,o,P,l.plotLogicRect,l.plotRect,s[0]);P=l.plotRect.clone();for(var V=0,D=s;V<D.length;V++)g=D[V],P=this._layoutHorizontalAxisView(g,e,n,o,P,l.plotLogicRect,l.plotRect,u[0]);return l},e}();e._LineCartesianCoordinateSystemLayout=n;var i=function(){this._left=0,this._right=0,this._top=0,this._bottom=0}}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.__radius=.75}return e.prototype._setVerticalAxisRange=function(t,e,n){t._scaleModel._setRange([e,e+n])},e.prototype._setHorizontalAxisRange=function(t,e,n){t._scaleModel._setRange([e,n])},e.prototype._layoutAxisView=function(t,e,n,i,o,r){t._radius=o,t._cx=r.x,t._cy=r.y,t._layout(e,i,n),t._titleView()._layout(e,i,n)},e.prototype._layoutCoordinateSystem=function(e,n,i,o){for(var r=o._horizontalCanScroll()?o._horizontalViewSize:1,l=o._verticalCanScroll()?o._verticalViewSize:1,a=o.horizontalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),s=o.verticalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),u=new t.core.Rect(n.left,n.top,n.width/r,n.height/l),_=0,p=[],c=[],h=0;h<s.length;h++){var f=s[h];if(p.push(0),c.push(0),f._getDefinition()._option.position!=t.AxisPosition.None){var d=new t.core.Size(u.width,u.height),y=f._measure(e,d)._size;c[h]+=y.height,p[h]+=y.height-f._axisLabelHeight-f._getAxisLineWidth(),_+=p[h]}}var g=u.clone();g.height-=_;var m=new t.core.Point(n.left+n.width/2,n.top+n.height/2),v=.5*Math.min(g.width,g.height)*this.__radius;v>=1&&(v-=.5);for(var w=s[0],b=a[0],S=0,P=s;S<P.length;S++)f=P[S],this._setVerticalAxisRange(f,f._startAngle(),f._sweep);for(var C=0,x=a;C<x.length;C++){var V=x[C];this._setHorizontalAxisRange(V,V._innerRadius*v,v)}if(null!=b)for(var D=null==b._scaleModel._minimum?0:b._scaleModel._minimum,A=null==b._scaleModel._maximum?0:b._scaleModel._maximum,O=0,L=s;O<L.length;O++){var T=(f=L[O])._getAcutalOrigin();if(null!=T&&T>=D&&T<=A){var M=b._scaleModel._value(T+(null!=b?b._getRadiusOffset():0));f._setOriginRadius(M)}}if(null!=w)for(var I=null==w._scaleModel._minimum?0:w._scaleModel._minimum,E=null==w._scaleModel._maximum?0:w._scaleModel._maximum,B=0,R=a;B<R.length;B++){var k=(V=R[B])._getAcutalOrigin();if(null!=k&&k>=I&&k<=E){var F=w._scaleModel._value(k);V._setOriginAngle(F)}}for(var N=u.clone(),U=0,z=s;U<z.length;U++)f=z[U],this._layoutAxisView(f,e,i,N,v,m);for(var j=0,G=a;j<G.length;j++)V=G[j],this._layoutAxisView(V,e,i,N,v,m);var W=new t._CartesianCoordinateSystemLayoutResult;return W.plotLogicRect=new t.core.Rect(m.x-v,m.y-v,2*v,2*v),W},e}(),e._RadialCartesianCoordinateSystemLayout=n}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._barExtension=null,i.__horizontalAxisViews=[],i.__verticalAxisViews=[],i._horizontalScrollbarVisible=!0,i._verticalScrollbarVisible=!0,i}return i(n,e),n.prototype._horizontalAxisView=function(){return this._horizontalAxisViews()[0]},n.prototype._verticalAxisView=function(){return this._verticalAxisViews()[0]},n.prototype._horizontalAxisViews=function(){return this.__horizontalAxisViews},n.prototype._verticalAxisViews=function(){return this.__verticalAxisViews},n.prototype._horizontalAxesView=function(){return null==this.__horizontalAxesView&&(this.__horizontalAxesView=this._createAxesView(t.Orientation.Horizontal)),this.__horizontalAxesView},n.prototype._verticalAxesView=function(){return null==this.__verticalAxesView&&(this.__verticalAxesView=this._createAxesView(t.Orientation.Vertical)),this.__verticalAxesView},n.prototype._getLayouter=function(){var e=this._definition._plotAreaOption.plugins,n=this._definition._pluginCollection;return t._BuildInCoordinateSystemLayoutBuilderCollection._defaultBuildInCoordinateSystemLayoutBuilderCollection().coordinateSystemLayout(this,e,n)},n.prototype._createPlotsView=function(){return new t._CartesianPlotsView(this)},n.prototype._renderCartesianSystem=function(t,e){},n.prototype._renderAxes=function(t,e){this._horizontalAxesView()._render(t,e),this._verticalAxesView()._render(t,e)},n.prototype._drawView=function(t,n){n._renderLabel||this._plotsView._renderCartesianSystem(t,n),this._renderAxes(t,n),e.prototype._drawView.call(this,t,n)},n.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFillOption(e,this._definition._plotAreaOption.style.fill)},n.prototype._applyInnerBorderStyle=function(e){var n=this._definition._plotAreaOption.style;t._StyleUtility._applyStroke(e,t._CssColor._defaultStyleColor()),t._StyleUtility._applyInnerLineStyleFromStyleOption(e,n)},n.prototype._createAxisView=function(e,n,i){var o=n._option.plugins,r=this._definition._pluginCollection,l=t._BuildInScaleDimensionBuilderCollection._defaultBuildInScaleDimensionBuilders().scaleDimension(i,o,r),a=this._getAxisScaleBuilder(l.scaleType),s=n.queryInterface("IAxisViewBuilder");return null!=s?s.buildAxisView(e,n,l,a):null},n.prototype._mergeAxisView=function(e,n){for(var i=null,o=0,r=e;o<r.length;o++){var l=r[o],a=l._scaleDimension.dimensions,s=n,u=l._getDefinition()._option.plugins,_=this._definition._pluginCollection,p=t._BuildInDimensionMergePolicyBuilderCollection._defaultBuildInDimensionMergePolicyBuilders().dimensionMergePolicy(a.concat(s),u,_);if(p.canMerge(a,s)){var c=p.merge(a,s),h=t._BuildInScaleDimensionBuilderCollection._defaultBuildInScaleDimensionBuilders().scaleDimension(c,u,_);l._scaleDimension=h;var f=this._getAxisScaleBuilder(h.scaleType);l._scaleBuilder=f,i=l;break}}return i},n.prototype._getAxisScaleBuilder=function(e){return e===t.ValueScaleType.Ordinal?t._OrdinalAxisScaleBuilder.defaultOrdinalAxisScaleBuilder:e===t.ValueScaleType.Linear?t._LinearAxisScaleBuilder.defaultLinearAxisScaleBuilder:e===t.ValueScaleType.Logarithmic?t._LogAxisScaleBuilder.defaultLogAxisScaleBuilder:e===t.ValueScaleType.Date?t._TimeAxisScaleBuilder.defaultTimeAxisScaleBuilder:null},n.prototype._createAxesView=function(e){return new t._AxesView(this,e)},n.prototype._layoutData=function(){var n=this,i=t._BarExtension._barExtension(this);null!=i&&i._resetClusterGroups(),e.prototype._layoutData.call(this),this._horizontalAxisViews().forEach((function(e){t._BuildInAxisAddtionalCollection._buildInAxisAddtionals()._applyAxisViewAddtional(e,n._horizontalAxisViews(),n._definition._dvConfigOption.plugins,n._definition._pluginCollection)})),this._verticalAxisViews().forEach((function(e){t._BuildInAxisAddtionalCollection._buildInAxisAddtionals()._applyAxisViewAddtional(e,n._verticalAxisViews(),n._definition._dvConfigOption.plugins,n._definition._pluginCollection)})),this._horizontalAxisViews().forEach((function(t){t._createAxisScale()})),this._verticalAxisViews().forEach((function(t){t._createAxisScale()}));for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._initAxis();this._applyAxes()},n.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},n.prototype._clearOverlayDimensions=function(){var t=this;this.__horizontalAxisViews.forEach((function(e){t._clearOverlayDimensionForAxis(e)})),this.__verticalAxisViews.forEach((function(e){t._clearOverlayDimensionForAxis(e)}))},n.prototype._clearOverlayDimensionForAxis=function(e){for(var n=e._dimensions(),i=n.length-1;i>=0;i--){var o=n[i];t.models._isOverlayDimension(o)&&n.splice(i,1)}},n.prototype._attachAxisView=function(e,n){var i=[];if(e._orientation==t.Orientation.Horizontal?i=this._horizontalAxisViews().filter((function(t){return t._getDefinition()._option==e._option&&e._isForwardDirection==t._getIsForwardDirection()})):e._orientation==t.Orientation.Vertical&&(i=this._verticalAxisViews().filter((function(t){return t._getDefinition()._option==e._option&&e._isForwardDirection==t._getIsForwardDirection()}))),i.length>0){var o=this._mergeAxisView(i,n);if(null!=o)return o}var r=this._createAxisView(this,e,n);return null!=r&&(r._getDefinition()._orientation==t.Orientation.Horizontal?(this._horizontalAxisViews().push(r),null!=e._option.viewSize&&(this._horizontalViewSize=e._option.viewSize),this._horizontalScrollbarVisible=e._option.scrollbarVisible):r._getDefinition()._orientation==t.Orientation.Vertical&&(this._verticalAxisViews().push(r),null!=e._option.viewSize&&(this._verticalViewSize=e._option.viewSize),this._verticalScrollbarVisible=e._option.scrollbarVisible)),r},n.prototype._applyAxes=function(){for(var t=this._horizontalAxisView(),e=this._verticalAxisView(),n=0,i=this._horizontalAxisViews();n<i.length;n++){var o=i[n];if(o._scaleModel._hasScale()&&null!=e){o._adjustOrigin(e._getDefinition()._option,e);var r=[o._getDefinition()._option.origin];e._scaleModel._adjustScaleDomain(e._getDefinition()._option,r)}}for(var l=0,a=this._verticalAxisViews();l<a.length;l++){var s=a[l];if(s._scaleModel._hasScale()&&null!=t){s._adjustOrigin(t._getDefinition()._option,t);var u=[s._getDefinition()._option.origin];t._scaleModel._adjustScaleDomain(t._getDefinition()._option,u)}}},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._horizontalAxesView(),n=this._verticalAxesView();return!(!t._canScroll()&&!n._canScroll())},n.prototype._scrollRect=function(){return this._plotsView._getRectangle()},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=e.prototype._hitTest.call(this,t,n,i);return null!=o||null!=(o=this._verticalAxesView()._hitTest(t,n,i))||null!=(o=this._horizontalAxesView()._hitTest(t,n,i))?o:null},n.prototype._innerMinSize=function(){return this._definition._plotAreaOption.innerMinSize},n.prototype._horizontalCanScroll=function(){return this._horizontalAxesView()._canScroll()},n.prototype._verticalCanScroll=function(){return this._verticalAxesView()._canScroll()},Object.defineProperty(n.prototype,"horizontalAxisViews",{get:function(){return this._horizontalAxisViews()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalAxisViews",{get:function(){return this._verticalAxisViews()},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null)},n.prototype._createScrollbar=function(e){if(e==t.Orientation.Horizontal&&!this._horizontalScrollbarVisible)return null;if(e==t.Orientation.Vertical&&!this._verticalScrollbarVisible)return null;var n=t._DvViewUtility._domManager(this._getLayoutView()._getPlotAreaView()._getDvView());if(null==n)return null;var i=this._scrollRect(),o=this._plotsView._getRectangle(),r=null;if(e==t.Orientation.Horizontal){var l=Math.max(0,i.right-o.right);r=new t.core.Rect(i.left,i.top,i.width-l,i.height)}else{var a=Math.max(0,i.bottom-o.bottom);r=new t.core.Rect(i.left,i.top,i.width,i.height-a)}return t._ScrollUtility._buildScrollbar(e,r,this._plotsView._getLogicSize(),n)},n.prototype._scrollTo=function(t,e){this._plotsView._scrollTo(t,e),this._horizontalAxesView()._scrollTo(t,e),this._verticalAxesView()._scrollTo(t,e)},n.prototype._isHitTested=function(e,n){return this._scrollRect().contains(new t.core.Point(e,n))},n}(t._ScrollableCoordinateSystemView);t._CartesianCoordinateSystemView=e}(t||(t={})),function(t){t._isCartesianCoordinateSystemView=function(t){var e=t;return void 0!==e.horizontalAxisViews&&void 0!==e.verticalAxisViews&&"function"==typeof e._innerMinSize&&"function"==typeof e._horizontalCanScroll&&"function"==typeof e._verticalCanScroll}}(t||(t={})),function(t){var e=function(e){function n(i,o,r){return e.call(this,i,n._type,o,r,t._RadialCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="CartesianRadial",n}(t._BaseCoordinateSystemDefinition);t._RadialCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._RadialCartesianCoordinateSystemDefinition._type?new t._RadialCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._RadialCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isRadialCartesianCoordinateSystemView=function(e){return e instanceof t._RadialCartesianCoordinateSystemView}}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__center=null,i}return i(n,e),n.prototype._layoutContent=function(t,n,i){var o=this._getLayouter()._layoutCoordinateSystem(t,n,i,this).plotLogicRect;this.__center=o.center;var r=this._horizontalAxesView(),l=this._verticalAxesView();r._clear(),l._clear(),this._horizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})).forEach((function(t){return r._add(t)})),this._verticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})).forEach((function(t){return l._add(t)})),l._layout(t,i,n),r._layout(t,i,n),e.prototype._layoutContent.call(this,t,n,i)},n.prototype._layoutPlotViews=function(t,n,i){for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._setCenter(this.__center);e.prototype._layoutPlotViews.call(this,t,n,i)},n.prototype._renderCartesianSystem=function(e,n){if(!n._renderLabel){if(e.beginTransform(),e.strokeWidth=0,this._applyBackgroundStyle(e),!t._ColorUtility._isTransparent(e.fill))for(var i=0,o=this._verticalAxisViews();i<o.length;i++){var r=o[i];this._renderCircle(e,r)}if(t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0)for(var l=0,a=this._verticalAxisViews();l<a.length;l++)r=a[l],this._renderCircle(e,r);e.restoreTransform()}},n.prototype._renderCircle=function(t,e){var n=e._innerRadius*e._radius,i=e._radius,o=e._startAngle(),r=e._sweep,l=e._cx,a=e._cy;t.drawDonut(l,a,i,n,o,r)},n}(t._CartesianCoordinateSystemView);t._RadialCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._RadialCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._RadialCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(i,o,r){return e.call(this,i,n._type,o,r,t._PolygonalCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="CartesianPolygonal",n}(t._BaseCoordinateSystemDefinition);t._PolygonalCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._PolygonalCartesianCoordinateSystemDefinition._type?new t._PolygonalCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolygonalCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._renderCartesianSystem=function(e,n){if(!n._renderLabel){e.beginTransform(),e.strokeWidth=0,this._applyBackgroundStyle(e);var i=this._verticalAxisViews();if(!t._ColorUtility._isTransparent(e.fill))for(var o=0,r=i;o<r.length;o++){var l=r[o];this._renderPolygon(e,l)}if(t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0)for(var a=0,s=i;a<s.length;a++)l=s[a],this._renderPolygon(e,l);e.restoreTransform()}},n.prototype._renderPolygon=function(e,n){var i=n._innerRadius*n._radius,o=n._radius,r=[],l=n.__angles(n);if(l.length>2){for(var a=0;a<l.length;++a){var s=l[a],u=Math.cos(s)*o+n._cx,_=Math.sin(s)*o+n._cy;r.push(new t.core.Point(u,_))}for(a=l.length-1;a>=0;--a)s=l[a],u=Math.cos(s)*i+n._cx,_=Math.sin(s)*i+n._cy,r.push(new t.core.Point(u,_))}e.drawPolygon(r.map((function(t){return t.x})),r.map((function(t){return t.y})))},n}(t._RadialCartesianCoordinateSystemView);t._PolygonalCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._PolygonalCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._PolygonalCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(i,o,r){return e.call(this,i,n._type,o,r,t._TextCategoriesCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="TextCategories",n}(t._BaseCoordinateSystemDefinition);t._TextCategoriesCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._TextCategoriesCoordinateSystemDefinition._type?new t._TextCategoriesCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextCategoriesCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTextCategoriesCoordinateSystemView=function(t){return"function"==typeof t._attachAxisView}}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__horizontalAxisViews=[],i}return i(n,e),n.prototype._horizontalAxisViews=function(){return this.__horizontalAxisViews},n.prototype._horizontalAxisView=function(){return this._horizontalAxisViews()[0]},n.prototype._horizontalAxesView=function(){return null==this.__horizontalAxesView&&(this.__horizontalAxesView=this._createAxesView(t.Orientation.Horizontal)),this.__horizontalAxesView},n.prototype._layoutData=function(){e.prototype._layoutData.call(this),this._horizontalAxisViews().forEach((function(t){t._createAxisScale()}));for(var t=0,n=this._getPlotViews();t<n.length;t++)n[t]._initAxis()},n.prototype._attachAxisView=function(e,n){var i=[];if(e._orientation==t.Orientation.Horizontal){var o=e._option;i=this._horizontalAxisViews().filter((function(t){return t._getDefinition()._option==o}))}if(i.length>0){var r=[n],l=this._mergeAxisView(i,r);if(null!=l)return l}var a=null;return null!=e._option?(r=[n],null!=(a=this._createAxisView(this,e,r))&&e._orientation==t.Orientation.Horizontal&&this.__horizontalAxisViews.push(a)):e._orientation==t.Orientation.Horizontal&&null!=(a=this._horizontalAxisView())&&a._dimensions().push(n),a},n.prototype._createAxisView=function(e,n,i){var o=n._option.plugins,r=this._definition._pluginCollection,l=t._BuildInScaleDimensionBuilderCollection._defaultBuildInScaleDimensionBuilders().scaleDimension(i,o,r),a=this._getAxisScaleBuilder(l.scaleType),s=n.queryInterface("IAxisViewBuilder");return null!=s?s.buildAxisView(e,n,l,a):null},n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n.prototype._mergeAxisView=function(e,n){for(var i=null,o=0,r=e;o<r.length;o++){var l=r[o],a=l._scaleDimension.dimensions,s=n,u=l._getDefinition()._option.plugins,_=this._definition._pluginCollection,p=t._BuildInDimensionMergePolicyBuilderCollection._defaultBuildInDimensionMergePolicyBuilders().dimensionMergePolicy(a.concat(s),u,_);if(p.canMerge(a,s)){var c=p.merge(a,s),h=t._BuildInScaleDimensionBuilderCollection._defaultBuildInScaleDimensionBuilders().scaleDimension(c,u,_);l._scaleDimension=h;var f=this._getAxisScaleBuilder(h.scaleType);l._scaleBuilder=f,i=l;break}}return i},n.prototype._getAxisScaleBuilder=function(e){return e===t.ValueScaleType.Ordinal?t._OrdinalAxisScaleBuilder.defaultOrdinalAxisScaleBuilder:e===t.ValueScaleType.Linear?t._LinearAxisScaleBuilder.defaultLinearAxisScaleBuilder:e===t.ValueScaleType.Logarithmic?t._LogAxisScaleBuilder.defaultLogAxisScaleBuilder:e===t.ValueScaleType.Date?t._TimeAxisScaleBuilder.defaultTimeAxisScaleBuilder:null},n.prototype._getBox=function(){for(var e=null,n=0,i=this._getPlotViews();n<i.length;n++)for(var o=0,r=i[n]._getPointViews();o<r.length;o++){var l=r[o];if(l instanceof t._TextCartesianPointView){var a=l._rectangle();null!=a&&(e=null!=e?t._DrawingUtility._unionOfRectangles(e,a):a);for(var s=0,u=l._overlayItemViews();s<u.length;s++){var _=u[s].queryInterface("IBoxBounded");null!=_&&null!=(a=_.box())&&(e=null!=e?t._DrawingUtility._unionOfRectangles(e,a):a)}}}for(var p=0,c=this._horizontalAxisViews();p<c.length;p++)for(var h=0,f=c[p]._labelViews();h<f.length;h++){var d=f[h];if(d._isVisible()){var y=d._getRotatedRectangle(),g=Math.min(y.leftTop.x,y.rightTop.x,y.rightBottom.x,y.leftBottom.x),m=Math.max(y.leftTop.x,y.rightTop.x,y.rightBottom.x,y.leftBottom.x),v=Math.min(y.leftTop.y,y.rightTop.y,y.rightBottom.y,y.leftBottom.y),w=Math.max(y.leftTop.y,y.rightTop.y,y.rightBottom.y,y.leftBottom.y),b=new t.core.Rect(g,v,m-g,w-v);e=null!=e?t._DrawingUtility._unionOfRectangles(e,b):b}}return e},n.prototype._getRenderMatrix=function(){var e=this._getBox();if(null!=e){var n=0,i=0,o=this._definition._hAlign;if(null!=o)switch(o){case t.HAlign.Left:n=this._rectangle().left-e.left;break;case t.HAlign.Right:n=this._rectangle().right-e.right;break;case t.HAlign.Center:n=this._rectangle().center.x-e.center.x}var r=this._definition._vAlign;if(null!=r)switch(r){case t.VAlign.Top:i=this._rectangle().top-e.top;break;case t.VAlign.Bottom:i=this._rectangle().bottom-e.bottom;break;case t.VAlign.Middle:i=this._rectangle().center.y-e.center.y}if(0!=n||0!=i){var l=new t.Matrix;return l.translate(n,i),l}}return null},n.prototype._layoutContent=function(n,i,o){this._updateRectangle(i);for(var r=this._horizontalAxesView(),l=r._canScroll()?this._horizontalViewSize:1,a=0,s=this._horizontalAxisViews();a<s.length;a++)(d=s[a])._scaleModel._setRange([i.left,i.left+i.width/l]);e.prototype._layoutContent.call(this,n,i,o);for(var u=null,_=0,p=this._getPlotViews();_<p.length;_++){var c=p[_]._rectangle().clone();u=null==u?c:t._DrawingUtility._unionOfRectangles(u,c);for(var h=0,f=this._horizontalAxisViews();h<f.length;h++){var d,y=(d=f[h])._measure(n,new t.core.Size(c.width,i.height))._size,g=u.clone();g.height=y.height,d._getDefinition()._option.position==t.AxisPosition.Far?(g.top=u.top-g.height,o._lineCartesianCoordinateSystemContent=u.clone(),d._layout(n,g,o),o._lineCartesianCoordinateSystemContent=null):d._getDefinition()._option.position==t.AxisPosition.Near&&(g.top=u.bottom,o._lineCartesianCoordinateSystemContent=u.clone(),d._layout(n,g,o),o._lineCartesianCoordinateSystemContent=null)}}r._clear(),this._horizontalAxisViews().filter((function(e){return e._getDefinition()._option.position!=t.AxisPosition.None})).forEach((function(t){return r._add(t)})),r._layout(n,o,i)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=e.prototype._hitTest.call(this,t,n,i);return null!=o||null!=(o=this._horizontalAxesView()._hitTest(t,n,i))?o:null},n.prototype._drawView=function(e,n){var i=this;if(!n._renderLabel){e.beginTransform();for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._traversePointView((function(i){i instanceof t._TextCartesianPointView&&i._renderBackground(e,n)}));e.restoreTransform()}e.drawGroup(null,null,this._getRenderMatrix(),(function(t){i._horizontalAxesView()._render(t,n),i._plotsView._render(t,n)}))},n.prototype._createAxesView=function(e){return new t._AxesView(this,e)},n.prototype._canScroll=function(){return!!e.prototype._canScroll.call(this)&&!!this._horizontalAxesView()._canScroll()},n.prototype._scrollTo=function(t,e){this._plotsView._scrollTo(t,e),this._horizontalAxesView()._scrollTo(t,e)},n}(t._BaseCoordinateSystemView);t._TextCategoriesCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._TextCategoriesCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._TextCategoriesCoordinateSystemViewBuilder=e}(t||(t={})),function(t){t._isXyCartesianCoordinateSystemView=function(e){return e instanceof t._XyCartesianCoordinateSystemView}}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._viewSizeChanged=function(){var e=this._horizontalViewSize,n=this._verticalViewSize,i=t._BuildInViewSizeBuilderCollection._defaultBuildInViewSizeBuilders()._viewSizePolicy(this._getLayoutView(),null,this._definition._pluginCollection);if(null!=i){var o=i.horizontalViewSize(e,this._getLayoutView(),this.__plotRect.width),r=i.verticalViewSize(n,this._getLayoutView(),this.__plotRect.height);if(0!=o&&o!=e||0!=r&&r!=n)return e=o,n=r,this._horizontalViewSize=o,this._verticalViewSize=r,!0}return!1},n.prototype._layoutContent=function(n,i,o){var r=this._getLayouter(),l=i.clone(),a=r._layoutCoordinateSystem(n,i,o,this);this.__plotRect=a.plotLogicRect,this._viewSizeChanged()&&(a=r._layoutCoordinateSystem(n,i,o,this),this.__plotRect=a.plotLogicRect),null!=a.plotRect&&(l=a.plotRect);var s=this._horizontalAxesView(),u=this._verticalAxesView();s._clear(),u._clear();for(var _=0,p=this._horizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));_<p.length;_++){var c=p[_];s._add(c)}for(var h=0,f=this._verticalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));h<f.length;h++){var d=f[h];u._add(d)}if(this._canScroll()){for(var y=0,g=0,m=this._verticalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));g<m.length;g++)if(d=m[g],t._isLineAxisView(d)){var v=d;y=Math.max(y,v._getTopMargin())}var w=i.clone();w.top=l.top-y,w.height=l.height+y,u._layout(n,o,w);var b=i.clone();b.left=l.left,b.width=l.width,s._layout(n,o,b)}else u._layout(n,o,i.clone()),s._layout(n,o,i.clone());this._checkGridLineViews(n),e.prototype._layoutContent.call(this,n,l,o)},n.prototype._checkGridLineViews=function(t){for(var e=[],n=[],i=this._horizontalAxisViews(),o=this._verticalAxisViews(),r=0,l=i;r<l.length;r++)null!=(u=l[r]._getAxisLinePosition(t))&&e.push(u);for(var a=0,s=o;a<s.length;a++){var u;null!=(u=s[a]._getAxisLinePosition(t))&&n.push(u)}i.forEach((function(t){t._majorGridLineViews().forEach((function(t){t._unvisualizeGridline(n)})),t._minorGridLineViews().forEach((function(t){t._unvisualizeGridline(n)}))})),o.forEach((function(t){t._majorGridLineViews().forEach((function(t){t._unvisualizeGridline(e)})),t._minorGridLineViews().forEach((function(t){t._unvisualizeGridline(e)}))}))},n.prototype._renderCartesianSystem=function(e,n){n._renderLabel||(e.beginTransform(),null!=this.plotRect&&(e.strokeWidth=0,this._applyBackgroundStyle(e),t._ColorUtility._isTransparent(e.fill)||e.drawRect(this.plotRect.left,this.plotRect.top,this.plotRect.width,this.plotRect.height),t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0&&e.drawRect(this.plotRect.left,this.plotRect.top,this.plotRect.width,this.plotRect.height)),e.restoreTransform())},Object.defineProperty(n.prototype,"plotRect",{get:function(){return this.__plotRect},enumerable:!0,configurable:!0}),n.prototype._scrollRect=function(){var e=this._plotsView._getRectangle(),n=this._horizontalAxesView(),i=this._verticalAxesView();return new t.core.Rect(e.left,e.top,e.width+(i._getRectangle().right-e.right),e.height+(n._getRectangle().bottom-e.bottom))},n.prototype._scrollTo=function(t,e){this._plotsView._scrollTo(t,e),this._horizontalAxesView()._scrollX!=t&&this._horizontalAxesView()._scrollTo(t,0),this._verticalAxesView()._scrollY!=e&&this._verticalAxesView()._scrollTo(0,e)},n}(t._CartesianCoordinateSystemView);t._XyCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._XyCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._XyCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(i,o,r,l){return void 0===l&&(l=null),e.call(this,i,n._type,o,r,null!=l?l:t._XyCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="CartesianXy",n}(t._BaseCoordinateSystemDefinition);t._XyCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._XyCartesianCoordinateSystemDefinition._type?new t._XyCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._XyCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(){};t._LabelLayoutInfo=e}(t||(t={})),function(t){var e=function(){};t._LabelPositionInformation=e}(t||(t={})),function(t){var e=function(){};t._Location=e}(t||(t={})),function(t){var e=function(){};t._PieLabelInformation=e}(t||(t={})),function(t){var e=function(){};t._PositionLabelResult=e}(t||(t={})),function(t){var e=function(){};t._ValidateInformation=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t.getItemsNeedConsiderCheck()}return t.prototype.isValidPosition=function(t,e){return!t.intersectWith(e.posInfo,this.__labels)},t}();t.CheckGroupCondition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.isValidPosition=function(e,n){return e.needConnectingLines()||t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(n.posInfo.rotatedRectangle.center,n.pieCenter),e.startAngle(),e.endAngle())},e}();t.ConnectionPointCondition=e}(t||(t={})),function(t){var e=function(){function e(e,n){if(null==e)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);if(n<=0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,n);this.__basePoint=e,this.__angleStep=n}return e.prototype.isValidPosition=function(e,n){var i,o=e._startPoint,r=this.__basePoint,l=n.clockwise;if(r.x==o.x&&r.y==o.y){var a=e.angle(),s=n.layoutOption.angleRange/2;i=l?a-s:a+s}else i=t.LayoutHelper.__getAngleByPoints(this.__basePoint,o);l?i+=this.__angleStep:i-=this.__angleStep;var u=Math.sin(n.posInfo.angle-i);return 0!=u&&l==u>0},e}();t.GroupBoundCondition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__angle=t}return e.prototype.isValidPosition=function(e,n){var i=e.needConnectingLines(),o=t.LayoutHelper.__getAngleByPoints(i?n.posInfo.connectionPoint:n.posInfo.rotatedRectangle.center,n.pieCenter);return Math.sin(o-this.__angle)>0==Math.sin(e.angle()-this.__angle)>0},e}();t.MiddleCondition=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t}return e.prototype.isValidPosition=function(e,n){var i=e.needConnectingLines(),o=n.posInfo,r=n.pieCenter,l=t.LayoutHelper.__getAngleByPoints(i?o.connectionPoint:o.rotatedRectangle.center,r),a=this.__label._getAngleForCheckOrder(r);return Math.sin(l-a)>0==Math.sin(e.angle()-this.__label.angle())>0&&!this.__label._intersectsWithRotatedRectangleAndLines(o.rotatedRectangle,o.linePoints,e.connectingLineWidth())},e}();t.MiddleLabelCondition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.isValidPosition=function(t,e){return!t._isIntersectWithPiePieces(e.pieCenter,e.posInfo.rotatedRectangle,t.offset())},t}();t.OffsetCondition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t}return t.prototype.isValidPosition=function(t,e){return t._isInOrder(e.posInfo,this.__labels,e.pieCenter,!0)&&!t.intersectWith(e.posInfo,this.__labels)},t}();t.PlacedGroupItemsCondition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t}return t.prototype.isValidPosition=function(t,e){return t._isInOrder(e.posInfo,this.__labels,e.pieCenter,e.clockwise)&&!t.intersectWith(e.posInfo,this.__labels)},t}();t.PushGroupItemsCondition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.isValidPosition=function(t,e){return!t._isIntersectWithViewRectangle(e.posInfo.rotatedRectangle,e.viewRect)},t}();t.ViewRectangleCondition=e}(t||(t={})),t||(t={}),function(t){!function(t){t[t.NotSet=0]="NotSet",t[t.Center=1]="Center",t[t.Inside=2]="Inside",t[t.Outside=3]="Outside"}(t.LabelPosition||(t.LabelPosition={}))}(t||(t={})),function(t){var e=function(){function e(){}return e.rotatePoint=function(n,i,o,r,l){var a=e._rotateVector(n-o,i-r,l);return new t.core.Point(a.x+o,a.y+r)},e._rotateVector=function(e,n,i){var o=Math.sin(i),r=Math.cos(i);return new t.core.Point(e*r-n*o,e*o+n*r)},e.isBetween=function(t,e,n){return e<=t&&n>=t||n<=t&&e>=t},e.__getAngleByPoints=function(e,n){var i=Math.atan2(e.y-n.y,e.x-n.x);return i<0&&(i+=t._Utility._PI2),i},e.__isFitAngle=function(n,i,o){return e.isBetween(n,i,o)||e.isBetween(n+t._Utility._PI2,i,o)||e.isBetween(n-t._Utility._PI2,i,o)},e._getLineInfo=function(n,i){var o=n.x,r=n.y,l=i.x,a=i.y;return[e._lineSpace(n,i),Math.atan2(a-r,l-o),new t.core.Point((o+l)/2,(r+a)/2)]},e._creatRectangleShapeFromLineInfo=function(n,i,o){var r=e._getLineInfo(n,i),l=r[0],a=r[1],s=r[2];return new t._RectangleShape(s.x,s.y,l,o,a)},e._isRectangleShapeIntersectsWithLines=function(t,n,i){if(null!=n&&n.length>1){if(!(i>1))return this._intersectsWithLines(t,n);for(var o=n.length-1,r=0;r<o;r++){var l=e._creatRectangleShapeFromLineInfo(n[r],n[r+1],i);if(t.intersectsWith(l))return!0}}return!1},e._intersectsWithLines=function(n,i){if(null!=i&&i.length>1)for(var o=n.center,r=n.size,l=o.x,a=o.y,s=new t.core.Rect(l-r.width/2,a-r.height/2,r.width,r.height),u=n.angle,_=i.map((function(t){return e.rotatePoint(t.x,t.y,l,a,-u)})),p=0,c=_.length-1;p<c;p++)if(e._isRectIntersectWithLineByPoints(s,_[p],_[p+1]))return!0;return!1},e._isRectIntersectWithLineByPoints=function(t,n,i){var o=n.x,r=n.y,l=i.x,a=i.y,s=t.left,u=t.right,_=t.top,p=t.bottom,c=l-o,h=e.isBetween(_,r,a),f=e.isBetween(p,r,a);if(0==c)return e.isBetween(o,s,u)&&(h||f);var d=a-r,y=e.isBetween(s,o,l),g=e.isBetween(u,o,l);if(0==d)return e.isBetween(r,_,p)&&(y||f);if(y||g){var m=d*((y?s:u)-o)/(l-o);if(e.isBetween(r+m,_,p))return!0;if(y&&g&&(m=d*(u-o)/(l-o),e.isBetween(r+m,_,p)))return!0}if(h||f){var v=((h?_:p)-r)*c/d;if(e.isBetween(v+o,s,u))return!0;if(h&&f&&(v=(p-r)*c/d,e.isBetween(v+o,s,u)))return!0}return!1},e.__isLinesIntersect=function(t,n,i,o){if(null!=t&&null!=i){var r=t.length,l=i.length;if(r>0&&l>0){r--,l--;for(var a=0;a<r;a++)for(var s=t[a],u=t[a+1],_=0;_<l;_++){var p=i[_],c=i[_+1];if(e._isLineSegamentIntersect(s,u,n,p,c,o))return!0}}}return!1},e._isPointOnLineSegment=function(t,n,i){return e.isBetween(n.x,t.x,i.x)&&e.isBetween(n.y,t.y,i.y)},e._getOrientationByPoints=function(t,e,n){var i=(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y);return 0==i?0:i>0?1:2},e.isTwoLineIntersect=function(t,e,n,i){var o=this._getOrientationByPoints(t,e,n),r=this._getOrientationByPoints(t,e,i),l=this._getOrientationByPoints(n,i,t),a=this._getOrientationByPoints(n,i,e);return o!=r&&l!=a||!(0!=o||!this._isPointOnLineSegment(t,n,e))||!(0!=r||!this._isPointOnLineSegment(t,i,e))||!(0!=l||!this._isPointOnLineSegment(n,t,i))||!(0!=a||!this._isPointOnLineSegment(n,e,i))},e._isLineSegamentIntersect=function(t,n,i,o,r,l){if(i<=1&&l<=1)return e.isTwoLineIntersect(t,n,o,r);var a=void 0;return i>1?(a=e._creatRectangleShapeFromLineInfo(t,n,i),e._isRectangleShapeIntersectsWithLines(a,[o,r],l)):(a=e._creatRectangleShapeFromLineInfo(o,r,l),e._isRectangleShapeIntersectsWithLines(a,[t,n],i))},e._lineSpace=function(t,e){var n=t.x,i=t.y,o=e.x,r=e.y;return Math.sqrt((n-o)*(n-o)+(i-r)*(i-r))},e.__getPositionlabelResult=function(e,n){void 0===n&&(n=!0);var i=new t._PositionLabelResult;return i.success=e==t.PositionLabelResultCode.Success,i.resultCode=e,i.canRetry=n,i},e}();t.LayoutHelper=e}(t||(t={})),function(t){!function(t){t[t.Success=0]="Success",t[t.NoSpace=1]="NoSpace",t[t.Overlap=2]="Overlap"}(t.PositionLabelResultCode||(t.PositionLabelResultCode={}))}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(t){return t._createDataLabelView(t.text)},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return new t._NativeDataLabelOverlayView(e,this)},n}(t._BaseDataLabelDefinition);t._NativeDataLabelDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._nativeDataLabelDefinition=function(){return this._definition},n.prototype._createDataLabelView=function(t){return t._createDataLabelView(t.text)},n.prototype._getLabelsLayouter=function(){var e=this._ownerView,n=null;if(t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var i=e;i._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Polygonal&&i._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Radial||(n=i._isPie()&&e._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Smart?new t._PiePlotDataLabelViewLayout(i):new t._RadialPlotDataLabelViewLayout(i))}return null==n&&(n=new t._PlotDataLabelViewLayout(e)),n},n.prototype._layoutContent=function(t,e){var n=this._getLabelsLayouter();null!=n&&n._layout(t,this._labelViews(),e)},n.prototype._drawView=function(t,e){e._renderLabel&&(this._layoutContent(t,e),this._getDataLabelListRender(this._ownerView)._render(t,this._labelViews(),e))},n.prototype._getDataLabelListRender=function(e){var n;return null==(n=t._SunburstDataLabelsRender._from(e))&&(n=t._BarDataLabelsRender._from(e)),null==n&&(n=t._CartesianSymbolDataLabelsRender._from(e)),null==n&&(n=t._CartesianDataLabelsRender._from(e)),null==n&&(n=new t._DataLabelsRender(e._dataPointDataLabelOption().overlappingLabels)),n},n}(t._BaseDataLabelOverlayView);t._NativeDataLabelOverlayView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t){return e.call(this,t._dataPointDataLabelOption().overlappingLabels)||this}return i(n,e),n._from=function(e){return t._isSunburstPlotView(e)?new n(e):null},n.prototype._renderDataLabel=function(t,e,n){var i=n._pointView();0!=i._data()._dataSlices._length&&i._isVisible()&&0==i.queryInterface("IDisplayablePipeLine")._indexOf(i)&&n._render(t,e)},n}(t._DataLabelsRender);t._SunburstDataLabelsRender=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.name="Default",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataLabelDefinition=function(e,n,i){return n.scope!=t._Constants.DataPointTextScope?null:new t._NativeDataLabelDefinition(e,n)},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._NativeDataLabelPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype.createOverlayItemViews=function(){},n.prototype.useData=function(){},n.prototype._createSmartDataLabelViews=function(){for(var t=[],e=0,n=this._ownerView._filterPointViews();e<n.length;e++){var i=n[e],o=this._createDataLabelView(i);null!=o&&(t.push(o),i._dataLabelView(o))}return t},n.prototype._createDataLabelView=function(t){return this._definition._getDataLabelView(t)},n.prototype._layoutContent=function(e,n){for(var i=this._createSmartDataLabelViews(),o=0,r=i;o<r.length;o++)r[o]._layoutLabel(e,n);var l=this._ownerView,a=l._rectangle(),s=a.width<a.height?a.width/2:a.height/2;if(this.__labelViews=t._SmartLabelManager.arountCircle(i,s,l._cx(),l._cy()),t._isBarCartesianPlotView(l)){for(var u=0,_=this.__labelViews;u<_.length;u++)_[u]._layoutLabel(e,n);this.__labelViews=t._SmartLabelManager.arountCircle(this.__labelViews,s,l._cx(),l._cy())}},n.prototype._drawView=function(t,e){if(e._renderLabel){this._layoutContent(t,e);for(var n=0,i=this.__labelViews;n<i.length;n++)i[n]._render(t,e)}},n}(t._BaseOverlayView);t._SmartDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.arountRect=function(t,e){},e.arountCircle=function(n,i,o,r){for(var l=new t.core.Size(0,0),a=[],s=[],u=[],_=[],p=0,c=n;p<c.length;p++){var h=c[p],f=h._getAngle();null!=f&&f>0&&f<.5*Math.PI?(h._setPosition(t._RadialSmartLabelView._RightBottom),_.push(h)):null!=f&&f>=.5*Math.PI&&f<Math.PI?(h._setPosition(t._RadialSmartLabelView._LeftBottom),u.push(h)):null!=f&&f>=Math.PI&&f<1.5*Math.PI?(h._setPosition(t._RadialSmartLabelView._LeftTop),a.push(h)):null!=f&&f>=1.5*Math.PI&&f<t._Utility._PI2&&(h._setPosition(t._RadialSmartLabelView._RightTop),s.push(h));var d=h._rectangle().size;d.width>l.width&&(l.width=d.width),d.height>l.height&&(l.height=d.height)}var y=Math.sqrt(l.width*l.width-l.height*l.height);e._fittoLeftTop(a,y),e._fittoLeftBottom(u,y),e._fittoRightTop(s,y),e._fittoRightBottom(_,y);var g=a.concat(u,s,_);return e._overlap(g),g},e._overlap=function(t){for(var e=t.length,n=0;n<e;++n){var i=t[n];if(null!=i&&i._isVisible())for(var o=n;o<e;++o){var r=t[o];if(null==r||!r._rectangle().intersectsWith(i._rectangle()))break;r._visible=!1}}},e._shiftUp=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o._rectangle().intersectsWith(e._rectangle())){var r=o._rectangle().top-e._rectangle().bottom;if(!e._offsety(r))return!1}}return!0},e._shiftDown=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o._rectangle().intersectsWith(e._rectangle())){var r=o._rectangle().bottom-e._rectangle().top;if(!e._offsety(r))return!1}}return!0},e._fittoLeftTop=function(t,n){t.sort((function(t,e){return(null==t._getAngle()?0:t._getAngle())-(null==e._getAngle()?0:e._getAngle())}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftUp(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftDown(t.slice(0,o),r)}}},e._fittoLeftBottom=function(t,n){t.sort((function(t,e){var n=null==t._getAngle()?0:t._getAngle();return(null==e._getAngle()?0:e._getAngle())-n}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftDown(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftUp(t.slice(0,o),r)}}},e._fittoRightBottom=function(t,n){t.sort((function(t,e){return(null==t._getAngle()?0:t._getAngle())-(null==e._getAngle()?0:e._getAngle())}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftDown(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftUp(t.slice(0,o),r)}}},e._fittoRightTop=function(t,n){t.sort((function(t,e){var n=null==t._getAngle()?0:t._getAngle();return(null==e._getAngle()?0:e._getAngle())-n}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftUp(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftDown(t.slice(0,o),r)}}},e}();t._SmartLabelManager=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a,s,u,_,p,c){var h=e.call(this,i)||this;return h.__rectangle=t.core.Rect.ReadOnlyRect,h.__defaultStroke=t._CssColor._defaultStyleColor(),h.__option=n,h.__cx=o,h.__cy=r,h.__plotView=p,h.__lines=_.text.split("\n"),h.__endpoint=new t.core.Point(s,u),h._setAngle(l%t._Utility._PI2),h._setOffset(a),h.defaultStroke=c,h}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},Object.defineProperty(n.prototype,"text",{get:function(){return this.__lines.join("")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultStroke",{set:function(t){null!=t&&(this.__defaultStroke=t)},enumerable:!0,configurable:!0}),n.prototype._rectangleShape=function(){return null},n.prototype._getOverlap=function(){return!1},n.prototype._setOverlap=function(t){},n.prototype._getPosition=function(){return this.__position},n.prototype._setPosition=function(t){this.__position=t;var e=this._rectangle();if(t==n._LeftBottom||t==n._LeftTop){if(null!=e&&e.right>this.__cx){var i=this.__cx-e.right;this._offsetx(i)}}else null!=e&&e.left<this.__cx&&(i=this.__cx-e.left,this._offsetx(i))},n.prototype._offsetx=function(t,e){void 0===e&&(e=!0);var n=this._rectangle();if(n.left+=t,this.__startpoint.x+=t,this.__linerect.left+=t,e&&null!=this.__offset&&Math.abs(this.__startpoint.x-this.__cx)<this.__offset){this.__angle=Math.acos((this.__startpoint.x-this.__cx)/this.__offset);var i=this.__startpoint.y;return this.__startpoint.y=Math.sin(this.__angle)*this.__offset+this.__cy,n.top+=this.__startpoint.y-i,this._updateRectangle(n),this.__linerect.top+=this.__startpoint.y-i,!0}if(e)return n.left-=t,this._updateRectangle(n),this.__startpoint.x-=t,this.__linerect.left-=t,!1;var o=this.__startpoint.x-this.__cx,r=this.__startpoint.y-this.__cy;return this.__offset=Math.sqrt(o*o+r*r),!0},n.prototype._offsety=function(e,n){void 0===n&&(n=!0);var i=this._rectangle();if(i.top+=e,this.__startpoint.y+=e,this.__linerect.top+=e,n&&null!=this.__offset&&Math.abs(this.__startpoint.y-this.__cy)<this.__offset){var o=Math.asin((this.__startpoint.y-this.__cy)/this.__offset);null!=this.__angle&&this.__angle>=Math.PI/2&&this.__angle<Math.PI||null!=this.__angle&&this.__angle>=Math.PI&&this.__angle<1.5*Math.PI?o=Math.PI-o:null!=this.__angle&&this.__angle>1.5*Math.PI&&this.__angle<t._Utility._PI2&&(o=t._Utility._PI2+o),this.__angle=o;var r=this.__startpoint.x;return this.__startpoint.x=Math.cos(this.__angle)*this.__offset+this.__cx,i.left+=this.__startpoint.x-r,this._updateRectangle(i),this.__linerect.left+=this.__startpoint.x-r,!0}if(n)return i.top-=e,this._updateRectangle(i),this.__startpoint.y-=e,this.__linerect.top-=e,!1;var l=this.__startpoint.x-this.__cx,a=this.__startpoint.y-this.__cy;return this.__offset=Math.sqrt(l*l+a*a),!0},n.prototype._getAngle=function(){return this.__angle},n.prototype._setAngle=function(t){this.__angle=t,this._caclstartpoint()},n.prototype._caclstartpoint=function(){if(null!=this.__angle&&!isNaN(this.__angle)&&null!=this.__offset&&!isNaN(this.__offset)){var e=this.__angle,n=this.__offset,i=new t.core.Point(Math.cos(e)*n+this.__cx,Math.sin(e)*n+this.__cy);if(null!=this.__startpoint){var o=i.x-this.__startpoint.x,r=i.y-this.__startpoint.y,l=this._rectangle();l.left+=o,l.top+=r,this._updateRectangle(l),this.__linerect.left+=o,this.__linerect.top+=r}this.__startpoint=i}},n.prototype._getOffset=function(){return this.__offset},n.prototype._setOffset=function(t){this.__offset=t,this._caclstartpoint()},n.prototype._startpoint=function(){return this.__startpoint},Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),n.prototype.translate=function(t,e){var n=this._rectangle();n.left+=t,n.top+=e},n.prototype._layoutLabel=function(t,e){this._layout(t,null,e)},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(e,i,o){this.__linerect=new t.core.Rect(0,0,0,0);var r=new t.core.Size(0,0);e.beginTransform(),this._applyStyle(e,this.__plotView);for(var l=0,a=this.__lines;l<a.length;l++){var s=a[l],u=e.measureSingleLineString(s);u.width>r.width&&(r.width=u.width),r.height+=u.height}this.__linerect.width=n._LINESZIE,this.__linerect.height=r.height,e.restoreTransform();var _=new t.core.Rect(this._startpoint().x,this._startpoint().y-r.height/2,r.width+this.__linerect.width,r.height);null!=this.__angle&&this.__angle>Math.PI/2&&this.__angle<1.5*Math.PI?(_.left-=_.width,this.__linerect.left=this.__startpoint.x-this.__linerect.width):this.__linerect.left=this.__startpoint.x,this.__linerect.top=_.top,this._updateRectangle(_)},n.prototype._render=function(e,i){var o=this._rectangle();e.beginTransform(),this._applyStyle(e,this.__plotView),null!=this._getConnectingLineOption(this.__plotView)&&(e.beginTransform(),this._applyConnectingLineStyle(e,this.__plotView),e.drawLine(this.__startpoint.x,this.__startpoint.y,this.__endpoint.x,this.__endpoint.y),e.drawLine(this.__linerect.left,this.__linerect.top+this.__linerect.height/2,this.__linerect.right,this.__linerect.top+this.__linerect.height/2),e.restoreTransform()),e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var r=new t.core.Rect(o.left,o.top,o.width-this.__linerect.width,o.height);this.__position!==n._RightBottom&&this.__position!==n._RightTop||(r=new t.core.Rect(this.__linerect.right,o.top,o.width-this.__linerect.width,o.height)),(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0)&&e.drawRect(r.left,r.top,r.width,r.height),e.restoreTransform();for(var l=o.top,a=0,s=this.__lines;a<s.length;a++){var u=s[a];l+=e.measureSingleLineString(u).height,this.__position===n._LeftBottom||this.__position==n._LeftTop?e.drawSingleLineString(u,o.left,l):e.drawSingleLineString(u,o.left+this.__linerect.width,l)}e.restoreTransform()},n.prototype._applyStyle=function(e,n){t._StyleUtility._applyTextStyleOption(e,n._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyStyleOption(e,n._dataPointDataLabelOption().style),t._StyleUtility._applyTextStyleOption(e,n._dataPointDataLabelOption().textStyle)},n.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,this.__defaultStroke),t._StyleUtility._applyLineStyleFromStyleOption(e,this.__plotView._getDefinition()._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this.__plotView._getDefinition()._plotAreaOption.style),t._StyleUtility._applyLineStyleFromStyleOption(e,this.__plotView._dataPointDataLabelOption().style)},n.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none()),t._StyleUtility._applyFillOption(e,this.__plotView._getDefinition()._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this.__plotView._getDefinition()._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(e,this.__plotView._dataPointDataLabelOption().style.backgroundColor)},n.prototype._getConnectingLineOption=function(t){return this.__option.connectingLine},n.prototype._applyConnectingLineStyle=function(e,n){var i=this._getConnectingLineOption(n);if(null!=i){var o=t._StyleUtility._buildStyle();t._StyleUtility._applyLineStyleOption(o,i),null==o.stroke&&(o.stroke=this.__defaultStroke),t._StyleUtility._applyStyle(e,o)}},n.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},n._LeftTop=1,n._RightTop=2,n._LeftBottom=3,n._RightBottom=4,n._LINESZIE=20,n}(t._BaseView);t._RadialSmartLabelView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(t){return this._getSmartDataLabelView(t)},n.prototype._getSmartDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;var i=e.text;if(e instanceof t._RadialBarCartesianPointView){var o=e._getStartAngle()+e._getSweep()/2,r=e._getPlotView()._getLayoutView()._rectangle(),l=(r.width<r.height?r.width/2:r.height/2)+(isNaN(i.offset)?0:i.offset),a=e._getCenter().x+Math.cos(o)*e._getRadius(),s=e._getCenter().y+Math.sin(o)*e._getRadius();null==(w=e.color)&&(w=e._getCartesianSeriesView().color);var u=e._getPlotView();return new t._RadialSmartLabelView(i,e,u._cx(),u._cy(),o,l,a,s,n,u,w)}if(t._isCartesianPointView(e)){var _=e,p=_._getCartesianSeriesView()._getCartesianGroupView(),c=p._xAxisView(),h=p._yAxisView(),f=_._data(),d=p._getXValue(f),y=p._getYValue(f),g=c._scaleModel._value(d),m=NaN;if(t._isXyValuePointDataModel(f)?m=h._scaleModel._value(y.upperY):t._isRangeValuePointDataModel(f)&&(m=h._scaleModel._value(Math.max(y.lowerY,y.upperY))),null==g||isNaN(g)||null==m||isNaN(m))return null;var v=null==p._getXOffset()?0:p._getXOffset();null==v&&(v=0);var w,b=p._cx()+v*Math.cos(m)*g,S=p._cy()+v*Math.sin(m)*g,P=(o=m,p._getCartesianPlotView()._getLayoutView()._rectangle()),C=(P.width<P.height?P.width/2:P.height/2)+(isNaN(i.offset)?0:i.offset);return a=b+Math.cos(o)*g,s=S+Math.sin(o)*g,null==(w=e.color)&&(w=_._getCartesianSeriesView().color),new t._RadialSmartLabelView(i,e,p._cx(),p._cy(),o,C,a,s,n,e._getPlotView(),w)}return null},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return t._isCartesianPlotView(e)?new t._SmartDataLabelOverlayView(e,this):null},n}(t._BaseDataLabelDefinition);t._SmartDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.name="Default",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){return n.scope!=t._Constants.DataPointTextScope?null:this._isRadial(e)&&n.position===t.TextPosition.Smart?new t._SmartDataLabelDefinition(e,n):null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._SmartDataLabelPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianBackgroundColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isBackgroundColorEncodingOption(n)&&t._isCartesianPlotDefinition(e)&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.BackgroundColor,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.BackgroundColor)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianBackgroundColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&t._isCartesianPlotDefinition(e)&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=new t._ValuesNameLegendEncodingDefinitionBuilder(i._detailEncodingDefinitions,i._categoryEncodingDefinition,i._valueEncodingDefinitions)._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=a)return a;var s=t._NumbericLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=s)return s;var u=t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=u)return u;var _=t._CustomLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=_)return _;var p=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=p?p:new t._EmptyLegendDefinition(e,t.LegendType.Color,new t.models._CartesianEmptyColorLegendBuilder(e))}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianShapeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isShapeEncodingOption(n)&&t._isCartesianPlotDefinition(e)&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Shape,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Shape)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianShapeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianSizeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isSizeEncodingOption(n)&&t._isCartesianPlotDefinition(e)&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=t._ItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Size,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Size)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianSizeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TextColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t._TextCartesianPlotDefinition&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=new t._ValuesNameLegendEncodingDefinitionBuilder(i._detailEncodingDefinitions,i._categoryEncodingDefinition,i._valueEncodingDefinitions)._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=a)return a;var s=t._NumbericLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=s)return s;var u=t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=u)return u;var _=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=_?_:new t._EmptyLegendDefinition(e,t.LegendType.Color,new t.models._CartesianEmptyColorLegendBuilder(e))}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){void 0===o&&(o=null);var r=e.call(this,t,n,o)||this;r._labelBuilder._addLabel(t._label);var l=r._calculateRange(i.minLightness,i.maxLightness);return r._minLightness=l[0],r._maxLightness=l[1],r}return i(n,e),n.prototype._calculateRange=function(t,e){var n=.05,i=Math.ceil(t/n)*n,o=Math.floor(e/n)*n;return o==i?[o-n,i+n]:[o,i]},n.prototype._getLightnessByPoint=function(e){if(this._minimum==this._maximum)return null;if(t._isNumbericLegendEncodingDefinition(this._definition)){var n=this._definition,i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());if(null!=i&&null!=this._minimum&&null!=this._maximum){var o=i,r=this._minimum,l=this._maximum,a=this._minLightness;return(o-r)/(l-r)*(this._maxLightness-a)+a}}return null},n}(t._SingleLegendDataModel);t._LightnessLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return null!=i&&null!=i.arguments?o.__lightnessLegendOption=new t.options._LightnessLegendArgumentsOption(i.arguments.option()):o.__lightnessLegendOption=new t.options._LightnessLegendArgumentsOption,o}return i(n,e),n.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._NumbericLegendEncodingDefinition){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Lightness);return new t._LightnessLegendDataModel(e,i,this.__lightnessLegendOption,this._adopter)}return null},n}(t.models._LegendDataModelBuilder);t._LightnessLegendDataModelBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=0,o=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend);i<o.length;i++){var r=o[i],l=t._DataSlicesAggregate._defaultAggregate._aggregate(r._data()._dataSlices,this._definition._fieldDefinition()._dataField,this._definition._aggregate());null==l||isNaN(l)||((null==this._legend._maximum||this._legend._maximum<l)&&(this._legend._maximum=l),(null==this._legend._minimum||this._legend._minimum>l)&&(this._legend._minimum=l))}},n.prototype._apply=function(){this._adopterApply(this._plotAreaView)},n}(t._LegendInitializer);t._LightnessLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){var i=n._getDefinition();return n instanceof t._LightnessLegendDataModel&&i instanceof t._NumbericLegendEncodingDefinition?new t._LightnessLegendInitializer(e,n,i):null},e}();t._LightnessLegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendEncodingDefinition=function(e,n,i,o,r){if(null!=i.field&&t.options._isLightnessEncodingOption(i)){var l=i,a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(l.field,e._dataSchema,l.label);if(null!=a&&t._isNumberDataFieldDefinition(a))return new t._NumbericLegendEncodingDefinition(e,t.LegendType.Lightness,"Lightness",a,t._NativeExtension._toNonNullEnum(l.aggregate,t.Aggregate.List),null,new t._LightnessLegendDataModelBuilder(o,r))}return null},e._legendEncodingDefinitionBuilder=new e,e}();t._LightnessLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){!function(t){t._isLightnessLegendArgumentsOption=function(t){var e=t;return null!=e&&void 0!==e.minLightness&&void 0!==e.maxLightness}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"minLightness",{get:function(){return this.__minLightness},set:function(t){this.__minLightness!=t&&(this.__minLightness=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLightness",{get:function(){return this.__maxLightness},set:function(t){this.__maxLightness!=t&&(this.__maxLightness=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__minLightness=.25,this.__maxLightness=.75},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!1,0,1,!0)],n.prototype,"minLightness",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!1,0,1,!0)],n.prototype,"maxLightness",null),n}(e._Option),e._LightnessLegendArgumentsOption=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterCartesianLightnessLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isLightnessEncodingOption(n)&&e instanceof t._ScatterCartesianPlotDefinition&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=t._LightnessLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Lightness,l,o,r);return null!=a?(t._LegendInitializerBuilderCollection._defaultCollection._add(new t._LightnessLegendInitializerBuilder),a):new t._EmptyLegendDefinition(e,t.LegendType.Lightness)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterCartesianLightnessLegendPlugin=n}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#000000",1)),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if("BarLine"===this._option.type&&t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var n=e;if(t._isCartesianCategoryPlotDataModel(n._getCartesianPlotDataModel()))return new t._CartesianBarLineOverlayView(n,this)}return null},n}(t._BaseOverlayDefinition);t._BarLineOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition){if(t.options._isBarLineOverlayOption(n)){var o=n;return new t._BarLineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"BarLine"===(o=n).type&&t.options._isJsonOption(n))return new t._BarLineOverlayDefinition(e,new t.options._BarLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarLineOverlayDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._cartesianBarLineOverlayView=function(){return this._ownerView},n.prototype._layoutContent=function(t,e){},n.prototype._isNegative=function(e){var n=t.models._CartesianSupport.getRangeYValue(e);return null!=n?(null==n.upper?0:n.upper)<(null==n.lower?0:n.lower):!e._isPositive()},n.prototype._xor=function(t,e){return t!==e&&(t||e)},n.prototype._drawLine=function(e,n,i){var o=null,r=null,l=this._overlayGroupView()._groupView(),a=l._horizontalAxisView()._scaleModel._getReversed(),s=l._verticalAxisView()._scaleModel._getReversed();if(n instanceof t._FunnelCartesianPointView&&i instanceof t._FunnelCartesianPointView)this._drawLineInFunnel(e,n,i);else{if(n instanceof t._XyBarCartesianPointView&&i instanceof t._XyBarCartesianPointView)if(l._swapAxes()){var u=this._xor(a,this._isNegative(n))?n._rectangle().left:n._rectangle().right;o=new t.core.Point(u,s?n._rectangle().bottom:n._rectangle().top),u=this._xor(a,this._isNegative(i))?i._rectangle().left:i._rectangle().right,r=new t.core.Point(u,s?i._rectangle().top:i._rectangle().bottom)}else{var _=this._xor(s,this._isNegative(n))?n._rectangle().bottom:n._rectangle().top;o=new t.core.Point(a?n._rectangle().left:n._rectangle().right,_),_=this._xor(s,this._isNegative(i))?i._rectangle().bottom:i._rectangle().top,r=new t.core.Point(a?i._rectangle().right:i._rectangle().left,_)}else if(n instanceof t._RadialBarCartesianPointView&&i instanceof t._RadialBarCartesianPointView)if(l._swapAxes()){var p=this._xor(a,this._isNegative(n))?n._getStartAngle():n._getStartAngle()+n._getSweep(),c=s?n._getInnerRadius():n._getRadius(),h=Math.cos(p)*c+n._getCenter().x,f=Math.sin(p)*c+n._getCenter().y;p=this._xor(a,this._isNegative(i))?i._getStartAngle():i._getStartAngle()+i._getSweep(),c=s?i._getRadius():i._getInnerRadius();var d=Math.cos(p)*c+i._getCenter().x,y=Math.sin(p)*c+i._getCenter().y;o=new t.core.Point(h,f),r=new t.core.Point(d,y)}else p=this._xor(s,this._isNegative(n))?n._getStartAngle():n._getStartAngle()+n._getSweep(),c=a?n._getInnerRadius():n._getRadius(),h=Math.cos(p)*c+n._getCenter().x,f=Math.sin(p)*c+n._getCenter().y,p=this._xor(s,this._isNegative(i))?i._getStartAngle():i._getStartAngle()+i._getSweep(),c=a?i._getRadius():i._getInnerRadius(),d=Math.cos(p)*c+i._getCenter().x,y=Math.sin(p)*c+i._getCenter().y,o=new t.core.Point(h,f),r=new t.core.Point(d,y);null!=o&&null!=r&&e.drawLine(o.x,o.y,r.x,r.y)}},n.prototype._drawLineInFunnel=function(t,e,n){var i=null,o=null;null!=e._getFunnelPolygon()&&(i=e._getFunnelPolygon().rightTop),null!=n._getFunnelPolygon()&&(o=n._getFunnelPolygon().leftTop),null!=i&&null!=o&&t.drawLine(i.x,i.y,o.x,o.y)},n.prototype._drawView=function(e,n){var i=this,o=this._overlayGroupView()._groupView();if(!n._renderLabel){e.beginTransform();var r=o._getCartesianPlotView()._clipRectangle(),l=null==r?null:t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);e.drawGroup(null,l,null,(function(e){var n=i._cartesianBarLineOverlayView(),r=t._StyleCloneMaker._styleCloneMaker._cloneOf(n._barLineStyle());t._StyleUtility._applyStyle(e,r);for(var l=0,a=o._getCartesianSeriesViews();l<a.length;l++)for(var s=a[l],u=s._filterPointViews(),_=u.length,p=0;p<_-1;p++){var c=u[p],h=u[p+1];s._getConnectedStatus(c,h)&&i._drawLine(e,c,h)}})),e.restoreTransform()}},n}(t._CartesianOverlayItemView);t._CartesianBarLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._barLineOverlayDefinition=function(){return this._definition},n.prototype._barLineStyle=function(){if(null==this.__barLineStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._barLineOverlayDefinition()._defaultStyle());t._StyleUtility._applyLineStyleOption(e,this._barLineOverlayDefinition()._option.style),this.__barLineStyle=e}return this.__barLineStyle},n.prototype._createOverlayItemView=function(e,n){var i=new t._CartesianBarLineOverlayItemView(this,e,n);this._itemViews().push(i)},n.prototype.createOverlayItemViews=function(){e.prototype.createOverlayItemViews.call(this);for(var t=0,n=this._groupViews();t<n.length;t++){var i=n[t];this._createOverlayItemView(i,"overlayItem")}},n.prototype.useData=function(){},n}(t._CartesianOverlayView);t._CartesianBarLineOverlayView=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LineStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="BarLine",this.__style=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"style",null),r}(e._OverlayOption),e._BarLineOverlayOption=n}(t||(t={})),function(t){!function(t){t._isBarLineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"BarLine"===n.type&&void 0!==n.style}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t[t.Both=0]="Both",t[t.Plus=1]="Plus",t[t.Minus=2]="Minus"}(t.ErrorBarDirection||(t.ErrorBarDirection={}))}(t||(t={})),function(t){!function(t){t[t.StandardDeviation=0]="StandardDeviation",t[t.StandardError=1]="StandardError",t[t.Percentage=2]="Percentage",t[t.Fixed=3]="Fixed",t[t.Custom=4]="Custom"}(t.ErrorBarErrorType||(t.ErrorBarErrorType={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"}(t.ErrorBarOrientation||(t.ErrorBarOrientation={}))}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#000000",1)),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if("ErrorBar"===this._option.type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e)){var n=new t.models._ErrorBarVaribilityCalculatorBuilder(this).build();if(null!=n)return new t._CartesianErrorBarOverlayView(e,n,this)}return null},n.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._ErrorBarLegendItemsBuilder(this):null},n}(t._BaseOverlayDefinition);t._ErrorBarDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isErrorBarOption(n)){var o=n;return new t._ErrorBarDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ErrorBar"===(o=n).type&&t.options._isJsonOption(n))return new t._ErrorBarDefinition(e,new t.options._ErrorBarOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ErrorBarOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._erroBarDefinition=function(){return e.prototype._definition.call(this)},n.prototype.buildLegendItemDataModels=function(e,n){return t._CartesianErrorBarOverlayView,[]},n}(e._OverlayLegendItemsBuilder),e._ErrorBarLegendItemsBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__definition=t}return e.prototype._definition=function(){return this.__definition},e.prototype.build=function(){var e=this.__definition._option;switch(e.errorType){case t.ErrorBarErrorType.StandardError:return this._createStandardErrorBy(e);case t.ErrorBarErrorType.StandardDeviation:return this._createStandardDeviationBy(e);case t.ErrorBarErrorType.Percentage:return this._createPercentageBy(e);case t.ErrorBarErrorType.Fixed:return this._createFixedVariabilityBy(e);case t.ErrorBarErrorType.Custom:return this._createCustomVariabilityBy(e);default:return null}},e.prototype._createStandardErrorBy=function(e){return new t.StandardError},e.prototype._createStandardDeviationBy=function(e){var n=new t.StandardDeviation;return n.scale=e.value,n},e.prototype._createPercentageBy=function(e){var n=new t.PercentageVariability;return n.percent=e.value,n},e.prototype._createFixedVariabilityBy=function(e){var n=new t.FixedVariability;return n.offset=e.value,n},e.prototype._createCustomVariabilityBy=function(e){return new t._CustomErrorBarVariabilityCalculator(e)},e}(),e._ErrorBarVaribilityCalculatorBuilder=n}(t||(t={})),function(t){var e=function(){function e(t){this.__option=t,this.__currentErrorValueIndex=0}return e.prototype._replaceJoin=function(){return!1},e.prototype._getValueBy=function(e,n,i){var o=this.__option;if(null!=o.errorValues){var r=o.errorValues;if(this.__currentErrorValueIndex<r.length)return i?r[this.__currentErrorValueIndex].positive:r[this.__currentErrorValueIndex++].negative}else if(null!=o.errorField){var l=n._getDefinition()._dataSchema._fields[o.errorField];if(null!=l){var a=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,l,o.aggregate,1);return null==a||!t._AnyTypeUtility._isNumber(a)||isNaN(a)?NaN:a}}return NaN},e.prototype._calculate=function(t){return null},e.prototype._calculateBy=function(e,n,i){if(null!=e&&e.length>0){var o=[];this.__currentErrorValueIndex=0;for(var r=0;r<e.length;++r){var l=null,a=n[r];l=null==e[r]||isNaN(e[r])?t.Variability._illegal():t.Variability._from(this._getValueBy(a,i,!0),this._getValueBy(a,i,!1),e[r]),o.push(l)}return o}return null},e}();t._CustomErrorBarVariabilityCalculator=e}(t||(t={})),function(t){var e=function(){function e(){this.__offset=.1}return e.prototype._replaceJoin=function(){return!1},Object.defineProperty(e.prototype,"offset",{set:function(e){if(null!=e&&e<0)throw new t.OptionError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__offset=e)},enumerable:!0,configurable:!0}),e.prototype._calculate=function(e){if(null!=e&&e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];null==r||isNaN(r)?n.push(t.Variability._illegal()):n.push(t.Variability._from(this.__offset,this.__offset,r))}return n}return null},e}();t.FixedVariability=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){this.__scale=.05}return e.prototype._replaceJoin=function(){return!1},Object.defineProperty(e.prototype,"percent",{set:function(e){if(null!=e&&e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__scale=e)},enumerable:!0,configurable:!0}),e.prototype._calculate=function(e){if(null!=e&&e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(null==r||isNaN(r))n.push(t.Variability._illegal());else{var l=Math.abs(r)*this.__scale;n.push(t.Variability._from(l,l,r))}}return n}return null},e}();t.PercentageVariability=e}(t||(t={})),function(t){var e=function(){function e(){this.__scale=1}return e.prototype._replaceJoin=function(){return!0},Object.defineProperty(e.prototype,"scale",{set:function(e){if(null!=e&&e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__scale=e)},enumerable:!0,configurable:!0}),e.prototype._calculate=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));if(null!=n&&n.length>1){for(var i=n.length,o=n.reduce((function(t,e){return t+e}),0)/i,r=n.reduce((function(t,e){return t+(e-o)*(e-o)}),0),l=Math.sqrt(r/(i-1))*this.__scale,a=[],s=0,u=e;s<u.length;s++){var _=u[s];null==_||isNaN(_)?a.push(t.Variability._illegal()):a.push(t.Variability._from(l,l,o))}return a}return null},e}();t.StandardDeviation=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._replaceJoin=function(){return!1},e.prototype._calculate=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));if(null!=n&&n.length>1){for(var i=n.length,o=n.reduce((function(t,e){return t+e}),0)/i,r=n.reduce((function(t,e){return t+(e-o)*(e-o)}),0),l=Math.sqrt(r/(i-1))/Math.sqrt(i),a=[],s=0,u=e;s<u.length;s++){var _=u[s];null==_||isNaN(_)?a.push(t.Variability._illegal()):a.push(t.Variability._from(l,l,_))}return a}return null},e}();t.StandardError=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.setPlus(t),this.setMinus(e),this.__join=n}return t._from=function(e,n,i){return isNaN(i)?null:new t(e,n,i)},t._illegal=function(){return new t(NaN,NaN,null)},Object.defineProperty(t.prototype,"plus",{get:function(){return this.__plus},enumerable:!0,configurable:!0}),t.prototype.setPlus=function(t){null==t||isNaN(t)?this.__plus=NaN:this.__plus=t},Object.defineProperty(t.prototype,"minus",{get:function(){return this.__minus},enumerable:!0,configurable:!0}),t.prototype.setMinus=function(t){null==t||isNaN(t)?this.__minus=NaN:this.__minus=t},Object.defineProperty(t.prototype,"join",{get:function(){return this.__join},set:function(t){null==t||isNaN(t)||(this.__join=t)},enumerable:!0,configurable:!0}),t}();t.Variability=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorValues",{get:function(){return this.__errorValues},set:function(t){null!=t&&(this.__errorValues=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorField",{get:function(){return this.__errorField},set:function(t){this.__errorField!=t&&(this.__errorField=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){this.__orientation!=t&&(this.__orientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endCap",{get:function(){return this.__endCap},set:function(t){this.__endCap!=t&&(this.__endCap=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorType",{get:function(){return this.__errorType},set:function(t){this.__errorType!=t&&(this.__errorType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"direction",{get:function(){return this.__direction},set:function(t){this.__direction!=t&&(this.__direction=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__type="ErrorBar",this.__value=null,this.__errorType=t.ErrorBarErrorType.StandardError,this.__direction=t.ErrorBarDirection.Both,this.__style=null,this.__label=null,this.__endCap=!0,this.__orientation=t.ErrorBarOrientation.Auto,this.__field=null,this.__detailLevel=t.DetailLevel.Total,this.__detailKey=null,this.__aggregate=t.Aggregate.List,this.__errorField=null,this.__errorValues=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ErrorValueOption")],r.prototype,"errorValues",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"errorField",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate,t.Aggregate.List)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarOrientation,t.ErrorBarOrientation.Auto)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"endCap",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarErrorType,t.ErrorBarErrorType.StandardError)],r.prototype,"errorType",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarDirection,t.ErrorBarDirection.Both)],r.prototype,"direction",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"value",null),r}(e._OverlayOption),e._ErrorBarOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"positive",{get:function(){return this.__positive},set:function(t){null!=this.__positive&&this.__positive==t||(this.__positive=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"negative",{get:function(){return this.__negative},set:function(t){null!=this.__negative&&this.__negative==t||(this.__negative=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__positive=null,this.__negative=null},o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"positive",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"negative",null),n}(e._Option),e._ErrorValueOption=n}(t||(t={})),function(t){!function(t){t._isErrorBarOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ErrorBar"==n.type&&void 0!==n.style&&void 0!==n.label&&void 0!==n.endCap&&void 0!==n.errorType&&void 0!==n.direction&&void 0!==n.orientation&&void 0!==n.value&&void 0!==n.field&&void 0!==n.detailLevel&&void 0!==n.detailKey&&void 0!==n.errorValues&&void 0!==n.errorField&&void 0!==n.aggregate}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function n(n,i,o,l,a,s,u){void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=null);var _=e.call(this,n,i,o,l,null!=a?a:new t._CartesianPlotDataBuilder,null==s?new t._CartesianEncodingsDefinitionBuilder:s,u)||this;return null!=o.encodings&&_._buildEncodings(),_._visualViewOrderComparer=new r(_),_}return i(n,e),n.prototype._isStack=function(){var e=this._detailDefinitions();return!(null==e||e.length<=0)&&t._isStackGroupDetailEncodingDefintion(e[0])},n.prototype._valueDefinitions=function(){return this.__valueDefinitions},n.prototype._detailDefinitions=function(){return this.__detailDefinitions},n.prototype._emptyEncodingsDefinition=function(){return t._CartesianEncodingsDefinition._emptyEncodingsDefinition},n.prototype._buildEncodings=function(){var e=this._encodingsDefinition;this.__valueDefinitions=[];var n=e._valueEncodingDefinitions;if(null!=n&&n.length>0)if(null!=e._getCategoryEncodingDefinition())this.__valueDefinitions=n.map((function(t){return t._getValueDimensionDefinition()}));else{for(var i=[],o=[],r=0,l=n;r<l.length;r++){var a=l[r]._getValueDimensionDefinition();t._isXyStyleValueDimensionDefinition(a)?i.push(a):o.push(a)}i.length>0?this.__valueDefinitions=i:this.__valueDefinitions=o}if(this.__detailDefinitions=[],null!=e._detailEncodingDefinitions&&e._detailEncodingDefinitions.length>0)for(var s=0,u=e._detailEncodingDefinitions;s<u.length;s++){var _=u[s];if(t._isSingleDataFieldDetailEncodingDefinition(_)){var p=_;this.__detailDefinitions.push(p)}}},n.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},n.prototype._getDataModelType=function(){return"Cartesian"},n}(t._BasePlotDefinition);t._BaseCartesianPlotDefinition=e;var n=function(){function e(){}return e.prototype._compare=function(e,n){if(e==n)return 0;if(e instanceof t._CartesianSeriesView&&t._isCartesianPointView(n))return-1;if(t._isCartesianPointView(e)&&n instanceof t._CartesianSeriesView)return 1;if(e instanceof t._CartesianSeriesView&&n instanceof t._CartesianSeriesView)return e._isSelected()&&!n._isSelected()?1:!e._isSelected()&&n._isSelected()?-1:e._getCartesianSeriesDataModel()._index()-n._getCartesianSeriesDataModel()._index();if(e instanceof t._CartesianPointView&&n instanceof t._CartesianPointView){var i=e._data(),o=n._data();return e._isSelected()&&!n._isSelected()?1:!e._isSelected()&&n._isSelected()?-1:i._getSeries()._index()==o._getSeries()._index()?i._getSeries().points().indexOf(i)-o._getSeries().points().indexOf(o):i._getSeries()._index()-o._getSeries()._index()}return 0},e._stackVisualViewOrderComparer=new e,e}(),o=function(){function e(){}return e.prototype._compare=function(e,n){return e instanceof t._CartesianSeriesView&&n instanceof t._CartesianPointView?this._compareView(e,n):e instanceof t._CartesianPointView&&n instanceof t._CartesianSeriesView?-this._compareView(n,e):e instanceof t._CartesianSeriesView&&n instanceof t._CartesianSeriesView?this._compareSeriesView(e,n):e instanceof t._CartesianPointView&&n instanceof t._CartesianPointView?this._comparePointView(e,n):0},e.prototype._comparePointView=function(t,e){return t._getCartesianSeriesView()!=e._getCartesianSeriesView()?this._compareSeriesView(t._getCartesianSeriesView(),e._getCartesianSeriesView()):t._isSelected()&&!e._isSelected()?1:!t._isSelected()&&e._isSelected()?-1:t._index()-e._index()},e.prototype._compareSeriesView=function(t,e){return t._isSelected()&&!e._isSelected()?1:!t._isSelected()&&e._isSelected()?-1:t._getCartesianSeriesDataModel()._index()-e._getCartesianSeriesDataModel()._index()},e.prototype._compareView=function(t,e){if(e._getCartesianSeriesView()==t)return-1;var n=this._compareSeriesView(t,e._getCartesianSeriesView());return 0!=n?n:-1},e._clusterVisualViewOrderComparer=new e,e}(),r=function(){function e(e){this.__visualViewOrderComparers=[];var i=e._hoverBehaviorPolicy._visualViewOrderComparer;null!=i&&this.__visualViewOrderComparers.push(i),e._dvConfigOption.selectionMode!=t.SelectionMode.None||e._isStack()?this.__visualViewOrderComparers.push(n._stackVisualViewOrderComparer):this.__visualViewOrderComparers.push(o._clusterVisualViewOrderComparer)}return e.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},e}()}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){var a=e.call(this,i)||this;return a.__plot=t,a.__group=n,a.__xValue=o,a.__yValues=r,a.__dimValues={},a.__detailDimension=l,a._generateValues(),a._generateItem(),a._isNullOrNaN=!1,a}return i(n,e),n.prototype._plot=function(){return this.__plot},n.prototype._getSeries=function(){return this.__series},n.prototype._setSeries=function(t){this.__series=t},n.prototype._group=function(){return this.__group},n.prototype._valueDefinition=function(){return this._group()._y()._definition()},Object.defineProperty(n.prototype,"xDimensionValue",{get:function(){return this.__xValue},enumerable:!0,configurable:!0}),n.prototype._yValues=function(){return this.__yValues},n.prototype._detailDimension=function(){return this.__detailDimension},n.prototype._detail=function(){return null==this.__detailDimension?null:this.__detailDimension._key()},n.prototype._percentageCategory=function(){if(null!=this.xDimensionValue){var t=this._plot()._totalValueByCategoryValue(this);return 0!=t?Math.abs(this._value())/t:0}return null},n.prototype._percentageDetail=function(){if(null!=this._detailDimension()){var t=this._plot()._totalValueByDetailsValue(this);return 0!=t?Math.abs(this._value())/t:0}return null},n.prototype._percentagePlot=function(){var t=this._plot()._totalValue(this);return 0!=t?Math.abs(this._value())/t:0},n.prototype._setDimValue=function(t,e){this.__dimValues[t]=e},n.prototype._getDimValue=function(t){return this.__dimValues[t]},n.prototype._resetLayout=function(){this.__dimValues={}},n.prototype._onFilteredChanged=function(t){var e=this._group()._x(),n=this._group()._y();this._addOrDeleteDimensionValue(e,this.__xValue,t);for(var i=0,o=this._yValues();i<o.length;i++){var r=o[i];this._addOrDeleteDimensionValue(n,r,t)}},n.prototype._addOrDeleteDimensionValue=function(e,n,i){if(t.models._isLinearDimension(e)){var o=e;if(i){var r=o._dimensionValues().indexOf(n);r>=0&&(o._dimensionValues().splice(r,1),this._resetLinearDimensionMinMax(o))}else o._dimensionValues().push(n),this._resetLinearDimensionMinMax(o)}},n.prototype._resetLinearDimensionMinMax=function(t){t._setMin(null),t._setMax(null)},n.prototype._generateValues=function(){},n.prototype._generateItem=function(){if(null!=this.__xValue){var e=this._plot()._cartesianPlotDefinition(),n=e._valueDefinitions(),i=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();if(null!=i){var o=i._hierarchicalGroupingDefinitions[0]._dataFieldDefinition._dataField._name;this._item()[o]=this.__xValue.rawValue}else if(null!=n&&0!=n.length)for(var r=0,l=n;r<l.length;r++){var a=l[r];if(t._isXyStyleValueDimensionDefinition(a)){var s=a._dimensionDefinition();null!=s&&(this._item()[s._fieldDefinition()._dataField._name]=this.__xValue.rawValue)}}}},Object.defineProperty(n.prototype,"key",{get:function(){return this._detail()},enumerable:!0,configurable:!0}),n}(t._PointDataModel);t._ValuePointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,o)||this;return r.__plot=e,r.__seriesList=[],r.__points=[],r.__x=n,r.__y=i,r}return i(e,t),e.prototype._plot=function(){return this.__plot},e.prototype._seriesList=function(){return this.__seriesList},e.prototype._filteredSeriesList=function(){return this.__seriesList.filter((function(t){return!(t._filtered||t._legendFiltered)}))},e.prototype._points=function(){return this.__points},e.prototype._x=function(){return this.__x},e.prototype._y=function(){return this.__y},e.prototype._valueDefinition=function(){return this._y()._definition()},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._CartesianGroupDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,n,i,o)||this;return a._mirrorGroup=null,a.__mirrorDimension=r,a.__isForwardDirection=l,a}return i(e,t),e.prototype._mirrorDimension=function(){return this.__mirrorDimension},e.prototype._isForwardDirection=function(){return this.__isForwardDirection},e}(t._CartesianGroupDataModel);t._CartesianMirrorGroupDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.___groups=[],i.___seriesList=[],i.___points=[],i.__totalValue={},i.__totalValueByDetails={},i.__totalValueByCategory={},i}return i(n,e),n.prototype._cartesianPlotDefinition=function(){return this._definition()},n.prototype._points=function(){for(var t=[],e=0,n=this._groups();e<n.length;e++)for(var i=0,o=n[e]._seriesList();i<o.length;i++)for(var r=0,l=o[i].points();r<l.length;r++){var a=l[r];null!=a&&t.push(a)}return t},n.prototype._groups=function(){return this.___groups},n.prototype._seriesList=function(){return this.___seriesList},n.prototype._createGroup=function(e,n,i){return new t._CartesianGroupDataModel(this,e,n,i)},n.prototype._createSeries=function(e,n,i){return new t._CartesianSeriesDataModel(this,e,n,i)},n.prototype._totalValue=function(t){var e=this._groups().indexOf(t._group());if(null==this.__totalValue[e]){this.__totalValue[e]=0;for(var n=0,i=this._points();n<i.length;n++){var o=i[n];o._group()==t._group()&&(this.__totalValue[e]=this.__totalValue[e]+Math.abs(o._value()))}}return this.__totalValue[e]},n.prototype._totalValueByDetailsValue=function(t){var e=this._groups().indexOf(t._group());null==this.__totalValueByDetails[e]&&(this.__totalValueByDetails[e]={});var n=this.__totalValueByDetails[e],i=t._detailDimension(),o=-1;if(null!=i)for(var r=0;r<this._seriesList().length;r++){var l=this._seriesList()[r];if(null!=l._detailDimension()&&i._equalsWith(l._detailDimension())){o=r;break}}if(null==n[o]){n[o]=0;for(var a=0,s=this._points();a<s.length;a++){var u=s[a];(null!=u._detailDimension()&&null!=i&&u._detailDimension()._equalsWith(i)||null==u._detailDimension()&&null==i)&&(n[o]=n[o]+Math.abs(u._value()))}}return n[o]},n.prototype._totalValueByCategoryValue=function(e){var n=this._groups().indexOf(e._group());null==this.__totalValueByCategory[n]&&(this.__totalValueByCategory[n]={});var i=this.__totalValueByCategory[n],o=e._group()._x(),r=e.xDimensionValue,l=o._dimensionValues().indexOf(r);if(null==i[l]){i[l]=0;for(var a=0,s=this._points();a<s.length;a++){var u=s[a];e._group()==u._group()&&(u.xDimensionValue==r||u.xDimensionValue instanceof t.models._ZeroDimensionValue&&r instanceof t.models._ZeroDimensionValue)&&(i[l]=i[l]+Math.abs(u._value()))}}return i[l]},n.prototype._createXDimension=function(e,n){var i=new t.models._DimensionBuilder,o=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.X})),r=this._cartesianPlotDefinition()._detailDefinitions();return i.build(e,r,o.length>0?o[0]:null,n)},n.prototype._createYDimension=function(e,n){var i=new t.models._DimensionBuilder,o=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.Y})),r=this._cartesianPlotDefinition()._detailDefinitions();return i.build(e,r,o.length>0?o[0]:null,n)},n.prototype._excludeNullsFilterSeriesList=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i._detailDimension();if(null!=o&&0==i._points().length)i._filtered=!0;else if(null!=o&&o._definition()._excludeNulls&&i._isNulls()){i._filtered=!0;for(var r=0,l=i.points();r<l.length;r++)l[r]._filtered=!0}}},n.prototype._canCreatePoint=function(t,e){return null!=t&&e.length>0},n.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._y()._definition();if(null!=l){if(null!=l.queryInterface("IRangeValueDimensionDefinition")){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._RangeValuePointDataModel(this,e,n,i,o,r,a)}if(null!=l.queryInterface("IAggregateValueDimensionDefinition"))return new t._XyValuePointDataModel(this,e,n,i,o,r);if(null!=l.queryInterface("IXyValueDimensionDefinition"))return new t._XyValuePointDataModel(this,e,n,i,o,r)}return null},n}(t._PlotDataModel);t._CartesianPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,o)||this;return r.__group=n,r.__detailDimension=i,r.__points=[],r.__seriesStyle=r._findSeriesStyle(t._definition()._plotConfigOption.seriesStyles),r}return i(n,e),n.prototype._points=function(){return this.points()},n.prototype.points=function(){return this.__points},n.prototype._filterPoints=function(){return this.__points.filter((function(t){return!(t._filtered||t._legendFiltered||t._isNullOrNaN)}))},n.prototype.plot=function(){return e.prototype._plot.call(this)},n.prototype._valueDefinition=function(){return this._group()._y()._definition()},n.prototype._detailDimension=function(){return this.__detailDimension},n.prototype._group=function(){return this.__group},n.prototype._detail=function(){return null==this.__detailDimension?null:this.__detailDimension._key()},n.prototype._index=function(){if(null==this.__index)for(var t=this.plot()._seriesList(),e=0;e<t.length;e++)if(t[e]==this){this.__index=e;break}return this.__index},n.prototype._isNulls=function(){for(var t=0,e=this.points();t<e.length;t++)if(null!=e[t]._value())return!1;return!0},n.prototype._containsNull=function(){for(var t=0,e=this.points();t<e.length;t++)if(null==e[t]._value())return!0;return!1},n.prototype._seriesStyle=function(){return this.__seriesStyle},n.prototype._findSeriesStyle=function(e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(null!=this._valueDefinition()&&null!=this._detailDimension()){var r=o.key,l=this._detailDimension();if(this._valueDefinition()._identifier==o.valueField&&l._keyEquals(r))return t.options._SeriesStyleOptionCloneMarker._seriesStyleOptionCloneMarker._cloneOf(o)}}return null},n.prototype._getGradientColorScale=function(){return this.__gradientColorScale},n.prototype._setGradientColorScale=function(t){this.__gradientColorScale=t},n.prototype._symbols=function(){var t=this._plot()._definition()._plotConfigOption.symbols,e=this._seriesStyle();return null!=e&&null!=e.symbols&&(t=e.symbols),t},Object.defineProperty(n.prototype,"key",{get:function(){return null!=this.__detailDimension?this.__detailDimension._key():null},enumerable:!0,configurable:!0}),n}(t._SeriesDataModel);t._CartesianSeriesDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._categoryDimension=null,i._categoryModels=[],i}return i(n,e),Object.defineProperty(n.prototype,"categoryModels",{get:function(){return this._categoryModels},enumerable:!0,configurable:!0}),n.prototype._getMirrorGroupDetailDefinition=function(){var e=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group==t.Group.Mirror}));return e.length>0?e[0]:null},n.prototype._createGroups=function(){var e=[],n=this._cartesianPlotDefinition()._encodingsDefinition._getCartesianCategoryEncodingDefinition()._getDimensionDefinition(),i=this._createXDimension(n,this._dataSlices);this._categoryDimension=i;var o=this._cartesianPlotDefinition()._valueDefinitions(),r=this._getMirrorGroupDetailDefinition();if(null!=r){var l=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),a=[];a.push(new t.QueryGroupByOption(new t._GroupingDefinition(r._dataFieldDefinition,r._sortDefinition)));var s=l.groupBy(a).query().groups;if(s.length>=2)for(var u=new t.models._DetailDimension(r,s[0].key),_=new t.models._DetailDimension(r,s[1].key),p=0,c=o;p<c.length;p++){var h=c[p],f=this._createYDimension(h,s[0]._dataSlices),d=this._createYDimension(h,s[1]._dataSlices),y=this._createMirrorGroup(i,f,s[0]._dataSlices,u,!1),g=this._createMirrorGroup(i,d,s[1]._dataSlices,_,!0);if(t._isCartesianMirrorGroupDataModel(y)){var m=y;if(t._isCartesianMirrorGroupDataModel(g)){var v=g;m._mirrorGroup=v,v._mirrorGroup=m}}e.push(y),e.push(g)}else for(var w=0,b=o;w<b.length;w++){h=b[w];var S=this._createYDimension(h,this._dataSlices);e.push(this._createGroup(i,S,this._dataSlices))}}else for(var P=0,C=o;P<C.length;P++)h=C[P],S=this._createYDimension(h,this._dataSlices),e.push(this._createGroup(i,S,this._dataSlices));return e},n.prototype._createMirrorGroup=function(e,n,i,o,r){return new t._CartesianMirrorGroupDataModel(this,e,n,i,o,r)},n.prototype._initialize=function(){var t,e=this._createGroups();this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._relevanceSeriesList(this.___points,o._seriesList()),this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},n.prototype._createCategoryModels=function(){for(var e=this._cartesianPlotDefinition()._getEncodingsDefinition()._getCategoryEncodingDefinition(),n=e._hierarchicalGroupingDefinitions.slice(),i=new t._DataSlicesSorter(e._dataSliceSortDefinition,n[0]._dataFieldDefinition)._sort(this._dataSlices),o=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),r=[],l=0,a=n.reverse();l<a.length;l++){var s=a[l];r.push(new t.QueryGroupByOption(new t._GroupingDefinition(s._dataFieldDefinition,e._sortDefinition,s._filter)))}var u=o.groupBy(r).query().groups,_=[];return t._TreeNodeUtility._traverseGrouping(u,null,0,(function(e,n,i){var o=new t._DimensionValueGroup(n.key,n._dataSlices,e);return null!=e?e.children.push(o):_.push(o),o})),_},n.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var s=a[l],u=n._createSeries(s,new t.models._DetailDimension(o,i.key),i._dataSlices);s._seriesList().push(u)}}))}else for(var s=0,u=e;s<u.length;s++){var _=u[s],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},n.prototype._relevanceSeriesList=function(t,e){for(var n=0,i=t;n<i.length;n++)for(var o=i[n],r=0,l=e;r<l.length;r++){var a=l[r];o._group()==a._group()&&(null!=o._detailDimension()&&null!=a._detailDimension()&&o._detailDimension()._equalsWith(a._detailDimension())||null==o._detailDimension()&&null==a._detailDimension())&&(a.points().push(o),o._setSeries(a))}},n.prototype._createPoints=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror})),o=[];t._TreeNodeUtility._traverseDFS(this._categoryDimension._dimensionValueGroups(),(function(t,e){0==t.children.length&&o.push(t)}));for(var r=[],l=function(e){var l=e._y(),s=!!t._isCartesianMirrorGroupDataModel(e),u=l._definition(),_=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(u);if(null==_)return"continue";for(var p=function(o){var p,c=s?t._DataSlicesUtility._intersection(o._dataSlices,e._dataSlices):o._dataSlices,h=o._dimensionValues().length>0?o._dimensionValues()[0]:null,f=[];if(null!=i&&i.length>0)for(var d=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(c,null),y=function(i){var o=[];o.push(new t.QueryGroupByOption(new t._GroupingDefinition(i._dataFieldDefinition,i._sortDefinition)));var r=d.groupBy(o).query().groups;t._TreeNodeUtility._traverseDFS(r,(function(o,r){var a=_._buildDimensionValues(o._dataSlices,l,u),s=n._createPoint(e,o._dataSlices,h,a,new t.models._DetailDimension(i,o.key));null!=s&&f.push(s)}))},g=0,m=i;g<m.length;g++)y(m[g]);else{var v=_._buildDimensionValues(c,l,u),w=a._createPoint(e,c,h,v,null);null!=w&&f.push(w)}r.push.apply(r,f),(p=e._points()).push.apply(p,f)},c=0,h=o;c<h.length;c++)p(h[c])},a=this,s=0,u=e;s<u.length;s++)l(u[s]);return r},n.prototype._addNullDataPointModels=function(){if(null!=this._categoryDimension&&null!=this._categoryDimension._definition())for(var e=0,n=this._groups();e<n.length;e++)for(var i=n[e],o=0,r=i._seriesList();o<r.length;o++){var l=r[o],a=i._x()._dimensionValues(),s=i._y();if(!t._isOrdinalDimension(s))for(var u=0;u<a.length;++u){var _=l.points();if(u>=_.length||u<_.length&&(null==_[u]||_[u].xDimensionValue!==a[u])){var p=this._addNullDataPoint(i,a[u],s,l._detailDimension());null!=p&&(p._setSeries(l),_.splice(u,0,p))}}}},n.prototype._addNullDataPoint=function(e,n,i,o){var r,l=[];l.push(new t._DimensionValue(null));var a=e._y()._definition();return null!=a&&null!=a.queryInterface("IRangeValueDimensionDefinition")&&l.push(new t._DimensionValue(null)),(r=i._dimensionValues()).push.apply(r,l),this._createPoint(e,this._dataSlices._dataSource._slice(0,0),n,l,o)},n}(t._CartesianPlotDataModel);t._CartesianCategoryPlotDataModel=e}(t||(t={})),function(t){t._isCartesianCategoryPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._addNullDataPointModels&&void 0!==e.categoryModels}}(t||(t={})),function(t){t._isCartesianGroupDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._x&&"function"==typeof e._y&&"function"==typeof e._seriesList&&"function"==typeof e._filteredSeriesList&&"function"==typeof e._points&&"function"==typeof e._valueDefinition}}(t||(t={})),t||(t={}),function(t){t._isCartesianMirrorGroupDataModel=function(t){var e=t;return null!=e&&void 0!==e._mirrorGroup&&"function"==typeof e._mirrorDimension&&"function"==typeof e._isForwardDirection}}(t||(t={})),t||(t={}),function(t){t._isCartesianPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._seriesList&&"function"==typeof e._cartesianPlotDefinition&&"function"==typeof e._groups&&"function"==typeof e._totalValueByCategoryValue&&"function"==typeof e._totalValueByDetailsValue&&"function"==typeof e._totalValue&&"function"==typeof e._createPoint}}(t||(t={})),function(t){t._isCartesianPointDataModel=function(t){var e=t;return null!=e&&void 0!==e.xDimensionValue&&void 0!==e._isNullOrNaN&&"function"==typeof e._value&&"function"==typeof e._valueDefinition&&"function"==typeof e._group&&"function"==typeof e._detail&&"function"==typeof e._detailDimension&&"function"==typeof e._setSeries&&"function"==typeof e._setDimValue&&"function"==typeof e._percentageCategory&&"function"==typeof e._percentageDetail&&"function"==typeof e._percentagePlot&&"function"==typeof e._plot&&"function"==typeof e._resetLayout}}(t||(t={})),t||(t={}),function(t){t._isCartesianSeriesDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._valueDefinition&&"function"==typeof e._detailDimension&&"function"==typeof e._getGradientColorScale&&"function"==typeof e._setGradientColorScale&&"function"==typeof e._seriesStyle&&"function"==typeof e._detail&&"function"==typeof e.points&&"function"==typeof e._filterPoints&&"function"==typeof e._group&&"function"==typeof e._index&&"function"==typeof e._isNulls&&"function"==typeof e.plot&&"function"==typeof e._symbols}}(t||(t={})),t||(t={}),function(t){t._isRangeValuePointDataModel=function(t){var e=t;return null!=e&&void 0!==e.upperDimensionValue&&void 0!==e.lowerDimensionValue&&void 0!==e.lower&&void 0!==e.upper}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t,n,i,o,r,l)||this;return s.__stringFormatting=a,s}return i(n,e),Object.defineProperty(n.prototype,"upperDimensionValue",{get:function(){return this.__upperDimensionValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lowerDimensionValue",{get:function(){return this.__lowerDimensionValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lower",{get:function(){return this.__lowerDimensionValue.rawValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"upper",{get:function(){return this.__upperDimensionValue.rawValue},enumerable:!0,configurable:!0}),n.prototype._value=function(){return(null==this.__upper?0:this.__upper)-(null==this.__lower?0:this.__lower)},n.prototype._getLower=function(){return this.__lower},n.prototype._setLower=function(t){this.__lower=t,null!=this.__lowerDimensionValue&&this.__lowerDimensionValue._updatevalue(t)},n.prototype._displayLower=function(){var t=this._getDimValue("previous");return null!=t?t:this._getLower()},n.prototype._getUpper=function(){return this.__upper},n.prototype._setUpper=function(t){this.__upper=t,null!=this.__upperDimensionValue&&this.__upperDimensionValue._updatevalue(t)},n.prototype._displayUpper=function(){var t=this._getDimValue("percentage");if(null!=t)return t;var e=this._getDimValue("stack");if(null!=e)return e;var n=this._getDimValue("cluster");return null!=n?n:this._getUpper()},n.prototype._setDimValue=function(t,n){e.prototype._setDimValue.call(this,t,n),"cluster"==t||"stack"==t||"percentage"==t?null!=this.__upperDimensionValue&&this.__upperDimensionValue._updatevalue(n):"previous"==t&&null!=this.__lowerDimensionValue&&this.__lowerDimensionValue._updatevalue(n)},n.prototype._generateValues=function(){e.prototype._generateValues.call(this),this._yValues().length>1?(this.__lowerDimensionValue=this._yValues()[0],this.__upperDimensionValue=this._yValues()[1],this.__lower=this.__lowerDimensionValue._value(),this.__upper=this.__upperDimensionValue._value()):(this.__lowerDimensionValue=null,this.__upperDimensionValue=null,this.__lower=null,this.__upper=null)},n.prototype._generateItem=function(){e.prototype._generateItem.call(this);var t=this._group()._y()._definition().queryInterface("IRangeValueDimensionDefinition");if(null!=t){var n=this._item();n[t._lowerFieldDefinition._dataField._name]=this.__lowerDimensionValue.rawValue,n[t._upperFieldDefinition._dataField._name]=this.__upperDimensionValue.rawValue}},n.prototype.queryInterface=function(n){return"INumberStackValue"==n?new t.models._NumberStackValueInfo(this._displayUpper(),this._displayLower()):"INumberRangeValue"==n?new t.models._NumberRangeValueInfo(this._getLower(),this._getUpper(),this.__stringFormatting):e.prototype.queryInterface.call(this,n)},n}(t._ValuePointDataModel);t._RangeValuePointDataModel=e}(t||(t={})),function(t){t._isXyValuePointDataModel=function(t){return null!=t&&void 0!==t.yDimensionValue}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._value=function(){return this.__value},Object.defineProperty(n.prototype,"yDimensionValue",{get:function(){return this.__yDimensionValue},enumerable:!0,configurable:!0}),n.prototype._getYValue=function(){return this.__value},n.prototype._setYValue=function(t){this.__value=t,null!=this.__yDimensionValue&&this.__yDimensionValue._updatevalue(t)},n.prototype._displayValue=function(){var t=this._getDimValue("percentage");if(null!=t)return t;var e=this._getDimValue("stack");if(null!=e)return e;var n=this._getDimValue("cluster");return null!=n?n:this._getYValue()},n.prototype._setDimValue=function(t,n){e.prototype._setDimValue.call(this,t,n),"cluster"!=t&&"stack"!=t&&"percentage"!=t||null!=this.__yDimensionValue&&this.__yDimensionValue._updatevalue(n)},n.prototype._generateValues=function(){e.prototype._generateValues.call(this),this._yValues().length>0?(this.__yDimensionValue=this._yValues()[0],this.__value=this.__yDimensionValue._value()):(this.__yDimensionValue=null,this.__value=null)},n.prototype._generateItem=function(){e.prototype._generateItem.call(this);var n=this._group()._y()._definition().queryInterface("IValueDimensionDefinition");if(null!=n&&null!=this.__yDimensionValue){var i=null;(t._isAggregateValueDimensionDefinition(n)||t._isXyValueDimensionDefinition(n))&&(i=n._fieldDefinition()._dataField._name),this._item()[i]=this.__yDimensionValue.rawValue}},n.prototype.queryInterface=function(n){return"INumberStackValue"==n?new t.models._NumberStackValueInfo(this._displayValue(),this._getDimValue("previous")):"INumberValue"==n?new t.models._NumberValueInfo(this._getYValue()):e.prototype.queryInterface.call(this,n)},n}(t._ValuePointDataModel);t._XyValuePointDataModel=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createGroups=function(){for(var t=[],e=this._cartesianPlotDefinition()._valueDefinitions(),n=this._createXDimension(null,this._dataSlices),i=0,o=e;i<o.length;i++){var r=o[i],l=this._createYDimension(r,this._dataSlices);t.push(this._createGroup(n,l,this._dataSlices))}return t},n.prototype._initialize=function(){var t,e=this._createGroups();this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},n.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var s=a[l],u=n._createSeries(s,new t.models._DetailDimension(o,i.key),i._dataSlices);s._seriesList().push(u)}}))}else for(var s=0,u=e;s<u.length;s++){var _=u[s],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},n.prototype._createPoints=function(e){for(var n=this,i=[],o=function(e){var o=e._y(),l=e._filteredSeriesList(),a=o._definition(),s=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(a);if(null==s)return"continue";for(var u=new t.models._ZeroDimensionValue,_=function(l){var _=!1;if(t._isAggregateValueDimensionDefinition(a)&&a._aggregate()==t.Aggregate.List&&(_=!0),_)l._dataSlices.forEach((function(t){var r=s._buildDimensionValues(t,o,a),_=n._createPoint(e,t,u,r,l._detailDimension());null!=_&&(i.push(_),_._setSeries(l),l.points().push(_),e._points().push(_))}));else{var p=s._buildDimensionValues(l._dataSlices,o,a),c=r._createPoint(e,l._dataSlices,u,p,l._detailDimension());null!=c&&(i.push(c),c._setSeries(l),l.points().push(c),e._points().push(c))}},p=0,c=l;p<c.length;p++)_(c[p])},r=this,l=0,a=e;l<a.length;l++)o(a[l]);return i},n}(t._CartesianPlotDataModel);t._CartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createGroups=function(){for(var t=[],e=0,n=this._cartesianPlotDefinition()._valueDefinitions();e<n.length;e++){var i=n[e],o=this._createXDimension(this._getXFieldDimensionDefinition(i),this._dataSlices),r=this._createYDimension(i,this._dataSlices);t.push(this._createGroup(o,r,this._dataSlices))}return t},n.prototype._initialize=function(){var t,e=this._createGroups();this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},n.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var s=a[l],u=n._createSeries(s,new t.models._DetailDimension(o,i.key),i._dataSlices);s._seriesList().push(u)}}))}else for(var s=0,u=e;s<u.length;s++){var _=u[s],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},n.prototype._createPoints=function(e){for(var n=this,i=[],o=function(e){var o=e._x(),r=e._y(),l=e._filteredSeriesList(),a=o._definition(),s=r._definition(),u=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(s);if(null==u)return"continue";if(t._isXFieldDimensionDefinition(a)){var _=a,p=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(_);if(null==p)return"continue";for(var c=function(t){t._dataSlices.forEach((function(l){var a=p._buildDimensionValues(l,o,_);if(1==a.length){var c=u._buildDimensionValues(l,r,s),h=n._createPoint(e,l,a[0],c,t._detailDimension());null!=h&&(h._setSeries(t),i.push(h),t.points().push(h),e._points().push(h))}}))},h=0,f=l;h<f.length;h++)c(f[h])}},r=0,l=e;r<l.length;r++)o(l[r]);return i},n.prototype._getXFieldDimensionDefinition=function(e){return t._isXyStyleValueDimensionDefinition(e)?e._dimensionDefinition():null},n}(t._CartesianPlotDataModel);t._CartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u,_){var p=t.call(this,e,o,r,l,a,s,u,_)||this;return p._detailEncodingDefinitions=n,p._valueEncodingDefinitions=i,p}return i(e,t),e.prototype._getCartesianCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},e._emptyEncodingsDefinition=new e(null,[],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._CartesianEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function n(n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this)||this;return o._adopter=new t.models.CartesianLegendAdopter,o._categoryEncodingDefinitionBuilder=null==n?t._CartesianCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder:n,o._detailEncodingDefinitionListBuilder=null==i?t._CartesianDetailEncodingDefinitionListBuilder._detailEncodingDefinitionListBuilder:i,o}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._categoryEncodingDefinition=null==this._categoryEncodingDefinitionBuilder?null:this._categoryEncodingDefinitionBuilder._buildCategoryEncodingDefinition(t,n.category),i._detailEncodingDefinitions=this._createDetailEncodingDefinitions(t,n.details,i),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._CartesianEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._CartesianEncodingsDefinition(e._categoryEncodingDefinition,e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},n.prototype._createValueEncodingDefinition=function(e,n,i){var o=null;return null==i._categoryEncodingDefinition&&null!=(o=t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))||null!=(o=new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n))||null!=(o=t._NumberRangeValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))||null!=(o=t._DateRangeValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))?o:null},n.prototype._createDetailEncodingDefinitions=function(t,e,n){return this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,e)},n}(t._EncodingsDefinitionBuilder);t._CartesianEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._CartesianEncodingsDefinitionContext=e}(t||(t={})),function(t){var e=function(){function t(t){this._encodingDefinition=t,this.__label=t._hierarchicalGroupingDefinitions[0].label()}return t.prototype._getCartesianCategoryEncodingDefinition=function(){return this._encodingDefinition},t.prototype.label=function(){return this.__label},t.prototype.equalsWith=function(e){if(this==e)return!0;if(e instanceof t){var n=this._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions,i=e._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions;if(null!=n&&null!=i&&n.length==i.length){for(var o=n.length,r=0;r<o;r++)if(!n[r].equalsWith(i[r]))return!1;return!0}}return!1},t.prototype.queryInterface=function(t){return null},t}();t._CartesianCategoryDimensionDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__dimensionDefinition=null,l}return i(n,e),n.prototype._getDimensionDefinition=function(){return null==this.__dimensionDefinition?this.__dimensionDefinition=new t._CartesianCategoryDimensionDefinition(this):this.__dimensionDefinition},n}(t._HierarchicalCategoryEncodingDefinition);t._CartesianCategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCategoryEncodingDefinition=function(e,n){if(null==n.field)return null;var i=t._HierarchicalDataFieldDefinitionListBuilder._dataFieldDefinitionListBuilder._buildHierarchicalDataFieldDefinitionList(n,e._dataSchema);if(i.length>0){var o=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(n.sort,e._dataSchema,i[0]._dataField._name),r=null,l=null;return n.onlySortBeforeGrouping?(l=o,r=null):(r=o,l=null),new t._CartesianCategoryEncodingDefinition(e,i,n.excludeNulls,r,l)}return null},e._categoryEncodingDefinitionBuilder=new e,e}();t._CartesianCategoryEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isCartesianCategoryDimensionDefinition=function(t){return null!=t&&"function"==typeof t._getCartesianCategoryEncodingDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return e.call(this,[t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0)||this}return i(n,e),n.prototype._buildDetailEncodingDefinitions=function(e,n){var i=[];if(null!=n&&n.length>0)for(var o=0,r=n;o<r.length;o++){var l=r[o],a=this._buildDetailEncodingDefinition(e,l);if(null!=a&&t._isSingleDataFieldDetailEncodingDefinition(a)){var s=a;t._isClusterGroupDetailEncodingDefintion(s)||t._isStackGroupDetailEncodingDefintion(s)?i.some((function(e){return t._isClusterGroupDetailEncodingDefintion(e)||t._isStackGroupDetailEncodingDefintion(e)}))||i.push(s):t._isMirrorGroupDetailEncodingDefintion(s)?i.some((function(e){return t._isMirrorGroupDetailEncodingDefintion(e)}))||i.unshift(s):i.push(s)}}return i},n._detailEncodingDefinitionListBuilder=new n,n}(t._DetailEncodingDefinitionListBuilder);t._CartesianDetailEncodingDefinitionListBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isCartesianPlotDefinition=function(t){var e=t;return void 0!==e._detailDefinitions&&void 0!==e._valueDefinitions}}(t||(t={})),function(t){var e=function(){function t(){}return t._toCartesianSeriesModel=function(t){return null!=t.queryInterface("ICartesianSeriesModel")?t:null},t._toCartesianPointModel=function(t){return null!=t.queryInterface("ICartesianPointModel")?t:null},t}();t._CartesianPlotViewModelUtility=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._dataModel=n,i._seriesViews=i._createCartesianSeriesViews(n),i}return i(n,e),n.prototype._createCartesianSeriesViews=function(t){for(var e=[],n=0,i=t._filteredSeriesList();n<i.length;n++){var o=i[n],r=this._createCartesianSeriesView(o);null!=r&&e.push(r)}return e},n.prototype._horizontalAxisView=function(){return this.___horizontalAxisView},n.prototype._verticalAxisView=function(){return this.___verticalAxisView},n.prototype._xAxisView=function(){return this._ownerView._swapAxes()?this._verticalAxisView():this._horizontalAxisView()},n.prototype._yAxisView=function(){return this._ownerView._swapAxes()?this._horizontalAxisView():this._verticalAxisView()},n.prototype._axisMode=function(){return this._ownerView._axisMode()},n.prototype._getXOffset=function(){return this._ownerView._getXOffset()},n.prototype._getYOffset=function(){return this._ownerView._getYOffset()},n.prototype._swapAxes=function(){return this._ownerView._swapAxes()},n.prototype._reversed=function(){return this._ownerView._reversed()},n.prototype._cx=function(){return this._ownerView._cx()},n.prototype._cy=function(){return this._ownerView._cy()},n.prototype._isPercentage=function(){return this._ownerView._isPercentage()},n.prototype._isStack=function(){return this._ownerView._isStack()},n.prototype._attachCoordinateSystem=function(e){var n=this._ownerView._getLayoutView()._coordinateSystemView(this._ownerView._getDefinition().coordinateSystemDefinition);if(null!=n&&t._isCartesianCoordinateSystemView(n)){var i=n,o=t._Util.find(e,(function(e){return e._orientation==t.Orientation.Horizontal})),r=t._Util.find(e,(function(e){return e._orientation==t.Orientation.Vertical}));if(null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(null==r)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);var l=this._swapAxes()?this._dataModel._y():this._dataModel._x(),a=this._swapAxes()?this._dataModel._x():this._dataModel._y();if(t._isCartesianMirrorGroupDataModel(this._dataModel)&&this._axisMode()==t.AxisMode.Cartesian){var s=this._dataModel;o._isForwardDirection=s._isForwardDirection();var u=this._swapAxes()?s._mirrorGroup._y():s._mirrorGroup._x();(_=i._attachAxisView(o,[l,u]))._setIsForwardDirection(s._isForwardDirection()),this.___horizontalAxisView=_}else this.___horizontalAxisView=i._attachAxisView(o,[l]);if(t._isCartesianMirrorGroupDataModel(this._dataModel)&&this._axisMode()!=t.AxisMode.Cartesian&&!this._swapAxes()){s=this._dataModel,r._isForwardDirection=s._isForwardDirection();var _,p=this._swapAxes()?s._mirrorGroup._x():s._mirrorGroup._y();(_=i._attachAxisView(r,[a,p]))._setIsForwardDirection(s._isForwardDirection()),this.___verticalAxisView=_}else this.___verticalAxisView=i._attachAxisView(r,[a]);null==this.___horizontalAxisView&&(this.___horizontalAxisView=i._attachAxisView(o,[])),null==this.___verticalAxisView&&(this.___verticalAxisView=i._attachAxisView(r,[]))}},n.prototype._getYValue=function(e){var n=null,i=null,o=e.queryInterface("INumberStackValue");return null!=o?(n=o.previous,i=o.value,new t._YValueRange(n,i)):new t._YValueRange(n,i)},n.prototype._getXValue=function(e){var n=this._xAxisView();if(null!=n&&t._isTimeAxisScale(n._scaleModel._scale)){var i=e.xDimensionValue.rawValue;if(null!=i&&i instanceof Date)return n._scaleModel._getActualValue(i.valueOf())}return e.xDimensionValue._value()},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){this._layoutSeriesViews(t,e,n)},n.prototype._layoutSeriesViews=function(t,e,n){for(var i=this._ownerView._visualViews,o=0,r=this._seriesViews;o<r.length;o++){var l=r[o];i.indexOf(l)<0&&i.push(l),l._layout(t,e,n)}},n.prototype._initAxis=function(){var e=this._horizontalAxisView(),n=this._verticalAxisView();t._isPolygonalAxisView(e)&&e._setOtherAxisView(n);var i=this._xAxisView(),o=this._yAxisView();this._ownerView._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Polygonal&&this._ownerView._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Radial||(i._setStartAngleDegree(this._ownerView._startAngle()),i._sweep=this._ownerView._sweep()*Math.PI/180,i._innerRadius=this._ownerView._innerRadius(),o._setStartAngleDegree(this._ownerView._startAngle()),o._sweep=this._ownerView._sweep()*Math.PI/180,o._innerRadius=this._ownerView._innerRadius()),this._initAxisDomainPadding(),this._clippingPointViews()},n.prototype._initAxisDomainPadding=function(){var t=this._xAxisView(),e=t._scaleModel._getDomainPadding();null!=e&&this._ownerView._xMinPadding()>e[0]&&(e[0]=this._ownerView._xMinPadding()),null!=e&&this._ownerView._xMaxPadding()>e[1]&&(e[1]=this._ownerView._xMaxPadding()),null!=e&&t._scaleModel._setDomainPadding(e)},n.prototype._clippingPointViews=function(){for(var e=this._xAxisView(),n=this._yAxisView(),i=null!=e?e._scaleModel._maximum:NaN,o=null!=e?e._scaleModel._minimum:NaN,r=null!=n?n._scaleModel._maximum:NaN,l=null!=n?n._scaleModel._minimum:NaN,a=0,s=this._seriesViews;a<s.length;a++)for(var u=0,_=s[a]._getPointViews();u<_.length;u++){var p=_[u];if(t._isCartesianPointView(p)){var c=p;this._resetOutOfRangeFlag(c);var h=c._data(),f=this._getYValue(h);if(null!=f.lowerY&&!isNaN(f.lowerY)&&(f.lowerY>r||f.lowerY<l))c.valueIsOutOfAxesRange=!0;else if(null!=f.upperY&&!isNaN(f.upperY)&&(f.upperY>r||f.upperY<l))c.valueIsOutOfAxesRange=!0;else{var d=this._getXValue(h);null!=d&&!isNaN(d)&&(d>i||d<o)&&(c.valueIsOutOfAxesRange=!0)}}}},n.prototype._resetOutOfRangeFlag=function(t){t.valueIsOutOfAxesRange=!1},n.prototype._getCartesianGroupDataModel=function(){return this._dataModel},n.prototype._getCartesianPlotView=function(){return this._ownerView},n.prototype._getCartesianSeriesViewCount=function(){return this._seriesViews.length},n.prototype._traverseCartesianSeriesView=function(t){for(var e=0,n=this._seriesViews;e<n.length;e++)t(n[e])},n.prototype._hasSelectedPointView=function(){for(var t=0,e=this._seriesViews;t<e.length;t++)if(e[t]._hasSelectedPointView())return!0;return!1},n.prototype._getCartesianSeriesViews=function(){return this._seriesViews},n}(t._BaseView);t._BaseCartesianGroupView=e}(t||(t={})),function(t){t._isCartesianGroupView=function(t){var e=t;return null!=e&&"function"==typeof e._getCartesianGroupDataModel&&"function"==typeof e._axisMode&&"function"==typeof e._getXOffset&&"function"==typeof e._getYOffset&&"function"==typeof e._swapAxes&&"function"==typeof e._reversed&&"function"==typeof e._cx&&"function"==typeof e._cy&&"function"==typeof e._isPercentage&&"function"==typeof e._isStack&&"function"==typeof e._getCartesianPlotView&&"function"==typeof e._getCartesianSeriesViews&&"function"==typeof e._xAxisView&&"function"==typeof e._yAxisView&&"function"==typeof e._attachCoordinateSystem&&"function"==typeof e._getYValue&&"function"==typeof e._getXValue&&"function"==typeof e._initAxis&&"function"==typeof e._horizontalAxisView&&"function"==typeof e._verticalAxisView}}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,o)||this;return r.__minDistanceCalc=!1,r.__stringFormatting=null,r._pointViews=[],r._visualViews=[],r.__minDistanceInDimensionValues=null,r.__baseLineValue=null,r.__xOffset=null,r.__yOffset=null,r._addNullDataPointModels(),r._processDataPointModels(),r._groupViews=r._createCartesianGroupViews(o),r._pointViewLayouter=t._BuildInPointViewLayoutBuilderCollection._defaultBuildInPointViewLayoutBuilders()._viewLayout(r,r._getDefinition()._plotConfigOption.plugins,r._getDefinition()._pluginCollection),r._createPointViews(),r}return i(n,e),n.prototype._getClippingMode=function(){return this._definition._plotConfigOption.clippingMode},n.prototype._createCartesianGroupViews=function(t){for(var e=[],n=0,i=t._groups();n<i.length;n++){var o=i[n],r=this._createCartesianGroupView(o);null!=r&&e.push(r)}return e},n.prototype._cartesianCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},n.prototype._axisMode=function(){return this._definition._plotConfigOption.axisMode},n.prototype._filterPointViews=function(){return this._pointViews.filter((function(t){var e=t._data();return!(e._filtered||e._legendFiltered||e._isNullOrNaN)}))},n.prototype._getXOffset=function(){if(null==this.__xOffset){var t=this._definition._plotConfigOption.offset;if(t.length>0&&null!=t[0]){var e=t[0].value;e>1?e=1:e<-1&&(e=-1),this.__xOffset=e}}return this.__xOffset},n.prototype._getYOffset=function(){if(null==this.__yOffset){var t=this._definition._plotConfigOption.offset;t.length>1&&null!=t[1]&&(this.__yOffset=t[1].value)}return this.__yOffset},n.prototype._xMinPadding=function(){return this._xPadding()},n.prototype._xMaxPadding=function(){return this._xPadding()},n.prototype._xPadding=function(){return 0},n.prototype._swapAxes=function(){return this._definition._plotConfigOption.swapAxes},n.prototype._reversed=function(){return this._yAxisView()._scaleModel._getReversed()},n.prototype._minDistanceInDimensionValues=function(){return null!=this.__minDistanceInDimensionValues||this.__minDistanceCalc||(this.__minDistanceInDimensionValues=this._calculateMinDistanceInValues(),this.__minDistanceCalc=!0),this.__minDistanceInDimensionValues},n.prototype._yOrigin=function(){var t=this._xAxisView(),e=this._yAxisView(),n=t._getDefinition()._option.origin,i=0,o=e._scaleModel._minimum,r=e._scaleModel._maximum;return null!=n&&n>=(null==o?0:o)&&n<=(null==r?0:r)?i=n:null!=r&&r<0?i=r:null!=o&&o>0&&(i=o),i},n.prototype._xOrigin=function(){var t=this._xAxisView(),e=this._yAxisView()._getDefinition()._option.origin,n=0,i=t._scaleModel._minimum,o=t._scaleModel._maximum;return null!=e&&e>=(null==i?0:i)&&e<=(null==o?0:o)?n=e:null!=o&&o<0?n=o:null!=i&&i>0&&(n=i),n},n.prototype._getBaseLineValue=function(){if(null!=this.__baseLineValue)return this.__baseLineValue;var t=this._yAxisView(),e=0;return e=this._isPercentage()||this._isStack()?null!=t._scaleModel._maximum&&t._scaleModel._maximum<0?t._scaleModel._maximum:null!=t._scaleModel._minimum&&t._scaleModel._minimum>0?t._scaleModel._minimum:0:this._yOrigin(),this.__baseLineValue=e,this.__baseLineValue},n.prototype._xAxisDirection=function(t,e){void 0===e&&(e=null);var n=this._xAxisView()._scaleModel._getReversed(),i=this._xPositive(t,e);return n&&(i=!i),i?1:-1},n.prototype._yAxisDirection=function(t,e){void 0===e&&(e=null);var n=this._yAxisView()._scaleModel._getReversed(),i=this._yPositive(t,e);return n&&(i=!i),i?1:-1},n.prototype._yPositive=function(t,e){var n=!0,i=this._getBaseLineValue(),o=e;if(null==o){var r=t._data().queryInterface("INumberStackValue");null!=r&&(o=r.value)}return(null==o?0:o)<i&&(n=!1),n},n.prototype._xPositive=function(t,e){void 0===e&&(e=null);var n=!0,i=this._xOrigin();return(null!=e?e:t._xPos())<i&&(n=!1),n},n.prototype._attachCoordinateSystem=function(e){for(var n=0,i=this._groupViews;n<i.length;n++){var o=i[n];o._attachCoordinateSystem(e),this.__horizontalAxisView=o._horizontalAxisView(),this.__verticalAxisView=o._verticalAxisView()}var r=this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition);if(null!=r&&t._isCartesianCoordinateSystemView(r)){var l=r,a=t._Util.find(e,(function(e){return e._orientation==t.Orientation.Horizontal})),s=t._Util.find(e,(function(e){return e._orientation==t.Orientation.Vertical}));if(null==a)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(null==s)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);null==this.__horizontalAxisView&&(this.__horizontalAxisView=l._attachAxisView(a,[])),null==this.__verticalAxisView&&(this.__verticalAxisView=l._attachAxisView(s,[]))}},n.prototype._addNullDataPointModels=function(){t._isCartesianCategoryPlotDataModel(this._dataModel)&&this._dataModel._addNullDataPointModels()},n.prototype._processDataPointModels=function(){for(var e=this._showNulls(),n=this._showNaNs(),i=0,o=this._dataModel._groups();i<o.length;i++)for(var r=0,l=o[i]._seriesList();r<l.length;r++)for(var a=0,s=l[r].points();a<s.length;a++){var u=s[a];if(u instanceof t._XyValuePointDataModel){var _=u._getYValue();null==_&&(e==t.ShowNulls.Zeros?u._setYValue(0):u._isNullOrNaN=!0),isNaN(_)&&(n==t.ShowNulls.Zeros?u._setYValue(0):u._isNullOrNaN=!0)}else if(u instanceof t._RangeValuePointDataModel){var p=u._getUpper();null==p&&(e==t.ShowNulls.Zeros?u._setUpper(0):u._isNullOrNaN=!0),isNaN(p)&&(n==t.ShowNulls.Zeros?u._setUpper(0):u._isNullOrNaN=!0);var c=u._getLower();null==c&&(e==t.ShowNulls.Zeros?u._setLower(0):u._isNullOrNaN=!0),isNaN(c)&&(n==t.ShowNulls.Zeros?u._setLower(0):u._isNullOrNaN=!0)}}},n.prototype._createPointViews=function(){for(var t=0,e=this._groupViews;t<e.length;t++)for(var n=0,i=e[t]._getCartesianSeriesViews();n<i.length;n++)for(var o=i[n],r=0,l=o._getCartesianSeriesDataModel().points();r<l.length;r++){var a=l[r],s=this._createCartesianPointView(o,a);null!=s&&(this._pointViews.push(s),s._setIndex(o._getPointViews().length),o._getPointViews().push(s))}},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._visualViews.length=0,this.__baseLineValue=null,this._layoutGroupViews(t,n,i)},n.prototype._getLayoutShapes=function(){var e=[];if(this._isAxisClipping())return e;for(var n=0,i=this._overlayViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");if(null!=o){var r=o.box();e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(r))}}return e},n.prototype._actionConditionalFormat=function(){(new t.models._CartesianConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},n.prototype._beforeAttachCoordinateSystem=function(){e.prototype._beforeAttachCoordinateSystem.call(this),this._layoutStack()},n.prototype._afterAttachCoordinateSystem=function(){this._isPercentage()&&this._layoutPercentage(),e.prototype._afterAttachCoordinateSystem.call(this),this._createOverlayDimension(),this._expandAxis()},n.prototype._isExpandAxis=function(e){return this._axisMode()==t.AxisMode.Polygonal||this._axisMode()==t.AxisMode.Radial},n.prototype._expandAxis=function(){var t=this._verticalAxisView();null!=t&&t._setExpand(this._isExpandAxis(t))},n.prototype._createOverlayDimension=function(){for(var e=[],n=[],i=[],o=[],r=0,l=this._overlayViews();r<l.length;r++){var a=l[r];if(t._isOverlayRangeBuilder(a)&&null!=a){var s=a.buildRangePolicy();if(null!=s){var u=s.getOverlayRange();null!=u&&(null==u.minX||isNaN(u.minX)||e.push(u.minX),null==u.maxX||isNaN(u.maxX)||n.push(u.maxX),null==u.minY||isNaN(u.minY)||i.push(u.minY),null==u.maxY||isNaN(u.maxY)||o.push(u.maxY))}}}var _=null;0!=e.length&&(_=Math.min.apply(Math,e));var p=null;0!=n.length&&(p=Math.max.apply(Math,n));var c=null;0!=i.length&&(c=Math.min.apply(Math,i));var h=null;if(0!=o.length&&(h=Math.max.apply(Math,o)),null!=_&&!isNaN(_)||null!=p&&!isNaN(p)){var f=new t.models._OverlayDimension(_,p);null!=this._xAxisView()&&this._xAxisView()._dimensions().push(f)}(null!=c&&!isNaN(c)||null!=h&&!isNaN(h))&&(f=new t.models._OverlayDimension(c,h),null!=this._yAxisView()&&this._yAxisView()._dimensions().push(f))},n.prototype._getPlotLayout=function(){var e=this._definition._plotConfigOption.plugins,n=this._definition._pluginCollection;return t._BuildInCartesianPlotLayoutBuilderCollection.defaultBuildInCartesianPlotLayoutBuilders()._cartesianPlotLayout(this,e,n)},n.prototype._layoutStack=function(){this._getPlotLayout()._layout(this._dataModel)},n.prototype._layoutPercentage=function(){this._getPlotLayout()._percentagewise(this._dataModel)},n.prototype._layoutGroupViews=function(t,e,n){for(var i=0,o=this._groupViews;i<o.length;i++)o[i]._layout(t,e,n)},n.prototype._showNulls=function(){return this._definition._plotConfigOption.showNulls},n.prototype._showNaNs=function(){return this._definition._plotConfigOption.showNaNs},n.prototype._innerRadius=function(){var t=this._definition._plotConfigOption.innerRadius;return null!=t?t:0},n.prototype._sweep=function(){return this._definition._plotConfigOption.sweep},n.prototype._startAngle=function(){return this._definition._plotConfigOption.startAngle},n.prototype._calculateMinDistanceInValues=function(){var e=this._xAxisView();if(null!=e){var n=e._scaleModel._getBaseValue();if(null!=n)return n}for(var i=[],o=0,r=this._getCartesianPlotDataModel()._groups();o<r.length;o++){var l=r[o];if(!t._isOrdinalDimension(l._x()))for(var a=0,s=l._seriesList();a<s.length;a++)for(var u=0,_=s[a].points();u<_.length;u++){var p=_[u],c=this._getXValue(p);if(null!=c){var h=c;i.indexOf(h)<0&&i.push(h)}}}i.sort((function(t,e){return t-e}));for(var f=null,d=0;d<i.length-1;d++){var y=Math.abs(i[d+1]-i[d]);(null==f||f>y)&&(f=y)}return f},n.prototype._getYValue=function(e){var n=null,i=null,o=e.queryInterface("INumberStackValue");return null!=o?(n=o.previous,i=o.value,new t._YValueRange(n,i)):new t._YValueRange(n,i)},n.prototype._getXValue=function(e){var n=this._xAxisView();if(null!=n&&t._isTimeAxisScale(n._scaleModel._scale)){var i=e.xDimensionValue.rawValue;if(null!=i&&i instanceof Date)return n._scaleModel._getActualValue(i.valueOf())}return e.xDimensionValue._value()},n.prototype._horizontalAxisView=function(){return this.__horizontalAxisView},n.prototype._verticalAxisView=function(){return this.__verticalAxisView},n.prototype._xAxisView=function(){return this._swapAxes()?this._verticalAxisView():this._horizontalAxisView()},n.prototype._yAxisView=function(){return this._swapAxes()?this._horizontalAxisView():this._verticalAxisView()},n.prototype._getCenter=function(){return this.__center},n.prototype._setCenter=function(t){this.__center=t},n.prototype._cx=function(){return this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial||null==this._getCenter()?this._rectangle().left+this._rectangle().width/2:this._getCenter().x},n.prototype._cy=function(){return this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial||null==this._getCenter()?this._rectangle().top+this._rectangle().height/2:this._getCenter().y},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;var o=!0;if(this._getClippingMode()==t.ClippingMode.Clip||this._isAxisClipping())if(this._axisMode()==t.AxisMode.Cartesian){var r=this._getClipRectangle();o=null!=r&&r.contains(e)}else{var l=this._getClipPath();o=(new t._PathUtil).contain(l,e.x,e.y)}if(o)for(var a=this._visualViews.length-1;a>=0;--a){var s=this._visualViews[a]._hitTest(e,n,i);if(null!=s)return s}return null},n.prototype._applyOverlayRangePadding=function(t){for(var e=this._xAxisView()._scaleModel._getRangePadding(),n=this._yAxisView()._scaleModel._getRangePadding(),i=0,o=this._overlayViews();i<o.length;i++){var r=o[i].queryInterface("IAxialPaddingConsumer");if(null!=r){r._preparePadding(t);var l=r._xRangePadding();null!=l&&(e[0]=Math.min(e[0],l[0]),e[1]=Math.max(e[1],l[1])),null!=(l=r._yRangePadding())&&(n[0]=Math.min(n[0],l[0]),n[1]=Math.max(n[1],l[1]))}}this._xAxisView()._scaleModel._setRangePadding(e),this._yAxisView()._scaleModel._setRangePadding(n)},n.prototype._initAxis=function(){for(var t=0,e=this._groupViews;t<e.length;t++)e[t]._initAxis()},n.prototype._initAxisScale=function(t){var e=this._xAxisView(),n=this._yAxisView();e._scaleModel._setRangePadding([0,0]),n._scaleModel._setRangePadding([0,0]),this._applyOverlayRangePadding(t),this._analysisFitRangePadding()},n.prototype._analysisFitRangePadding=function(){if(this._axisMode()==t.AxisMode.Cartesian&&this._getClippingMode()==t.ClippingMode.Fit){var e=this._xAxisView(),n=this._yAxisView(),i=e._scaleModel._getDomainPadding(),o=e._scaleModel._getReversed(),r=n._scaleModel._getReversed();e._scaleModel._setDomainPadding([0,0]),e._scaleModel._setReversed(!1),n._scaleModel._setReversed(!1);var l=e._scaleModel._getRange(),a=n._scaleModel._getRange(),s=l.slice(),u=a.slice();this._swapAxes()&&(l.reverse(),a.reverse(),e._scaleModel._setRange(l),n._scaleModel._setRange(a));for(var _,p=null==e._scaleModel._maximum?0:e._scaleModel._maximum,c=null==e._scaleModel._minimum?0:e._scaleModel._minimum,h=null==n._scaleModel._maximum?0:n._scaleModel._maximum,f=null==n._scaleModel._minimum?0:n._scaleModel._minimum,d=p-c,y=h-f,g=0,m=0,v=0,w=0,b=NaN,S=NaN,P=NaN,C=NaN,x=NaN,V=NaN,D=NaN,A=NaN,O=0,L=0,T=0,M=0,I=0,E=this._pointViews;I<E.length;I++){var B=E[I];if(t._isCartesianPointView(B)){var R=B;if(R.valueIsOutOfAxesRange)continue;var k=R._data(),F=R.size,N=R._getStyleSymbolSize(),U=.5*(F=null==F?N:N*F);if(l[0]!==l[1]){var z=null==this._getXValue(k)?0:this._getXValue(k),j=null==e._scaleModel._value(z)?0:e._scaleModel._value(z),G=z-c,W=p-z,q=j-l[0],H=l[1]-j;U-q>O&&(b=G,x=U,O=U-q),U-H>L&&(S=W,V=U,L=U-H)}var J=NaN,X=NaN,Y=NaN,Z=NaN;if(a[0]!==a[1])if(k instanceof t._XyValuePointDataModel){var K=null==k._displayValue()?0:k._displayValue(),Q=null==($=n._scaleModel._value(k._displayValue()))?0:$;J=K-f,X=h-K,Y=a[0]-Q,Z=Q-a[1]}else if(k instanceof t._RangeValuePointDataModel){var $;Q=null==($=n._scaleModel._value(Math.max(k._displayLower(),k._displayUpper())))?0:$,J=Math.max(k._displayLower(),k._displayUpper())-f,X=h-Math.max(k._displayLower(),k._displayUpper()),Y=a[0]-Q,Z=Q-a[1]}U-Y>T&&(P=J,D=U,T=U-Y),U-Z>M&&(C=X,A=U,M=U-Z)}}if(0!=O&&0!=L)(tt=(d*x*(d-S)-((_=Math.abs(l[1]-l[0]))*(d-S)-d*V+_*S)*b)/((d-b)*(d-S)-b*S))>g&&(g=tt),(tt=(d*V*(d-b)-(_*(d-b)-d*x+_*b)*S)/((d-b)*(d-S)-b*S))>m&&(m=tt);else if(0!=O)(tt=x-Math.abs(l[1]-l[0])*b/d)>g&&(g=tt);else if(0!=L){var tt;(tt=V-Math.abs(l[1]-l[0])*S/d)>m&&(m=tt)}if(0!=T&&0!=M)(et=(y*D*(y-C)-((_=Math.abs(a[0]-a[1]))*(y-C)-y*A+_*C)*P)/((y-P)*(y-C)-P*C))>v&&(v=et),(et=(y*A*(y-P)-(_*(y-P)-y*D+_*P)*C)/((y-P)*(y-C)-P*C))>w&&(w=et);else if(0!=T)(et=D-Math.abs(a[0]-a[1])*P/y)>v&&(v=et);else if(0!=M){var et;(et=A-Math.abs(a[0]-a[1])*C/y)>w&&(w=et)}var nt=e._scaleModel._getRangePadding();null!=nt&&g>nt[0]&&(nt[0]=g),null!=nt&&m>nt[1]&&(nt[1]=m),e._scaleModel._setRangePadding(nt);var it=n._scaleModel._getRangePadding();null!=it&&v>it[0]&&(it[0]=v),null!=it&&w>it[1]&&(it[1]=w),n._scaleModel._setRangePadding(it),e._scaleModel._setDomainPadding(i),e._scaleModel._setReversed(o),n._scaleModel._setReversed(r),e._scaleModel._setRange(s),n._scaleModel._setRange(u)}},n.prototype._clipRectangle=function(){return this._isAxisClipping()?this._getClipRectangle():null},n.prototype._getClipRectangle=function(){for(var e=null,n=0,i=this._groupViews;n<i.length;n++){var o=i[n],r=o._horizontalAxisView(),l=o._verticalAxisView(),a=new t.core.Rect(r._rectangle().left,l._rectangle().top,r._rectangle().width,l._rectangle().height);e=null!=e?t._DrawingUtility._unionOfRectangles(a,e):a}return this._getClippingMode()!=t.ClippingMode.Clip?this._getModifiedClipRectangle(e):e},n.prototype._getClipPath=function(){var e=this._horizontalAxisView();if(t._isRadialAxisView(e)){var n=e,i=n._innerRadius*n._radius,o=n._radius,r=n._startAngle(),l=n._sweep,a=n._cx,s=n._cy;return t._PathBuilder._defaultPathBuilder._buildDonutSegment(a,s,o,i,r,l)}return null},n.prototype._getModifiedClipRectangle=function(t){return t},n.prototype._isAxisClipping=function(){var e=this._horizontalAxisView(),n=this._verticalAxisView(),i=!1;null==e||null==e._getDefinition()._option.max&&null==e._getDefinition()._option.min||(i=!0),null==n||null==n._getDefinition()._option.max&&null==n._getDefinition()._option.min||(i=!0);for(var o=!1,r=0,l=this._pointViews;r<l.length;r++){var a=l[r];if(t._isCartesianPointView(a)&&a.valueIsOutOfAxesRange){o=!0;break}}return o&&i},n.prototype._getClipping=function(){var e=null;if(this._getClippingMode()==t.ClippingMode.Clip||this._isAxisClipping())if(this._axisMode()==t.AxisMode.Cartesian){var n=this._getClipRectangle();null!=n&&(e=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height))}else{var i=this._getClipPath();e=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(i)}return e},n.prototype._drawView=function(t,e){this._displayablePipeLine._flush(t,e)},n.prototype._draw=function(t,e){for(var n=this,i=0,o=this._groupViews;i<o.length;i++)for(var r=0,l=o[i]._getCartesianSeriesViews();r<l.length;r++)l[r]._renderBackground(t,e);for(var a=0,s=this._pointViews;a<s.length;a++)s[a]._renderBackground(t,e);var u=this._visualViews;u.sort((function(t,e){return n._definition._visualViewOrderComparer._compare(t,e)}));for(var _=0;_<u.length;++_)u[_]._render(t,e)},n.prototype.queryInterface=function(t){return"ICartesianPlotModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._isPercentage=function(){var e=this._yAxisView();return null!=e&&null!=e._getDefinition()._option.scale&&e._getDefinition()._option.scale.type==t.ValueScaleType.Percentage},n.prototype._isStack=function(){return this._definition._isStack()},n.prototype._stringFormatting=function(){return null==this.__stringFormatting&&(this.__stringFormatting=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._pluginCollection)),this.__stringFormatting},n.prototype._getCartesianPlotDefinition=function(){return this._definition},n.prototype._getCartesianPlotDataModel=function(){return this._dataModel},n.prototype._getCartesianGroupViewCount=function(){return this._groupViews.length},n.prototype._traverseCartesianGroupView=function(t){for(var e=0,n=this._groupViews;e<n.length;e++)t(n[e])},n.prototype._calculateSeriesViewCount=function(){for(var t=0,e=0,n=this._groupViews;e<n.length;e++)t+=n[e]._getCartesianSeriesViewCount();return t},n.prototype._getCartesianGroupViews=function(){return this._groupViews},n.prototype.showSymbol=function(){return t._NativeExtension._toNonNullBoolean(this._definition._plotConfigOption.symbols,!1)},n.prototype._hasSelectedPointView=function(){for(var t=0,e=this._groupViews;t<e.length;t++)if(e[t]._hasSelectedPointView())return!0;return!1},n.prototype._getPointViews=function(){return this._pointViews},Object.defineProperty(n.prototype,"seriesList",{get:function(){for(var e=[],n=0,i=this._groupViews;n<i.length;n++)for(var o=0,r=i[n]._getCartesianSeriesViews();o<r.length;o++){var l=r[o],a=t._CartesianPlotViewModelUtility._toCartesianSeriesModel(l);null!=a&&e.push(a)}return e},enumerable:!0,configurable:!0}),n}(t._BasePlotView);t._BaseCartesianPlotView=e}(t||(t={})),function(t){t._isCartesianPlotView=function(t){var e=t;return null!=e&&void 0!==e._visualViews&&"function"==typeof e._axisMode&&"function"==typeof e._getXOffset&&"function"==typeof e._getYOffset&&"function"==typeof e._xMinPadding&&"function"==typeof e._xMaxPadding&&"function"==typeof e._swapAxes&&"function"==typeof e._reversed&&"function"==typeof e._minDistanceInDimensionValues&&"function"==typeof e._getCartesianPlotDefinition&&"function"==typeof e._getBaseLineValue&&"function"==typeof e._xAxisDirection&&"function"==typeof e._yAxisDirection&&"function"==typeof e._yPositive&&"function"==typeof e._getLayoutShapes&&"function"==typeof e._showNulls&&"function"==typeof e._showNaNs&&"function"==typeof e._innerRadius&&"function"==typeof e._sweep&&"function"==typeof e._startAngle&&"function"==typeof e._getYValue&&"function"==typeof e._getXValue&&"function"==typeof e._setCenter&&"function"==typeof e._cx&&"function"==typeof e._cy&&"function"==typeof e._initAxis&&"function"==typeof e._initAxisScale&&"function"==typeof e._clipRectangle&&"function"==typeof e._isPercentage&&"function"==typeof e._isStack&&"function"==typeof e._stringFormatting&&"function"==typeof e.showSymbol}}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._calculateColor=function(t){var e=t.color;return null==e&&(e=t._getCartesianSeriesView().color),null==e&&(e=t._getPlotView()._getDefinition()._paletteColorProvider._defaultColor()),e},n}(t._PointColorBuilder);t._CartesianPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._CartesianPointColorBuilder:i)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.style),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},n}(t._PointStyleBuilder);t._CartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n._getCartesianGroupView()._getCartesianPlotView(),i,null==o?new t._CartesianPointStyleBuilder:o)||this;return r._seriesView=n,r.__overlayItemViews=[],r.valueIsOutOfAxesRange=!1,r.__index=-1,r}return i(n,e),n.prototype._getCartesianPlotView=function(){return this._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()},n.prototype._getCartesianGroupView=function(){return this._getCartesianSeriesView()._getCartesianGroupView()},n.prototype._createIdentityContent=function(){var e=this._data(),n="",i=e.xDimensionValue;if(t._isOrdinalDimensionValue(i))for(var o=i.path,r=o.length,l=0;l<r;l++)null!=o[l]&&(n+=o[l].toString(),l<r-1&&(n+="-"));else n+=this._getCartesianPlotView()._getPointViews().indexOf(this).toString();if(null!=this._getCartesianGroupView()){var a=this._getCartesianGroupView()._getCartesianGroupDataModel();t._isCartesianMirrorGroupDataModel(a)&&(n+=a._mirrorDimension()._key())}n+=e.xDimensionValue.rawValue,n+=e._detail();var s=e._valueDefinition();if(n+=s._identifier,t._isAggregateValueDimensionDefinition(s)){var u=s._aggregate();null!=u&&(n+=t._CastExtension.toAggregateString(u))}else if(t._isXyValueDimensionDefinition(s)){var _=s;n+=t._CastExtension.toAggregateString(_._aggregate())}return t._Util.HashCode(n)},n.prototype._index=function(){return this.__index},n.prototype._setIndex=function(t){this.__index=t},n.prototype._isVisible=function(){return!this._data()._isNullOrNaN&&e.prototype._isVisible.call(this)},Object.defineProperty(n.prototype,"parent",{get:function(){return this._getCartesianSeriesView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueDefinition",{get:function(){return this._data()._valueDefinition()._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"detail",{get:function(){return this._data()._detail()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dimension",{get:function(){return this._data().xDimensionValue.rawValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._data()._value()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"series",{get:function(){return t.models._isSeriesModel(this._seriesView)?this._seriesView:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._index()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"previous",{get:function(){var e=this.index;return e>0?t._CartesianPlotViewModelUtility._toCartesianPointModel(this._getCartesianSeriesView()._cartesianPointViews()[e-1]):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"next",{get:function(){var e=this.index;return e<this._getCartesianSeriesView()._cartesianPointViews().length-1?t._CartesianPlotViewModelUtility._toCartesianPointModel(this._getCartesianSeriesView()._cartesianPointViews()[e+1]):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isMax",{get:function(){var e=t.models._CartesianSupport.getY(this),n=this._data();if(n._filtered||n._legendFiltered||n._isNullOrNaN||null==e)return!1;var i=null==e.value?0:e.value;return!this._getCartesianSeriesView()._getPointViews().some((function(e){var n=e,o=n._data(),r=t.models._CartesianSupport.getY(n);return!(o._filtered||o._legendFiltered||o._isNullOrNaN||null==r)&&(null==r.value?0:r.value)>i}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isMin",{get:function(){var e=t.models._CartesianSupport.getY(this),n=this._data();if(n._filtered||n._legendFiltered||n._isNullOrNaN||null==e)return!1;var i=null==e.value?0:e.value;return!this._getCartesianSeriesView()._getPointViews().some((function(e){var n=e,o=n._data(),r=t.models._CartesianSupport.getY(n);return!(o._filtered||o._legendFiltered||o._isNullOrNaN||null==r)&&(null==r.value?0:r.value)<i}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!0,configurable:!0}),n.prototype._getCartesianSeriesView=function(){return this._seriesView},n.prototype.queryInterface=function(t){return"ISeriesPointViewModel"==t||"ICartesianPointModel"==t||"IQueryShowTooltipModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._createDataLabelContent=function(){var e=this._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._CartesianDataLabelTextProxy(this,e,this._getCartesianPlotView()._stringFormatting()),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,s=i.evaluate(o,r,l,a),u=this._toLines(s);return null!=u&&u.length>0?new t.models._DataLabelContent(u,this):null},n.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},n.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},n.prototype._createTooltipHtmlContent=function(e){var n=this._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.models._CartesianTextProxy(this,n,this._getCartesianPlotView()._stringFormatting()),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s);return this._toHtml(u)},n.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},n.prototype._defaultTooltipTemplate=function(e){var n=[],i=[],o=this._getCartesianPlotView()._getCartesianPlotDefinition()._encodingsDefinition._getCartesianCategoryEncodingDefinition();null!=o&&(n.push("{xField.name}: {xField.value}"),i.push(o._hierarchicalGroupingDefinitions[0]._dataFieldDefinition._dataField._name));var r=this._data()._detailDimension();null!=r&&(n.push("{detailFields.name}: {detailFields.value}"),i.push(r._definition()._dataFieldDefinition._dataField._name));for(var l=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},a=0,s=e;a<s.length;a++)l(s[a]);return n.join("\n")},n.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getDefinition()._plotConfigOption.style),n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},n.prototype._xPos=function(t){return null!=t&&(this.__xPos=t),null==this.__xPos?this._data().xDimensionValue._value():this.__xPos},n.prototype._overlayItemViews=function(){return this.__overlayItemViews},n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPointViewRectangleAttachmentAgent(this))},n.prototype._reversed=function(){return this._getPlotView()._reversed()},n.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackerWithOption(i);null!=o&&t.push(o)}return t},n.prototype._getTrackerWithOption=function(e){if(e.type==t.TrackerType.Area);else if(e.type==t.TrackerType.CrossY){var n=this._getCartesianGroupView(),i=n._xAxisView();if(t._isLineAxisView(i)){var o=i,r=new t.core.Point(0,0),l=new t.core.Point(0,0);if(n._swapAxes()){var a=this._rectangle().top+this._rectangle().height/2;r=new t.core.Point(o._plotRect().left,a),l=new t.core.Point(o._plotRect().right,a)}else{var s=this._rectangle().left+this._rectangle().width/2;r=new t.core.Point(s,o._plotRect().top),l=new t.core.Point(s,o._plotRect().bottom)}return new t.models._CartesianTrackLine(e,r,l,this._rectangle())}}return null},n.prototype._queryRelatedViewModel=function(e,n){var i=new t.core.Point(e,n);return this.contains(i)?this:null},n.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},n.prototype._backgroundColor=function(t){var e=this._getStyleBackgroundColor();if(t.hasSelectionInPlotArea)if(this._isSelected()){var n=this._getSelectedStyleBackgroundColor();null!=n&&(e=n);var i=t.apiSelectedStyle;null!=i&&null!=i.backgroundColor&&(e=i.backgroundColor)}else{var o=this._getUnselectedStyleBackgroundColor();null!=o&&(e=o)}return e},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.___backgroundShape=null},n.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r);if(this._getCartesianGroupView()._axisMode()==t.AxisMode.Cartesian){var a=Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum),s=Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum),u=null,_=null,p=null,c=null;this._getCartesianGroupView()._swapAxes()?(u=n._scaleModel._value(n._scaleModel._minimum),_=n._scaleModel._value(n._scaleModel._maximum),p=e._scaleModel._value(a),c=e._scaleModel._value(s)):(u=e._scaleModel._value(a),_=e._scaleModel._value(s),p=n._scaleModel._value(n._scaleModel._minimum),c=n._scaleModel._value(n._scaleModel._maximum)),null!=u&&null!=_&&null!=p&&null!=c&&(this.___backgroundShape=new t._RectangleShape((u+_)/2,(p+c)/2,Math.abs(_-u),Math.abs(c-p),0))}else if((this._getCartesianGroupView()._axisMode()==t.AxisMode.Radial||this._getCartesianGroupView()._axisMode()==t.AxisMode.Polygonal)&&t._isRadialAxisView(e)&&t._isRadialAxisView(n)){var h=e,f=n,d=new t.core.Point(f._cx,f._cy);if(this._getCartesianGroupView()._swapAxes()){var y=f._scaleModel._value(f._scaleModel._maximum),g=f._scaleModel._value(f._scaleModel._minimum),m=h._scaleModel._value(Math.max((null!=l?l:0)-.5*o,h._scaleModel._minimum)),v=null==y?0:y,w=null==g?0:g,b=(null==(S=h._scaleModel._value(Math.min((null!=l?l:0)+.5*o,h._scaleModel._maximum)))?0:S)-(P=null==m?0:m);this.___backgroundShape=new t._DonutShape(d,v,w,P,b)}else{v=null==(S=h._scaleModel._value(Math.min((null!=l?l:0)+h._getRadiusOffset()+.5*o,h._scaleModel._maximum)))?0:S,w=null==(m=h._scaleModel._value(Math.max((null!=l?l:0)+h._getRadiusOffset()-.5*o,h._scaleModel._minimum)))?0:m;var S,P=f._startAngle();b=f._sweep,this.___backgroundShape=new t._DonutShape(d,v,w,P,b)}}}return this.___backgroundShape},n.prototype._renderBackground=function(e,n){var i=this._data();if(!(i._filtered||i._legendFiltered||i._isNullOrNaN)){var o=this.backgroundColor,r=this._backgroundColor(n);if(null!=r||null!=o){var l=this._backgroundShape();if(null!=l){e.beginTransform(),null!=o&&(e.fill=o),null!=r&&t._StyleUtility._applyFillOption(e,r);var a=this._getStyleBorderRadius();if(l instanceof t._RectangleShape)null!=(s=t._PathUtility._buildRectangleWithBorderRadius(l.center.x-l.size.width/2,l.center.y-l.size.height/2,l.size.width,l.size.height,a))?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawRect(l.center.x-l.size.width/2,l.center.y-l.size.height/2,l.size.width,l.size.height,null);else if(l instanceof t._DonutShape){var s;null!=(s=t._PathUtility._buildDonutSegmentWithBorderRadius(l.center.x,l.center.y,l.radius,l.innerRadius,l.startAngle,l.sweepAngle,a))?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(l.center.x,l.center.y,l.radius,l.innerRadius,l.startAngle,l.sweepAngle,null)}e.restoreTransform()}}}},n.prototype._isPositive=function(){return this._getPlotView()._yPositive(this)},n.prototype._getStyleSymbolSize=function(){var t=this._internalStyle();if(null!=t&&null!=t.symbolSize)return t.symbolSize;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.symbolSize||null!=(t=e._seriesStyle())&&null!=t.symbolSize||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolSize?t.symbolSize:10},n.prototype._getStyleSymbolShape=function(){var t=this._internalStyle();if(null!=t&&null!=t.symbolSize&&""!=t.symbolShape)return t.symbolShape;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=e._seriesStyle())&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolShape&&""!=t.symbolShape?t.symbolShape:null},n.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();if(null!=t&&null!=t.backgroundColor)return t.backgroundColor;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.backgroundColor||null!=(t=e._seriesStyle())&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._getStyleBorderRadius=function(){var t=this._internalStyle();if(null!=t&&null!=t.borderRadius)return t.borderRadius;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.borderRadius||null!=(t=e._seriesStyle())&&null!=t.borderRadius||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.borderRadius?t.borderRadius:null},n.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();if(null!=t&&null!=t.strokeWidth)return t.strokeWidth;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.strokeWidth||null!=(t=e._seriesStyle())&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},n.prototype._pointsRect=function(){return this._rectangle()},n.prototype.showSymbol=function(){var e=this._data();return t._NativeExtension._toNonNullBoolean(e._getSeries()._symbols(),this._getCartesianPlotView().showSymbol())},n.prototype._getPointPathPropertyValue=function(t){var e=this._data()._item(),n=this._getCartesianPlotView()._getCartesianPlotDefinition();if(null!=n._detailDefinitions()&&n._detailDefinitions().length>0){var i=n._detailDefinitions()[0]._dataFieldDefinition._dataField._name,o=this._data();e[i]=o._detail()}return e[t]},o([t.deprecated("offset",null)],n.prototype,"offset",null),n}(t._BasePointView);t._CartesianPointView=e}(t||(t={})),function(t){t._isCartesianPointView=function(e){if(null==e)return!1;if(!t._isPointView(e))return!1;var n=e;return void 0!==n.valueIsOutOfAxesRange&&"function"==typeof n._xPos&&"function"==typeof n._overlayItemViews&&"function"==typeof n._reversed&&"function"==typeof n._tracker&&"function"==typeof n._queryRelatedViewModel&&"function"==typeof n._renderBackground&&"function"==typeof n._isPositive&&"function"==typeof n._getStyleBorderRadius&&"function"==typeof n.showSymbol}}(t||(t={})),function(t){t._isSymbolCartesianPointView=function(t){return null!=t&&"function"==typeof t._renderSymbol}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,null==o?new t._CartesianPointStyleBuilder(!0):o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r.__defaultShape="Dot",r}return i(n,e),Object.defineProperty(n.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},n.prototype._getAttachmentAgentManager=function(){return t.AnnotationLib._isPlotInRadialCoordinateSystem(this._getPlotView())?new t.AttachmentAgentManager(new t._CartesianRadialSymbolPointViewPointAttachmentAgent(this)):new t.AttachmentAgentManager(new t._CartesianSymbolPointViewAutoPointAttachmentAgent(this),new t._CartesianSymbolPointViewRectangleAttachmentAgent(this))},n.prototype._getTrackerWithOption=function(e){var n=this._getCartesianGroupView()._xAxisView();return t._isLineAxisView(n)?this._getCartsianTrackerWithOption(e):t._isRadialAxisView(n)?this._getRadialTrackerWithOption(e):null},n.prototype._getCartsianTrackerWithOption=function(n){var i=this._getCartesianGroupView()._xAxisView();if(n.type==t.TrackerType.CrossX){var o=new t.core.Point(0,0),r=new t.core.Point(0,0);if(this._getCartesianGroupView()._swapAxes()){var l=this._rectangle().right-this._rectangle().width/2;o=new t.core.Point(l,i._plotRect().top),r=new t.core.Point(l,i._plotRect().bottom)}else{var a=this._rectangle().top+this._rectangle().height/2;o=new t.core.Point(i._plotRect().left,a),r=new t.core.Point(i._plotRect().right,a)}return new t.models._CartesianTrackLine(n,o,r,this._rectangle())}return e.prototype._getTrackerWithOption.call(this,n)},n.prototype._getRadialTrackerWithOption=function(e){var n=this._getCartesianGroupView(),i=n._xAxisView(),o=n._yAxisView(),r=this._data(),l=n._getXValue(r),a=n._getYValue(r),s=i._scaleModel._value(l),u=o._scaleModel._value(a.upperY),_=null==s?0:s,p=null==u?0:u,c=i._startAngle(),h=i._sweep,f=n._getCartesianPlotView()._getCenter();if(e.type==t.TrackerType.CrossX){if(n._swapAxes()){var d=p;return new t.models._RadialTrackLine(e,f.x,f.y,d,c,h,this._shape())}var y=this._calculatePoint(i._innerRadius*i._radius,f,p),g=this._calculatePoint(i._radius,f,p);return new t.models._TrackStraightLine(e,y,g,this._shape())}return e.type==t.TrackerType.CrossY?n._swapAxes()?(y=this._calculatePoint(i._innerRadius*i._radius,f,_),g=this._calculatePoint(i._radius,f,_),new t.models._TrackStraightLine(e,y,g,this._shape())):(d=_,new t.models._RadialTrackLine(e,f.x,f.y,d,c,h,this._shape())):null},n.prototype._calculatePoint=function(e,n,i){var o=n.x+Math.cos(i)*e,r=n.y+Math.sin(i)*e;return new t.core.Point(o,r)},n.prototype._createSymbolDefinition=function(){var e=this._getCartesianPlotView()._getCartesianPlotDefinition(),n=null,i=e._encodingsDefinition._getShapeEncodingDefinition();i instanceof t._SingleDataFieldLegendEncodingDefinition&&(n=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate()));var o=this._getStyleSymbolShape(),r=this.shape,l=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(e._symbolDefinitionProviders(),n,o,r,l)},n.prototype._getXs=function(){return null==this._xs&&this._refreshXY(),this._xs},n.prototype._getYs=function(){return null==this._ys&&this._refreshXY(),this._ys},n.prototype._refreshXY=function(){var e=t._Util.createPtsFromRect(this._rectangle(),20);this._setXs(e.xs),this._setYs(e.ys)},n.prototype._draw=function(e,n){this.showSymbol()&&this._renderSymbol(e,t._DrawingUtility._scaleRectangle(this._rectangle(),this._scale),n)},n.prototype._symbolDefinition=function(){return null!=this.__symbolDefinition&&null==this._internalStyle()||(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},n.prototype._symbol=function(){return this.__symbol},n.prototype._renderSymbol=function(t,e,n){var i=this._calculateStyle(n);this._applyDataPointExternalStyle(i),this.__symbol=this._symbolDefinition().createSymbol(e,i),this.__symbol.render(t,n)},n.prototype._contains=function(t){return null!=this.__symbol?this.__symbol.contains(t):this._rectangle().contains(t)},n.prototype._cutOff=function(){return!1},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this.__drawablePipeline.contains(e)){var o=this._pointLayoutListView(),r=null==o?null:o._hitTest(e,n,i);return null!=r?r:(r=new t.HitTestResult(e,this,this,t.ElementType.DataPoint),null==i||null!=i&&i.predicate(r)?r:null)}return null},n.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r);if(this._getCartesianGroupView()._axisMode()==t.AxisMode.Cartesian){var a=n._scaleModel._minimum,s=n._scaleModel._maximum;if(t._isOrdinalAxisScale(n._scaleModel._scale)){var u=this._getCartesianGroupView()._getYValue(r).upperY;null==u||isNaN(u)||(a=Math.max(u-.5,n._scaleModel._minimum),s=Math.min(u+.5,n._scaleModel._maximum))}var _,p,c,h,f,d=Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum),y=Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum),g=void 0,m=void 0,v=void 0;this._getCartesianGroupView()._swapAxes()?(g=null==(h=n._scaleModel._value(a))?0:h,m=null==(f=n._scaleModel._value(s))?0:f,_=null==(p=e._scaleModel._value(d))?0:p,v=null==(c=e._scaleModel._value(y))?0:c):(g=null==(p=e._scaleModel._value(d))?0:p,m=null==(c=e._scaleModel._value(y))?0:c,_=null==(h=n._scaleModel._value(a))?0:h,v=null==(f=n._scaleModel._value(s))?0:f),this.___backgroundShape=new t._RectangleShape((g+m)/2,(_+v)/2,Math.abs(m-g),Math.abs(v-_),0)}else if((this._getCartesianGroupView()._axisMode()==t.AxisMode.Radial||this._getCartesianGroupView()._axisMode()==t.AxisMode.Polygonal)&&t._isRadialAxisView(e)&&t._isRadialAxisView(n)){var w=e,b=n,S=new t.core.Point(b._cx,b._cy);if(this._getCartesianGroupView()._swapAxes()){var P=b._scaleModel._value(b._scaleModel._maximum),C=b._scaleModel._value(b._scaleModel._minimum),x=w._scaleModel._value(Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum)),V=w._scaleModel._value(Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum)),D=null==P?0:P,A=null==C?0:C,O=(null==V?0:V)-(E=null==x?0:x);this.___backgroundShape=new t._DonutShape(S,D,A,E,O)}else{var L=w._scaleModel._value(Math.min((null!=l?l:0)+w._getRadiusOffset()+.5*o,w._scaleModel._maximum)),T=w._scaleModel._value(Math.max((null!=l?l:0)+w._getRadiusOffset()-.5*o,w._scaleModel._minimum)),M=b._startAngle(),I=b._sweep,E=(D=null==L?0:L,A=null==T?0:T,null==M?0:M);O=null==I?0:I,this.___backgroundShape=new t._DonutShape(S,D,A,E,O)}}}return this.___backgroundShape},n.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._getCartesianGroupView(),l=r._xAxisView(),a=r._yAxisView(),s=this._data(),u=r._getXValue(s),_=r._getYValue(s),p=l._scaleModel._value(u),c=a._scaleModel._value(_.upperY);if(null==p||isNaN(p)||null==c||isNaN(c))this._visible=!1;else{if(r._swapAxes()){var h=p;p=c,c=h}var f=this.size,d=this._getStyleSymbolSize(),y=null==f?d:d*f;if(r._axisMode()==t.AxisMode.Radial||r._axisMode()==t.AxisMode.Polygonal){var g=Math.cos(c)*p+r._cx(),m=Math.sin(c)*p+r._cy();this._updateRectangle(new t.core.Rect(g-y/2,m-y/2,y,y))}else this._updateRectangle(new t.core.Rect(p-y/2,c-y/2,y,y));r._getCartesianPlotView()._visualViews.push(this)}},n.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()},n.prototype._createDataLabelView=function(e){var n=this._dataLabel();if(null!=n){var i=this._getDefinition()._plotConfigOption.axisMode;return i==t.AxisMode.Radial||i==t.AxisMode.Polygonal?new t._RadialSymbolDataLabelView(this,n,e):new t._CartesianSymbolDataLabelView(this,n,e)}return null},n.prototype._calculateStyle=function(t){var n=e.prototype._calculateStyle.call(this,t);return this._applyDataPointExternalStyle(n),n},n.prototype._update=function(t){this._updateRectangle(t)},n.prototype._boundRectangle=function(){var n=e.prototype._boundRectangle.call(this);return null==n||this.showSymbol()||(n=new t.core.Rect(n.center.x,n.center.y,0,0)),n},n.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},n}(t._CartesianPointView);t._SymbolCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._getCartesianPlotView=function(){return this._getCartesianGroupView()._getCartesianPlotView()},n.prototype._createIdentityContent=function(){var e=this._getCartesianSeriesDataModel(),n="";if(null!=this._getCartesianGroupView()){var i=this._getCartesianGroupView()._getCartesianGroupDataModel();t._isCartesianMirrorGroupDataModel(i)&&(n+=i._mirrorDimension()._key())}if(n+=e._detail(),null!=e._group()._x()&&null!=e._group()._x()._definition()){var o=e._group()._x()._definition();t._isCartesianCategoryDimensionDefinition(o)?n+=o._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions.map((function(t){return t._dataFieldDefinition._dataField._name})).join(">"):t._isXFieldDimensionDefinition(o)&&(n+=o._fieldDefinition()._dataField._name)}var r=e._valueDefinition();if(n+=r._identifier,t._isAggregateValueDimensionDefinition(r)){var l=r._aggregate();null!=l&&(n+=t._CastExtension.toAggregateString(l))}else if(t._isXyValueDimensionDefinition(r)){var a=r;n+=t._CastExtension.toAggregateString(a._aggregate())}return t._Util.HashCode(""+n)},n.prototype._getPlotView=function(){return this._ownerView._getCartesianPlotView()},Object.defineProperty(n.prototype,"axisX",{get:function(){return this._ownerView._xAxisView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axisY",{get:function(){return this._ownerView._yAxisView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueDefinition",{get:function(){return this._getCartesianSeriesDataModel()._valueDefinition()._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"detail",{get:function(){var t=this._getCartesianSeriesDataModel()._detailDimension();return null==t?null:t._key()},enumerable:!0,configurable:!0}),n.prototype._getBackgroundShape=function(){return this.__backgroundShape},n.prototype._setBackgroundShape=function(t){this.__backgroundShape=t},n.prototype._createStyleModel=function(){var e=this,n=new t.models._DataPointStyleOptionModel(this._getCartesianSeriesDataModel()._seriesStyle());return n.propertyChanged=function(i,o){if(null!=o)for(var r=0,l=e._pointViews;r<l.length;r++){var a=l[r].style;null!=a&&t._NativeExtension.setPropertyValue(a,o,t._NativeExtension.getPropertyValue(n,o))}},n},n.prototype._layoutContent=function(t,e,n){this._updateRectangle(e.clone()),this._layoutPointViews(t,e,n)},n.prototype._layoutPointViews=function(t,e,n){for(var i=0,o=this._filterPointViews();i<o.length;i++)o[i]._layout(t,e,n)},n.prototype._renderBackground=function(e,n){var i=this._getBackgroundShape(),o=this._getStyleBackgroundColor();if(null!=i&&null!=o){e.beginTransform(),t._StyleUtility._applyFillOption(e,o);var r=this._getBackgroundShape();r instanceof t._RectangleShape?e.drawRect(r.center.x-r.size.width/2,r.center.y-r.size.height/2,r.size.width,r.size.height):r instanceof t._DonutShape&&e.drawDonut(r.center.x,r.center.y,r.radius,r.innerRadius,r.startAngle,r.sweepAngle),e.restoreTransform()}},n.prototype._defaultStyle=function(){return t._ViewUtility._defaultStyle()},n.prototype._applyColor=function(t){},n.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,this._getDefinition()._dvConfigOption.style),t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.style),t._StyleUtility._applyDataPointStyleOption(e,this._getCartesianSeriesDataModel()._seriesStyle()),t._StyleUtility._applyDataPointStyleOption(e,this._internalStyle())},n.prototype._applyDataPointStyleContext=function(e,n){n.hasSelectionInPlotArea&&(this._isSelected()?(t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._dvConfigOption.selectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.selectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._internalSelectedStyle()),null!=n.apiSelectedStyle&&t._StyleUtility._applyDataPointStyleOption(e,n.apiSelectedStyle)):(t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._dvConfigOption.unselectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.unselectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._internalUnselectedStyle()))),this._hover&&t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.hoverStyle)},n.prototype._applyStyle=function(e,n){t._StyleUtility._applyStyle(e,this._defaultStyle()),this._applyColor(e),this._applyDataPointStyle(e,n),this._applyDataPointStyleContext(e,n)},n.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getCartesianSeriesDataModel()._seriesStyle())&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},n.prototype._filterPointViews=function(){return this._cartesianPointViews().filter((function(t){var e=t._data();return!(e._filtered||e._legendFiltered||e._isNullOrNaN)}))},n.prototype._canAppendPointView=function(){var t=this._filterPointViews();if(t.length>2){var e=t[0],n=t[t.length-1];return this._getConnectedStatus(n,e)}return!0},n.prototype._getConnectedStatus=function(e,n){var i=this._ownerView._getCartesianPlotView(),o=i._showNulls(),r=i._showNaNs(),l=e.index,a=n.index;if(l>=0&&a>=0){if(l+1==a||l==this._pointViews.length-1&&0==a)return!0;var s=[];if(l<=a)for(var u=l+1;u<a;++u)s.push(u);else{for(u=l+1;u<this._pointViews.length;++u)s.push(u);for(u=0;u<a;++u)s.push(u)}for(var _=0,p=s;_<p.length;_++){u=p[_];var c=this._pointViews[u]._data(),h=i._getYValue(c);if(null==h.upperY&&o==t.ShowNulls.Gaps)return!1;if(isNaN(h.upperY)&&r==t.ShowNulls.Gaps)return!1;if(null!=c.queryInterface("INumberRangeValue")){if(null==h.lowerY&&o==t.ShowNulls.Gaps)return!1;if(isNaN(h.lowerY)&&r==t.ShowNulls.Gaps)return!1}}return!0}return!1},n.prototype._isVisible=function(){return!this._dataModel._filtered&&!this._dataModel._legendFiltered&&e.prototype._isVisible.call(this)},n.prototype._getCartesianSeriesDataModel=function(){return this._dataModel},n.prototype._getCartesianGroupView=function(){return this._ownerView},n.prototype._cartesianPointViews=function(){return this._pointViews},n.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},n.prototype.queryInterface=function(t){return"ICartesianSeriesModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseSeriesView);t._CartesianSeriesView=e}(t||(t={})),function(t){t._isCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._getCartesianSeriesDataModel&&"function"==typeof e._getCartesianGroupView&&"function"==typeof e._getBackgroundShape&&"function"==typeof e._setBackgroundShape&&"function"==typeof e._renderBackground&&"function"==typeof e._getStyleBackgroundColor&&"function"==typeof e._filterPointViews&&"function"==typeof e._canAppendPointView&&"function"==typeof e._getConnectedStatus}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o,r,l,a){return void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,null==r?new t._AreaCartesianPlotViewBuilder:r,null,null,null==a?new t._AreaCartesianLegendSymbolViewBuilder(!0,!1):a)||this}return i(n,e),n}(t._BaseCartesianPlotDefinition);t._AreaCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Area"===n.type?new t._AreaCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;return i.__lowerLine=t,i.__upperLine=n,i}return i(n,e),n.prototype.contains=function(t){return!1},n.prototype._xs=function(){var t=this.__upperLine.map((function(t){return t.x})),e=this.__lowerLine.map((function(t){return t.x}));return t.concat(e.reverse())},n.prototype._ys=function(){var t=this.__upperLine.map((function(t){return t.y})),e=this.__lowerLine.map((function(t){return t.y}));return t.concat(e.reverse())},n.prototype.upperXs=function(){return this.__upperLine.map((function(t){return t.x}))},n.prototype.upperYs=function(){return this.__upperLine.map((function(t){return t.y}))},n.prototype.lowerXs=function(){return this.__lowerLine.map((function(t){return t.x}))},n.prototype.lowerYs=function(){return this.__lowerLine.map((function(t){return t.y}))},n.prototype._lowerLine=function(){return this.__lowerLine},n.prototype._upperLine=function(){return this.__upperLine},Object.defineProperty(n.prototype,"type",{get:function(){return"Area"},enumerable:!0,configurable:!0}),n.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof n){var i=e;return t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(i.__lowerLine,this.__lowerLine)&&t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(i.__upperLine,this.__upperLine)}return!1},n.prototype.clone=function(){for(var t=[],e=0,i=this._lowerLine();e<i.length;e++){var o=i[e];t.push(o.clone())}for(var r=[],l=0,a=this._upperLine();l<a.length;l++)o=a[l],r.push(o.clone());return new n(t,r)},n}(t._BaseShape);t._AreaShape=e}(t||(t={})),function(t){var e=function(){function e(e){this.__points=[new t.core.Point(-Number.MAX_VALUE,e),new t.core.Point(Number.MAX_VALUE,e)]}return e.prototype._points=function(){return this.__points},e.prototype._takeSegment=function(e,n){for(var i=this._points(),o=[],r=!1,l=0;l<i.length;l++){var a=i[l];if(r);else if(a.x<e);else if(a.x==e){var s=null;l<i.length-1&&(s=i[l+1]),(null==s||s.x>e)&&o.push(a.clone())}else if(e<a.x&&a.x<n){if(o.length<=0){var u=null;if(l>0&&(u=i[l-1]),null!=u&&u.x<e)o.push(new t.core.Point(e,(a.y-u.y)/(a.x-u.x)*(e-u.x)+u.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray)}o.push(a.clone())}else if(a.x==n){if(o.length<=0)if(u=null,l>0&&(u=i[l-1]),null!=u&&u.x<e)o.push(new t.core.Point(e,(a.y-u.y)/(a.x-u.x)*(e-u.x)+u.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);var _=null;l>0&&(_=i[l-1]),(null==_||_.x<n)&&(o.push(a.clone()),r=!0)}else if(n<a.x){if(o.length<=0)if(u=null,l>0&&(u=i[l-1]),null!=u&&u.x<e)o.push(new t.core.Point(e,(a.y-u.y)/(a.x-u.x)*(e-u.x)+u.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);if(_=null,l>0&&(_=i[l-1]),null!=_&&_.x<n)o.push(new t.core.Point(n,(a.y-_.y)/(a.x-_.x)*(n-_.x)+_.y)),r=!0;else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray)}}return o},e.prototype._mergeSegment=function(e){if(!(e.length<=0)){for(var n=[],i=this._points(),o=!1,r=!0,l=e[0],a=e[e.length-1],s=0;s<i.length;s++){var u=i[s];if(u.x<l.x)n.push(u.clone());else if(u.x==l.x)o||(u.y!=l.y&&n.push(u.clone()),n.push.apply(n,e),o=!0);else if(!o&&l.x<u.x){var _=null;s>0&&(_=i[s-1]),null!=_&&_.x<l.x&&n.push(new t.core.Point(l.x,(u.y-_.y)/(u.x-_.x)*(l.x-_.x)+_.y)),n.push.apply(n,e),o=!0}if(o&&u.x==a.x){if(r){var p=null;s<i.length-1&&(p=i[s+1]),null!=p&&p.x!=a.x&&(u.y!=a.y&&n.push(u.clone()),r=!1)}}else o&&a.x<u.x&&(r&&(_=null,s>0&&(_=i[s-1]),null!=_&&_.x<a.x&&n.push(new t.core.Point(a.x,(u.y-_.y)/(u.x-_.x)*(a.x-_.x)+_.y)),r=!1),n.push(u.clone()))}this.__points=n}},e}();t._BaseLine=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._CartesianAreaLegendSymbolView(n);return i._setPlotDefinition(e),i},n}(t._LegendSymbolViewBuilder);t._AreaCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._AreaCartesianSeriesView(this,e)},n.prototype._yOrigin=function(){var t=this._xAxisView(),e=this._yAxisView(),n=t._getDefinition()._option.origin,i=0,o=e._scaleModel._minimum,r=e._scaleModel._maximum;return null!=n&&n>=(null==o?0:o)&&n<=(null==r?0:r)?i=n:null!=r&&r<0?i=r:null!=o&&o>0&&(i=o),i},n.prototype._layoutSeriesViews=function(n,i,o){var r=Math.max(this._yAxisView()._scaleModel._minimum,this._yOrigin());this._ownerView._axisMode()!=t.AxisMode.Cartesian&&(r=this._yAxisView()._scaleModel._minimum),o._areaBaseLine=new t._BaseLine(r),e.prototype._layoutSeriesViews.call(this,n,i,o),o._areaBaseLine=null},n}(t._BaseCartesianGroupView);t._AreaCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._AreaCartesianGroupView(this,e)},n.prototype._showNulls=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNulls.call(this)},n.prototype._showNaNs=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNaNs.call(this)},n.prototype._analysisFitRangePadding=function(){this.showSymbol()&&e.prototype._analysisFitRangePadding.call(this)},Object.defineProperty(n.prototype,"lineAspect",{get:function(){return this._definition._plotConfigOption.lineAspect},enumerable:!0,configurable:!0}),n.prototype._createCartesianPointView=function(e,n){return new t._AreaCartesianPointView(e,n,null)},n.prototype._getModifiedClipRectangle=function(e){if(this.showSymbol()&&this._getClippingMode()!=t.ClippingMode.Clip)for(var n=0,i=this._pointViews;n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o)){var r=o;if(!r._isVisible())continue;r.valueIsOutOfAxesRange||(e=t._DrawingUtility._unionOfRectangles(e,r._rectangle()))}}return e},n}(t._BaseCartesianPlotView);t._AreaCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._AreaCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._AreaCartesianPlotView(e,n,i):null},e}();t._AreaCartesianPlotViewBuilder=e}(t||(t={})),function(t){t._isAreaCartesianPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._SymbolCartesianPointView);t._AreaCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__seriesShapes=[],o.__shapePointViews=[],o.__drawablePipeLine=new t.DisplayablePipeLine(o),o}return i(n,e),n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"==t?this.__drawablePipeLine:e.prototype.queryInterface.call(this,t)},n.prototype._renderAreaShapes=function(t,e,n){this._applyStyle(t,e);for(var i=0,o=n;i<o.length;i++){var r=o[i];if(this._getShapeHasNegativeRange(r))for(var l=this._splitAreaToPolygon(r),a=this._getShapeStyleFlags(r),s=0;s<l.length;s++)t.beginTransform(),e._altStyle=!1,s<a.length&&a[s]<0&&null!=this._getDefinition()._plotConfigOption.altStyle&&(e._altStyle=!0),this._applyStyle(t,e),e._altStyle=!1,t.strokeWidth=0,t.drawPolygon(l[s].points.map((function(t){return t.x})),l[s].points.map((function(t){return t.y}))),t.restoreTransform();else t.beginTransform(),t.strokeWidth=0,t.drawPolygon(r._xs(),r._ys()),t.restoreTransform();this._renderSeriesBorder(t,r)}},n.prototype._draw=function(t,e){this._renderAreaShapes(t,e,this._getSeriesShapes())},n.prototype._contains=function(t){for(var e=!0,n=0,i=this.__seriesShapes;n<i.length;n++)i[n].contains(t)||(e=!1);return e},n.prototype._cutOff=function(){return!1},n.prototype._shapes=function(){for(var t=[],e=0,n=this.__seriesShapes;e<n.length;e++){var i=n[e];t.push(i.clone())}return t},n.prototype._getShapePointViews=function(){return this.__shapePointViews},n.prototype._setShapePointViews=function(t){this.__shapePointViews=t},n.prototype._swapAxes=function(){return this._ownerView._getCartesianPlotView()._swapAxes()},n.prototype._getSeriesShapes=function(){return this.__seriesShapes},n.prototype._setSeriesShapes=function(e){this.__seriesShapes=e.map((function(e){return e instanceof t._AreaShape?e:null}))},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__seriesShapes=this._createAreaShapes(this._filterPointViews());var o=i._areaBaseLine;this._layoutAreaShapes(this._getCartesianSeriesDataModel(),o)},n.prototype._applyColor=function(e){var n=this._getCartesianSeriesDataModel(),i=this._ownerView._getCartesianPlotView(),o=this._getDefinition()._paletteColorProvider._defaultColor();if(null!=o&&(e.fill=o,e.stroke=o),null!=n._getGradientColorScale()){for(var r=-Number.MAX_VALUE,l=Number.MAX_VALUE,a=0,s=this._pointViews;a<s.length;a++){var u=s[a]._data(),_=i._getYValue(u);null==_.upperY||isNaN(_.upperY)||(_.upperY>r&&(r=_.upperY),_.upperY<l&&(l=_.upperY)),null==_.lowerY||isNaN(_.lowerY)||(_.lowerY>r&&(r=_.lowerY),_.lowerY<l&&(l=_.lowerY))}var p=this._calculateStartAndEndValue(l,r,this._ownerView._yAxisView()),c=p[0],h=p[1];e.fill=new t._LinearGradientColor(360,n._getGradientColorScale()._calculateColorStopsOfRange(c,h))}else{var f=this.color;null!=f&&(e.fill=f,e.stroke=f)}},n.prototype._calculateStartAndEndValue=function(t,e,n){var i=n._scaleModel._minimum,o=n._scaleModel._maximum;return i>=0&&t>i?t=i:o<=0&&e<o?e=o:e>0&&t>0?t=0:e<0&&t<0&&(e=0),[t,e]},n.prototype._splitAreaToPolygon=function(e){var n=[];if(null==e)return n;for(var i=e._upperLine(),o=e._lowerLine(),r=0,l=0,a=null,s=0;s<i.length-1;s++)for(var u=0;u<o.length-1;u++){var _=i[s],p=i[s+1],c=o[u],h=o[u+1],f=t._AlgorithmUtils._getCrossPoint(_,p,c,h);if(null!=f&&!f.equalsWith(_)&&!f.equalsWith(c)){var d=[];null!=a&&d.push(a);for(var y=r;y<=s;y++)d.push(i[y]);d.push(f);for(var g=u;g>=l;g--)d.push(o[g]);n.push(new t._PolygonShape(d)),r=s+1,l=u+1,a=f}}var m=[];for(null!=a&&m.push(a),y=r;y<i.length;y++)m.push(i[y]);for(g=o.length-1;g>=l;g--)m.push(o[g]);return n.push(new t._PolygonShape(m)),n},n.prototype._getShapeHasNegativeRange=function(e){var n=this.__seriesShapes.indexOf(e);if(0<=n&&n<this.__shapePointViews.length&&null!=this.__shapePointViews[n]&&this.__shapePointViews[n].length>0)for(var i=0,o=this.__shapePointViews[n];i<o.length;i++){var r=o[i]._data();if(r instanceof t._RangeValuePointDataModel&&(null==r._displayLower()?0:r._displayLower())>(null==r._displayUpper()?0:r._displayUpper()))return!0}return!1},n.prototype._getShapeStyleFlags=function(e){var n=[],i=this.__seriesShapes.indexOf(e);if(0<=i&&i<this.__shapePointViews.length&&null!=this.__shapePointViews[i]&&this.__shapePointViews[i].length>0)for(var o=0,r=this.__shapePointViews[i];o<r.length;o++){var l=r[o]._data();if(l instanceof t._RangeValuePointDataModel){var a=null==l._displayLower()?0:l._displayLower(),s=null==l._displayUpper()?0:l._displayUpper();a<s?n.push(1):a>s?n.push(-1):n.push(0)}}var u=[];0!=n[0]&&u.push(n[0]);for(var _=1;_<n.length;_++)0!=n[_]&&n[_]!=n[_-1]&&u.push(n[_]);return u},n.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,this._getDefinition()._dvConfigOption.style),n._altStyle&&null!=this._getDefinition()._plotConfigOption.altStyle?t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.altStyle):t._StyleUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.style),t._StyleUtility._applyDataPointStyleOption(e,this._getCartesianSeriesDataModel()._seriesStyle()),t._StyleUtility._applyDataPointStyleOption(e,this._internalStyle())},n.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeLine._flush(t,e),t.restoreTransform()},n.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getCartesianSeriesDataModel()._seriesStyle())&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},n.prototype._renderSeriesBorder=function(e,n){var i=this._ownerView._getCartesianPlotView();if(i._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Cartesian){var o=i._swapAxes()?n.lowerYs():n.lowerXs();if(o.every((function(t,e){return 0==e||t==o[e-1]})))return}var r=this._getStyleStrokeWidth();if(null==r||null!=r&&r.top==r.right&&r.top==r.bottom&&r.top==r.left)0!=e.strokeWidth&&(e.beginTransform(),e.fill=t._CssColor._none(),e.drawPolygon(n._xs(),n._ys()),e.restoreTransform());else{if(null!=r&&r.top>0&&(e.strokeWidth=r.top,e.drawLines(n.upperXs(),n.upperYs())),null!=r&&r.bottom>0&&(e.strokeWidth=r.bottom,e.drawLines(n.lowerXs(),n.lowerYs())),null!=r&&r.left>0){e.strokeWidth=r.left;var l=n.lowerXs().length>0&&n.upperXs().length>0?[n.lowerXs()[0],n.upperXs()[0]]:[],a=n.lowerYs().length>0&&n.upperYs().length>0?[n.lowerYs()[0],n.upperYs()[0]]:[];l.length>0&&a.length>0&&e.drawLines(l,a)}null!=r&&r.right>0&&(e.strokeWidth=r.right,l=n.lowerXs().length>0&&n.upperXs().length>0?[n.lowerXs()[n.lowerXs().length-1],n.upperXs()[n.upperXs().length-1]]:[],a=n.lowerYs().length>0&&n.upperYs().length>0?[n.lowerYs()[n.lowerYs().length-1],n.upperYs()[n.upperYs().length-1]]:[],l.length>0&&a.length>0&&e.drawLines(l,a))}},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n))for(var l=0,a=this.__seriesShapes;l<a.length;l++){var s=a[l];if(t._Util.IsPointInPolygon2(n,s._xs(),s._ys())){var u=new t.HitTestResult(n,this,this,t.ElementType.Series);return null==o||null!=o&&o.predicate(u)?u:null}}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._createAreaShapes=function(e){if(e.length<=0)return[];var n=this._ownerView._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode,o=this._dataModel._group()._x()instanceof t._CategoryDimension,r=0;this.__shapePointViews=[];var l=[],a=[],s=[];e=e.slice(),i!=t.AxisMode.Cartesian&&o&&!n._isStack()&&this._canAppendPointView()&&e.push(e[0]);for(var u=e.length,_=0;_<u;_++){var p=e[_],c=p._data(),h=n._getXValue(c);if(null!=h){this.__shapePointViews.length===r?this.__shapePointViews.push(new Array):null==this.__shapePointViews[r]&&(this.__shapePointViews[r]=[]),this.__shapePointViews[r].push(p);var f=n._getYValue(c);if(null==f.upperY||isNaN(f.upperY)||a.push(new t.core.Point(h,f.upperY)),null==f.lowerY||isNaN(f.lowerY)||s.push(new t.core.Point(h,f.lowerY)),_==u-1)break;var d=e[_+1];if(!this._getConnectedStatus(p,d))if(t._isXyValuePointDataModel(c)){var y=this._convertByLineAspect(a);l.push(new t._AreaShape([],y)),r++,a=[]}else if(t._isRangeValuePointDataModel(c)){var g=this._convertByLineAspect(s);y=this._convertByLineAspect(a),l.push(new t._AreaShape(g,y)),r++,s=[],a=[]}}}var m=this._convertByLineAspect(s),v=this._convertByLineAspect(a);return l.push(new t._AreaShape(m,v)),l},n.prototype._layoutAreaShapes=function(e,n){for(var i=this._ownerView,o=i._axisMode(),r=e._group()._x()instanceof t._CategoryDimension,l=i._xAxisView(),a=i._yAxisView(),s=i._getCartesianPlotView()._getDefinition()._plotConfigOption.lineAspect,u=0,_=this.__seriesShapes;u<_.length;u++){var p=_[u];if(p._upperLine().length>0&&0==p._lowerLine().length){if(o==t.AxisMode.Cartesian||r&&!p._upperLine()[p._upperLine().length-1].equalsWith(p._upperLine()[0]))for(var c=0,h=n._takeSegment(p.upperXs()[0],p.upperXs()[p.upperXs().length-1]);c<h.length;c++){var f=h[c];p._lowerLine().push(f)}o!=t.AxisMode.Cartesian&&r&&!i._isStack()&&p._lowerLine().length>0&&p._lowerLine().push(p._lowerLine()[0].clone());var d=e._detailDimension();null!=d&&t._isStackGroupDetailEncodingDefintion(d._definition())&&n._mergeSegment(p._upperLine().map((function(t){return t.clone()})))}for(var y=0,g=p._upperLine();y<g.length;y++){var m=g[y];if(!this._convert(i,o,l,a,m)){this._visible=!1;break}}for(var v=0,w=p._lowerLine();v<w.length;v++)if(m=w[v],!this._convert(i,o,l,a,m)){this._visible=!1;break}if(s==t.LineAspect.Spline){var b=p._lowerLine(),S=this._convertBySpline(b);b.length=0;for(var P=0,C=S;P<C.length;P++){var x=C[P];b.push(x)}var V=p._upperLine(),D=this._convertBySpline(V);V.length=0;for(var A=0,O=D;A<O.length;A++)x=O[A],V.push(x)}}},n.prototype._convert=function(e,n,i,o,r){var l=i._scaleModel._value(r.x),a=o._scaleModel._value(r.y);if(null==l||isNaN(l)||null==a||isNaN(a))return!1;if(this._swapAxes()){var s=l;l=a,a=s}if(n==t.AxisMode.Polygonal||n==t.AxisMode.Radial){var u=null==l?0:l;r.x=Math.cos(a)*u+e._cx(),r.y=Math.sin(a)*u+e._cy()}else r.x=l,r.y=a;return!0},n.prototype._convertByLineAspect=function(e){var n=this._getDefinition()._plotConfigOption.lineAspect;return new t._LineAspectConverter(!1,n).convert(e)},n.prototype._convertBySpline=function(e){var n=new t._Spline(e.map((function(t){return t.x})),e.map((function(t){return t.y}))).calculate();e=[];for(var i=0;i<Math.min(n.xs.length,n.ys.length);i++)e.push(new t.core.Point(n.xs[i],n.ys[i]));return e},n}(t._CartesianSeriesView);t._AreaCartesianSeriesView=e}(t||(t={})),function(t){t._isAreaCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._shapes&&"function"==typeof e._setShapePointViews&&"function"==typeof e._swapAxes&&"function"==typeof e._setSeriesShapes}}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){return void 0===r&&(r=null),void 0===l&&(l=null),e.call(this,n,i,o,null==r?new t._BarCartesianPlotViewBuilder:r,null,null,null==l?new t._BarCartesianLegendSymbolViewBuilder(!1,!1):l)||this}return i(n,e),n}(t._BaseCartesianPlotDefinition);t._BarCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Bar"===n.type?new t._BarCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this.__ownerView=t,this.__clusterGroups={}}return e._barExtension=function(t){if(null!=t){var n=t._barExtension;return null==n&&(t._barExtension=n=new e(t)),n}return null},e.prototype._clusterCount=function(t){return null!=this.__clusterGroups[t]?this.__clusterGroups[t].length:0},e.prototype._cluster=function(){var e=0,n=t._NativeExtension.properties(this.__clusterGroups,!0);if(n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];e+=this.__clusterGroups[r].length}return e},e.prototype._resetClusterGroups=function(){this.__clusterGroups={};for(var e=0,n=this.__ownerView._getPlotViews();e<n.length;e++){var i=n[e];t._isBarCartesianPlotView(i)&&i._resetClusterGroups(this.__clusterGroups)}},e.prototype.showSymbol=function(){return!1},e}();t._BarExtension=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._CartesianBarLegendSymbol;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._BarCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.barWidth=function(t,e){return null==e||isNaN(e)?.7:(e>1&&(e=1),e<0&&(e=0),e)},t}();t._DefaultBarWidthBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInbarWidthPolicies=function(){return null==n.__buildInBarWidthPolicies&&(n.__buildInBarWidthPolicies=new n([],n._pluginType)),n.__buildInBarWidthPolicies},n.prototype._convert=function(e){return t._isBarWidthPolicy(e)?e:null},n.prototype._barWidthBuilder=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}return new t._DefaultBarWidthBuilder},n._pluginType="BarWidthPolicy",n}(t._BuildInObjectCollection);t._BuildInBarWidthPolicyCollection=e}(t||(t={})),t||(t={}),function(t){t._isBarWidthPolicy=function(t){return null!=t&&"function"==typeof t.build}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInClusterKeyBuilders=function(){return null==n.__buildInClusterKeyBuilders&&(n.__buildInClusterKeyBuilders=new n([new t._DefaultClusterKeyBuilder],n._pluginType)),n.__buildInClusterKeyBuilders},n.prototype._convert=function(e){return t._isClusterKeyBuilder(e)?e:null},n.prototype._clusterKey=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildClusterKey(t,e);if(null!=l)return l}return null},n._pluginType="ClusterKeyBuilder",n}(t._BuildInObjectCollection);t._BuildInClusterKeyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildClusterKey=function(e,n){var i=e._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),o=e._getDefinition()._plotOption.name+"_"+n._valueDefinition()._identifier+"_"+i,r=n._group();if(t._isCartesianMirrorGroupDataModel(r)){var l=r;e._axisMode()!=t.AxisMode.Cartesian&&e._swapAxes()&&(o+="_"+(null!=l._mirrorDimension()._key()?l._mirrorDimension()._key().toString():"null"))}return null!=n._detailDimension()&&t._isClusterGroupDetailEncodingDefintion(n._detailDimension()._definition())&&(o+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null")),o},e.prototype.queryInterface=function(t){return"IClusterKeyBuilder"===t?this:null},e}();t._DefaultClusterKeyBuilder=e}(t||(t={})),function(t){t._isClusterKeyBuilder=function(t){return null!=t&&"function"==typeof t._buildClusterKey}}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._defaultBuildInPointViewLayoutBuilders=function(){return null==n.__buildInPointViewLayoutBuilders&&(n.__buildInPointViewLayoutBuilders=new n([new t._DefaultBarRectangleDataPointViewLayout,new t._DefaultBarDonutDataPointViewLayout],t._BuildInViewLayoutBuilderCollection._pluginType)),n.__buildInPointViewLayoutBuilders},n}(t._BuildInViewLayoutBuilderCollection);t._BuildInPointViewLayoutBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.layout=function(t,e){return t},t.prototype.queryInterface=function(t){return"IBarDonutDataPointViewLayout"===t?this:null},t}();t._BaseBarDonutDataPointViewLayout=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return t._isBarCartesianPlotView(n)&&n._isRadialBar()?this:null},n.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseBarDonutDataPointViewLayout);t._DefaultBarDonutDataPointViewLayout=e}(t||(t={})),function(t){t._isBarDonutDataPointViewLayout=function(t){return null!=t&&"function"==typeof t.layout}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.prototype.layout=function(t,e){return t},t.prototype.queryInterface=function(t){return"IBarRectangleDataPointViewLayout"===t?this:null},t}();t._BaseBarRectangleDataPointViewLayout=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return t._isBarCartesianPlotView(n)&&n._isRectangleBar()?this:null},n.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseBarRectangleDataPointViewLayout);t._DefaultBarRectangleDataPointViewLayout=e}(t||(t={})),function(t){t._isBarRectangleDataPointViewLayout=function(t){return null!=t&&"function"==typeof t.layout}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._BarCartesianSeriesView(this,e)},n}(t._BaseCartesianGroupView);t._BarCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o.__barWidth=null,o.__barBottom=null,o.__barTop=null,o.__barOverlap=null,o}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._BarCartesianGroupView(this,e)},n.prototype._plotBarOption=function(){return this._definition._plotConfigOption.bar},n.prototype._globalBarOption=function(){return this._definition._dvConfigOption.bar},n.prototype._barWidth=function(){if(null!=this.__barWidth)return this.__barWidth;var e=!this._isFunnel()||this._isFunnel()&&this._globalBarOption().funnelType==t.FunnelType.Default?Math.max(this._barBottom(),this._barTop()):null;null==this._plotBarOption().width||isNaN(this._plotBarOption().width)?null==this._globalBarOption().width||isNaN(this._globalBarOption().width)||(e=Math.max(this._globalBarOption().width,e)):e=Math.max(this._plotBarOption().width,e);var n=t._BuildInBarWidthPolicyCollection._defaultBuildInbarWidthPolicies()._barWidthBuilder(this._definition._plotConfigOption.plugins,this._definition._pluginCollection);return this.__barWidth=n.barWidth(this,e),this.__barWidth},n.prototype._barBottom=function(){if(null!=this.__barBottom)return this.__barBottom;var t=this._plotBarOption().bottomWidth;return null==t&&(t=this._globalBarOption().bottomWidth),null==t&&(t=this._plotBarOption().width),null==t&&(t=this._globalBarOption().width),null==t||isNaN(t)?this.__barBottom=.7:(t>1&&(t=1),t<0&&(t=0),this.__barBottom=t),this.__barBottom},n.prototype._barTop=function(){if(null!=this.__barTop)return this.__barTop;var t=this._plotBarOption().topWidth;return null==t&&(t=this._globalBarOption().topWidth),null==t&&(t=this._plotBarOption().width),null==t&&(t=this._globalBarOption().width),null==t||isNaN(t)?this.__barTop=.7:(t>1&&(t=1),t<0&&(t=0),this.__barTop=t),this.__barTop},n.prototype._neckHeight=function(){var t=this._plotBarOption().neckHeight;return null==t&&(t=this._globalBarOption().neckHeight),null==t||isNaN(t)?0:t},n.prototype._barOverlap=function(){if(null!=this.__barOverlap)return this.__barOverlap;var t=this._plotBarOption().overlap;return null==t&&(t=this._globalBarOption().overlap),null==t||isNaN(t)?this.__barOverlap=0:(t>1&&(t=1),t<-1&&(t=-1),this.__barOverlap=t),this.__barOverlap},n.prototype._resetClusterGroups=function(t){this._analysisClusterGroups(t)},n.prototype._analysisClusterGroups=function(e){for(var n=0,i=this._groupViews;n<i.length;n++)for(var o=0,r=i[n]._getCartesianSeriesViews();o<r.length;o++){var l=r[o];if(!l._getCartesianSeriesDataModel()._filtered&&!l._getCartesianSeriesDataModel()._legendFiltered){var a=l._getCartesianSeriesDataModel(),s=a._valueDefinition();if(null==s||!s._getValueEncodingDefinition()._excludeNulls||!a._isNulls()){var u=this._getCluster(a);null==e[u]&&(e[u]=[]);var _=this._definition._plotConfigOption.plugins,p=this._definition._pluginCollection,c=t._BuildInClusterKeyBuilderCollection._defaultBuildInClusterKeyBuilders()._clusterKey(this,a,_,p);if(null!=c){e[u].indexOf(c)<0&&e[u].push(c);var h=l;h._setCluster(u),h._setBarIndexInCluster(e[u].indexOf(c))}}}}},n.prototype._getCluster=function(t){var e=null,n=this._plotBarOption().groups;if(null!=n&&n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null!=t._valueDefinition()&&t._valueDefinition()._identifier==r.valueField&&null!=t._detailDimension()&&t._detailDimension()._keyEquals(r.key)){e=r.cluster;break}if(null!=t._valueDefinition()&&t._valueDefinition()._identifier==r.valueField&&null==t._detailDimension()&&null==r.key){e=r.cluster;break}}return null==e?"":e},n.prototype.__getClusterWidth=function(t){var e=this._plotBarOption().groups;if(null==e)return null;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(null!=t._valueDefinition()&&t._valueDefinition()._identifier==o.valueField&&null!=t._detailDimension()&&t._detailDimension()._keyEquals(o.key))return o.width;if(null!=t._valueDefinition()&&t._valueDefinition()._identifier==o.valueField&&null==t._detailDimension()&&null==o.key)return o.width}return null},n.prototype._prepareDataLabelOverlay=function(){var n=this._dataPointDataLabelOption();this._isRadialBar()||n.overlappingLabels!==t.OverlappingLabels.Auto||(n.overlappingLabels=t.OverlappingLabels.Show),e.prototype._prepareDataLabelOverlay.call(this)},n.prototype._isRadialBar=function(){return this._definition._plotConfigOption.axisMode==t.AxisMode.Polygonal||this._definition._plotConfigOption.axisMode==t.AxisMode.Radial},n.prototype._isRectangleBar=function(){if(!this._isRadialBar()){if(this._isWaterfall())return!0;if(!this._isFunnel())return!0}return!1},n.prototype._isExpandAxis=function(n){if(this._axisMode()==t.AxisMode.Radial&&this._swapAxes()){if(null!=n._getDefinition()._option.scale&&n._getDefinition()._option.scale.type==t.ValueScaleType.Ordinal)return!1;if(t._isCartesianCategoryPlotDataModel(this._dataModel))return!1;for(var i=0,o=this._definition._valueDefinitions();i<o.length;i++){var r=o[i].queryInterface("IXyValueDimensionDefinition");if(null!=r){var l=r._dimensionDefinition();if(t._isStringDataField(l._fieldDefinition()._dataField)||t._isBooleanDataField(l._fieldDefinition()._dataField))return!1}}}return e.prototype._isExpandAxis.call(this,n)},n.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(this._axisMode()==t.AxisMode.Radial&&this._swapAxes())return.5;if(!this._swapAxes())return.5}for(var n=0,i=this._definition._valueDefinitions();n<i.length;n++){var o=i[n].queryInterface("IXyValueDimensionDefinition");if(null!=o){var r=o._dimensionDefinition()._fieldDefinition()._dataField;if(this._axisMode()==t.AxisMode.Cartesian||this._axisMode()==t.AxisMode.Radial||this._axisMode()==t.AxisMode.Polygonal&&!this._swapAxes()){if(null!=this._xAxisView()&&t._isOrdinalAxisScale(this._xAxisView()._scaleModel._scale))return.5;if(t._isNumberDataField(r)||t._isDateDataField(r)){var l=this._minDistanceInDimensionValues();return null==l?.5:.5*l}}}}return e.prototype._xPadding.call(this)},n.prototype._analysisFitRangePadding=function(){},n.prototype._afterAttachCoordinateSystem=function(){e.prototype._afterAttachCoordinateSystem.call(this),this._percentageDimension()},n.prototype._percentageDimension=function(){if(this._isPercentage())for(var e=0,n=this._dataModel._groups();e<n.length;e++){var i=n[e]._y();if(t.models._isLinearDimension(i)){var o=i,r=o._min();null!=r&&r>0&&o._setMin(0);var l=o._max();null!=l&&l<0&&o._setMax(0)}}},n.prototype._createOverlayViews=function(){var n=e.prototype._createOverlayViews.call(this);return t._isCartesianCategoryPlotDataModel(this._dataModel)&&this._isWaterfall()&&this._plotBarOption().connectorLines&&n.push(new t._WaterfallConnectLineOverlayView(this,new t._WaterfallConnectLineDefinition(this._definition,this._plotBarOption().connectorLineStyle))),n},n.prototype._createCartesianPointView=function(e,n){if(this._isRadialBar())return this._createRadialBarPointView(e,n);if(this._isWaterfall())return this._createBarPointView(e,n);if(this._isFunnel()){var i=this._globalBarOption().funnelType;if(i==t.FunnelType.Default&&this._barBottom()!=this._barTop())return this._createFunnelPointView(e,n);if(i==t.FunnelType.EqualBar)return this._createEqualBarFunnelPointView(e,n);if(i==t.FunnelType.Bar)return this._createBarFunnelPointView(e,n)}return this._createBarPointView(e,n)},n.prototype._createBarPointView=function(e,n){return n instanceof t._RangeValuePointDataModel?new t._RangeBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._XyBarCartesianPointView(e,n,this._pointViewLayouter,null)},n.prototype._createRadialBarPointView=function(e,n){return new t._RadialBarCartesianPointView(e,n,this._pointViewLayouter,null)},n.prototype._createFunnelPointView=function(e,n){return new t._FunnelCartesianPointView(e,n,null)},n.prototype._createEqualBarFunnelPointView=function(e,n){return new t._EqualBarFunnelCartesianPointView(e,n,null)},n.prototype._createBarFunnelPointView=function(e,n){return new t._BarFunnelPointView(e,n,null)},n.prototype._isFunnel=function(){var e=this._globalBarOption().funnelType;return e==t.FunnelType.Default&&this._barBottom()!=this._barTop()||e==t.FunnelType.EqualBar||e==t.FunnelType.Bar},n.prototype._isPie=function(){if(this._definition._plotConfigOption.axisMode!=t.AxisMode.Polygonal&&this._definition._plotConfigOption.axisMode!=t.AxisMode.Radial)return!1;for(var e=!1,n=0,i=this._dataModel._groups();n<i.length;n++){var o=i[n],r=this._swapAxes()?o._y():o._x();null==r._definition()?e=!0:(t._isCategoryDimension(r)||t._isOrdinalDimension(r))&&(e=r._count()<=1||e)}return!!e&&1==t._BarExtension._barExtension(this._cartesianCoordinateSystemView())._cluster()},n.prototype._isWaterfall=function(){if(null==this._definition._encodingsDefinition._getCartesianCategoryEncodingDefinition())return!1;for(var t=0,e=this._definition._valueDefinitions();t<e.length;t++)if(null!=e[t].queryInterface("IRangeValueDimensionDefinition"))return!1;return null!=this._plotBarOption().waterfall},n.prototype._getWidth=function(t,e){if(this._calculateSeriesViewCount()<=0)return null;var n=this._minDistanceInDimensionValues();return null==n&&(n=1),n*e/(t+this._barOverlap()-this._barOverlap()*t)},n.prototype._initAxis=function(){if(e.prototype._initAxis.call(this),(this._axisMode()==t.AxisMode.Polygonal||this._axisMode()==t.AxisMode.Radial)&&!this._swapAxes()){for(var n=NaN,i=t._BarExtension._barExtension(this._cartesianCoordinateSystemView()),o=0,r=this._groupViews;o<r.length;o++)for(var l=0,a=r[o]._getCartesianSeriesViews();l<a.length;l++){var s=a[l],u=this._horizontalAxisView();if(null==u||!t._isLogAxisScale(u._scaleModel._scale)){var _=s._getCluster(),p=this.__getClusterWidth(s._getCartesianSeriesDataModel());(isNaN(p)||null==p)&&(p=this._barWidth());var c=this._getWidth(i._clusterCount(_),p),h=this._getWidth(i._clusterCount(_),1);if(null!=c&&null!=h){var f=(c-h)/2;(isNaN(n)||n<f)&&(n=f)}}}if(!isNaN(n))for(var d=0,y=this._groupViews;d<y.length;d++){var g=y[d]._horizontalAxisView();n<g._getRadiusOffset()&&g._setRadiusOffset(n)}}},n.prototype._xAxisDirection=function(t,n){if(!this._isPie())return e.prototype._xAxisDirection.call(this,t,n);var i=this._xAxisView()._scaleModel._getReversed(),o=!0,r=this._xOrigin();return(null!=n?n:t._xPos())<=r&&(o=!1),i&&(o=!o),o?1:-1},n}(t._BaseCartesianPlotView);t._BarCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._BarCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._BarCartesianPlotView(e,n,i):null},e}();t._BarCartesianPlotViewBuilder=e}(t||(t={})),function(t){t._isBarCartesianPlotView=function(e){if(!t._isCartesianPlotView(e))return!1;var n=e;return"function"==typeof n._isPie&&"function"==typeof n._isRadialBar&&"function"==typeof n._isRectangleBar&&"function"==typeof n._isWaterfall&&"function"==typeof n._isFunnel}}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isBarCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,this._barDataPointStyle(n)),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},n.prototype._barDataPointStyle=function(t){return null!=t._getPlotView()._getDefinition()._plotConfigOption.altStyle&&t._isAlternate()?t._getPlotView()._getDefinition()._plotConfigOption.altStyle:t._getPlotView()._getDefinition()._plotConfigOption.style},n}(t._CartesianPointStyleBuilder);t._BarCartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,null==o?new t._BarCartesianPointStyleBuilder:o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return i(n,e),n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},n.prototype._isAlternate=function(){var t,e=this._getPlotView(),n=this._data();return null!=n.queryInterface("INumberValue")&&null!=(t=n.queryInterface("INumberStackValue"))&&(null==t.value?0:t.value)<e._getBaseLineValue()||null!=n.queryInterface("INumberRangeValue")&&null!=(t=n.queryInterface("INumberStackValue"))&&(null==t.value?0:t.value)<(null==t.previous?0:t.previous)},n.prototype._getBarDataPointStyle=function(){return null!=this._getDefinition()._plotConfigOption.altStyle&&this._isAlternate()?this._getDefinition()._plotConfigOption.altStyle:this._getDefinition()._plotConfigOption.style},n.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getBarDataPointStyle()),n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},n.prototype._getStrokeWidth=function(t){var e=this._getStyleStrokeWidth();if(t.hasSelectionInPlotArea)if(this._isSelected()){var n=this._getSelectedStyleStrokeWidth();null!=n&&(e=n);var i=t.apiSelectedStyle;null!=i&&null!=i.strokeWidth&&(e=i.strokeWidth)}else{var o=this._getUnselectedStyleStrokeWidth();null!=o&&(e=o)}return this._hover&&null!=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth&&(e=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth),e},n.prototype._draw=function(t,e){},n.prototype._contains=function(t){return!1},n.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},n.prototype._getTrackersWithOption=function(n){var i=this._rectangle();if(n.type==t.TrackerType.CrossX){var o=this._getCartesianGroupView(),r=o._xAxisView();if(t._isLineAxisView(r)){var l=r,a=this._data();if(t._isXyValuePointDataModel(a)){if(this._isAlternate())return this._isAlternate()?(s=new t.core.Point(0,0),u=new t.core.Point(0,0),o._swapAxes()?(_=i.left,s=new t.core.Point(_,l._plotRect().top),u=new t.core.Point(_,l._plotRect().bottom)):(p=i.bottom,s=new t.core.Point(l._plotRect().left,p),u=new t.core.Point(l._plotRect().right,p)),[new t.models._CartesianTrackLine(n,s,u,i)]):(s=new t.core.Point(0,0),u=new t.core.Point(0,0),o._swapAxes()?(_=i.right,s=new t.core.Point(_,l._plotRect().top),u=new t.core.Point(_,l._plotRect().bottom)):(p=i.top,s=new t.core.Point(l._plotRect().left,p),u=new t.core.Point(l._plotRect().right,p)),[new t.models._CartesianTrackLine(n,s,u,i)]);var s=new t.core.Point(0,0),u=new t.core.Point(0,0);if(o._swapAxes()){var _=i.right;s=new t.core.Point(_,l._plotRect().top),u=new t.core.Point(_,l._plotRect().bottom)}else{var p=i.top;s=new t.core.Point(l._plotRect().left,p),u=new t.core.Point(l._plotRect().right,p)}return[new t.models._CartesianTrackLine(n,s,u,i)]}if(t._isRangeValuePointDataModel(a)){var c=new t.core.Point(0,0),h=new t.core.Point(0,0),f=new t.core.Point(0,0),d=new t.core.Point(0,0),y=null,g=null;if(o._swapAxes()){y=new t.core.Rect(i.left+i.width/2,i.top,i.width/2,i.height),g=new t.core.Rect(i.left,i.top,i.width/2,i.height);var m=i.right,v=i.left;c=new t.core.Point(m,l._plotRect().top),h=new t.core.Point(m,l._plotRect().bottom),f=new t.core.Point(v,l._plotRect().top),d=new t.core.Point(v,l._plotRect().bottom)}else{y=new t.core.Rect(i.left,i.top,i.width,i.height/2),g=new t.core.Rect(i.left,i.top+i.height/2,i.width,i.height/2);var w=i.top,b=i.bottom;c=new t.core.Point(l._plotRect().left,w),h=new t.core.Point(l._plotRect().right,w),f=new t.core.Point(l._plotRect().left,b),d=new t.core.Point(l._plotRect().right,b)}return[new t.models._CartesianTrackLine(n,c,h,y),new t.models._CartesianTrackLine(n,f,d,g)]}}}return null!=e.prototype._getTrackerWithOption.call(this,n)?[e.prototype._getTrackerWithOption.call(this,n)]:null},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this.__drawablePipeline.contains(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(r)?r:null}return t._isFunnelCartesianPointView(this)?null:e.prototype._hitTest.call(this,n,i,o)},n.prototype._cutOff=function(){return!1},n.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},n.prototype._getXValues=function(e,n){var i=this._getPlotView(),o=this._getCartesianGroupView(),r=o._getXValue(e),l=new t._DataDomain(NaN,NaN),a=this._getCartesianSeriesView(),s=a._getCluster(),u=t._BarExtension._barExtension(i._cartesianCoordinateSystemView()),_=i.__getClusterWidth(e._getSeries());(isNaN(_)||null==_)&&(_=this._getBarWidth());var p=i._getWidth(u._clusterCount(s),_);if(null==p)return l;var c=a._getBarIndexInCluster(),h=0,f=u._clusterCount(s);if(f>1){var d=i._minDistanceInDimensionValues();null==d&&(d=1),h=.5*(p-d*_)+(p+(d*_-p*f)/(f-1))*c}if(null==r){if(t._isLogAxisScale(o._xAxisView()._scaleModel._scale))return l;r=0}return null!=n?(l.min=r+h-p*n*.5,l.max=r+h+p*n*.5):(l.min=r+h-.5*p,l.max=r+h+.5*p),l},n.prototype._isBaseLinePoint=function(){var t=this._data(),e=this._getYValues(t),n=this._getCartesianPlotView();return e.min==n._getBaseLineValue()},n.prototype._getYValues=function(e){var n=this._getPlotView(),i=n._getYValue(e);return t._isXyValuePointDataModel(e)&&(null==i.lowerY||isNaN(i.lowerY))&&(i.lowerY=n._getBaseLineValue()),new t._DataDomain(i.lowerY,i.upperY)},n.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},n.prototype.showSymbol=function(){return!1},n}(t._CartesianPointView);t._BaseBarCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function o(t){return e.call(this,t)||this}return i(o,e),o.prototype._createPoints=function(i){if(i instanceof n){for(var o=i._getXs(),r=i._getYs(),l=Math.min(o.length,r.length),a=[],s=function(e){var n=new t.core.Point(o[e],r[e]);a.some((function(t){return t.x==n.x&&t.y==n.y}))||a.push(n)},u=0;u<l;u++)s(u);return a}return e.prototype._createPoints.call(this,i)},o}(t._PointAdorner),n=function(n){function o(t,e,i){return n.call(this,t,e,i)||this}return i(o,n),o.prototype._shape=function(){return null!=this.__funnelPolygon?new t._PolygonShape(this.__funnelPolygon.points):n.prototype._shape.call(this)},o.prototype._getFunnelPolygon=function(){return this.__funnelPolygon},o.prototype._setFunnelPolygon=function(t){this.__funnelPolygon=t},o.prototype._contains=function(e){return t._Util.IsPointInPolygon2(e,this._getXs(),this._getYs())},o.prototype._draw=function(t,e){n.prototype._draw.call(this,t,e);var i=this._getFunnelPolygon();if(null!=i){var o=this._getStrokeWidth(e);null==o||null!=o&&o.top==o.right&&o.top==o.bottom&&o.top==o.left?t.drawPolygon(this._getXs(),this._getYs()):(t.beginTransform(),t.strokeWidth=0,t.drawPolygon(this._getXs(),this._getYs()),t.restoreTransform(),this._renderPolygonBorder(t,i,o))}},o.prototype._renderPolygonBorder=function(t,e,n){var i=this._getPlotView()._swapAxes(),o=this._reversed(),r=this._isPositive();null!=e&&null!=n&&(n.top>0&&(t.strokeWidth=n.top,t.drawLine(e.leftTop.x,e.leftTop.y,e.rightTop.x,e.rightTop.y)),n.bottom>0&&(t.strokeWidth=n.bottom,t.drawLine(e.leftBottom.x,e.leftBottom.y,e.rightBottom.x,e.rightBottom.y)),n.left>0&&(t.strokeWidth=n.left,i?o==r?(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):o==r?(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y))),n.right>0&&(t.strokeWidth=n.right,i?o==r?(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):o==r?(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y))))},o.prototype._refresh=function(){null!=this._getFunnelPolygon()&&(this._setXs(this._getFunnelPolygon().xs),this._setYs(this._getFunnelPolygon().ys),this._updateRectangle(this._getFunnelPolygon()._rectangle()))},o.prototype._getBarWidth=function(){var t=this._getPlotView();return Math.max(t._barBottom(),t._barTop())},o.prototype._layoutContent=function(e,i,o){n.prototype._layoutContent.call(this,e,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r);if(null==l.min||null==l.max||null==a.min||null==a.max||isNaN(l.min)||isNaN(l.max)||isNaN(a.min)||isNaN(a.max))this._visible=!1;else{this._xPos(l.min+(l.max-l.min)/2);var s=this._getCartesianGroupView(),u=this._getPlotView(),_=s._xAxisView(),p=s._yAxisView(),c=u.__getClusterWidth(r._getSeries());(isNaN(c)||null==c)&&(c=this._getBarWidth());var h=(a.max-a.min)*u._neckHeight()+a.min,f=u._barTop()/c,d=u._barBottom()/c,y=this._getXValues(r,f),g=this._getXValues(r,d);if(s._isStack()){var m=u._getBaseLineValue(),v=this._getStackValues(r),w=a.max>=a.min?Math.max.apply(Math,v):Math.min.apply(Math,v);h=(w-m)*u._neckHeight()+m;var b=(null==y.max?0:y.max)-(null==y.min?0:y.min),S=(null==g.max?0:g.max)-(null==g.min?0:g.min),P=.5*(b-S)/(w-h),C=a.max;if(Math.abs(C)>Math.abs(h)&&Math.abs(C)<Math.abs(w)){var x=b>S?((C-h)*P*2+S)/b:((C-h)*P*2+S)/S;y=this._getXValues(r,x)}else Math.abs(C)<=Math.abs(h)&&(y=this._getXValues(r,d));C=a.min,Math.abs(C)>Math.abs(h)&&Math.abs(C)<Math.abs(w)&&(x=b>S?((C-h)*P*2+S)/b:((C-h)*P*2+S)/S,g=this._getXValues(r,x))}var V=_._scaleModel._value(Math.min(y.max,y.min)),D=_._scaleModel._value(Math.max(y.max,y.min)),A=_._scaleModel._value(Math.min(g.max,g.min)),O=_._scaleModel._value(Math.max(g.max,g.min)),L=A,T=O,M=p._scaleModel._value(a.max),I=p._scaleModel._value(a.min),E=p._scaleModel._value(h),B=h>Math.min(a.min,a.max)&&h<Math.max(a.min,a.max),R=u._barBottom()>u._barTop()?O-A:D-V,k=this._getXOffset(s,R),F=this._getYOffset(s),N=s._swapAxes()?new t.core.Point(M+F,V+k):new t.core.Point(V+k,M+F),U=s._swapAxes()?new t.core.Point(M+F,D+k):new t.core.Point(D+k,M+F),z=s._swapAxes()?new t.core.Point(E+F,L+k):new t.core.Point(L+k,E+F),j=s._swapAxes()?new t.core.Point(E+F,T+k):new t.core.Point(T+k,E+F),G=s._swapAxes()?new t.core.Point(I+F,A+k):new t.core.Point(A+k,I+F),W=s._swapAxes()?new t.core.Point(I+F,O+k):new t.core.Point(O+k,I+F),q=B?new t._FunnelPolygon(N,U,j,W,G,z):new t._FunnelPolygon(N,U,U,W,G,N);this._setFunnelPolygon(q),this._refresh(),s._getCartesianPlotView()._visualViews.push(this)}},o.prototype._getXOffset=function(t,e){var n=null==this.xOffset?t._getXOffset():this.xOffset;return(null==n||isNaN(n))&&(n=0),n*e},o.prototype._getYOffset=function(t){var e=null==this.yOffset?t._getYOffset():this.yOffset;return(null==e||isNaN(e))&&(e=0),e},o.prototype._getStackValues=function(t){var e=this._getPlotView(),n=this._getCartesianSeriesView()._getBarIndexInCluster(),i=t.xDimensionValue._value(),o=[];return e._traverseCartesianGroupView((function(t){for(var e=0,r=t._getCartesianSeriesViews();e<r.length;e++){var l=r[e],a=l._getCartesianSeriesDataModel(),s=a._valueDefinition();if(!(null!=s&&s._getValueEncodingDefinition()._excludeNulls&&a._isNulls()||l._getBarIndexInCluster()!=n))for(var u=0,_=a.points();u<_.length;u++){var p,c=_[u],h=c.xDimensionValue._value();if(i==h&&(null!=c.queryInterface("INumberValue")&&null!=(p=c.queryInterface("INumberStackValue"))&&o.push(p.value),null!=c.queryInterface("INumberRangeValue")&&null!=(p=c.queryInterface("INumberStackValue")))){var f=null==p.value?0:p.value,d=null==p.previous?0:p.previous;o.push(f-d)}}}})),o},o.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._FunnelPointViewRectangleAttachmentAgent(this))},o.prototype._selectionAdorner=function(){return new e(this)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._FunnelBarDataLabelView(this,n,e):null},o}(t._BaseBarCartesianPointView);t._FunnelCartesianPointView=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},n.prototype._getYValues=function(e){var n=this._getCartesianGroupView(),i=n._getYValue(e);if(t._isXyValuePointDataModel(e)&&(null==i.lowerY||isNaN(i.lowerY))){var o=n._yAxisView();i.lowerY=Math.max(0,o._scaleModel._minimum)}return new t._DataDomain(i.lowerY,i.upperY)},n.prototype._layoutContent=function(e,n,i){var o=this._data(),r=this._getXValues(o),l=this._getYValues(o);if(!(null==r.min||null==r.max||null==l.min||null==l.max||isNaN(r.min)||isNaN(r.max)||isNaN(l.min)||isNaN(l.max))){this._xPos(r.min+(r.max-r.min)/2);for(var a=this._getCartesianGroupView(),s=a._xAxisView(),u=a._yAxisView(),_=0,p=0,c=this._data()._getSeries().points();p<c.length;p++){var h=c[p],f=this._getYValues(h),d=null==f.max?0:f.max,y=null==f.min?0:f.min;d-y>_&&(_=d-y)}var g=null==u._scaleModel._maximum?0:u._scaleModel._maximum,m=null==u._scaleModel._minimum?0:u._scaleModel._minimum,v=0!=_?(g-m)/_:1,w=.5*(g-m)+m,b=.5*(l.max-l.min)*v;if(b>0){var S=w+b,P=w-b,C=u._scaleModel._value(S),x=u._scaleModel._value(P),V=s._scaleModel._value(r.max),D=s._scaleModel._value(r.min),A=this._getXOffset(a,V-D),O=this._getYOffset(a),L=a._swapAxes()?new t.core.Point(C+O,D+A):new t.core.Point(D+A,C+O),T=a._swapAxes()?new t.core.Point(C+O,V+A):new t.core.Point(V+A,C+O),M=a._swapAxes()?new t.core.Point(x+O,D+A):new t.core.Point(D+A,x+O),I=a._swapAxes()?new t.core.Point(x+O,V+A):new t.core.Point(V+A,x+O),E=new t._FunnelPolygon(L,T,T,I,M,L);return this._setFunnelPolygon(E),this._refresh(),void a._getCartesianPlotView()._visualViews.push(this)}}this._visible=!1},n}(t._FunnelCartesianPointView);t._BarFunnelPointView=e}(t||(t={})),function(t){t._isBarFunnelPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},n.prototype._layoutContent=function(e,n,i){for(var o=this._data(),r=this._getCartesianPlotView()._getCartesianPlotDataModel(),l=null,a=0;a<r._points().length&&o!=r._points()[a];a++)l=r._points()[a];var s=this._getXValues(o),u=this._getYValues(o);if(!(null==s.min||null==s.max||null==u.min||null==u.max||isNaN(s.min)||isNaN(s.max)||isNaN(u.min)||isNaN(u.max))){this._xPos(s.min+(s.max-s.min)/2);var _=this._getCartesianGroupView(),p=_._xAxisView(),c=_._yAxisView(),h=null==c._scaleModel._maximum?0:c._scaleModel._maximum,f=null==c._scaleModel._minimum?0:c._scaleModel._minimum,d=.5*(h-f)+f,y=.5*((null==u.max?0:u.max)-(null==u.min?0:u.min));if(y>0){var g=d+y,m=d-y,v=c._scaleModel._value(g),w=c._scaleModel._value(m),b=v,S=w;if(null!=l){var P=this._getYValues(l),C=null==P.max?0:P.max,x=null==P.min?0:P.min,V=d+.5*(C-x),D=d-.5*(C-x),A=c._scaleModel._value(V),O=c._scaleModel._value(D);b=null==A?0:A,S=null==O?0:O}var L=p._scaleModel._value(s.max),T=p._scaleModel._value(s.min),M=this._getXOffset(_,L-T),I=this._getYOffset(_),E=_._swapAxes()?new t.core.Point(b+I,T+M):new t.core.Point(T+M,b+I),B=_._swapAxes()?new t.core.Point(v+I,L+M):new t.core.Point(L+M,v+I),R=_._swapAxes()?new t.core.Point(S+I,T+M):new t.core.Point(T+M,S+I),k=_._swapAxes()?new t.core.Point(w+I,L+M):new t.core.Point(L+M,w+I),F=new t._FunnelPolygon(E,B,B,k,R,E);return this._setFunnelPolygon(F),this._refresh(),void _._getCartesianPlotView()._visualViews.push(this)}}this._visible=!1},n.prototype._isBaseLinePoint=function(){return!1},n}(t._FunnelCartesianPointView);t._EqualBarFunnelCartesianPointView=e}(t||(t={})),function(t){t._isFunnelCartesianPointView=function(t){var e=t;return null!=e&&"function"==typeof e._setFunnelPolygon&&"function"==typeof e._isBaseLinePoint&&"function"==typeof e._getFunnelPolygon&&"function"==typeof e._refresh}}(t||(t={})),function(t){t._isBarCartesianPointView=function(t){return null!=t&&"function"==typeof t._isAlternate}}(t||(t={})),function(t){t._isRadialBarCartesianPointView=function(t){var e=t;return null!=e&&"function"==typeof e._setCenter&&"function"==typeof e._setRadius&&"function"==typeof e._setInnerRadius&&"function"==typeof e._setStartAngle&&"function"==typeof e._setSweep}}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__needRefresh=!0,r.__dataPointViewLayout=i,r}return i(o,e),o.prototype._shape=function(){return new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep)},o.prototype._getCenter=function(){return this.__center},o.prototype._setCenter=function(t){null!=t&&(null==this.__center||this.__center.equalsWith(t)||(this.__needRefresh=!0),this.__center=t.clone())},o.prototype._getRadius=function(){return this.__radius},o.prototype._setRadius=function(t){null!=t&&(this.__radius!=t&&(this.__needRefresh=!0),this.__radius=t)},o.prototype._getInnerRadius=function(){return this.__innerRadius},o.prototype._setInnerRadius=function(t){null!=t&&(t<0&&(t=0),this.__innerRadius!=t&&(this.__needRefresh=!0),this.__innerRadius=t)},o.prototype._getStartAngle=function(){return this.__startAngle},o.prototype._setStartAngle=function(t){null!=t&&(this.__startAngle!=t&&(this.__needRefresh=!0),this.__startAngle=t)},o.prototype._getSweep=function(){return this.__sweep},o.prototype._setSweep=function(t){null!=t&&(this.__sweep!=t&&(this.__needRefresh=!0),this.__sweep=t)},o.prototype._contains=function(t){var e=t.x-this._getCenter().x,n=t.y-this._getCenter().y,i=e*e+n*n,o=this._getInnerRadius()*this._getInnerRadius(),r=this._getRadius()*this._getRadius();if(i>=o&&i<=r){var l=90*this._getSweep()/Math.PI,a=this._clampAngle(180*this._getStartAngle()/Math.PI+l),s=180*Math.atan2(n,e)/Math.PI,u=this._clampAngle(a-s);if(Math.abs(u)<=l)return!0}return!1},o.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},o.prototype._draw=function(n,i){e.prototype._draw.call(this,n,i);var o=this._getCenter().x,r=this._getCenter().y,l=this._getRadius()*((this._scale-1)/2+1),a=this._getInnerRadius()*(1-(this._scale-1)/2),s=this._getStartAngle(),u=this._getSweep(),_=this._getDefinition()._dvConfigOption.bar.borderRadius,p=t._PathUtility._buildDonutSegmentWithBorderRadius(o,r,l,a,s,u,_),c=this._getCartesianPlotView()._getDefinition()._plotConfigOption.gradientFillDirection;if(null!=c&&c!=t.GradientFillDirection.Default&&n.fill instanceof t._RadialGradientColor){var h=n.fill;n.beginTransform();var f=t._ColorStopUtility._calcColorStopWithRadius(h.colorStops,c==t.GradientFillDirection.InnerRadius?a:0,l),d=new t.core.Point(.5,.5),y=new t._RadialGradientColor(d,.5,d,.5,f),g=n.fillOpacity;if(n.fill=y,n.fillOpacity=g,l==a&&u>=t._Utility._PI2)n.drawDonut(o,r,l,a,s,u,null);else{var m=null;if(null!=p)m=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(p);else{var v=t._PathBuilder._defaultPathBuilder._buildDonutSegment(o,r,l,a,s,u);m=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(v)}n.beginTransform(),n.stroke=t._CssColor._none(),n.drawEllipse(o,r,l,l,m),n.restoreTransform(),n.fill=t._CssColor._none(),null!=p?n.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):n.drawDonut(o,r,l,a,s,u,null)}n.restoreTransform()}else null!=p?n.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):n.drawDonut(this._getCenter().x,this._getCenter().y,this._getRadius()*((this._scale-1)/2+1),this._getInnerRadius()*(1-(this._scale-1)/2),this._getStartAngle(),this._getSweep(),null)},o.prototype._getXs=function(){return null==this._xs&&this._refreshXY(),this._xs},o.prototype._getYs=function(){return null==this._ys&&this._refreshXY(),this._ys},o.prototype._refreshXY=function(){if(this.__needRefresh){var e=t._Util.createPtsFromRadialBar(this.__startAngle,this.__sweep+this.__startAngle,this.__radius,this.__innerRadius,this.__center,200);this._setXs(e.xs),this._setYs(e.ys),this.__needRefresh=!1}},o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r);if(null==l.min||null==l.max||null==a.min||null==a.max||isNaN(l.min)||isNaN(l.max)||isNaN(a.min)||isNaN(a.max))this._visible=!1;else{this._xPos(l.min+(l.max-l.min)/2);var s=this._getCartesianGroupView(),u=this._getPlotView(),_=s._xAxisView(),p=s._yAxisView(),c=Math.min(_._scaleModel._value(l.min),_._scaleModel._value(l.max)),h=Math.max(_._scaleModel._value(l.min),_._scaleModel._value(l.max)),f=Math.min(p._scaleModel._value(a.min),p._scaleModel._value(a.max)),d=Math.max(p._scaleModel._value(a.min),p._scaleModel._value(a.max));if(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d))this._visible=!1;else{if(s._swapAxes()){var y=f,g=d;f=c,d=h,c=y,h=g}var m=h-c,v=d-f;s._swapAxes()||m<1&&(m=1);var w=null==this.radialOffset?s._getXOffset():this.radialOffset;(null==w||isNaN(w))&&(w=0);var b=s._cx()+w*Math.cos(f+v/2)*m,S=s._cy()+w*Math.sin(f+v/2)*m,P=u._isPie(),C=s._getXOffset();null!=C&&!isNaN(C)&&C>0&&P&&(m*=1-C);var x=new t._DonutShape(new t.core.Point(b,S),c+m,c,f,v);s._swapAxes()||a.max==a.min&&null!=a.min&&0==v&&(x=this.__dataPointViewLayout.layout(x,s._swapAxes()),b=s._cx()+w*Math.cos(f+x.sweepAngle/2)*m,S=s._cy()+w*Math.sin(f+x.sweepAngle/2)*m),this._setCenter(new t.core.Point(b,S)),this._setRadius(c+m),this._setInnerRadius(c),this._setStartAngle(f),this._setSweep(x.sweepAngle),s._getCartesianPlotView()._visualViews.push(this)}}},o.prototype._getXValues=function(e,n){var i=this._getPlotView(),o=i._getXValue(e),r=new t._DataDomain(NaN,NaN),l=this._getCartesianSeriesView(),a=l._getCluster(),s=t._BarExtension._barExtension(i._cartesianCoordinateSystemView()),u=i.__getClusterWidth(e._getSeries());(isNaN(u)||null==u)&&(u=this._getBarWidth());var _=i._getWidth(s._clusterCount(a),u),p=i._getWidth(s._clusterCount(a),1);if(null==_||null==p)return r;var c=l._getBarIndexInCluster(),h=0,f=s._clusterCount(a);if(f>1){var d=i._minDistanceInDimensionValues();null==d&&(d=1),h=.5*(_-d*u)+(_+(d*u-_*f)/(f-1))*c}return null==o&&(o=0),i._swapAxes()?i._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Radial?(r.min=o-.5*(1-u)+h-.5*_,r.max=o-.5*(1-u)+h+.5*_):i._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Polygonal&&(r.min=o+h-.5*_,r.max=o+h+.5*_):(r.min=o+h-.5*p,r.max=o+h+.5*(_-(p-_))),r},o.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._shape(),i=this._getCartesianGroupView(),o=i._xAxisView(),r=o._innerRadius*o._radius,l=o._radius;if(e.type==t.TrackerType.Area);else{if(e.type==t.TrackerType.CrossY){if(i._swapAxes()){var a=this._getStartAngle()+this._getSweep()/2-3*Math.PI/2,s=this._calculatePoint(r,a),u=this._calculatePoint(l,a);return[new t.models._TrackStraightLine(e,s,u,n)]}var _=this.__innerRadius+(this.__radius-this.__innerRadius)/2;return[new t.models._RadialTrackLine(e,this._getCenter().x,this._getCenter().y,_,o._startAngle(),o._sweep,n)]}if(e.type==t.TrackerType.CrossX){var p=this._data();if(t._isXyValuePointDataModel(p))return this._isAlternate()?i._swapAxes()?(_=this._getInnerRadius(),[new t.models._RadialTrackLine(e,this._getCenter().x,this._getCenter().y,_,o._startAngle(),o._sweep,n)]):(s=this._calculatePoint(r,this._getStartAngle()),u=this._calculatePoint(l,this._getStartAngle()),[new t.models._TrackStraightLine(e,s,u,n)]):i._swapAxes()?(_=this.__radius,[new t.models._RadialTrackLine(e,this._getCenter().x,this._getCenter().y,_,o._startAngle(),o._sweep,n)]):(a=this._getStartAngle()+this._getSweep()-3*Math.PI/2,s=this._calculatePoint(r,a),u=this._calculatePoint(l,a),[new t.models._TrackStraightLine(e,s,u,n)]);if(t._isRangeValuePointDataModel(p)){var c=null,h=null;if(i._swapAxes())return c=new t._DonutShape(this.__center,this.__radius,this.__innerRadius+(this.__radius-this.__innerRadius)/2,this.__startAngle,this.__sweep),h=new t._DonutShape(this.__center,this.__radius-(this.__radius-this.__innerRadius)/2,this.__innerRadius,this.__startAngle,this.__sweep),[new t.models._RadialTrackLine(e,this._getCenter().x,this._getCenter().y,this.__radius,o._startAngle(),o._sweep,c),new t.models._RadialTrackLine(e,this._getCenter().x,this._getCenter().y,this.__innerRadius,o._startAngle(),o._sweep,h)];a=this._getStartAngle()+this._getSweep()-3*Math.PI/2,c=new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle+this._getSweep()/2,this.__sweep/2),h=new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep/2),s=this._calculatePoint(r,a),u=this._calculatePoint(l,a);var f=this._calculatePoint(r,this._getStartAngle()-3*Math.PI/2),d=this._calculatePoint(l,this._getStartAngle()-3*Math.PI/2);return[new t.models._TrackStraightLine(e,s,u,c),new t.models._TrackStraightLine(e,f,d,h)]}}}return null},o.prototype._calculatePoint=function(e,n){var i=this._getCenter().x+Math.sin(n)*e,o=this._getCenter().y-Math.cos(n)*e;return new t.core.Point(i,o)},o.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianRadialBarPointViewAttachmentAgent(this))},o.prototype._selectionAdorner=function(){return new n(this)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._RadialBarDataLabelView(this,n,e):null},o}(t._BaseBarCartesianPointView);t._RadialBarCartesianPointView=e;var n=function(n){function o(t){return n.call(this,t)||this}return i(o,n),o.prototype._createPoints=function(i){if(i instanceof e){var o=i._getStartAngle(),r=i._getSweep();0==r&&(r=1);var l=1;r>4?l=3:r>2&&(l=2);for(var a=i._getCenter(),s=i._getRadius(),u=[],_=0;_<=l;_++){var p=o+_/l*r;u.push(new t.core.Point(a.x+Math.cos(p)*s,a.y+Math.sin(p)*s))}if(0===(s=i._getInnerRadius()))u.push(i._getCenter().clone());else for(_=0;_<=l;_++)p=o+_/l*r,u.push(new t.core.Point(a.x+Math.cos(p)*s,a.y+Math.sin(p)*s));return u}return n.prototype._createPoints.call(this,i)},o}(t._PointAdorner)}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__dataPointViewLayout=i,r}return i(n,e),n.prototype._contains=function(t){var e=this._rectangle();return null!=e&&e.contains(t)},n.prototype._draw=function(n,i){e.prototype._draw.call(this,n,i);var o=this._getDefinition()._dvConfigOption.bar.borderRadius,r=t._PathUtility._buildRectangleWithBorderRadius(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,o);if(null!=r)n.drawPath(r,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter);else{var l=this._getStrokeWidth(i);null==l||null!=l&&l.top==l.right&&l.top==l.bottom&&l.top==l.left?n.drawRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,null):(n.beginTransform(),n.strokeWidth=0,n.drawRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,null),n.restoreTransform(),this._renderRectangleBorder(n,this._rectangle(),l))}},n.prototype._renderRectangleBorder=function(t,e,n){var i=this._getPlotView();null!=n&&n.top>0&&(t.strokeWidth=n.top,i._swapAxes()?this._reversed()==this._isPositive()?t.drawLine(e.left,e.top,e.left,e.bottom):t.drawLine(e.right,e.top,e.right,e.bottom):this._reversed()==this._isPositive()?t.drawLine(e.left,e.bottom,e.right,e.bottom):t.drawLine(e.left,e.top,e.right,e.top)),null!=n&&n.bottom>0&&(t.strokeWidth=n.bottom,i._swapAxes()?this._reversed()==this._isPositive()?t.drawLine(e.right,e.top,e.right,e.bottom):t.drawLine(e.left,e.top,e.left,e.bottom):this._reversed()==this._isPositive()?t.drawLine(e.left,e.top,e.right,e.top):t.drawLine(e.left,e.bottom,e.right,e.bottom)),null!=n&&n.left>0&&(t.strokeWidth=n.left,i._swapAxes()?this._reversed()==this._isPositive()?t.drawLine(e.left,e.bottom,e.right,e.bottom):t.drawLine(e.left,e.top,e.right,e.top):this._reversed()==this._isPositive()?t.drawLine(e.right,e.top,e.right,e.bottom):t.drawLine(e.left,e.top,e.left,e.bottom)),null!=n&&n.right>0&&(t.strokeWidth=n.right,i._swapAxes()?this._reversed()==this._isPositive()?t.drawLine(e.left,e.top,e.right,e.top):t.drawLine(e.left,e.bottom,e.right,e.bottom):this._reversed()==this._isPositive()?t.drawLine(e.left,e.top,e.left,e.bottom):t.drawLine(e.right,e.top,e.right,e.bottom))},n.prototype._getXs=function(){return null==this._xs&&this._refreshXY(),this._xs},n.prototype._getYs=function(){return null==this._ys&&this._refreshXY(),this._ys},n.prototype._refreshXY=function(){var e,n=this._getDefinition()._dvConfigOption.bar.borderRadius;e=null!=t._PathUtility._buildRectangleWithBorderRadius(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,n)?t.shapes._BorderRadiusExtension._createPtsFromBorderRadiusRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,n,200):t._Util.createPtsFromRect(this._rectangle(),200),this._setXs(e.xs),this._setYs(e.ys)},n.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r);if(null==l.min||null==l.max||null==a.min||null==a.max||isNaN(l.min)||isNaN(l.max)||isNaN(a.min)||isNaN(a.max))this._visible=!1;else{this._xPos(l.min+(l.max-l.min)/2);var s=this._getCartesianGroupView(),u=s._xAxisView(),_=s._yAxisView(),p=Math.min(u._scaleModel._value(l.min),u._scaleModel._value(l.max)),c=Math.max(u._scaleModel._value(l.min),u._scaleModel._value(l.max)),h=_._scaleModel._value(a.min),f=_._scaleModel._value(a.max),d=null!=h&&null!=f?Math.min(h,f):null!=h?h:null==f?0:f,y=c-p;y<1&&(y=1);var g=(null!=h&&null!=f?Math.max(h,f):null!=h?h:null==f?0:f)-d,m=s._swapAxes()?new t.core.Rect(d,p,g,y):new t.core.Rect(p,d,y,g);a.max==a.min&&null!=a.min&&g<1&&(m=this.__dataPointViewLayout.layout(m,s._swapAxes()));var v=this._getXOffset(s,y),w=this._getYOffset(s);m.offset(s._swapAxes()?w:v,s._swapAxes()?v:w),this._updateRectangle(m),s._getCartesianPlotView()._visualViews.push(this)}},n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._BarPointViewRectangleAttachmentAgent(this))},n.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._CartesianBarDataLabelView(this,n,e):null},n.prototype._isVisible=function(){if(this.valueIsOutOfAxesRange){var n=this._rectangle();if(n.width>0||n.height>0){var i=this._getCartesianGroupView()._xAxisView(),o=t._DrawingUtility._intersectionOfRectangle(i._plotRect(),n);if(o.width<=0||o.height<=0)return!1}}return e.prototype._isVisible.call(this)},n.prototype._getXOffset=function(t,e){var n=null==this.xOffset?t._getXOffset():this.xOffset;return(null==n||isNaN(n))&&(n=0),n*e},n.prototype._getYOffset=function(t){var e=null==this.yOffset?t._getYOffset():this.yOffset;return(null==e||isNaN(e))&&(e=0),e},n}(t._BaseBarCartesianPointView);t._XyBarCartesianPointView=e}(t||(t={})),function(t){t._isXyBarCartesianPointView=function(t){return null!=t&&"function"==typeof t._isBaseLinePoint}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return i(e,t),Object.defineProperty(e.prototype,"lower",{get:function(){return this._data().lower},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upper",{get:function(){return this._data().upper},enumerable:!0,configurable:!0}),e.prototype.queryInterface=function(e){return"ICartesianRangePointModel"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._XyBarCartesianPointView);t._RangeBarCartesianPointView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__barIndexInCluster=0,i.__cluster="",i}return i(e,t),e.prototype._layoutContent=function(e,n,i){t.prototype._layoutContent.call(this,e,n,i)},e.prototype._getBarIndexInCluster=function(){return this.__barIndexInCluster},e.prototype._setBarIndexInCluster=function(t){this.__barIndexInCluster=t},e.prototype._getCluster=function(){return this.__cluster},e.prototype._setCluster=function(t){this.__cluster=t},e}(t._CartesianSeriesView);t._BarCartesianSeriesView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o){return e.call(this,n,i,o,new t._EmptyCartesianPlotViewBuilder,new t._CartesianPlotDataBuilder,new t._CartesianEncodingsDefinitionBuilder,null)||this}return i(n,e),n}(t._BaseCartesianPlotDefinition);t._EmptyCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Empty",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){return"Empty"===n.type?new t._EmptyCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._EmptyCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._createCartesianGroupView=function(t){return null},e.prototype._createCartesianPointView=function(t,e){return null},e}(t._BaseCartesianPlotView);t._EmptyCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._EmptyCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._EmptyCartesianPlotView(e,n,i):null},e}();t._EmptyCartesianPlotViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a){return void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,null==r?new t._LineCartesianPlotViewBuilder:r,null,null==l?new t._LineScatterCartesianEncodingsDefinitionBuilder:l,null==a?new t._LineCartesianLegendSymbolViewBuilder(!0,!1):a)||this}return i(n,e),n}(t._BaseCartesianPlotDefinition);t._LineCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Line"===n.type?new t._LineCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._CartesianLineLegendSymbolView(n);return i._setPlotDefinition(e),i},n}(t._LegendSymbolViewBuilder);t._LineCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createValueEncodingDefinition=function(t,e,n){if(null==n._categoryEncodingDefinition){var i=this._createXyValueEncodingDefinition(t,e,n);if(null!=i)return i}return this._createAggregateValueEncodingDefinition(t,e,n)},n.prototype._createXyValueEncodingDefinition=function(e,n,i){return t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)},n.prototype._createAggregateValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},n}(t._CartesianEncodingsDefinitionBuilder);t._LineScatterCartesianEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._LineCartesianSeriesView(this,e)},n}(t._BaseCartesianGroupView);t._LineCartesianGroupView=e}(t||(t={})),function(t){t._isLineCartesianPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._LineCartesianGroupView(this,e)},n.prototype._showNulls=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNulls.call(this)},n.prototype._showNaNs=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNaNs.call(this)},n.prototype._analysisFitRangePadding=function(){this.showSymbol()&&e.prototype._analysisFitRangePadding.call(this)},Object.defineProperty(n.prototype,"lineAspect",{get:function(){return this._definition._plotConfigOption.lineAspect},enumerable:!0,configurable:!0}),n.prototype._createCartesianPointView=function(e,n){return new t._LineCartesianPointView(e,n,null)},n.prototype._layoutGroupViews=function(t,n,i){for(var o=0,r=this._groupViews;o<r.length;o++)for(var l=0,a=r[o]._getCartesianSeriesViews();l<a.length;l++){var s=a[l];this._visualViews.push(s)}e.prototype._layoutGroupViews.call(this,t,n,i)},n.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(!this._swapAxes())return.5}return e.prototype._xPadding.call(this)},n.prototype._getModifiedClipRectangle=function(e){if(this.showSymbol()&&this._getClippingMode()!=t.ClippingMode.Clip)for(var n=0,i=this._pointViews;n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o)){var r=o;if(!r._isVisible())continue;r.valueIsOutOfAxesRange||(e=t._DrawingUtility._unionOfRectangles(e,r._rectangle()))}}return e},n}(t._BaseCartesianPlotView);t._LineCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._LineCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._LineCartesianPlotView(e,n,i):null},e}();t._LineCartesianPlotViewBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._SymbolCartesianPointView);t._LineCartesianPointView=e}(t||(t={})),function(t){t._isLineCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._shapes&&"function"==typeof e._setShapePointViews&&"function"==typeof e._swapAxes&&"function"==typeof e._setSeriesShapes}}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;return o.__seriesShapes=[],o.__seriesShapeStyles=[],o.__shapePointViews=[],o.__drawablePipeLine=new t.DisplayablePipeLine(o),o}return i(n,e),n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"==t?this.__drawablePipeLine:e.prototype.queryInterface.call(this,t)},n.prototype._renderLineShapes=function(e,n,i){var o=this;t._StyleUtility._applyStyle(e,this._defaultStyle()),this._applyColor(e),this._applyDataPointStyle(e,n),e.fill=t._CssColor._none(),i.forEach((function(t,i){e.beginTransform(),o._applyLineShapeStyle(e,o.__seriesShapeStyles[i]),o._applyDataPointStyleContext(e,n),t._points().length>1&&(t._points()[0].equalsWith(t._points()[t._points().length-1])?e.drawPolygon(t._xs(),t._ys()):e.drawLines(t._xs(),t._ys())),e.restoreTransform()}))},n.prototype._draw=function(t,e){this._renderLineShapes(t,e,this._getSeriesShapes())},n.prototype._contains=function(t){for(var e=!0,n=0,i=this.__seriesShapes;n<i.length;n++)i[n].contains(t)||(e=!1);return e},n.prototype._cutOff=function(){return!1},n.prototype._shapes=function(){for(var t=[],e=0,n=this.__seriesShapes;e<n.length;e++){var i=n[e];t.push(i.clone())}return t},n.prototype._getShapePointViews=function(){return this.__shapePointViews},n.prototype._setShapePointViews=function(t){this.__shapePointViews=t},n.prototype._swapAxes=function(){return this._ownerView._getCartesianPlotView()._swapAxes()},n.prototype._getSeriesShapes=function(){return this.__seriesShapes},n.prototype._setSeriesShapes=function(e){this.__seriesShapes=e.map((function(e){return e instanceof t._PolylineShape?e:null}))},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__shapePointViews=this._createShapePointViews(this._filterPointViews()),this._generateLineShapes(this.__shapePointViews)},n.prototype._applyColor=function(e){var n=this._getCartesianSeriesDataModel(),i=this._ownerView._getCartesianPlotView(),o=this._getDefinition()._paletteColorProvider._defaultColor();null!=o&&(e.stroke=o);var r=this.color;if(null!=r&&(e.stroke=r),null!=n._getGradientColorScale()){for(var l=-Number.MAX_VALUE,a=Number.MAX_VALUE,s=0,u=this._pointViews;s<u.length;s++){var _=u[s]._data(),p=i._getYValue(_);null==p.upperY||isNaN(p.upperY)||(p.upperY>l&&(l=p.upperY),p.upperY<a&&(a=p.upperY))}e.stroke=new t._LinearGradientColor(360,n._getGradientColorScale()._calculateColorStopsOfRange(a,l))}},n.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeLine._flush(t,e),t.restoreTransform()},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n)&&null!=this.__seriesShapes)for(var l=0,a=this.__seriesShapes;l<a.length;l++)for(var s=a[l],u=s._points(),_=0;_<u.length-1;++_)if(t._Util.pointToLine(u[_].x,u[_].y,u[_+1].x,u[_+1].y,n.x,n.y)<t._PolylineShape._getAppropriateHitestPaddingBy(s.strokeWidth)){var p=new t.HitTestResult(n,this,this,t.ElementType.Series);return null==o||null!=o&&o.predicate(p)?p:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._createShapePointViews=function(t){if(t.length<=0)return[];t=t.slice(),this._isClosed()&&t.push(t[0]);for(var e=[],n=t.length,i=0,o=0;o<n;o++){var r=t[o],l=r._data();if(null!=this._ownerView._getCartesianPlotView()._getXValue(l)&&(e.length==i&&e.push(new Array),e[i].push(r),o<n-1)){var a=t[o+1];this._getConnectedStatus(r,a)||i++}}return e},n.prototype._generateLineShapes=function(e){this.__seriesShapes=[],this.__seriesShapeStyles=[];for(var n=this._getDefinition()._plotConfigOption.lineAspect,i=function(i){var r=e[i],l=o._getDataPointValues(r),a=o._getDataPointAxisValues(l),s=void 0;switch(n){case t.LineAspect.Spline:s=o._convertBySpline(a);break;case t.LineAspect.StepCenter:case t.LineAspect.StepLeft:case t.LineAspect.StepRight:var u=o._convertByLineAspect(l);s=o._getDataPointAxisValues(u);break;default:s=a.filter((function(t){return null!=t}))}for(var _=o._getDataPointSplitedIndexesByStyle(r),p=_.length<=0?[]:a.filter((function(t,e){return _.indexOf(e)>=0})),c=o._splitLinePointValues(s,p),h=0;h<c.length;h++){var f=new t._PolylineShape(c[h]),d=r[h<_.length?_[h]:r.length-1]._internalStyle();o.__seriesShapes.push(f);var y=t._StyleUtility._buildStyle();t._StyleUtility._applyDataPointStyleOption(y,d),o.__seriesShapeStyles.push(y)}},o=this,r=0;r<e.length;r++)i(r)},n.prototype._isClosed=function(){var e=this._ownerView._getCartesianPlotView(),n=e._getDefinition()._plotConfigOption.axisMode,i=this._dataModel._group()._x()instanceof t._CategoryDimension;return!(n==t.AxisMode.Cartesian||!i||e._isStack()||!this._canAppendPointView())},n.prototype._getDataPointValues=function(e){for(var n=[],i=this._ownerView._getCartesianPlotView(),o=0,r=e;o<r.length;o++){var l=r[o]._data(),a=i._getXValue(l),s=i._getYValue(l);null==s.upperY||isNaN(s.upperY)?n.push(null):n.push(new t.core.Point(a,s.upperY))}return n},n.prototype._getDataPointAxisValues=function(e){for(var n=[],i=this._ownerView,o=i._axisMode(),r=i._xAxisView(),l=i._yAxisView(),a=0,s=e;a<s.length;a++){var u=s[a];if(null!=u){var _=r._scaleModel._value(u.x),p=l._scaleModel._value(u.y);if(null==_||isNaN(_)||null==p||isNaN(p))n.push(null);else{var c=t._NativeExtension._toNonNullNumber(_,0),h=t._NativeExtension._toNonNullNumber(p,0);if(this._swapAxes()){var f=c;c=h,h=f}if(o==t.AxisMode.Polygonal||o==t.AxisMode.Radial){var d=Math.cos(h)*c+i._cx(),y=Math.sin(h)*c+i._cy();n.push(new t.core.Point(d,y))}else n.push(new t.core.Point(c,h))}}else n.push(null)}return n},n.prototype._getDataPointSplitedIndexesByStyle=function(e){var n=e.length;if(n<=1)return[];for(var i=[],o=1;o<n-1;o++){var r=e[o]._internalStyle(),l=e[o+1]._internalStyle();t._StyleUtility._areDataPointStyleOptionLineStyleEquals(r,l)||i.push(o)}return i},n.prototype._splitLinePointValues=function(t,e){for(var n=[],i=0,o=function(o){var r=t[o];e.some((function(t){return t.x==r.x&&t.y==r.y}))&&(n.push(t.slice(i,o+1)),i=o)},r=0;r<t.length;r++)o(r);return n.push(t.slice(i,t.length)),n},n.prototype._applyLineShapeStyle=function(t,e){null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray)},n.prototype._convertByLineAspect=function(e){e=e.filter((function(t){return null!=t}));var n=this._getDefinition()._plotConfigOption.lineAspect;return new t._LineAspectConverter(!1,n).convert(e)},n.prototype._convertBySpline=function(e){e=e.filter((function(t){return null!=t}));var n=new t._Spline(e.map((function(t){return t.x})),e.map((function(t){return t.y}))).calculate();e=[];for(var i=0;i<Math.min(n.xs.length,n.ys.length);i++)e.push(new t.core.Point(n.xs[i],n.ys[i]));return e},n}(t._CartesianSeriesView);t._LineCartesianSeriesView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._CartesianScatterLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._ScatterCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a){return void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,null==r?new t._ScatterCartesianPlotViewBuilder:r,null,null==l?new t._LineScatterCartesianEncodingsDefinitionBuilder:l,null==a?new t._ScatterCartesianLegendSymbolViewBuilder(!0,!0):a)||this}return i(n,e),n}(t._BaseCartesianPlotDefinition);t._ScatterCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Scatter"===n.type?new t._ScatterCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._ScatterCartesianSeriesView(this,e)},n}(t._BaseCartesianGroupView);t._ScatterCartesianGroupView=e}(t||(t={})),function(t){t._isScatterCartesianPlotView=function(e){return null!=e&&e instanceof t._ScatterCartesianPlotView}}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._ScatterCartesianGroupView(this,e)},n.prototype._createCartesianPointView=function(e,n){return new t._ScatterCartesianPointView(e,n,null)},n.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(!this._swapAxes())return.5}return e.prototype._xPadding.call(this)},n.prototype._getModifiedClipRectangle=function(e){for(var n=0,i=this._pointViews;n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o)){var r=o;if(!r._isVisible())continue;r.valueIsOutOfAxesRange||(e=t._DrawingUtility._unionOfRectangles(e,o._rectangle()))}}return e},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=e.prototype._hitTest.call(this,n,i,o);if(null!=r)return r;for(var l=0;l<this._pointViews.length;++l){var a=this._pointViews[l]._backgroundShape();if(null!=a&&a.contains(n)){var s=this._pointViews[l];if(null!=s.backgroundColor){var u=new t.HitTestResult(n,s,s,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(u)?u:null}}}return null},n.prototype.showSymbol=function(){return t._NativeExtension._toNonNullBoolean(this._definition._plotConfigOption.symbols,!0)},n}(t._BaseCartesianPlotView);t._ScatterCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._ScatterCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._ScatterCartesianPlotView(e,n,i):null},e}();t._ScatterCartesianPlotViewBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._SymbolCartesianPointView);t._ScatterCartesianPointView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._CartesianSeriesView);t._ScatterCartesianSeriesView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._buildCategoryEncodingDefinition=function(e,n){var i=t.prototype._buildCategoryEncodingDefinition.call(this,e,n);return null!=i&&1==i._hierarchicalGroupingDefinitions.length?i:null},e._categoryEncodingDefinitionBuilder=new e,e}(t._CartesianCategoryEncodingDefinitionBuilder),n=function(n){function o(){var i=n.call(this,e._categoryEncodingDefinitionBuilder,new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0))||this;return i._adopter=new t.models.CartesianLegendAdopter,i}return i(o,n),o.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},o.prototype._createValueEncodingDefinition=function(e,n,i){if(null==i._categoryEncodingDefinition){var o=t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n);if(null!=o)return o}var r=new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n);return null!=r?r:null},o.prototype._createTextContentEncodingDefinitions=function(t,e,n){return[]},o}(t._CartesianEncodingsDefinitionBuilder);t._TextEncodingsDefinitionBuilder=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._TextLegendSymbolView(n);return i._setPlotDefinition(e),i},n}(t._LegendSymbolViewBuilder);t._TextLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a){return void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,null==r?new t._TextCartesianPlotViewBuilder:r,null,null==l?new t._TextEncodingsDefinitionBuilder:l,null==a?new t._TextLegendSymbolViewBuilder(!1,!1):a)||this}return i(n,e),n.prototype._getCoordinateSystemType=function(){return t._TextCategoriesCoordinateSystemDefinition._type},n}(t._BaseCartesianPlotDefinition);t._TextCartesianPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Text",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Text"===n.type?new t._TextCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._TextCartesianSeriesView(this,e)},n.prototype._attachCoordinateSystem=function(e){var n=this._ownerView._getLayoutView()._coordinateSystemView(this._ownerView._getDefinition().coordinateSystemDefinition);if(null!=n&&t._isTextCategoriesCoordinateSystemView(n)){var i=n,o=t._Util.find(e,(function(e){return e._option.type==t.AxisType.X}));if(null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);this.___horizontalAxisView=i._attachAxisView(o,this._dataModel._x()),null==this.___horizontalAxisView&&(this.___horizontalAxisView=i._attachAxisView(o,null))}},n}(t._BaseCartesianGroupView);t._TextCartesianGroupView=e}(t||(t={})),function(t){t._isTextCartesianPlotView=function(t){return null!=t&&"function"==typeof t._getBackgroundRectangle}}(t||(t={})),function(t){var e=function(e){function r(n,i,o){var r=e.call(this,n,i,o)||this;return r.__textSpace=5,r.__backgroundRectangle=t.core.Rect.ReadOnlyRect,r}return i(r,e),r.prototype._createCartesianGroupView=function(e){return new t._TextCartesianGroupView(this,e)},r.prototype._getBackgroundRectangle=function(){return this.__backgroundRectangle},r.prototype._setBackgroundRectangle=function(t){this.__backgroundRectangle=t},r.prototype._swapAxes=function(){return!1},r.prototype._getPointViews=function(){for(var t=[],e=0,n=this._groupViews;e<n.length;e++)for(var i=0,o=n[e]._getCartesianSeriesViews();i<o.length;i++){var r=o[i];t.push.apply(t,r._getPointViews())}return t},r.prototype._initAxis=function(){var t=this._horizontalAxisView();null!=t&&t._scaleModel._setDomainPadding([.5,.5])},r.prototype._actionConditionalFormat=function(){e.prototype._actionConditionalFormat.call(this),(new t.models._TextConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},r.prototype._layoutContent=function(e,i,r){this._visualViews.length=0;var l=this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition);if(null!=l&&t._isTextCategoriesCoordinateSystemView(l)){for(var a=this._horizontalAxisView(),s=[],u=0,_=this._groupViews;u<_.length;u++)for(var p=_[u],c=function(e){var i=e._getCartesianSeriesDataModel()._detailDimension(),r=null!=i?i._definition()._group:t.Group.Cluster,l=void 0,a=t._NativeExtension.findIndex(s,(function(t){return t.group==r}));-1==a?(l=new n(h._minWidthInValues(),r,[]),s.push(l)):l=s[a];for(var u=function(e){var n=e,i=e._data().xDimensionValue,r=void 0,a=t._NativeExtension.findIndex(l.dimensionValueWithPoints,(function(t){return t.dimensionValue==i}));-1==a?(r=new o(i,[n],[]),l.dimensionValueWithPoints.push(r)):(r=l.dimensionValueWithPoints[a]).pointViews.push(n)},_=0,p=e._getPointViews();_<p.length;_++)u(p[_])},h=this,f=0,d=p._getCartesianSeriesViews();f<d.length;f++)c(d[f]);for(var y=0,g=0,m=s;g<m.length;g++)for(var v=0,w=(O=m[g]).dimensionValueWithPoints;v<w.length;v++){for(var b=0,S=0,P=(M=w[v]).pointViews;S<P.length;S++){var C=(z=P[S])._measure(e,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size;O.group==t.Group.Stack?b+=C.height:b=Math.max(b,C.height),M.pointSizes.push(C)}y=Math.max(y,b)}var x=i.clone();x.top+=(x.height-y)/2,x.height=y;for(var V=null==this._getYOffset()?0:this._getYOffset(),D=0,A=s;D<A.length;D++)for(var O,L=0,T=(O=A[D]).dimensionValueWithPoints;L<T.length;L++){var M;if(!((M=T[L]).pointViews.length<=0)){var I=M.pointViews[0],E=new t.core.Point(a._scaleModel._value(I._getXValue(I._data())),x.bottom);if(O.group==t.Group.Stack)for(var B=M.pointViews,R=0;R<B.length;R++){var k=null==(z=B[R]).yOffset?V:z.yOffset;C=M.pointSizes[R],z._layout(e,new t.core.Rect(E.x-C.width/2,E.y-C.height-k,C.width,C.height),r),E.y-=C.height,this._visualViews.push(z)}else{var F=0,N=0;for(B=M.pointViews,R=0;R<B.length;R++)F+=(C=M.pointSizes[R]).width,N=Math.max(N,C.height);F+=(M.pointViews.length-1)*this.__textSpace;var U=E.x-F/2;for(R=0;R<B.length;R++){var z;k=null==(z=B[R]).yOffset?V:z.yOffset,C=M.pointSizes[R],z._layout(e,new t.core.Rect(U,E.y-N+(N-C.height)/2-k,C.width,C.height),r),U+=C.width+this.__textSpace,this._visualViews.push(z)}}}}this._updateRectangle(x),this._setBackgroundRectangle(i)}},r.prototype._drawView=function(e,n){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,this._dataPointDataLabelOption().textStyle);for(var i=0,o=this._pointViews;i<o.length;i++)o[i]._render(e,n);e.restoreTransform()},r.prototype._minWidthInValues=function(){for(var t=NaN,e=null,n=0,i=this._groupViews;n<i.length;n++)for(var o=0,r=i[n]._getCartesianSeriesViews();o<r.length;o++)for(var l=0,a=r[o]._getPointViews();l<a.length;l++){var s=a[l],u=NaN,_=s._getXValue(s._data()),p=null==_?0:_;if(null==e){var c=null==this._horizontalAxisView()._scaleModel._minimum?0:this._horizontalAxisView()._scaleModel._minimum;p>c&&(u=2*(p-c))}else{var h=e._getXValue(e._data()),f=null==h?0:h;u=Math.abs(p-f)}!isNaN(u)&&(isNaN(t)||t>u)&&(t=u),e=s}return t},r.prototype._createCartesianPointView=function(e,n){var i=n._group()._y()._definition();return null!=i&&null!=i.queryInterface("IRangeValueDimensionDefinition")?null:new t._TextCartesianPointView(e,n,null)},r.prototype._addNullDataPointModels=function(){},r}(t._BaseCartesianPlotView);t._TextCartesianPlotView=e;var n=function(t,e,n){this.minWidthInValues=t,this.group=e,this.dimensionValueWithPoints=n},o=function(t,e,n){this.dimensionValue=t,this.pointViews=e,this.pointSizes=n}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return n instanceof t._TextCartesianPlotDefinition&&t._isCartesianPlotDataModel(i)?new t._TextCartesianPlotView(e,n,i):null},e}();t._TextCartesianPlotViewBuilder=e}(t||(t={})),function(t){t._isTextCartesianPointView=function(t){return null!=t&&"function"==typeof t._textContent}}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isTextCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._calculateColor=function(e){var n=e.color;return null==n&&(n=e._getCartesianSeriesView().color),null==n&&(n=t._CssColor._defaultStyleColor()),n},n}(t._CartesianPointColorBuilder);t._TextCartesianPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._TextCartesianPointColorBuilder:i)||this}return i(n,e),n.prototype._buildSelectedPointStyle=function(n,i){var o=this._toPointView(n),r=e.prototype._buildSelectedPointStyle.call(this,o,i);return t._StyleUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._dvConfigOption.selectedTextStyle),t._StyleUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._plotConfigOption.selectedTextStyle),r},n.prototype._buildUnselectedPointStyle=function(n){var i=this._toPointView(n),o=e.prototype._buildUnselectedPointStyle.call(this,i);return t._StyleUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.unselectedTextStyle),t._StyleUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.unselectedTextStyle),o},n.prototype._toPointView=function(e){if(t._isTextCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._applyColor=function(n,i,o){e.prototype._applyColor.call(this,n,i,o),o._getPlotView().showSymbol()||(i instanceof t._CssColor?n.textFill=i.color:i instanceof t._LinearGradientColor?i.colorStops.length>0&&(n.textFill=i.colorStops[0].color):i instanceof t._RadialGradientColor&&i.colorStops.length>0&&(n.textFill=i.colorStops[0].color))},n.prototype._applyDataPointStyle=function(n,i){e.prototype._applyDataPointStyle.call(this,n,i),t._StyleUtility._applyTextStyleOption(n,i._getPlotView()._dataPointDataLabelOption().textStyle),t._StyleUtility._applyTextStyleOption(n,i.text.textStyle);var o=i.size;null!=o&&(n.fontSize=this._calcFontSize(n,o))},n.prototype._calcFontSize=function(e,n){var i=t._TextLegendSymbolView.__baseFontSize;return null!=e.fontSize&&(i=parseFloat(e.fontSize)),(i+2*n).toString()},n}(t._CartesianPointStyleBuilder);t._TextCartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,null==o?new t._TextCartesianPointStyleBuilder(null!=n._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotOption.config.symbols&&n._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotOption.config.symbols):o)||this;return r.__defaultShape="Box",r}return i(n,e),n.prototype._clone=function(){var e=new n(this._getCartesianSeriesView(),this._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(e,this),e.cloneId(this),e._textContent(this._textContent()),e},Object.defineProperty(n.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!0,configurable:!0}),n.prototype._textContent=function(t){return null!=t&&(this.__textContent=t),this.__textContent},Object.defineProperty(n.prototype,"parent",{get:function(){return this._getCartesianSeriesView()},enumerable:!0,configurable:!0}),n.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._TextPointViewRectangleOverlayItemViewAttachmentAgent(this,this._overlayItemViews()))},n.prototype._symbolDefinition=function(){return null==this.__symbolDefinition&&(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},n.prototype._symbol=function(){return this.__symbol},n.prototype._createSymbolDefinition=function(){var e=this._getPlotView();if(e.showSymbol()){var n=e._getCartesianPlotDefinition(),i=null,o=n._encodingsDefinition._getShapeEncodingDefinition();o instanceof t._SingleDataFieldLegendEncodingDefinition&&(i=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()));var r=this._getStyleSymbolShape(),l=this.shape,a=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(n._symbolDefinitionProviders(),i,r,l,a)}return null},n.prototype._getXValue=function(e){var n=this._getPlotView()._horizontalAxisView()._scaleModel._scale;if(t._isOrdinalAxisScale(n))return e.xDimensionValue._value();if(t._isLinearAxisScale(n)||t._isLogAxisScale(n)){if("number"==typeof(i=e.xDimensionValue.rawValue))return i}else if(t._isTimeAxisScale(n)){var i;if(null!=(i=e.xDimensionValue.rawValue)&&i instanceof Date)return i.valueOf()}return null},n.prototype._format=function(){var e=this._data()._valueDefinition();if(null!=e){var n=null;if((t._isAggregateValueDimensionDefinition(e)||t._isXyValueDimensionDefinition(e))&&(n=e._fieldDefinition()),null!=n&&null!=n._format)return n._format}return null},n.prototype._title=function(){return this._createTextContent().text},n.prototype._createTextContent=function(){var e=this._data()._value(),n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getCartesianPlotView()._getDefinition()._pluginCollection);return new t._TextNumbericContent(e,this._format(),n)},n.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getPlotView(),n=e._horizontalAxisView(),i=e._getBackgroundRectangle(),o=this._getXValue(this._data()),r=n._scaleModel._value(Math.max((null!=o?o:0)-.5,n._scaleModel._minimum)),l=n._scaleModel._value(Math.min((null!=o?o:0)+.5,n._scaleModel._maximum)),a=null==r?0:r,s=null==l?0:l,u=i.top,_=i.bottom;this.___backgroundShape=new t._RectangleShape((a+s)/2,(u+_)/2,Math.abs(s-a),Math.abs(_-u),0)}return this.___backgroundShape},n.prototype._measure=function(e,i){e.beginTransform();var o=this._calculateStyle(new t._RenderContext);t._StyleUtility._applyAllStyle(e,o),this._applyDataPointExternalStyle(e);var r=e.measureSingleLineString(this._title()),l=null!=this._symbolDefinition()?this._calculateSymbolSize(r):new t.core.Size(0,0);return e.restoreTransform(),new t._RectangleViewMetricsResult(new t.core.Size(l.width+r.width+(l.width>0?n.__symbolSpace:0),Math.max(l.height,r.height)))},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._updateRectangle(n),this._textContent(this._createTextContent())},n.prototype._renderBackground=function(e,n){if(!this._data()._filtered&&!this._data()._legendFiltered){var i=this._backgroundColor(n);if(null!=i){var o=this._backgroundShape();null!=o&&(e.beginTransform(),t._StyleUtility._applyFillOption(e,i),o instanceof t._RectangleShape&&e.drawRect(o.center.x-o.size.width/2,o.center.y-o.size.height/2,o.size.width,o.size.height),e.restoreTransform())}}},n.prototype._renderSymbol=function(e,n,i){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._pointStyleBuilder._pointColorBuilder._buildColor(this);t._StyleUtility._applyFill(o,r),t._StyleUtility._applyStroke(o,r),t._StyleUtility._applyStyle(o,this._calculateStyle(i)),null!=this._externalStyle&&(null!=this._externalStyle.fill&&t._StyleUtility._applyFill(o,this._externalStyle.fill),null!=this._externalStyle.stroke&&t._StyleUtility._applyStroke(o,this._externalStyle.stroke)),this.__symbol=this._symbolDefinition().createSymbol(n,o),this.__symbol.render(e,i),e.restoreTransform()},n.prototype._drawView=function(e,i){e.beginTransform();var o=this._calculateStyle(i);t._StyleUtility._applyAllStyle(e,o),this._applyDataPointExternalStyle(e);var r=this._rectangle().clone();if(null!=this._symbolDefinition()){var l=e.measureSingleLineString(this._textContent().text),a=this._calculateSymbolSize(l);this._renderSymbol(e,new t.core.Rect(r.left,r.top+(l.height-a.height)/2,r.width-l.width,a.height),i),r.left+=a.width+n.__symbolSpace,r.width-=a.width}this._hover&&(r=t._DrawingUtility._scaleRectangle(r,this._scale)),e.drawMultiLineString(this._textContent().text,r,t.TextOverflow.Clip,t.HAlign.Center),e.restoreTransform()},n.prototype._calculateSymbolSize=function(e){var n=16;return e.height>0&&(n=.7*e.height),n=n*this._getStyleSymbolSize()/10,new t.core.Size(n,n)},n.prototype._applyDataPointExternalStyle=function(n){e.prototype._applyDataPointExternalStyle.call(this,n),null!=this._externalStyle&&(null!=this._externalStyle.fill&&t.models._isCssColor(n.fill)&&(n.textFill=n.fill.color),null!=this._externalStyle.fillOpacity&&(n.textOpacity=n.fillOpacity))},n.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},n.__symbolSpace=5,n}(t._CartesianPointView);t._TextCartesianPointView=e}(t||(t={})),function(t){t._isTextCartesianSeriesView=function(t){return!1}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._CartesianSeriesView);t._TextCartesianSeriesView=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.__width=0,n.__height=0,n}return i(n,e),n.prototype._trapezoidLegendView=function(){return this._legendView()},n.prototype._getTextStyle=function(){var e=t._StyleUtility._buildStyle();return t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),e},n.prototype._measure=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._getTextStyle());var i=e.measureSingleLineString("A").height;e.restoreTransform();var o=this._orientation(),r=.6*i*3,l=5*i;return this.__width=r,this.__height=l,null==o||o==t.Orientation.Vertical?new t._RectangleViewMetricsResult(new t.core.Size(this.__width,this.__height)):new t._RectangleViewMetricsResult(new t.core.Size(this.__height,this.__width))},n.prototype._layoutInnerContent=function(e,n,i){this.__shape=t._TrapezoidShape._from(n.center,this.__width,this.__width/3,this.__height,90)._inverse(),this._orientation()==t.Orientation.Horizontal&&this.__shape._rotate(-90)},n.prototype._renderInnerContent=function(e,n,i){if(null!=this.__shape){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._getColor();o.stroke=r,o.fill=r,t._StyleUtility._applyStyle(e,o);var l=this.__shape._points(),a=l.map((function(t){return t.x})),s=l.map((function(t){return t.y}));e.drawPolygon(a,s),e.restoreTransform()}},n.prototype._getColor=function(){if(null!=this._trapezoidLegendView()._iconColor()){var e=this._trapezoidLegendView()._iconColor();if(null!=e)return e}return t._CssColor._defaultStyleColor()},n}(t._LegendContentView);t._TrapezoidLegendContentView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n._option,n._kind())||this;return i.__data=n,i}return i(n,e),n.prototype._data=function(){return this.__data},n.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toString(this._option.title,!0):null;return null==e?this._data()._labelBuilder._build():e},n.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._StyleUtility._colorFromOption(e):null},n.prototype._createContentView=function(){return new t._TrapezoidLegendContentView(this)},n.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},n}(t._LegendView);t._TrapezoidLegendView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this)||this;return r.__leftTop=t,r.__rightTop=n,r.__rightBottom=i,r.__leftBottom=o,r}return i(n,e),n._from=function(e,i,o,r,l){var a=e.y-r/2,s=e.y+r/2,u=e.x-i/2,_=new t.core.Point(u,s),p=new t.core.Point(u+i,s),c=new t.core.Point(0,0),h=new t.core.Point(0,0);if(c.y=a,h.y=a,l>0&&l<90){var f=r/Math.tan(l*Math.PI/180);c.x=u+f,h.x=u+f+o}else if(90==l)c.x=u,h.x=u+o;else{if(!(l>90&&l<180))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue);f=r*Math.tan((l-90)*Math.PI/180),c.x=u-f,h.x=u-f+o}return new n(c,h,p,_)},Object.defineProperty(n.prototype,"type",{get:function(){return"Trapezoid"},enumerable:!0,configurable:!0}),n.prototype._points=function(){return[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom]},n.prototype._center=function(){return new t.core.Point((this.__leftTop.x+this.__rightTop.x)/2,(this.__leftTop.y+this.__leftBottom.y)/2)},n.prototype._inverse=function(){var t=this.__leftTop.x;return this.__leftTop.x=this.__leftBottom.x,this.__leftBottom.x=t,t=this.__rightTop.x,this.__rightTop.x=this.__rightBottom.x,this.__rightBottom.x=t,this},n.prototype._rotate=function(e){var n=new t.Matrix;n.rotate(e*Math.PI/180,this._center());var i=t._MatrixUtility._transformPoints(n,this._points());return this.__leftTop=i[0],this.__rightTop=i[1],this.__rightBottom=i[2],this.__leftBottom=i[3],this},n.prototype.contains=function(e){for(var n=this._points(),i=0;i<n.length;++i){var o=n[i],r=n[(i+1)%n.length],l=new t.Vector2d(r.x-o.x,r.y-o.y),a=new t.Vector2d(e.x-o.x,e.y-o.y);if(l.cross(a)<0)return!1}return!0},n.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof n){var i=[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom],o=[e.__leftTop,e.__rightTop,e.__rightBottom,e.__leftBottom];return t._NullablePointArrayEqualityComparer._defaultEqualityComparer._equalsWith(i,o)}return!1},n.prototype.clone=function(){return new n(this.__leftTop.clone(),this.__rightTop.clone(),this.__rightBottom.clone(),this.__leftBottom.clone())},n}(t._BaseShape);t._TrapezoidShape=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterCartesianTrapezoidLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){if(n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Size)&&t._isItemizedLegendDataModel(n)){var i=n;if(i._items().length>0&&i._getDefinition()._plotDefinition instanceof t._ScatterCartesianPlotDefinition)return new t._TrapezoidLegendView(e,i)}return null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterCartesianTrapezoidLegendViewPlugin=n}(t||(t={})),function(t){var e;e=t.models||(t.models={}),t.plugins.PluginCollection.defaultPluginCollection.register(new e._IncreaseRule),t.plugins.PluginCollection.defaultPluginCollection.register(new e._DecreaseRule)}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,o)||this;return a.__value=null,a.__name=e,a.parent=n,a.children=[],a.__fieldValueDimensionDefinition=i,a.key=r.rawValue,a.__yValue=l,null!=l&&a._calcValue(l),a}return i(e,t),e.prototype._name=function(){return this.__name},e.prototype._value=function(){return this.__value},e.prototype._calcValue=function(t){this.__yValue=t,null!=this.__yValue&&(null!=this.__fieldValueDimensionDefinition&&(this._item()[this.__fieldValueDimensionDefinition._fieldDefinition()._dataField._name]=this.__yValue.rawValue),this.__value=this.__yValue._value())},e.prototype._levelValue=function(t){var e=0;if(t>this._depth())for(var n=0,i=this.children;n<i.length;n++)e+=i[n]._levelValue(t);else t==this._depth()&&null!=this._value()&&(e=this._value());return e},e}(t._PointDataModel);t._BaseHierarchicalPointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dataFieldDefinition=n,i}return i(e,t),e}(t._DimensionValue);t._HierarchicalDimensionValue=e}(t||(t={})),function(t){var e=function(e){function o(n,i){var o=e.call(this,n,i)||this;o.__root=o._createPoints(n);var r=o._hierarchicalPlotDefinition()._detailDefinition();if(null!=o.__root&&null!=r&&null==r._sortDefinition&&null==r._dataSliceSortDefinition){var l=[o.__root];t._TreeNodeUtility._traverseDFS(l,(function(t,e){t.children.sort((function(t,e){var n=e._value(),i=t._value();return null==n&&(n=0),null==i&&(i=0),n-i}))}))}return o}return i(o,e),o.prototype._points=function(){return this._hierarchicalPoints(this._root())},o.prototype._root=function(){return this.__root},o.prototype._hierarchicalPlotDefinition=function(){return this._definition()},o.prototype._hierarchicalPoints=function(t){if(null==t)return[];for(var e=[t],n=0,i=t.children;n<i.length;n++){var o=i[n];null!=o&&e.push.apply(e,this._hierarchicalPoints(o))}return e},o.prototype._createPoints=function(e){var n=this,i=this._hierarchicalPlotDefinition(),o=i._valueDefinition();if(null==o||0==e._length)return null;var r=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(o);if(null==r)return null;var l=new t._RootHierarchicalPointDataModel(this,"",null,o,e,new t._HierarchicalDimensionValue(null,null),this._generateValue(e,o,r)),a=i._detailDefinition();if(null!=a&&a._dataFieldDefinitions.length>0){e=new t._DataSlicesSorter(a._dataSliceSortDefinition,a._dataFieldDefinitions[0])._sort(e);for(var s=a._dataFieldDefinitions,u=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),_=[],p=0,c=s;p<c.length;p++){var h=c[p];_.push(new t.QueryGroupByOption(new t._GroupingDefinition(h,a._sortDefinition)))}var f=u.groupBy(_).query().groups;t._TreeNodeUtility._traverseGrouping(f,l,0,(function(e,l,a){var u=!0;if(0==a&&(u=!1),u&&null==l.key)return null;if(null!=e){var _=new t._HierarchicalDimensionValue(l.key,s[a]),p=n._generateName(i,_),c=n._generateValue(l._dataSlices,o,r),h=new t._HierarchicalPointDataModel(p,e,o,l._dataSlices,_,c);return e.children.push(h),h}return null}))}return l},o.prototype._generateName=function(e,n){var i=n.rawValue,o=null;if(t._isHierarchicalDimensionValue(n)){var r=n,l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._pluginCollection);if(null!=r&&null!=l){var a=r.dataFieldDefinition._format;o=l.format(a,i)}else o=null==i?"null":i.toString()}else o=null==i?"null":i.toString();return o},o.prototype._generateValue=function(e,i,o){var r=new t._DataSlicesKeysFilter(new n,[i._fieldDefinition()._dataField._name]),l=o._buildDimensionValues(r._filter(e),null,i);return 1!=l.length?null:l[0]},o}(t._PlotDataModel);t._HierarchicalPlotDataModel=e;var n=function(){function e(){}return e.prototype.filter=function(e,n){var i=t._DataItemExtension._dataValue(e,n);return"number"!=typeof i||i>=0},e.prototype.queryInterface=function(t){return null},e}()}(t||(t={})),function(t){t._isBaseHierarchicalPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._path&&"function"==typeof e._root&&void 0!==e.children&&"function"==typeof e._depth&&"function"==typeof e._value&&void 0!==e.key&&"function"==typeof e._percentageDetail&&"function"==typeof e._percentageLevel&&"function"==typeof e._percentagePlot&&"function"==typeof e._levelValue&&"function"==typeof e._calcValue&&"function"==typeof e._valueDefinition&&"function"==typeof e._name}}(t||(t={})),t||(t={}),function(t){t._isHierarchicalDimensionValue=function(t){return null!=t.dataFieldDefinition}}(t||(t={})),function(t){t._isHierarchicalPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._hierarchicalPlotDefinition&&"function"==typeof e._root}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){return e.call(this,t,n,i,o,r,l)||this}return i(n,e),n.prototype._path=function(){if(null==this.__path){var t=[];t.push.apply(t,this.parent._path()),t.push(null==this.key?"null":this.key.toString()),this.__path=t}return this.__path},n.prototype._valueDefinition=function(){return this._root()._plot()._hierarchicalPlotDefinition()._valueDefinition()._identifier},n.prototype._depth=function(){return this._getParent()._depth()+1},n.prototype._getParent=function(){return this.parent},n.prototype._root=function(){var e=this._getParent();return e instanceof n?e._root():e instanceof t._RootHierarchicalPointDataModel?e:null},n.prototype._percentageDetail=function(){var t=this._value(),e=this._getParent()._value();return null==t&&(t=0),null==e&&(e=0),Math.abs(t/e)},n.prototype._percentageLevel=function(){var t=this._value();return null==t&&(t=0),Math.abs(t/this._root()._levelValue(this._depth()))},n.prototype._percentagePlot=function(){var t=this._value(),e=this._root()._value();return null==t&&(t=0),null==e&&(e=0),Math.abs(t/e)},n}(t._BaseHierarchicalPointDataModel);t._HierarchicalPointDataModel=e}(t||(t={})),t||(t={}),function(t){t._isRootHierarchicalPointDataModel=function(t){return null!=t&&"function"==typeof t._plot}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,n,i,o,r,l,a)||this;return s.__plot=t,s}return i(n,e),n.prototype._path=function(){return[]},n.prototype._valueDefinition=function(){return this._plot()._hierarchicalPlotDefinition()._valueDefinition()._identifier},n.prototype._depth=function(){return 0},n.prototype._percentageDetail=function(){return 1},n.prototype._percentageLevel=function(){return 1},n.prototype._percentagePlot=function(){return 1},n.prototype._root=function(){return this},n.prototype._plot=function(){return this.__plot},n.prototype._style=function(){return null==this.__style&&(this.__style=t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._cloneOf(this._plot()._definition()._plotConfigOption.style)),this.__style},n}(t._BaseHierarchicalPointDataModel);t._RootHierarchicalPointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u){var _=t.call(this,null,i,o,r,l,a,s,u)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return i(e,t),e._emptyEncodingsDefinition=new e([],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._HierarchicalEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._HierarchicalDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._HierarchicalEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._HierarchicalEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(null!=e&&e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},n.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},n}(t._EncodingsDefinitionBuilder);t._HierarchicalEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._HierarchicalEncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){if(null!=t){var n=t._getRootPointView();null!=n&&this._applyHierarchicalPointConditionFormattingRule(n,e)}},e.prototype._applyHierarchicalPointConditionFormattingRule=function(t,e){if(null!=t){e.evaluate(t);for(var n=0,i=t._children;n<i.length;n++){var o=i[n];this._applyHierarchicalPointConditionFormattingRule(o,e)}}},e}(t._ConditionalFormattingRuleRunner);t._HierarchicalConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._BoxLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._HierarchicalLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null);var s=e.call(this,n,i,o,r,new t._HierarchicalPlotDataBuilder,null==l?new t._HierarchicalEncodingsDefinitionBuilder:l,null==a?new t._HierarchicalLegendSymbolViewBuilder(!1,!1):a)||this;return null!=o.encodings&&s._buildEncodings(),s}return i(n,e),n.prototype._valueDefinition=function(){return this.__valueDefinition},n.prototype._detailDefinition=function(){return this.__detailDefinition},n.prototype._emptyEncodingsDefinition=function(){return t._HierarchicalEncodingsDefinition._emptyEncodingsDefinition},n.prototype._buildEncodings=function(){var e=this._encodingsDefinition;if(null!=e._valueEncodingDefinitions&&e._valueEncodingDefinitions.length>0){var n=e._valueEncodingDefinitions[0]._getValueDimensionDefinition();t._isAggregateValueDimensionDefinition(n)&&(this.__valueDefinition=n)}if(null!=e._detailEncodingDefinitions&&e._detailEncodingDefinitions.length>0){var i=e._detailEncodingDefinitions[0];t._isHierarchicalDetailEncodingDefinition(i)&&(this.__detailDefinition=i)}},n.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},n.prototype._getDataModelType=function(){return"Hierarchy"},n}(t._BasePlotDefinition),e._HierarchicalPlotDefinition=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o.__rootPointView=null,o._children=[],o._pointViews=[],o._createPointViews(),o}return i(n,e),n.prototype._getRootPointView=function(){return this.__rootPointView},n.prototype._traverse=function(t,e){e(t);for(var n=0,i=t._children;n<i.length;n++){var o=i[n];this._traverse(o,e)}},n.prototype._actionConditionalFormat=function(){(new t.models._HierarchicalConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},n.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this._children;i<o.length;i++){var r=o[i]._hitTest(t,e,n);if(null!=r)return r}return null},n.prototype._createPointViews=function(){var t=this._dataModel._root();if(null!=t&&(this.__rootPointView=this._createPointView(null,t),null!=this.__rootPointView))for(var e=0,n=t.children;e<n.length;e++){var i=n[e];this._createChildPointView(this.__rootPointView,i)}},n.prototype._createChildPointView=function(t,e){var n=this._createPointView(t,e);this._pointViews.push(n),this._children.push(n),t._children.push(n);for(var i=0,o=e.children;i<o.length;i++){var r=o[i];this._createChildPointView(n,r)}},n.prototype._containsSelectedPointView=function(t){if(t._isSelected())return!0;for(var e=0,n=t._children;e<n.length;e++){var i=n[e];if(this._containsSelectedPointView(i))return!0}return!1},n.prototype._getHierarchicalPlotDefinition=function(){return this._definition},n.prototype._getHierarchicalPlotDataModel=function(){return this._dataModel},n.prototype._hasSelectedPointView=function(){return null!=this.__rootPointView&&this._containsSelectedPointView(this.__rootPointView)},n.prototype._getPointViews=function(){return this._pointViews},Object.defineProperty(n.prototype,"root",{get:function(){return this.__rootPointView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IHierarchicalPlotModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BasePlotView);t._HierarchicalPlotView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,i,o)||this;return r._parentPointView=n,r._children=[],r}return i(n,e),n.prototype._createIdentityContent=function(){var e=this._hierarchicalData(),n=t._Util.HashCode(this._prefix(this)+" "+e._path().join("/"));return t._Util.HashCode(n)},n.prototype._prefix=function(t){var e=t._data()._root()._plot()._hierarchicalPlotDefinition();return null!=e._detailDefinition()?e._detailDefinition()._dataFieldDefinitions.slice(0,t.depth).map((function(t){return t._dataField._name})).join(">"):""},n.prototype._hierarchicalPlotView=function(){return this._getPlotView()},n.prototype._hierarchicalData=function(){return this._data()},n.prototype._value=function(){return this._data()._value()},Object.defineProperty(n.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!0,configurable:!0}),n.prototype._createDataLabelContent=function(){var e=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._HierarchicalTextProxy(this,e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,s=i.evaluate(o,r,l,a),u=this._toLines(s);return null!=u&&u.length>0?new t.models._DataLabelContent(u,this):null},n.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},n.prototype._defaultDataLabelTemplate=function(e){var n=[],i=[],o=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this._data()._depth(),a=0;a<r.length;a++){var s=r[a];a<l&&(n=["{detailFields["+a+"].value}"]),i.push(s._dataField._name)}}for(var u=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},_=0,p=e;_<p.length;_++)u(p[_]);return n.join("; ")},n.prototype._createTooltipHtmlContent=function(e){var n=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.models._HierarchicalTextProxy(this,n),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s);return this._toHtml(u)},n.prototype._defaultTooltipTemplate=function(e){var n=[],i=[],o=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this._data()._depth(),a=0;a<r.length;a++){var s=r[a],u="detailFields["+a.toString()+"]";a<l&&n.push("{"+u+".name}: {"+u+".value}"),i.push(s._dataField._name)}}for(var _=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},p=0,c=e;p<c.length;p++)_(c[p]);return n.join("\n")},Object.defineProperty(n.prototype,"parent",{get:function(){return null==this._parentPointView?this._getPlotView():this._parentPointView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueDefinition",{get:function(){return this._data()._valueDefinition()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"detail",{get:function(){return this._data().key},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._data()._name()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){return this._data()._depth()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IHierarchicalPointModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BasePointView);t._HierarchicalPointView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){void 0===i&&(i=null),this.__pointView=e,this.__contentEncodingDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._hierarchicalPlotView()._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){var n;return"PercentageDetail"==(n=e instanceof t._TokenSyntaxExpression?e.token:e.syntaxExpression)||"PercentageLevel"==n||"PercentagePlot"==n?this.__stringFormatting.defaultFormat(t.core.DataType.Number,!0):null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){return null==t?null:"PercentageDetail"==t?this._getPercentageDetailProperty(e):"PercentageLevel"==t?this._getPercentageLevelProperty(e):"PercentagePlot"==t?this._getPercentagePlotProperty(e):"valueField"==t?this._getValueFieldProperty(e):"detailFields"==t?this._getDetailFieldsProperty(e,n):this._getTokenProperty(t,e)},n.prototype._getPercentageDetailProperty=function(t){return"name"==t?new e._DataValueInfo("PercentageDetail",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentageDetail(),this.__stringFormatting):null},n.prototype._getPercentageLevelProperty=function(t){return"name"==t?new e._DataValueInfo("PercentageLevel",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentageLevel(),this.__stringFormatting):null},n.prototype._getPercentagePlotProperty=function(t){return"name"==t?new e._DataValueInfo("PercentagePlot",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentagePlot(),this.__stringFormatting):null},n.prototype._getValueFieldProperty=function(n){var i=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._valueDefinition();if("name"==n){var o=i._fieldDefinition()._dataField._name;return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}if("value"==n){var r=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,i._fieldDefinition()._dataField,i._aggregate());return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("aggregate"==n){var l=i._aggregate();if(null!=l){var a=t._CastExtension.toAggregateString(l);if(null!=a)return new e._DataValueInfo(a,this.__stringFormatting)}return null}return null},n.prototype._getDetailFieldsProperty=function(n,i){var o=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0){var l=this.__pointView._hierarchicalData()._depth();if(l>0){var a=null;if(null==i?a=r[l-1]:i<l&&(a=r[i]),null!=a){if("name"==n){var s=a._label;return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,a._dataField,t.Aggregate.List);return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}}}}}return null},n.prototype._getTokenProperty=function(e,n){for(var i=0,o=this.__contentEncodingDefinitions;i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e)return this._fromContentDefinition(l,n)}}return null},n.prototype._fromContentDefinition=function(n,i){var o=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this.__pointView._hierarchicalData()._depth(),a=0;a<r.length;a++)if(r[a]._dataField.equalsWith(n._dataFieldDefinition._dataField)){if(a<l){if("name"==i){var s=n._dataFieldDefinition._label;return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}var u,_;if("value"==i)return null!=(u=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,n._dataFieldDefinition._dataField,n._aggregate))?new e._DataValueInfo(u,this.__stringFormatting):null;if("aggregate"==i)return null!=(_=t._CastExtension.toAggregateString(n._aggregate))?new e._DataValueInfo(_,this.__stringFormatting):null}return null}}if("name"==i){var p=n._dataFieldDefinition._label;return null!=p?new e._DataValueInfo(p,this.__stringFormatting):null}return"value"==i?null!=(u=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,n._dataFieldDefinition._dataField,n._aggregate))?new e._DataValueInfo(u,this.__stringFormatting):null:"aggregate"==i&&null!=(_=t._CastExtension.toAggregateString(n._aggregate))?new e._DataValueInfo(_,this.__stringFormatting):null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._HierarchicalTextProxy=n}(t||(t={})),function(t){t._isHierarchicalPlotDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._detailDefinition&&"function"==typeof e._valueDefinition}}(t||(t={})),t||(t={}),function(t){t._isHierarchicalPlotView=function(t){return null!=t&&"function"==typeof t._getRootPointView}}(t||(t={})),function(t){t._isHierarchicalPointView=function(t){var e=t;return null!=e&&void 0!==e._children&&void 0!==e._parentPointView&&"function"==typeof e._value}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildLegendDataModel=function(n,i){if(n instanceof t._HierarchicalLegendEncodingDefinition&&n._plotDefinition instanceof e._HierarchicalPlotDefinition){var o=i._getOption(n._plotDefinition._plotOption.name,n._legendType),r=n;return new t._HierarchicalDataPointItemizedLegendDataModel(r,o)}return null},n}(),e._HierarchicalColorLegendBuilder=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,o)||this;return r.__scaleTreeRoot=new t.models.HierachicalLegendScaleTreeNode(null),r}return i(n,e),n.prototype._buildLegendValue=function(e){return t._isBaseHierarchicalPointDataModel(e)?e._path():[]},n.prototype._setUp=function(){var e=this._definition._plotDefinition;if(t._isHierarchicalPlotDefinition(e)){var n=e;if(null!=n._valueDefinition()&&null!=n._detailDefinition()){var i=this._getColorableLayer(n);this.__start=i[0],this.__end=i[i.length-1],this.__layers=i;for(var o=this._plotAreaView._getDefinition()._plotAreaOption.plugins,r=this._plotAreaView._getDefinition()._pluginCollection,l=0,a=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,o,r)._getPointViews(this._plotAreaView,this._legend);l<a.length;l++){var s=a[l];s instanceof t._HierarchicalPointView&&(this._initScaleTree(s,this.__end),this._checkIn(s))}this._createItems(this.__scaleTreeRoot,[])}var u=n._encodingsDefinition._getColorEncodingDefinition();u instanceof t._HierarchicalLegendEncodingDefinition&&null==u._dataFieldDefinitions&&this._legend._setAvailable(!1)}},n.prototype._initScaleTree=function(e,n){var i=[];this._getPath(e,i);for(var o=0,r=i;o<r.length;o++){var l=r[o];t.models.HierachicalLegendScaleTreeNode.fit(this.__scaleTreeRoot,l,n)}},n.prototype._getPath=function(e,n){var i=e._children;0===i.length&&n.push(e._hierarchicalData()._path());for(var o=0,r=i;o<r.length;o++){var l=r[o];l instanceof t._HierarchicalPointView&&this._getPath(l,n)}},n.prototype._checkIn=function(e){var n=this.__scaleTreeRoot.findChildByPath(e._hierarchicalData()._path());null!=n&&(null==n.label&&(n.label=e.name),n.points.push(e));for(var i=0,o=e.children;i<o.length;i++){var r=o[i];r instanceof t._HierarchicalPointView&&this._checkIn(r)}},n.prototype._createItems=function(e,n){for(var i=this._legend.__items,o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),r=0,l=e.children;r<l.length;r++){var a=l[r];if(n.push(a.key),a.level==this.__start){var s=t._ItemizedHierarchicalPointLegendItemDataModel._generateKey(n),u=this._legend._dataPointKeysMap._get(s);if(null==u){u=[],this._legend._dataPointKeysMap._set(s,u);var _=new t._ItemizedHierarchicalPointLegendItemDataModel(this._legend,a.key,a.label,n,o);_._setSymbol(this._getLegendSymbol()),i.push(_)}u.push.apply(u,a.points)}else this._createItems(a,n);n.pop()}},n.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(),this._sortItemsBySorter(this._plotAreaView)},n.prototype._applyColor=function(){this.__scaleTreeRoot.color=this._getColor(this._plotAreaView,!1),this._applyColorToPoint(this.__scaleTreeRoot,this.__start,this.__end)},n.prototype._isPathEqual=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if("string"==typeof t[n]&&t[n]!=e[n])return!1;return!0},n.prototype._findItemByPoint=function(e,n){if(null==n)return null;var i=this._buildLegendValue(n._data());if(i.length>0){var o=e._items();if(0==o.length)return null;for(var r=[],l=0,a=i;l<a.length;l++){var s=a[l];if("string"==typeof s){var u=s;r.push(u)}}for(var _=0,p=o;_<p.length;_++){var c=p[_];if(c instanceof t._ItemizedHierarchicalPointLegendItemDataModel){var h=this.__start+1;if(this._isPathEqual(r.slice(0,h),c._path))return c}}}return null},n.prototype._applyColorToPoint=function(t,e,n){for(var i=t.level+1,o=t.children,r=0;r<o.length;++r){var l=o[r],a=null;if(t.level<e){null!=l.key&&(a=this._getColorProvider()._colorWithValue(l.key,!0)),null==a&&(a=this._getColor(this._plotAreaView,!0));var s=this._findItemByPoint(this._legend,l.points[0]);null!=s&&null==s._color()&&s._updateColor(a)}else a=this.__layers.indexOf(i)>=0?this._tintColor(t.color,r+1,o.length+1):t.color;l.color=a;for(var u=0,_=l.points;u<_.length;u++)_[u]._updateLegendColor(a);this._applyColorToPoint(l,e,n)}},n.prototype._getColorableLayer=function(t){var e,n=t._detailDefinition()._dataFieldDefinitions.map((function(t){return t._dataField._name})),i=this._definition;if((e=null!=i._dataFieldDefinitions?i._dataFieldDefinitions.map((function(t){return t._dataField._name})):[n[0]]).length<=0)return[];if(1==e.length){var o=n.indexOf(e[0]);return o<0&&(o=0),[o]}for(var r=0,l=[],a=0;a<n.length&&(n[a]!==e[r]||(l.push(a),++r!==e.length));++a);return l},n.prototype._getColor=function(t,e){return this._getColorIterator(t)._next(e)},n.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._tint(e,n/i):e},n}(t._ItemizedLegendInitializer);t._HierarchicalLegendInitializer=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.points=[],this.children=[],this.parent=t,null!=t?(this.parent.children.push(this),this.level=t.level+1):this.level=-1}return t.prototype.findChildByPath=function(t){for(var e=this,n=0;n<t.length;++n){var i=e._findChild(t[n]);if(null==i)return e;e=i}return e},t.prototype._findChild=function(t){for(var e=0,n=this.children;e<n.length;e++){var i=n[e];if(t===i.key)return i}return null},t.fit=function(e,n,i){for(var o=0;o<n.length&&!(o>i);++o){var r=e._findChild(n[o]);null==r&&((r=new t(e)).key=n[o]),e=r}},t}();t.HierachicalLegendScaleTreeNode=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._DataPointItemizedLegendDataModel);t._HierarchicalDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,i,r)||this;return l._path=o.slice(),l}return i(n,e),n.prototype._dataPointKey=function(){return n._generateKey(this._path)},n._generateKey=function(t){return t.join("-")},n.prototype._traverse=function(t,e){e(t);for(var n=0,i=t._children;n<i.length;n++){var o=i[n];this._traverse(o,e)}},n.prototype._getRelatedPointViews=function(n){for(var i=e.prototype._getRelatedPointViews.call(this,n),o=[],r=0,l=i;r<l.length;r++){var a=l[r];t._isHierarchicalPointView(a)&&this._traverse(a,(function(t){o.push(t)}))}return o},n}(t._ItemizedPointLegendItemDataModel);t._ItemizedHierarchicalPointLegendItemDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._HierarchicalPlotDataModel(n,e)},e}();t._HierarchicalPlotDataBuilder=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){this.name="HierarchicalColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t.models._HierarchicalPlotDefinition&&i instanceof t._HierarchicalEncodingsDefinitionContext){var l=n,a=t._HierarchicalLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Color)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HierarchicalColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){return void 0===r&&(r=null),n.call(this,t,i,o,null==r?new e._SunburstPlotViewBuilder:r)||this}return i(o,n),o.prototype._getType=function(){return"Sunburst"},o.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},o}(e._HierarchicalPlotDefinition),e._SunburstPlotDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Sunburst",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&(n.config.axisMode==t.AxisMode.Polygonal||n.config.axisMode==t.AxisMode.Radial)){var o=new t.models._SunburstPlotDefinition(e,e._findDataSchema(n.data),n);return null!=o._detailDefinition()&&null!=o._detailDefinition()._dataFieldDefinitions&&o._detailDefinition()._dataFieldDefinitions.length>1?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isSunburstPlotView=function(e){return null!=e&&e instanceof t._SunburstPlotView}}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createPointView=function(e,n){return new t._SunburstPointView(this,e,n,null)},n.prototype._getOffset=function(){if(null==this.__offset){var t=this._definition._plotConfigOption.offset;if(t.length>0&&null!=t[0]){var e=t[0].value;e>1?e=1:e<-1&&(e=-1),this.__offset=e}}return this.__offset},n.prototype._innerRadius=function(){var t=this._definition._plotConfigOption.innerRadius;return null!=t?t:0},n.prototype._sweep=function(){return this._definition._plotConfigOption.sweep*Math.PI/180},n.prototype._startAngle=function(){return this._definition._plotConfigOption.startAngle*Math.PI/180+3*Math.PI/2},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._rectangle();if(null!=o&&o.contains(t))for(var r=0,l=this._children;r<l.length;r++){var a=l[r]._hitTest(t,n,i);if(null!=a)return a}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._layoutContent=function(n,i,o){var r=this._getRootPointView();null!=r&&(n.beginTransform(),t._StyleUtility._applyDataPointStyleOption(n,this._definition._plotConfigOption.style),t._StyleUtility._applyTextStyleOption(n,this._definition._plotConfigOption.textStyle),new t._SunburstPlotViewLayout(r,this._startAngle(),this._sweep(),this._innerRadius(),this._getOffset())._layout(n,i,o),n.restoreTransform(),e.prototype._layoutContent.call(this,n,i,o))},n.prototype._draw=function(e,n){e.beginTransform(),t._StyleUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),t._StyleUtility._applyTextStyleOption(e,this._definition._plotConfigOption.textStyle);for(var i=[],o=[],r=[],l=0;l<this._children.length;++l){var a=this._children[l];t._ViewUtility._isHover(a)&&this._definition._hoverBehaviorPolicy._changeVisualViewOrder?i.push(a):a._floated&&this._definition._hoverBehaviorPolicy._changeVisualViewOrder?o.push(a):a._isSelected()?r.push(a):a._render(e,n)}r.forEach((function(t){t._render(e,n)})),o.forEach((function(t){t._render(e,n)})),i.forEach((function(t){t._render(e,n)})),e.restoreTransform()},n.prototype._createPointViews=function(){e.prototype._createPointViews.call(this),this._children.reverse(),this._pointViews.reverse()},n}(t._HierarchicalPlotView);t._SunburstPlotView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(i instanceof e._SunburstPlotDefinition&&t._isHierarchicalPlotDataModel(o)&&(i._plotConfigOption.axisMode==t.AxisMode.Polygonal||i._plotConfigOption.axisMode==t.AxisMode.Radial)){var r=i._detailDefinition();if(null!=r&&null!=r._dataFieldDefinitions&&r._dataFieldDefinitions.length>1)return new t._SunburstPlotView(n,i,o)}return null},n}(),e._SunburstPlotViewBuilder=n}(t||(t={})),function(t){var e=function(){function e(t,e,n,i,o){this.__root=t,this.__startAngle=e,this.__sweep=n,this.__innerRadius=i,this.__offset=o}return e.prototype._getRadialRectangle=function(e,n,i,o,r){for(var l=[],a=t._Utility._toFixed(i+o,16,!0),s=[],u=i;u<a;u+=Math.PI/180)s.push(t._Utility._toFixed(u,16,!0));s.push(a);for(var _=0,p=s;_<p.length;_++){u=p[_];var c=Math.cos(u),h=Math.sin(u);(b=e.clone()).x+=n*c,b.y+=n*h,l.push(b);var f=e.clone();f.x+=r*c,f.y+=r*h,l.push(f)}for(var d=NaN,y=NaN,g=NaN,m=NaN,v=0,w=l;v<w.length;v++){var b=w[v];d=isNaN(d)?b.x:Math.min(b.x,d),g=isNaN(g)?b.x:Math.max(b.x,g),y=isNaN(y)?b.y:Math.min(b.y,y),m=isNaN(m)?b.y:Math.max(b.y,m)}return new t.core.Rect(d,y,g-d,m-y)},e.prototype._getShapes=function(t,e){if(null!=t)for(var n=0,i=t._children;n<i.length;n++){var o=i[n],r=o;if(r._isVisible()){var l=this._getRadialRectangle(r._getCenter(),r._getRadius(),r._getStartAngle(),r._getSweep(),r._getInnerRadius());e.push(l),this._getShapes(o,e)}}},e.prototype._layoutShapesRect=function(e,n,o,r,l){(new i).covert(this.__root,r.x,r.y,this.__startAngle,this.__sweep,this.__innerRadius*l,l,this.__offset,e);var a=[];this._getShapes(this.__root,a);for(var s=null,u=0,_=a;u<_.length;u++){var p=_[u];s=null!=s?t._DrawingUtility._unionOfRectangles(s,p.clone()):p.clone()}return null==s&&(s=n.clone()),s},e.prototype._searchBestRadius=function(t,e,n,i,o,r){for(var l=o,a=null,s=o,u=r;s<=u;)if(l=(u-s)/2+s,(a=this._layoutShapesRect(t,e,n,i,l)).width>e.width||a.height>e.height)u=l-.1;else{if(!(a.width<e.width&&a.height<e.height))break;s=l+.1}return[l,a]},e.prototype._makeCenter=function(t,e,n,i,o){var r=Math.abs(e+n);e>Math.abs(n)?t.x-=.5*r:t.x+=.5*r;var l=Math.abs(i+o);return i>Math.abs(o)?t.y-=.5*l:t.y+=.5*l,t},e.prototype._layout=function(e,n,o){var r=new t.core.Point(n.left+n.width/2,n.top+n.height/2),l=1e3,a=n.clone(),s=this._getRadialRectangle(r,l,this.__startAngle,this.__sweep,this.__innerRadius*l),u=Math.min(a.width/s.width,a.height/s.height)*l,_=this._searchBestRadius(e,a,o,r,0,u);l=_[0];var p=_[1];if(null!=p){r=new t.core.Point(r.x-p.left,r.y-p.top);var c=this._layoutShapesRect(e,a,o,r,l);if(null!=c){var h=c.left-a.left,f=c.right-a.right,d=c.top-a.top,y=c.bottom-a.bottom;r=this._makeCenter(r,h,f,d,y)}}(new i).covert(this.__root,r.x,r.y,this.__startAngle,this.__sweep,this.__innerRadius*l,l,this.__offset,e)},e}();t._SunburstPlotViewLayout=e;var n=function(){function t(t,e,n,i,o,r,l,a,s){this.vs=t.filter((function(t){return t._isVisible()})),this.startAngle=i,this.__endAngle=o,this.innerRadius=r,this.radius=l,this.depth=a,this.cx=e,this.cy=n,this._calcSum(s)}return t.prototype._calcSum=function(t){for(var e=0,n=0;n<this.vs.length;++n){var i=this.vs[n]._value();null==i&&(i=0),e+=i}this.sum=Math.max(e,t)},Object.defineProperty(t.prototype,"sweep",{get:function(){return this.__endAngle-this.startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.radius-this.innerRadius},enumerable:!0,configurable:!0}),t}(),i=function(){function e(){this.__depth=0,this.__cx=0,this.__cy=0,this.__radiusUnit=0,this.__offset=.1}return e.prototype.covert=function(t,e,i,o,r,l,a,s,u){null==s&&(s=0),this.__depth=0,this.__depth=this._calcDeep(t._children)+1,this.__offset=s*(a-l),this.__radiusUnit=(a-l-this.__offset)/(this.__depth-1),this.__cx=e,this.__cy=i;var _=new n(t._children,this.__cx,this.__cy,o,o+r,l,l+this.__radiusUnit,0,t._value());this._layoutItems(_,u,this._calPercentagedAngle(_))},e.prototype._calcDeep=function(t){if(null!=t&&t.length>0){for(var e=0,n=0;n<t.length;n++){var i=this._calcDeep(t[n]._children);e<i&&(e=i)}return++e}return 0},e.prototype._layoutItems=function(e,i,o){for(var r=e.startAngle,l=0;l<e.vs.length;++l){var a=e.vs[l],s=a._value();null==s&&(s=0);var u=s*o,_=e.cx,p=e.cy;if(0==e.depth&&(_=e.cx+this.__offset*Math.cos(r+u/2),p=e.cy+this.__offset*Math.sin(r+u/2)),a.layout(new t.core.Point(_,p),e.radius,e.innerRadius,r,u),null!=a.children&&a.children.length>0){var c=new n(a._children,_,p,r,r+u,e.radius,e.radius+this.__radiusUnit,e.depth+1,a._value());this._layoutItems(c,i,this._calPercentagedAngle(c))}r+=u}},e.prototype._calPercentagedAngle=function(t){return 0==t.sum?0:t.sweep/t.sum},e}()}(t||(t={})),function(t){t._isSunburstPointView=function(t){var e=t;return null!=e&&"function"==typeof e._setCenter&&"function"==typeof e._setRadius&&"function"==typeof e._setInnerRadius&&"function"==typeof e._setStartAngle&&"function"==typeof e._setSweep}}(t||(t={})),t||(t={}),function(t){var e=function(e){function r(n,i,o,r){var l=e.call(this,n,i,o,r)||this;return l.__drawablePipeline=new t.DisplayablePipeLine(l),l}return i(r,e),r.prototype._shape=function(){return new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep)},r.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},r.prototype._clone=function(){var t=new r(this._getPlotView(),null,this._hierarchicalData(),null);return t._setXs(this._getXs().slice()),t._setYs(this._getYs().slice()),t._visible=this._visible,t._setCenter(this._getCenter().clone()),t._setInnerRadius(this._getInnerRadius()),t._setRadius(this._getRadius()),t._setStartAngle(this._getStartAngle()),t._setSweep(this._getSweep()),t},r.prototype._getCenter=function(){return this.__center},r.prototype._setCenter=function(t){this.__center=t},r.prototype._getRadius=function(){return this.__radius},r.prototype._setRadius=function(t){null!=t&&(this.__radius=t)},r.prototype._getInnerRadius=function(){return this.__innerRadius},r.prototype._setInnerRadius=function(t){null!=t&&(this.__innerRadius=t)},r.prototype._getStartAngle=function(){return this.__startAngle},r.prototype._setStartAngle=function(t){null!=t&&(this.__startAngle=t)},r.prototype._getSweep=function(){return this.__sweep},r.prototype._setSweep=function(t){null!=t&&(this.__sweep=t)},r.prototype._refresh=function(){var e=t._Util.createPtsFromRadialBar(this.__startAngle,this.__sweep+this.__startAngle,this.__radius,this.__innerRadius,this.__center,200);this._setXs(e.xs),this._setYs(e.ys)},r.prototype._selectionAdorner=function(){return new o(this)},r.prototype.layout=function(t,e,n,i,o){this.__center=t,this.__radius=e,this.__innerRadius=n,this.__startAngle=i,this.__sweep=o,this._refresh()},r.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},r.prototype._draw=function(e,n){var i=this._getCenter().x,o=this._getCenter().y,r=this._getRadius()*((this._scale-1)/2+1),l=this._getInnerRadius()*(1-(this._scale-1)/2),a=this._getStartAngle(),s=this._getSweep(),u=t._PathUtility._buildDonutSegmentWithBorderRadius(i,o,r,l,a,s,null),_=this._getDefinition()._plotConfigOption.gradientFillDirection;if(null!=_&&_!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){e.beginTransform();var p=e.fill,c=t._ColorStopUtility._calcColorStopWithRadius(p.colorStops,_==t.GradientFillDirection.InnerRadius?l:0,r),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,r==l&&s>=t._Utility._PI2)e.drawDonut(i,o,r,l,a,s,null);else{var y=null;if(null!=u)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(u);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i,o,r,l,a,s);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i,o,r,r,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=u?e.drawPath(u,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i,o,r,l,a,s,null)}e.restoreTransform()}else null!=u?e.drawPath(u,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(this._getCenter().x,this._getCenter().y,this._getRadius(),this._getInnerRadius()*(1-(this._scale-1)/2),this._getStartAngle(),this._getSweep(),null)},r.prototype._contains=function(t){var e=t.x-this._getCenter().x,i=t.y-this._getCenter().y,o=e*e+i*i,r=this._getInnerRadius()*this._getInnerRadius(),l=this._getRadius()*this._getRadius();if(o>=r&&o<=l){var a=90*this._getSweep()/Math.PI,s=n.clampAngle(180*this._getStartAngle()/Math.PI+a),u=180*Math.atan2(i,e)/Math.PI,_=n.clampAngle(s-u);if(Math.abs(_)<=a)return!0}return!1},r.prototype._cutOff=function(){return!1},r.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._SunburstDataLabelView(this,n,e):null},r.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._isVisible()&&this.__drawablePipeline.contains(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},r.prototype._isVisible=function(){var n=this._getDefinition()._pluginCollection;if(t._BuildInPointVisibilityPolicyBuilderCollection._buildInPointVisibilityPolicyBuilders().pointVisibilityPolicy(this._getPlotView(),[],n)._shouldVisible(this)){for(var i=this._parentPointView;null!=i;){if(!i._isVisible())return!1;i=i._parentPointView}return e.prototype._isVisible.call(this)}return!1},r}(t._HierarchicalPointView);t._SunburstPointView=e;var n=function(){function t(){}return t.clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},t.isRectOverlap=function(t,e){return null!=t&&null!=e&&!(t.left>e.right||t.top>e.bottom||e.left>t.right||e.top>t.bottom)},t}(),o=function(n){function o(t){return n.call(this,t)||this}return i(o,n),o.prototype._createPoints=function(i){if(i instanceof e){var o=i._getStartAngle(),r=i._getSweep();0==r&&(r=1);var l=r;r>4?l=r/3:r>2&&(l=r/2);for(var a=i._getCenter(),s=i._getRadius(),u=[],_=o;_<=o+r;_+=l)u.push(new t.core.Point(a.x+Math.cos(_)*s,a.y+Math.sin(_)*s));if(0===(s=i._getInnerRadius()))u.push(i._getCenter().clone());else for(_=o;_<=o+r;_+=l)u.push(new t.core.Point(a.x+Math.cos(_)*s,a.y+Math.sin(_)*s));return u}return n.prototype._createPoints.call(this,i)},o}(t._PointAdorner)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._sunburstPointView=function(){return this._ownerView},n.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l,a){if(e!=t.TextPosition.Auto)return e;var s=n.x+Math.cos(i)*(l+o),u=n.y+Math.sin(i)*(l+o);return s>n.x?s+=r.width:s<n.x&&(s-=r.width),u>n.y?u+=r.height:u<n.y&&(u-=r.height),s<a.left||s>a.right||u<a.top||u>a.bottom?t.TextPosition.Inside:t.TextPosition.Outside},n.prototype._layoutContent=function(e,n,i){var o=this._sunburstPointView(),r=o._getPlotView();o._rectangle();var l=r._getLayoutView()._dataLabelsRectangle(),a=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=this.__option.offset,u=null,_=null,p=this._position(),c=o._getCenter(),h=o._getStartAngle()+o._getSweep()/2;if(p==t.TextPosition.Center){var f=o._getInnerRadius()+(o._getRadius()-o._getInnerRadius())/2;_=(u=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).clone(),this._setTextAngle(h),this._setTextLocation(new t.core.Point(_.x,_.y)),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))}else f=o._getRadius(),p==t.TextPosition.Auto&&(p=this._calcTextAutoPositionBy(p,c,h,f,a,s,l)),u=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f),p==t.TextPosition.Inside?(f-=s,(_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).x>c.x?_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height)):_.x<c.x?_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height)):_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))):(f+=s,(_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).x>c.x?(_.x+a.width>l.right&&(_.x=l.right-a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height))):_.x<c.x?(_.x-a.width<l.left&&(_.x=l.left+a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height))):_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height)));this._linePosition()==t.LinePosition.Center?(f=o._getInnerRadius()+(o._getRadius()-o._getInnerRadius())/2,this._startPoint=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)):this._startPoint=u,this._endPoint=_},n.prototype._isVisible=function(){var t=this._sunburstPointView()._data()._value();return null==t&&(t=0),!(t<=0)&&e.prototype._isVisible.call(this)},n}(t._PointDataLabelView);t._SunburstDataLabelView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstPointVisibilityPolicy",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._shouldVisible=function(e){if(e instanceof t._SunburstPointView){var n=e._data();return!(null!=n&&n._depth()>1&&null==n.key)&&e._visible}return e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isSunburstPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstPointVisibilityPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTreeMapPlotView=function(e){return null!=e&&e instanceof t._TreeMapPlotView}}(t||(t={})),function(t){t._isTreeMapPointView=function(t){var e=t;return null!=e&&void 0!==e._rectInfo&&void 0!==e._hiddenHeader&&void 0!==e._internalShape&&"function"==typeof e._calcShape&&"function"==typeof e._isLeaf&&"function"==typeof e._haveHeader&&"function"==typeof e._calcHeaderRectBy&&"function"==typeof e._labelView}}(t||(t={})),t||(t={}),function(t){var e=function(){},n=function(n){function o(e,i){var o=n.call(this,e)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o.__label=null,o.__label=i,o}return i(o,n),o.prototype._rectangle=function(){return this.__rectangle},o.prototype._updateRectangle=function(t){this.__rectangle=t},Object.defineProperty(o.prototype,"parent",{get:function(){return this._treeMapPointView()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!0,configurable:!0}),o.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:n.prototype.queryInterface.call(this,t)},Object.defineProperty(o.prototype,"text",{get:function(){return this.__label},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),o.prototype._treeMapPointView=function(){return this._ownerView},o.prototype._measureSize=function(t,e){var n=this.__label;t.beginTransform(),this._applyTextStyle(t);var i=t.measureSingleLineString(n);return i.width>e&&(n=this._getTextByMaxLength(t,n,e-15),i=t.measureSingleLineString(n)),t.restoreTransform(),i},o.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},o.prototype._layoutContent=function(t,e,n){},o.prototype._applyTextStyle=function(e){if(null!=this._treeMapPointView()){var n=this._treeMapPointView()._getPlotView();t._StyleUtility._applyTextStyleOption(e,n._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._treeMapPointView().text.textStyle)}},o.prototype._getLabel=function(){return this.__label},o.prototype._setLabel=function(t){this.__label=t},o.prototype.renderByPointRect=function(e,n){if(this._isVisible()){e.beginTransform(),this._applyTextStyle(e);var i=this._calcLabelDrawInfoByRect(e,n,!0);if(null!=i){this._updateRectangle(i.rect);var o=i.rect.top<n.top?t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height):null;e.drawGroup(t._CssClassName._label,o,null,(function(e){e.drawMultiLineString(i.label,i.rect,t.TextOverflow.Clip,t.HAlign.Left)}))}e.restoreTransform()}},o.prototype._calcLabelDrawInfoByRect=function(n,i,o){var r=new e;if(o)a=this._getLabel(),(l=n.measureSingleLineString(a)).width>i.width&&(a=this._getTextByMaxLength(n,a,i.width-15),l=n.measureSingleLineString(a)),r.rect=new t.core.Rect(i.left+t._Constants.LabelPadding,i.bottom-l.height-t._Constants.LabelPadding,i.width-t._Constants.LabelPadding,l.height),r.label=a;else{var l,a=this._getLabel();(l=n.measureSingleLineString(a)).width>i.width&&(a=this._getTextByMaxLength(n,a,i.width-15),l=n.measureSingleLineString(a)),r.rect=new t.core.Rect(i.left,i.top+(i.height-l.height)/2,i.width,l.height),r.label=a}return r},o.prototype.renderByHeaderRect=function(e,n){if(this._isVisible()){e.beginTransform(),this._applyTextStyle(e);var i=this._calcLabelDrawInfoByRect(e,n,!1);null!=i&&(this._updateRectangle(i.rect),e.drawGroup(t._CssClassName._label,null,null,(function(e){e.drawMultiLineString(i.label,i.rect,t.TextOverflow.Clip,t.HAlign.Center)}))),e.restoreTransform()}},o.prototype._getTextByMaxLength=function(t,e,n){for(var i=t.measureSingleLineString(e);i.width>n&&e.length>0;)e=e.substr(0,e.length-1),i=t.measureSingleLineString(e);return e},o}(t._BaseView);t._TreeMapLabelView=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){return void 0===r&&(r=null),n.call(this,t,i,o,null==r?new e._TreeMapPlotViewBuilder:r)||this}return i(o,n),o.prototype._getType=function(){return"TreeMap"},o.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},o}(e._HierarchicalPlotDefinition),e._TreeMapPlotDefinition=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._query=function(e){var n=[],i=this._getRootPointView();if(null!=i){var o=this._definition._pluginCollection,r=new t.models._VectorConditionalRule(e,o);this._traverse(i,(function(e){if(e instanceof t._TreeMapPointView){var i=e;r.evaluate(i)&&n.push(i)}}))}return n},n.prototype._createPointView=function(e,n){return new t._TreeMapPointView(this,e,n,null)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._rectangle();if(null!=o&&o.contains(t)){var r=void 0,l=this._getRootPointView();if(null!=l&&null!=(r=l._hitTest(t,n,i)))return r}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._layoutContent=function(n,i,o){var r=this._getRootPointView();null!=r&&(n.beginTransform(),t._StyleUtility._applyDataPointStyleOption(n,this._definition._plotConfigOption.style),t._StyleUtility._applyTextStyleOption(n,this._definition._plotConfigOption.textStyle),this._children.splice(0,this._children.length),r.layout(n,i,o),n.restoreTransform(),e.prototype._layoutContent.call(this,n,i,o))},n.prototype._draw=function(e,n){var i=this._getRootPointView();if(null!=i){e.beginTransform(),t._StyleUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),t._StyleUtility._applyTextStyleOption(e,this._definition._plotConfigOption.textStyle);var o=[],r=[],l=[];this._traverse(i,(function(t){if(t._isSelected())r.push(t);else if(t._hover)o.push(t);else if(t._floated)return void l.push(t)})),n._ignored=!0,i._render(e,n),n._ignored=!1;for(var a=0,s=l;a<s.length;a++)s[a]._render(e,n);for(var u=0,_=r;u<_.length;u++)_[u]._render(e,n);for(var p=0,c=o;p<c.length;p++)c[p]._render(e,n);e.restoreTransform()}},n}(t._HierarchicalPlotView);t._TreeMapPlotView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._TreeMapPlotDefinition&&t._isHierarchicalPlotDataModel(o)?new t._TreeMapPlotView(n,i,o):null},n}(),e._TreeMapPlotViewBuilder=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,i,o,r)||this;return l.__title=null,l.__isLeaf=!1,l._headerHeight=0,l._hiddenHeader=!1,l._labelStyle=new t.options._StyleOption(null),l.__drawablePipeline=new t.DisplayablePipeLine(l),l}return i(n,e),n.prototype._shape=function(){return null!=this._internalShape?this._internalShape.clone():this._internalShape},Object.defineProperty(n.prototype,"dataLabel",{get:function(){return this._labelView()},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},n.prototype._clone=function(){var t=new n(this._hierarchicalPlotView(),null,this._hierarchicalData(),null);return t._internalShape=this._internalShape.clone(),t._visible=this._visible,t},n.prototype._isLeaf=function(){return this.__isLeaf},n.prototype._labelView=function(){if(null==this.__labelView){var e=this._getLabel();null!=e&&""!==e&&(this.__labelView=new t._TreeMapLabelView(this,e))}return this.__labelView},n.prototype._rectangle=function(){return new t.core.Rect(this._internalShape.center.x-.5*this._internalShape.size.width,this._internalShape.center.y-.5*this._internalShape.size.height,this._internalShape.size.width,this._internalShape.size.height)},n.prototype._slice=function(e,n,i,o){for(var r=[],l=0,a=0,s=i;s<o.length;++s){var u=o[s]._data(),_=0,p=0;if(e.height<e.width){if(_=(l+=Math.abs(u._value()))*n/e.height,p=Math.abs(o[i]._data()._value())*n/_,0!=a){var c=p>_?p/_:_/p;if(!(Math.abs(c-1)<Math.abs(a-1)))break;a=c,r.length=0}else a=p>_?p/_:_/p;r.length=0;for(var h=i;h<=s;h++){var f=void 0,d=Math.abs(o[h]._data()._value())*n/_;f=h===i?new t.core.Rect(e.left,e.top,_,p):new t.core.Rect(r[h-i-1].left,r[h-i-1].bottom,_,d),r.push(f)}}else{if(p=(l+=Math.abs(u._value()))*n/e.width,_=Math.abs(o[i]._data()._value())*n/p,0!=a){if(c=p>_?p/_:_/p,!(Math.abs(c-1)<Math.abs(a-1)))break;a=c,r.length=0}else a=p>_?p/_:_/p;for(r.length=0,h=i;h<=s;h++){f=void 0;var y=Math.abs(o[h]._data()._value())*n/p;f=h===i?new t.core.Rect(e.left,e.top,_,p):new t.core.Rect(r[h-i-1].right,r[h-i-1].top,y,p),r.push(f)}}}return r},n.prototype._haveChild=function(){return this._children.length>0},n.prototype._haveHeader=function(){return null!=this._getLabel()&&""!==this._getLabel()&&this._haveChild()},n.prototype._calcHeaderHeight=function(t){return 1.5*t.height},n.prototype._calcHeaderRectBy=function(t){var e=t.clone();return e.height=this._headerHeight*e.height/this._rectInfo.height,e},n.prototype.layout=function(e,n,i){this._rectInfo=n.clone(),this._internalShape=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(n),this.__isLeaf=!this._haveChild();var o=this._getDefinition()._pluginCollection,r=t._BuildInPointVisibilityPolicyBuilderCollection._buildInPointVisibilityPolicyBuilders().pointVisibilityPolicy(this._getPlotView(),[],o);if(r._shouldVisible(this)){if(this._hierarchicalPlotView()._children.push(this),this._haveChild()){if(this._children.sort((function(t,e){var n=t._data()._value(),i=e._data()._value();return(null==i?0:i)-(null==n?0:n)})),this._haveHeader()){var l=this._getLabel();this._labelView()._setLabel(l);var a=this._labelView()._measureSize(e,n.width);this._headerHeight=this._calcHeaderHeight(a),this._hiddenHeader=this._headerHeight>n.height}if(this._hiddenHeader&&(this.__isLeaf=!0),!this.__isLeaf){for(var s=[],u=0,_=0,p=this._children;_<p.length;_++){var c=p[_];if(r._shouldVisible(c)){s.push(c);var h=c._data()._value();null==h&&(h=0),u+=h}else c._visible=!1}u<=0?(this.__isLeaf=!0,this._haveHeader()&&(this._hiddenHeader=!0)):this._layouChildren(e,i,s,n,u)}}}else this._visible=!1},n.prototype._layouChildren=function(e,n,i,o,r){for(var l=new t.core.Rect(o.left,o.top+this._headerHeight,o.width,o.height-this._headerHeight),a=l.width*l.height/r,s=0;s<i.length&&!t._Util.isNil(l);){for(var u=this._slice(l,a,s,i),_=0,p=u;_<p.length;_++){var c=p[_];i[s].layout(e,c,n),s++}var h=t._DrawingUtility._unionOfRectangles.apply(t._DrawingUtility,u);l=this._clipRect(h,l)}},n.prototype._clipRect=function(e,n){return Math.abs(e.width-n.width)<=1e-4?new t.core.Rect(e.left,e.bottom,e.width,n.bottom-e.bottom):new t.core.Rect(e.right,e.top,n.right-e.right,e.height)},n.prototype._getLabel=function(){if(null==this.__title){var e=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e));var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._HierarchicalTextProxy(this,e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,s=i.evaluate(o,r,l,a);this.__title=this._toLines(s).join()}return this.__title},n.prototype._setLabel=function(t){this.__title=t},n.prototype._beginContext=function(t){this._hover&&this._haveHeader()&&(t._hovered=!0),t.hasSelectionInPlotArea&&(this._isSelected()||t.selected)&&(t.selected=!0)},n.prototype._endContext=function(t){this._haveHeader()&&this._hover&&(t._hovered=!1),this._selected&&(t.selected=!1)},n.prototype._draw=function(t,e){this._beginContext(e);var n=this._getPlotView();this._hover||null==n._getRootPointView()||null==this._parentPointView||this._calcShape(),this._drawInternal(t,e,this._rectangle()),this._endContext(e)},n.prototype._drawInternal=function(e,n,i,o){if(void 0===o&&(o=!0),this._isLeaf()){if(!this._isVisible())return;t._StyleUtility._applyAllStyle(e,this._getDrawingStyle(n,o)),e.drawRect(i.left,i.top,i.width,i.height),null!=this._labelView()&&this._labelView().renderByPointRect(e,i)}else{if(this._haveHeader()&&!this._hiddenHeader){t._StyleUtility._applyAllStyle(e,this._getDrawingStyle(n,o));var r=this._calcHeaderRectBy(i);e.beginTransform(),e.stroke=new t._CssColor("none"),e.drawRect(r.left,r.top,r.width,r.height),e.restoreTransform(),e.beginTransform(),e.fill=new t._CssColor("none"),e.drawRect(i.left,i.top,i.width,i.height),e.restoreTransform(),null!=this._labelView()&&this._labelView().renderByHeaderRect(e,r)}for(var l=0,a=this._children;l<a.length;l++)a[l]._render(e,n)}},n.prototype._contains=function(t){return null!=this._internalShape&&this._internalShape.contains(t)},n.prototype._cutOff=function(){return!1},n.prototype._drawView=function(t,e){null!=this._data()._root()&&this._isVisible()&&(e._ignored&&(this._selected||this._hover||this._floated)||(t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()))},n.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(!this.__drawablePipeline.contains(e))return null;for(var o,r=0,l=this._children;r<l.length;r++)if(null!=(o=l[r]._hitTest(e,n,i)))return o;var a=new t.HitTestResult(e,this,this,t.ElementType.DataPoint);return null==i||null!=i&&i.predicate(a)?a:null},n.prototype._calcShape=function(){var e=this._parentPointView,n=e._rectInfo,i=e._rectangle(),o=this._rectInfo.width*i.width/n.width,r=this._rectInfo.height*i.height/n.height,l=(this._rectInfo.top-n.top)*i.height/n.height+i.top,a=(this._rectInfo.left-n.left)*i.width/n.width+i.left+.5*o,s=l+.5*r;return this._internalShape=new t._RectangleShape(a,s,o,r,0),this._internalShape},n.prototype._getDrawingStyle=function(e,n){void 0===n&&(n=!0);var i=this._calculateStyle(e);return n&&t._StyleUtility._applyAllStyle(i,this._externalStyle),i},n}(t._HierarchicalPointView);t._TreeMapPointView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMap",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"TreeMap"===n.type?new t.models._TreeMapPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapPointVisibilityPolicyPlugin",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._areaVisible=function(e){for(var n=e._parentPointView,i=n._rectInfo,o=n._headerHeight,r=new t.core.Rect(i.left,i.top+o,i.width,i.height-o),l=0,a=0,s=n._children;a<s.length;a++){var u=s[a];if(u._visible){var _=u._data()._value();null==_&&(_=0),l+=_}}var p=r.height*r.width/l,c=e._value();return null==c&&(c=0),c*p>=3},e.prototype._shouldVisible=function(e){if(e instanceof t._TreeMapPointView){var n=e;if(!n._visible)return!1;var i=n._data();return!(null==i._value()||i._value()<0)&&(null==n._parentPointView||this._areaVisible(n))}return e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isTreeMapPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapPointVisibilityPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createXDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.X})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createXDimension.call(this,n,i)},n.prototype._createYDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.Y})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createYDimension.call(this,n,i)},n.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._y()._definition();if(null!=l&&null!=l.queryInterface("IHlocStockValueDimensionDefinition")){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._StockValuePointDataModel(this,e,n,i,o,r,a)}return null},n}(t._CartesianCategoryPlotDataModel);t._StockCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){t._isStockValuePointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._high&&"function"==typeof e._low&&"function"==typeof e._open&&"function"==typeof e._close}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t,n,i,o,r,l)||this;return s.__stringFormatting=a,s}return i(n,e),n.prototype._value=function(){return this.__value},n.prototype._high=function(){return this.__highDimensionValue._value()},n.prototype._low=function(){return this.__lowDimensionValue._value()},n.prototype._open=function(){return this.__openDimensionValue._value()},n.prototype._close=function(){return this.__closeDimensionValue._value()},n.prototype._generateValues=function(){if(e.prototype._generateValues.call(this),this._yValues().length<4)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,this._yValues().length);this.__highDimensionValue=this._yValues()[0],this.__lowDimensionValue=this._yValues()[1],this.__openDimensionValue=this._yValues()[2],this.__closeDimensionValue=this._yValues()[3];var n=this._high(),i=this._low();isNaN(n)||null==n||isNaN(i)||null==i?this.__value=null:this.__value=n-i},n.prototype._generateItem=function(){e.prototype._generateItem.call(this);var t=this._item();t.high=this._high(),t.low=this._low(),t.open=this._open(),t.close=this._close()},n.prototype.queryInterface=function(n){return"IHLOCValue"==n?new t.financial.models._HLOCValueInfo(this._high(),this._low(),this._open(),this._close(),this.__stringFormatting):e.prototype.queryInterface.call(this,n)},n}(t._ValuePointDataModel);t._StockValuePointDataModel=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createXDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.X})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createXDimension.call(this,n,i)},n.prototype._createYDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition().axisDefinitions.filter((function(e){return e._option.type==t.AxisType.Y})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createYDimension.call(this,n,i)},n.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._y()._definition();if(null!=l&&t.financial.models._isHlocStockValueDimensionDefinition(l)){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._StockValuePointDataModel(this,e,n,i,o,r,a)}return null},n}(t._CartesianXyPlotDataModel);t._StockCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(i,o,r,l,a,s){var u=e.call(this,i,n._buildLabel(o,r,l,a))||this;return u._highFieldDefinition=null!=o&&t._isNumberDataFieldDefinition(o)?o:null,u._lowFieldDefinition=null!=r&&t._isNumberDataFieldDefinition(r)?r:null,u._openFieldDefinition=null!=l&&t._isNumberDataFieldDefinition(l)?l:null,u._closeFieldDefinition=null!=a&&t._isNumberDataFieldDefinition(a)?a:null,u._excludeNullsFilter=s,u}return i(n,e),n._buildLabel=function(e,n,i,o){var r=null!=e&&t._isNumberDataFieldDefinition(e)?e:null,l=null!=n&&t._isNumberDataFieldDefinition(n)?n:null,a=null!=i&&t._isNumberDataFieldDefinition(i)?i:null,s=null!=o&&t._isNumberDataFieldDefinition(o)?o:null,u=[];return null!=r&&u.push(r._label),null!=l&&u.push(l._label),null!=a&&u.push(a._label),null!=s&&u.push(s._label),u.join("-")},Object.defineProperty(n.prototype,"_identifier",{get:function(){if(null==this.__identifer){var t=[];null!=this._highFieldDefinition&&t.push(this._highFieldDefinition._dataField._name),null!=this._lowFieldDefinition&&t.push(this._lowFieldDefinition._dataField._name),null!=this._openFieldDefinition&&t.push(this._openFieldDefinition._dataField._name),null!=this._closeFieldDefinition&&t.push(this._closeFieldDefinition._dataField._name),this.__identifer=t.join("-")}return this.__identifer},enumerable:!0,configurable:!0}),n.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},n.prototype.equalsWith=function(t){return t instanceof n&&this._highFieldDefinition==t._highFieldDefinition&&this._lowFieldDefinition==t._lowFieldDefinition&&this._openFieldDefinition==t._openFieldDefinition&&this._closeFieldDefinition==t._closeFieldDefinition&&e.prototype.equalsWith.call(this,t)},n.prototype.queryInterface=function(t){return"IHlocStockValueDimensionDefinition"==t||"IValueDimensionDefinition"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseDimensionDefinition);e._HlocStockValueDimensionDefinition=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){t._isHlocStockValueDimensionDefinition=function(t){var e=t;return null!=e&&void 0!==e._highFieldDefinition&&void 0!==e._lowFieldDefinition&&void 0!==e._openFieldDefinition&&void 0!==e._closeFieldDefinition}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){e._isTransactionStockValueDimensionDefinition=function(e){var n=e;return null!=n&&t._isValueDimensionDefinition(n)&&"function"==typeof n._fieldDefinition&&void 0!==n._transactionFieldDefinition}}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildCategoryEncodingDefinition=function(n,i){var o=e.prototype._buildCategoryEncodingDefinition.call(this,n,i);if(null!=o){var r=null,l=o._hierarchicalGroupingDefinitions;if(l.length>0&&(r=l[0]._dataFieldDefinition),null!=r){if(t._isDateDataField(r._dataField))return o;if(t._isStringDataField(r._dataField))return o}return null}return null},n._categoryEncodingDefinitionBuilder=new n,n}(t._CartesianCategoryEncodingDefinitionBuilder);t._StockCategoryEncodingDefinitionBuilder=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){var r=(new t._StockValueDimensionBuilder).build(e,n,i,o);return null!=r?r:null},e}();t._StockDimensionBuilder=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype.build=function(n,i,o,r){return null==n?null:e._isHlocStockValueDimensionDefinition(n)||e._isTransactionStockValueDimensionDefinition(n)?new t.models._LinearDimension(n,t.ValueScaleType.Linear):null},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}();e._StockValueDimensionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this,t._StockCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder,null)||this;return n._adopter=new t.models.CartesianLegendAdopter,n}return i(n,e),n.prototype._createValueEncodingDefinition=function(e,n,i){var o=null;if(null!=i._categoryEncodingDefinition){if(null!=(o=t.financial.models._HlocStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o}else{if(null!=(o=t.financial.models._XyHlocStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o;if(null!=(o=t.financial.models._TransactionStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o}return null},n.prototype._createDetailEncodingDefinitions=function(t,e,n){return[]},n.prototype._createTooltipContentEncodingDefinition=function(t,e,n){return null},n}(t._CartesianEncodingsDefinitionBuilder);t._StockEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(n){function o(t,e,i,o,r,l){var a=n.call(this,t,l,null)||this;return a.__highField=e,a.__lowField=i,a.__openField=o,a.__closeField=r,a}return i(o,n),o.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var n=this._excludeNulls?t._BuildInFieldFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new e._HlocStockValueDimensionDefinition(this,this.__highField,this.__lowField,this.__openField,this.__closeField,n)}return this.__valueDimensionDefinition},o}(t._ValueEncodingDefinition);e._HlocStockValueEncodingDefinition=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=null,s=null,u=0,_=t._EscapedCharacterStringUtility._split(o.field,",");u<_.length;u++){var p=_[u];null==r&&null!=(r=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null==l&&null!=(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null==a&&null!=(a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null!=s||(s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))}if(null!=r&&null!=l)return new e._HlocStockValueEncodingDefinition(n,r,l,a,s,o.excludeNulls)}else if(null!=i&&"IStockFieldValueEncodingOption"==i.type){var c=i;return r=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.high,n._dataSchema,null),l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.low,n._dataSchema,null),a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.open,n._dataSchema,null),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.close,n._dataSchema,null),new e._HlocStockValueEncodingDefinition(n,r,l,a,s,c.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._HlocStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createDataFieldDefinition=function(e,n,i){if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}return t._isStringDataField(e)?new t._DataFieldDefinition(e,n,i):null},n._stockXDataFieldDefinitionBuilder=new n,n}(t._DataFieldDefinitionBuilder);t._StockXDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t,n,i){var o=e.call(this,t,i,null)||this;return o.__fieldDefinition=n,o}return i(n,e),n.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInFieldFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new o(this,this.__fieldDefinition,e)}return this.__valueDimensionDefinition},n}(t._ValueEncodingDefinition);e._TransactionStockValueEncodingDefinition=n;var o=function(t){function e(e,n,i){var o=t.call(this,e,n._label)||this;return o.__transactionFieldDefinition=n,o._excludeNullsFilter=i,o}return i(e,t),e.prototype._fieldDefinition=function(){return this.__transactionFieldDefinition},Object.defineProperty(e.prototype,"_transactionFieldDefinition",{get:function(){return this.__transactionFieldDefinition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_identifier",{get:function(){return this._fieldDefinition()._dataField._name},enumerable:!0,configurable:!0}),e.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},e.prototype.queryInterface=function(e){return"ITransactionStockValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BaseDimensionDefinition)}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=0,s=t._EscapedCharacterStringUtility._split(o.field,",");a<s.length;a++){var u=s[a];null==r&&null!=(r=t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(u,n._dataSchema,null))||null!=l||(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(u,n._dataSchema,null))}if(null!=l&&t._isNumberDataFieldDefinition(l)&&null!=r)return new e._TransactionStockValueEncodingDefinition(n,l,o.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._TransactionStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t,n,i,o,r,l,a){var s=e.call(this,t,a,null)||this;return s.__dimensionDefinition=n,s.__highField=i,s.__lowField=o,s.__openField=r,s.__closeField=l,s}return i(n,e),n.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInFieldFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new o(this,this.__dimensionDefinition,this.__highField,this.__lowField,this.__openField,this.__closeField,e)}return this.__valueDimensionDefinition},n}(t._ValueEncodingDefinition);e._XyHlocStockValueEncodingDefinition=n;var o=function(e){function n(n,i,o,r,l,a,s){var u=e.call(this,n,null!=o&&t._isNumberDataFieldDefinition(o)?o:null,null!=r&&t._isNumberDataFieldDefinition(r)?r:null,null!=l&&t._isNumberDataFieldDefinition(l)?l:null,null!=a&&t._isNumberDataFieldDefinition(a)?a:null,s)||this;return u.__dimensionDefinition=i,u}return i(n,e),n.prototype._dimensionDefinition=function(){return this.__dimensionDefinition},n.prototype.equalsWith=function(t){return t instanceof n&&this._dimensionDefinition()==t._dimensionDefinition()&&e.prototype.equalsWith.call(this,t)},n.prototype.queryInterface=function(t){return"IXyStyleValueDimensionDefinition"==t?this:e.prototype.queryInterface.call(this,t)},n}(e._HlocStockValueDimensionDefinition)}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=null,s=null,u=null,_=0,p=t._EscapedCharacterStringUtility._split(o.field,",");_<p.length;_++){var c=p[_];null==r&&(r=t._StockXDataFieldDefinitionBuilder._stockXDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null)),null==l&&null!=(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null==a&&null!=(a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null==s&&null!=(s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null!=u||(u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))}if(null!=r&&null!=l&&null!=a){var h=new t._XFieldEncodingDefinition(n,r,null,o.excludeNulls)._getFieldDimensionDefinition();return new e._XyHlocStockValueEncodingDefinition(n,h,l,a,s,u,!!o.excludeNulls)}}else if(null!=i&&"IStockFieldValueEncodingOption"==i.type){var f=i;if(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.high,n._dataSchema,null),a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.low,n._dataSchema,null),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.open,n._dataSchema,null),u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.close,n._dataSchema,null),null!=(r=t._StockXDataFieldDefinitionBuilder._stockXDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.x,n._dataSchema,null)))return h=new t._XFieldEncodingDefinition(n,r,null,!!f.excludeNulls)._getFieldDimensionDefinition(),new e._XyHlocStockValueEncodingDefinition(n,h,l,a,s,u,f.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._XyHlocStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function e(){}return e._stockLegendSymbolStyleBuilder=function(){return null==e.__stockLegendSymbolStyleBuilder&&(e.__stockLegendSymbolStyleBuilder=new e),e.__stockLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.stroke=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),t._StyleUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._StyleUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&t._StyleUtility._applyDataPointStyleOption(o,s));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}(),e._StockLegendSymbolStyleBuilder=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(n){function o(){return n.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),e._StockLegendSymbolStyleBuilder._stockLegendSymbolStyleBuilder())||this}return i(o,n),o.prototype._applyOther=function(){t._CartesianLegendSymbolLib._applySeriesStyle(this)},o.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);e.strokeWidth=1,t._StyleUtility._applyStyle(e,o),e.drawLine(n.left,n.top+n.height/2,n.right,n.top+n.height/2),e.restoreTransform()},o}(t._LegendSymbolView),e._StockLegendSymbolView=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype._sliceValues=function(n,i,o,r){var l=[];if(r&&e.models._isHlocStockValueDimensionDefinition(o)){var a=n;l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.high)})),"high",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.low)})),"low",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.open)})),"open",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.close)})),"close",i))}else l.push(new t._CartesianOverlayDataSlice(n,o._identifier,i,!1));return l},o}(t._CartesianOverlayDataSlicer),e._StockOverlayDataSlicer=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function e(){}return e.extract=function(e,n,i){var o=n._pointViews();if(null==o||0==o.length)return null;for(var r=[],l=[],a=[],s=0,u=o;s<u.length;s++){var _=u[s];if(!_._data()._filtered&&!_._data()._legendFiltered){var p=this._getValue(e,_,i);null!=p&&(r.push(t.models._CartesianSupport.getX(_)),l.push(p),a.push(_))}}var c=new t.XyPoints;return c.xs=r,c.ys=l,c.points=a,c},e._getValue=function(e,n,i){var o=null;return"high"===i?o=n.high:"low"===i?o=n.low:"open"===i?o=n.open:"close"===i&&(o=n.close),null==o&&e._showNulls()==t.ShowNulls.Zeros&&(o=0),o},e}(),e._StockPointDataExtractor=n}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i){this.__context=e,this.__valueFieldName=null==n?"":n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){return null==e?null:"Field"==e&&null!=this.__valueFieldName?new t.models._DataValueInfo(this.__valueFieldName,this.__stringFormatting):null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._StockTrendlineLabelTextProxy=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,n,o;e=t.financial||(t.financial={}),n=e.models||(e.models={}),o=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._buildOverlayView=function(n){return t._isStockPlotView(n)?new e._StockTrendlineOverlayView(n,this):null},o}(t._TrendlineDefinition),n._StockTrendlineOverlayDefinition=o}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function n(){}return n.prototype._bulid=function(e,n,i,o){var r=e._plotView();if(t._isTextCartesianPlotView(r));else if(t._isStockPlotView(r))return this._createItemViewBy(e,n,i,e._trendlineOverlayDefinition()._option,o);return null},n.prototype._createItemViewBy=function(t,n,i,o,r){var l=o.type;return"LinearTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createLinearTrendline(o),o.forecast):"PolynomialTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createPolynomialTrendline(o),o.forecast):"ExponentialTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createExponentialTrendline(o),o.forecast):"LogarithmicTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createLogarithmicTrendline(o),o.forecast):"PowerTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createPowerTrendline(o),o.forecast):"FourierTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createFourierTrendline(o),o.forecast):"MovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createSimpleMovingAverageTrendline(o)):"CumulativeMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createCumulativeMovingAverageTrendline(o)):"ExponentialMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createExponentialMovingAverageTrendline(o)):"WeightedMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createWeightedMovingAverageTrendline(o)):"MovingAnnualTotalTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createMovingAnnualTotalTrendline(o)):null},n.prototype._createMovingAnnualTotalTrendline=function(e){return new t.MovingAnnualTotalTrendline(e.period)},n.prototype._createCumulativeMovingAverageTrendline=function(e){return new t.CumulativeMovingAverageTrendline(e.period)},n.prototype._createSimpleMovingAverageTrendline=function(e){return new t.SimpleMovingAverageTrendline(e.period)},n.prototype._createWeightedMovingAverageTrendline=function(e){return new t.WeightedMovingAverageTrendline(e.period)},n.prototype._createExponentialMovingAverageTrendline=function(e){return new t.ExponentialMovingAverageTrendline},n.prototype._createPowerTrendline=function(e){return new t._PowerTrendline},n.prototype._createExponentialTrendline=function(e){return new t._ExponentialTrendline(e.intercept)},n.prototype._createLinearTrendline=function(e){return new t._LinearTrendline(e.intercept)},n.prototype._createFourierTrendline=function(e){return new t._FourierTrendline(e.order)},n.prototype._createPolynomialTrendline=function(e){return new t._PolynomialTrendline(e.order,e.intercept)},n.prototype._createLogarithmicTrendline=function(e){return new t._LogarithmicTrendline},n}(),e._StockTrendlineOverlayItemViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._shouldApplyColorFromPalette=function(){var t=this._trendlineOverlayDefinition()._option;return(null==t.style||null==t.style.stroke)&&null!=t.label},o.prototype._getDataSlices=function(n){return(new e._StockOverlayDataSlicer)._slice(n._groupView(),t.DetailLevel.Group,!0)},o.prototype._createOverlayItemView=function(t,n,i){var o=n._groupView()._getCartesianGroupDataModel()._valueDefinition();if(this._valueFieldFilter(t,o)&&t._pointViews().length>0){var r=(new e._StockTrendlineOverlayItemViewBuilder)._bulid(this,n,t,i);null!=r&&(r._label(this._generateLabel(t)),this._itemViews().push(r))}},o.prototype._valueFieldFilter=function(t,e){var n=t._valueField(),i=this._trendlineOverlayDefinition()._option;if(null!=n){if(null==i.field){if(this._isCompoundValueField(n))return!0;var o=e;return this._getValueFields(o).indexOf(n)>=0}return i.field.indexOf(n)>=0}return!1},o.prototype._isCompoundValueField=function(t){return!!/-/.test(t)},o.prototype._getValueFields=function(t){var e=[];return null!=t._highFieldDefinition&&e.push("high"),null!=t._lowFieldDefinition&&e.push("low"),null!=t._openFieldDefinition&&e.push("open"),null!=t._closeFieldDefinition&&e.push("close"),e},o.prototype._generateLabel=function(n){var i=this._trendlineOverlayDefinition()._option.label;if(null==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new e.models._StockTrendlineLabelTextProxy(this,n._valueField(),this._getCartesianPlotView()._stringFormatting()),a=this._ownerView._getDefinition()._plotConfigOption.plugins,s=o.evaluate(r,l,a,this._ownerView._getDefinition()._pluginCollection),u=this._toLines(s);return null!=u?u.join(""):i},o}(t._CartesianTrendlineOverlayView),e._StockTrendlineOverlayView=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._cartesianTrendlineOverlayView()._getCartesianPlotView(),t,t._valueField())},n}(t._CartesianDiscretePointTrendlineOverlayItemView),e._StockDiscretePointTrendlineOverlayItemView=n}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._cartesianTrendlineOverlayView()._getCartesianPlotView(),t,t._valueField())},n}(t._CartesianFunctionalTrendlineOverlayItemView),e._StockFunctionalTrendlineOverlayItemView=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCategoryData=function(e,n){return new t._StockCartesianCategoryPlotDataModel(n,e)},n.prototype._createSingleValueData=function(t,e){return null},n.prototype._createXyData=function(e,n){return new t._StockCartesianXyPlotDataModel(n,e)},n}(t._CartesianPlotDataBuilder);t._StockPlotDataBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(e,n,i){this._pointView=e,this.__contentDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._pluginCollection)}return n.prototype._point=function(){if(null==this._pointView._data())throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return this._pointView._data()},n.prototype._contentDefinitions=function(){return this.__contentDefinitions},n.prototype._getDefaultFormat=function(t){return null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){return null==t?null:"date"==t?this._getDateProperty(e):"high"==t?this._getHighProperty(e):"low"==t?this._getLowProperty(e):"open"==t?this._getOpenProperty(e):"close"==t?this._getCloseProperty(e):"xField"==t?this._getXFieldProperty(e):"categoryField"==t?this._getCategoryFieldProperty(e,n):"valueField"==t?this._getValueFieldProperty(e):this._getTokenProperty(t,e)},n.prototype._getDateProperty=function(e){if("name"==e)return new t.models._DataValueInfo("date",this.__stringFormatting);if("value"==e){var n=this._point().xDimensionValue.rawValue;return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getHighProperty=function(e){if("name"==e)return new t.models._DataValueInfo("high",this.__stringFormatting);if("value"==e){var n=this._point()._high();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getLowProperty=function(e){if("name"==e)return new t.models._DataValueInfo("low",this.__stringFormatting);if("value"==e){var n=this._point()._low();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getValueFieldProperty=function(n){var i=this._point()._getSeries()._group()._y();if("name"==n){if(null!=i._definition()){var o=i._definition().label();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}return null}var r=i._definition(),l=null;if(e._isHlocStockValueDimensionDefinition(r)){var a=r;l=this._toHLOCStockItem(a,this._point()._dataSlices)}else if(e._isTransactionStockValueDimensionDefinition(r)){var s=r;l=this._toTransactionStockItem(s,this._point()._dataSlices)}if(null!=l){if("value"==n)return new e._HLOCValueInfo(l.high,l.low,l.open,l.close,this.__stringFormatting);var u=t._DataValueTypeExtension._toDataValueType(new t._AnyValueBinding(n)._getValue(l));if(null!=u)return new t.models._DataValueInfo(u,this.__stringFormatting)}return null},n.prototype._toTransactionStockItem=function(n,i){var o=NaN,r=NaN,l=NaN,a=NaN;if(null!=n._fieldDefinition())for(var s=0,u=i.list();s<u.length;s++){var _=u[s],p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._fieldDefinition()._dataField,t.Aggregate.List);isNaN(l)&&null!=p&&(l=p),null!=p&&(a=p),null!=p&&(isNaN(o)||o<p)&&(o=p),null!=p&&(isNaN(r)||r>p)&&(r=p)}return new e._HLOCValueInfo(o,r,l,a,null)},n.prototype._toHLOCStockItem=function(n,i){for(var o=NaN,r=NaN,l=NaN,a=NaN,s=0,u=i.list();s<u.length;s++){var _=u[s];if(null!=n._openFieldDefinition){var p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._openFieldDefinition.numberDataField(),t.Aggregate.List);isNaN(l)&&null!=p&&(l=p)}null!=n._closeFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._closeFieldDefinition.numberDataField(),t.Aggregate.List))&&(a=p),null!=n._highFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._highFieldDefinition.numberDataField(),t.Aggregate.List))&&(isNaN(o)||o<p)&&(o=p),null!=n._lowFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._lowFieldDefinition.numberDataField(),t.Aggregate.List))&&(isNaN(r)||r>p)&&(r=p)}return new e._HLOCValueInfo(o,r,l,a,null)},n.prototype._getXFieldProperty=function(e){var n=this._point()._getSeries()._group()._x();if("name"==e){if(null!=n._definition()){var i=n._definition().label();return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}return null}if("value"==e){var o=this._point().xDimensionValue.rawValue;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}return null},n.prototype._getCategoryFieldProperty=function(e,n){var i=this._point()._getSeries()._group()._x();if(null!=i&&null!=i._definition()&&t._isCartesianCategoryDimensionDefinition(i._definition())){null==n&&(n=0);var o=null;if(t._isCartesianCategoryDimensionDefinition(i._definition())&&null!=(o=i._definition()._getCartesianCategoryEncodingDefinition()._hierarchicalGroupingDefinitions)&&n>=0&&n<o.length){if("name"==e){var r=o[n].label();return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}if("value"==e){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o[n]._dataFieldDefinition._dataField,t.Aggregate.List);return null!=l?new t.models._DataValueInfo(l,this.__stringFormatting):null}}}return null},n.prototype._getOpenProperty=function(e){if("name"==e)return new t.models._DataValueInfo("open",this.__stringFormatting);if("value"==e){var n=this._point()._open();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getCloseProperty=function(e){if("name"==e)return new t.models._DataValueInfo("close",this.__stringFormatting);if("value"==e){var n=this._point()._close();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==n){var u=t._CastExtension.toAggregateString(l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}}}}return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this._pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this._pointView?new t._AnyValueBinding(e.substring(8))._getValue(this._pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}();e._StockTextProxy=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._getDefaultFormat=function(e){return null!=this._pointView.text.format&&null!=this._pointView.text.format.value?this._pointView.text.format.value:t.prototype._getDefaultFormat.call(this,e)},e.prototype._getDefaultFormatType=function(){return null!=this._pointView.text.format&&null!=this._pointView.text.format.type?this._pointView.text.format.type:null},e}(t._StockTextProxy);t._StockDataLabelTextProxy=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t,n,i,o,r){var l=e.call(this)||this;return l.__high=t,l.__low=n,l.__open=i,l.__close=o,l.__stringFormatting=r,l}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return new n(this.__high,this.__low,this.__open,this.__close,null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"high",{get:function(){return this.__high},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"low",{get:function(){return this.__low},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"open",{get:function(){return this.__open},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"close",{get:function(){return this.__close},enumerable:!0,configurable:!0}),n.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1)),this.__stringFormatting.format(e,this.__high,n)+", "+this.__stringFormatting.format(e,this.__low,n)+", "+this.__stringFormatting.format(e,this.__open,n)+", "+this.__stringFormatting.format(e,this.__close,n);var i="";return i+=null!=this.__high?this.__high.toString():"",i+=", ",i+=null!=this.__low?this.__low.toString():"",i+=", ",i+=null!=this.__open?this.__open.toString():"",(i+=", ")+(null!=this.__close?this.__close.toString():"")},n}(t.models._ValueInfo);e._HLOCValueInfo=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){t._isHLOCValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockPlotModel=function(t){return!1}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockPointModel=function(t){var e=t;return null!=e&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockValuePointModel=function(t){var e=t;return null!=e&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"high",{get:function(){return this.__high},set:function(t){this.__high!=t&&(this.__high=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"low",{get:function(){return this.__low},set:function(t){null!=this.__low&&this.__low==t||(this.__low=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"open",{get:function(){return this.__open},set:function(t){this.__open!=t&&(this.__open=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"close",{get:function(){return this.__close},set:function(t){this.__close!=t&&(this.__close=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.__x},set:function(t){this.__x!=t&&(this.__x=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__high=null,this.__low=null,this.__open=null,this.__close=null,this.__x=null},o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"high",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"low",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"open",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"close",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"x",null),n}(t.options._Option);e._StockFieldOption=n}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return"IStockFieldValueEncodingOption"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__field=null,this.__aggregate=null,this.__excludeNulls=!1},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StockFieldOption")],n.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],n.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],n.prototype,"excludeNulls",null),n}(t.options._ValueEncodingOption);e._StockFieldValueEncodingOption=n}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n._fromEncodingOption=function(t){for(var e=t.values,i=e.length-1;i>=0;i--){var o=e[i];if(null==o.type&&null!=o.option()){var r=n._toValueEncodingOption(o.option());null!=r?e[i]=r:e.splice(i,1)}}return e},n._toValueEncodingOption=function(n){if(t._JsonElementUtility._isNull(n))return null;var i,o=n;return t._JsonElementUtility._isObject(o)&&t._JsonElementUtility._hasProperty(o,"field")&&t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(o,"field"))?null!=(i=new t.options._FieldsValueEncodingOption(o)).field?i:null:t._JsonElementUtility._isObject(o)&&t._JsonElementUtility._hasProperty(o,"field")&&t._JsonElementUtility._isObject(t._JsonElementUtility._getProperty(o,"field"))&&null!=(i=new e._StockFieldValueEncodingOption(o)).field?i:null},n}();e._StockValueEncodingOptionExtension=n}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t.financial._StockLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._StockLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isCumulativeMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"CumulativeMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._CumulativeMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CumulativeMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="HLOCValueBuilder",this.type=t._BuildInDimensionValueBuilderCollection._pluginType,this.priority=0}return e.prototype.queryInterface=function(t){return"IDimensionValueBuilder"==t||"IPlugin"==t?this:null},e.prototype._buildDimensionBuilder=function(e){return t.financial.models._isHlocStockValueDimensionDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t.financial.models._isHlocStockValueDimensionDefinition(i)){var o=i,r=[],l=o._highFieldDefinition,a=o._lowFieldDefinition,s=o._openFieldDefinition,u=o._closeFieldDefinition,_=[];if(null!=l&&_.push(l._dataField._name),null!=a&&_.push(a._dataField._name),null!=s&&_.push(s._dataField._name),null!=u&&_.push(u._dataField._name),(e=new t._DataSlicesKeysFilter(o._excludeNullsFilter,_)._filter(e))._length<=0)return r;var p=null!=l?t._DataSlicesAggregate._defaultAggregate._aggregate(e,l._dataField,t.Aggregate.List):null,c=new t._DimensionValue(p);r.push(c);var h=null!=a?t._DataSlicesAggregate._defaultAggregate._aggregate(e,a._dataField,t.Aggregate.List):null,f=new t._DimensionValue(h);r.push(f);var d=null!=s?t._DataSlicesAggregate._defaultAggregate._aggregate(e,s._dataField,t.Aggregate.List):null,y=new t._DimensionValue(d);r.push(y);var g=null!=u?t._DataSlicesAggregate._defaultAggregate._aggregate(e,u._dataField,t.Aggregate.List):null,m=new t._DimensionValue(g);return r.push(m),n._dimensionValues().push(c),n._dimensionValues().push(f),n._dimensionValues().push(y),n._dimensionValues().push(m),r}return null},e._defaultPlugin=new e,e}();t._HlocValueDefinitionDimensionValuePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TransactionStockValueBuilder",this.type=t._BuildInDimensionValueBuilderCollection._pluginType,this.priority=0}return e.prototype.queryInterface=function(t){return"IDimensionValueBuilder"==t||"IPlugin"==t?this:null},e.prototype._buildDimensionBuilder=function(e){return t.financial.models._isTransactionStockValueDimensionDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t.financial.models._isTransactionStockValueDimensionDefinition(i)){var o=i,r=[],l=NaN,a=NaN,s=NaN,u=NaN;if(null!=o._fieldDefinition())for(var _=0,p=e.list();_<p.length;_++){var c=p[_],h=t._DataSlicesAggregate._defaultAggregate._aggregate(c,o._fieldDefinition()._dataField,t.Aggregate.List);isNaN(s)&&null!=h&&(s=h),null!=h&&(u=h),null!=h&&(isNaN(l)||l<h)&&(l=h),null!=h&&(isNaN(a)||a>h)&&(a=h)}var f=new t._DimensionValue(l);r.push(f);var d=new t._DimensionValue(a);r.push(d);var y=new t._DimensionValue(s);r.push(y);var g=new t._DimensionValue(u);return r.push(g),n._dimensionValues().push(f),n._dimensionValues().push(d),n._dimensionValues().push(y),n._dimensionValues().push(g),r}return null},e._defaultPlugin=new e,e}();t._TransactionStockValueDefinitionDimensionValuePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isExponentialMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._ExponentialMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isExponentialTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._ExponentialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isFourierTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"FourierTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._FourierTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._FourierStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="StockColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t.financial.models._BaseStockPlotDefinition&&i instanceof t._CartesianEncodingsDefinitionContext){var l=n,a=new t._ValuesNameLegendEncodingDefinitionBuilder(i._detailEncodingDefinitions,i._categoryEncodingDefinition,i._valueEncodingDefinitions)._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Color,new t.models._CartesianEmptyColorLegendBuilder(e))}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="StockShapeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){return t.options._isShapeEncodingOption(n)&&e instanceof t.financial.models._BaseStockPlotDefinition&&i instanceof t._CartesianEncodingsDefinitionContext?new t._EmptyLegendDefinition(e,t.LegendType.Shape):null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockShapeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="StockSizeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){return t.options._isSizeEncodingOption(n)&&e instanceof t.financial.models._BaseStockPlotDefinition&&i instanceof t._CartesianEncodingsDefinitionContext?new t._EmptyLegendDefinition(e,t.LegendType.Size):null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockSizeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isLinearTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LinearTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._LinearTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LinearStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isLogarithmicTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LogarithmicTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._LogarithmicTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LogarithmicStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isMovingAnnualTotalTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAnnualTotalTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._MovingAnnualTotalTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MovingAnnualTotalStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(n,i,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,r,new t._StockPlotDataBuilder,null==l?new t._StockEncodingsDefinitionBuilder:l,null==a?new t._StockLegendSymbolViewBuilder(!0,!1):a)||this}return i(n,e),n.prototype._getCoordinateSystemType=function(){return"CartesianXy"},n}(t._BaseCartesianPlotDefinition);e._BaseStockPlotDefinition=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._prepareDataLabelOverlay=function(){var n=this._dataPointDataLabelOption();n.overlappingLabels===t.OverlappingLabels.Auto&&(n.overlappingLabels=t.OverlappingLabels.Show),e.prototype._prepareDataLabelOverlay.call(this)},Object.defineProperty(n.prototype,"radial",{get:function(){return!1},enumerable:!0,configurable:!0}),n.prototype._barWidth=function(){var t=this._definition._dvConfigOption.bar.width;return null==t||isNaN(t)?.7:(t>1&&(t=1),t<0&&(t=0),t)},n.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel))return.5;for(var n=0,i=this._definition._valueDefinitions();n<i.length;n++){var o=i[n];if(t._isXyStyleValueDimensionDefinition(o)){var r=o._dimensionDefinition();if(null!=r){var l=r._fieldDefinition();if(null!=l){var a=l._dataField;if(t._isDateDataField(a)){var s=this._minDistanceInDimensionValues();return null==s?.5:.5*s}}}return.5}}return e.prototype._xPadding.call(this)},n.prototype._addNullDataPointModels=function(){},n}(t._BaseCartesianPlotView),e._BaseStockPlotView=n}(t||(t={})),function(t){t._isStockPlotView=function(e){return null!=e&&e instanceof t.financial._BaseStockPlotView}}(t||(t={})),function(t){t._isStockPointView=function(t){return null!=t&&"function"==typeof t._isAlternate}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isStockPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,null,null,"green",1)},n.prototype._applyDataPointStyle=function(e,n){t._StyleUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,this._stockDataPointStyle(n)),n._isAlternate()&&null==n._getPlotView()._getDefinition()._plotConfigOption.altStyle&&t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},n.prototype._stockDataPointStyle=function(t){return t._isAlternate()&&null!=t._getPlotView()._getDefinition()._plotConfigOption.altStyle?t._getPlotView()._getDefinition()._plotConfigOption.altStyle:t._getPlotView()._getDefinition()._plotConfigOption.style},n}(t._CartesianPointStyleBuilder);t._StockPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){return e.call(this,n,i,null==o?new t._StockPointStyleBuilder:o)||this}return i(n,e),Object.defineProperty(n.prototype,"high",{get:function(){return this._data()._high()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"low",{get:function(){return this._data()._low()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"open",{get:function(){return this._data()._open()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"close",{get:function(){return this._data()._close()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isMax",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isMin",{get:function(){return!1},enumerable:!0,configurable:!0}),n.prototype._isAlternate=function(){var t=this._data(),e=t._open(),n=t._close();return null!=e&&null!=n&&e<n},n.prototype._getStockDataPointStyle=function(){return this._isAlternate()&&null!=this._getDefinition()._plotConfigOption.altStyle?this._getDefinition()._plotConfigOption.altStyle:this._getDefinition()._plotConfigOption.style},n.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getStockDataPointStyle());this._isAlternate()&&null==this._getDefinition()._plotConfigOption.altStyle&&(e.fill=null);var n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},n.prototype._createDataLabelContent=function(){var e=this._data()._getSeries().plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.financial.models._StockDataLabelTextProxy(this,e,this._getCartesianPlotView()._stringFormatting()),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,s=i.evaluate(o,r,l,a),u=this._toLines(s);return null!=u&&u.length>0?new t.models._DataLabelContent(u,this):null},n.prototype._createTooltipHtmlContent=function(e){var n=this._data()._getSeries().plot()._cartesianPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.financial.models._StockTextProxy(this,n,this._getCartesianPlotView()._stringFormatting()),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s);return this._toHtml(u)},n.prototype._defaultTooltipTemplate=function(e){var n=[],i=[];n.push("{date.name}: {date.value}");for(var o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},n.prototype._update=function(t){this._updateRectangle(t)},n.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},n.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._CartesianPointView);t._StockPointView=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null==r?new t._CandlestickPlotViewBuilder:r)||this}return i(n,e),n}(t._BaseStockPlotDefinition);t._CandlestickPlotDefinition=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Candlestick",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Candlestick"===n.type?(n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.financial.models._CandlestickPlotDefinition(e,e._findDataSchema(n.data),n)):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CandlestickPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._candlestickPointView=function(){return this._ownerView},n.prototype._defaultStrokeColor=function(){var t=this._candlestickPointView()._legendColor;return null==t&&(t=this._candlestickPointView()._getCartesianSeriesView().color),t},n.prototype._layoutByPositionAndPlacement=function(e,n,i,o,r,l,a){var s=this._candlestickPointView(),u=s._rectangle(),_=s._getTopLineStart(),p=s._getBottomLineStart(),c=s._getTopLineEnd(),h=s._getBottomLineEnd(),f=new t.core.Point((c.x+h.x)/2,(c.y+h.y)/2),d=f.clone(),y=f.clone(),g=f.clone();if(i==t.TextPosition.Center)g.x+l.width/2>a.right?g.x=a.right-l.width/2:g.x-l.width/2<a.left&&(g.x=a.left+l.width/2);else{var m=i==t.TextPosition.Inside;switch(r<0&&(r=-r),o){case t.Placement.Auto:case t.Placement.Top:case t.Placement.Bottom:var v=o==t.Placement.Auto||o==t.Placement.Top;v?(y.y=_.y,d.y=_.y):(y.y=p.y,d.y=p.y),v===m?(d.y+=r,d.y+l.height>a.bottom&&(d.y=a.bottom-l.height),g.y=d.y+l.height/2):(d.y-=r,d.y-l.height<a.top&&(d.y=a.top+l.height),g.y=d.y-l.height/2);break;case t.Placement.Left:case t.Placement.Right:var w=o===t.Placement.Left;w?(y.x=f.x-u.width/2,d.x=y.x):(y.x=f.x+u.width/2,d.x=y.x),m===w?(d.x+=r,d.x+l.width>a.right&&(d.x=a.right-l.width),g.x=d.x+l.width/2):(d.x-=r,d.x-l.width<a.left&&(d.x=a.left+l.width),g.x=d.x-l.width/2)}}this._startPoint=y,this._endPoint=d,this._textView()._layout(e,n,new t.core.Rect(g.x-l.width/2,g.y-l.height/2,l.width,l.height))},n.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e===t.TextPosition.Center)return t.TextPosition.Center;if(e!==t.TextPosition.Auto)return e===t.TextPosition.Inside?r<0?t.TextPosition.Outside:t.TextPosition.Inside:r<0?t.TextPosition.Inside:t.TextPosition.Outside;var a=r<0;r<0&&(r=-r);var s=this._candlestickPointView()._getTopLineStart(),u=i.center;switch(n){case t.Placement.Auto:case t.Placement.Top:return a?s.y+r+l.height>o.bottom?t.TextPosition.Outside:t.TextPosition.Inside:s.y-r-l.height<o.top?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Bottom:return a?s.y-r-l.height<o.top?t.TextPosition.Outside:t.TextPosition.Inside:s.y+r+l.height>o.bottom?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Left:return a?u.x+r+l.width>o.right?t.TextPosition.Outside:t.TextPosition.Inside:u.x-r-l.width<o.left?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Right:return a?u.x-r-l.width<o.left?t.TextPosition.Outside:t.TextPosition.Inside:u.x+r+l.width>o.right?t.TextPosition.Inside:t.TextPosition.Outside;default:return t.TextPosition.Auto}},n.prototype._isPointVisible=function(){var t=this._candlestickPointView(),e=t._getTopLineStart(),n=t._getBottomLineStart();return null!=e&&null!=n},n.prototype._layoutContent=function(e,n,i){if(this._isPointVisible()){var o=this._candlestickPointView()._getPlotView();n=this._candlestickPointView()._rectangle();var r=o._getLayoutView()._dataLabelsRectangle(),l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=this.__option.offset,s=this._position(),u=this.__option.placement,_=this._calcTextAutoPositionBy(s,u,n,o._rectangle(),a,l);this._layoutByPositionAndPlacement(e,i,_,u,a,l,r)}else this._visible=!1},n}(t._PointDataLabelView),e._CandlestickDataLabelView=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._CandlestickSeriesView(this,e)},n}(t._BaseCartesianGroupView);t._CandlestickGroupView=e}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._CandlestickGroupView(this,e)},n.prototype._createCartesianPointView=function(e,n){return new t._CandlestickPointView(e,n,null)},n.prototype._layoutSeriesViews=function(t,e,n){for(var i=0,o=this._groupViews;i<o.length;i++)for(var r=0,l=o[i]._getCartesianSeriesViews();r<l.length;r++)for(var a=0,s=l[r]._getPointViews();a<s.length;a++){var u=s[a];this._layoutCandlestickPointView(t,u)}},n.prototype._layoutCandlestickPointView=function(e,n){var i=n._data(),o=i._high(),r=i._low(),l=i._open(),a=i._close(),s=this._horizontalAxisView(),u=this._verticalAxisView(),_=null!=this._minDistanceInDimensionValues()?this._minDistanceInDimensionValues():1,p=this._getXValue(i),c=(null==p?0:p)-.5*_*this._barWidth(),h=c+_*this._barWidth(),f=s._scaleModel._value(c),d=s._scaleModel._value(h),y=((c=null==f?0:f)+(h=null==d?0:d))/2,g=null==o||isNaN(o)?NaN:u._scaleModel._value(o),m=null==r||isNaN(r)?NaN:u._scaleModel._value(r),v=null==l||isNaN(l)?NaN:u._scaleModel._value(l),w=null==a||isNaN(a)?NaN:u._scaleModel._value(a),b=c<h?c:h,S=[v,w],P=(S=S.filter((function(t){return!isNaN(t)}))).length>0?Math.min.apply(Math,S):NaN,C=S.length>0?Math.max.apply(Math,S):NaN;isNaN(P)&&isNaN(C)&&(isNaN(g)||isNaN(m)?isNaN(g)?isNaN(m)||(P=C=m):P=C=g:P=C=(g+m)/2),isNaN(y)||isNaN(P)||(isNaN(g)?n._setTopLineStart(new t.core.Point(y,P)):n._setTopLineStart(new t.core.Point(y,g)),n._setTopLineEnd(new t.core.Point(y,P))),isNaN(y)||isNaN(C)||(isNaN(m)?n._setBottomLineStart(new t.core.Point(y,C)):n._setBottomLineStart(new t.core.Point(y,m)),n._setBottomLineEnd(new t.core.Point(y,C))),isNaN(y)||isNaN(v)||isNaN(w)||isNaN(h)||isNaN(c)?isNaN(y)||isNaN(v)||isNaN(h)||isNaN(c)?isNaN(y)||isNaN(w)||isNaN(h)||isNaN(c)||n._updateRectangle(new t.core.Rect(b,w,Math.abs(h-c),0)):n._updateRectangle(new t.core.Rect(b,v,Math.abs(h-c),0)):n._updateRectangle(new t.core.Rect(b,P,Math.abs(h-c),Math.abs(w-v))),n._refresh(),this._visualViews.push(n)},n}(e._BaseStockPlotView),e._CandlestickPlotView=n}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._CandlestickPlotDefinition?new t._CandlestickPlotView(n,i,o):null},n}(),e._CandlestickPlotViewBuilder=n}(t.financial||(t.financial={}))}(t||(t={})),function(t){t._isCandlestickPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(n,i,o){var r=e.call(this,n,i,o)||this;return r.__hittestRects=[],r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return i(o,e),o.prototype._selectionAdorner=function(){return new n(this)},o.prototype._getTopLineStart=function(){return this.__topLineStart},o.prototype._setTopLineStart=function(t){this.__topLineStart=null==t?null:t.clone()},o.prototype._getTopLineEnd=function(){return this.__topLineEndLocation},o.prototype._setTopLineEnd=function(t){this.__topLineEndLocation=null==t?null:t.clone()},o.prototype._getBottomLineStart=function(){return this.__bottomLineStartLocation},o.prototype._setBottomLineStart=function(t){this.__bottomLineStartLocation=null==t?null:t.clone()},o.prototype._getBottomLineEnd=function(){return this.__bottomLineEndLocation},o.prototype._setBottomLineEnd=function(t){this.__bottomLineEndLocation=null==t?null:t.clone()},o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=r._high(),a=r._low(),s=r._open(),u=r._close(),_=this._getPlotView(),p=_._xAxisView(),c=_._yAxisView(),h=null!=_._minDistanceInDimensionValues()?_._minDistanceInDimensionValues():1,f=_._getXValue(r),d=(null==f?0:f)-.5*h*_._barWidth(),y=d+h*_._barWidth(),g=p._scaleModel._value(d),m=p._scaleModel._value(y),v=((d=null==g?0:g)+(y=null==m?0:m))/2,w=null==l||isNaN(l)?NaN:c._scaleModel._value(l),b=null==a||isNaN(a)?NaN:c._scaleModel._value(a),S=null==s||isNaN(s)?NaN:c._scaleModel._value(s),P=null==u||isNaN(u)?NaN:c._scaleModel._value(u),C=d<y?d:y,x=[S,P],V=(x=x.filter((function(t){return!isNaN(t)}))).length>0?Math.min.apply(Math,x):NaN,D=x.length>0?Math.max.apply(Math,x):NaN;isNaN(V)&&isNaN(D)&&(isNaN(w)||isNaN(b)?isNaN(w)?isNaN(b)||(V=D=b):V=D=w:V=D=(w+b)/2),isNaN(v)||isNaN(V)||(isNaN(w)?this._setTopLineStart(new t.core.Point(v,V)):this._setTopLineStart(new t.core.Point(v,w)),this._setTopLineEnd(new t.core.Point(v,V))),isNaN(v)||isNaN(D)||(isNaN(b)?this._setBottomLineStart(new t.core.Point(v,D)):this._setBottomLineStart(new t.core.Point(v,b)),this._setBottomLineEnd(new t.core.Point(v,D))),isNaN(v)||isNaN(S)||isNaN(P)||isNaN(y)||isNaN(d)?isNaN(v)||isNaN(S)||isNaN(y)||isNaN(d)?isNaN(v)||isNaN(P)||isNaN(y)||isNaN(d)||this._updateRectangle(new t.core.Rect(C,P,Math.abs(y-d),0)):this._updateRectangle(new t.core.Rect(C,S,Math.abs(y-d),0)):this._updateRectangle(new t.core.Rect(C,V,Math.abs(y-d),Math.abs(P-S))),this._refresh(),_._visualViews.push(this)},o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},o.prototype._draw=function(t,e){null!=this.__topLineStart&&null!=this.__topLineEndLocation&&(this.__topLineStart.equalsWith(this.__topLineEndLocation)?this.__topLineStart.y!=this._rectangle().top&&t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEndLocation.x,this.__topLineEndLocation.y+1):t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEndLocation.x,this.__topLineEndLocation.y)),null!=this.__bottomLineStartLocation&&null!=this.__bottomLineEndLocation&&(this.__bottomLineStartLocation.equalsWith(this.__bottomLineEndLocation)?this.__bottomLineStartLocation.y!=this._rectangle().bottom&&t.drawLine(this.__bottomLineStartLocation.x,this.__bottomLineStartLocation.y,this.__bottomLineEndLocation.x,this.__bottomLineEndLocation.y+1):t.drawLine(this.__bottomLineStartLocation.x,this.__bottomLineStartLocation.y,this.__bottomLineEndLocation.x,this.__bottomLineEndLocation.y)),0!=this._rectangle().height?t.drawRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height):t.drawLine(this._rectangle().left,this._rectangle().top,this._rectangle().left+this._rectangle().width,this._rectangle().top)},o.prototype._contains=function(t){for(var e=0,n=this.__hittestRects;e<n.length;e++)if(n[e].contains(t))return!0;return!1},o.prototype._cutOff=function(){return!1},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;for(var r=0;r<this.__hittestRects.length;++r){var l=this.__hittestRects[r];if(null!=l&&l.contains(n)){var a=this._data(),s=a._open(),u=a._close(),_=(null==s?0:s)>(null==u?0:u),p=null;switch(r){case 0:p="high";break;case 1:p=_?"open":"close";break;case 2:p=_?"close":"open";break;case 3:p="low"}var c=new t.HitTestResult(n,this,this,t.ElementType.DataPoint,p);return null==o||null!=o&&o.predicate(c)?c:null}}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._tracker=function(){var t=[];this._refresh();for(var e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._getPlotView()._xAxisView();if(t._isLineAxisView(n)){if(e.type==t.TrackerType.CrossX)return this._crossXTrackLine(e);if(e.type==t.TrackerType.CrossY)return this._crossYTrackLine(e)}return null},o.prototype._crossXTrackLine=function(t){var e,n,i,r;return this._getPlotView()._swapAxes()?(e=this._crossTrackLine(this.__hittestRects[0],t,this.__hittestRects[0].right+o.__padding),n=this._crossTrackLine(this.__hittestRects[3],t,this.__hittestRects[3].left-o.__padding),i=this._crossTrackLine(this.__hittestRects[1],t,this.__hittestRects[1].right),r=this._crossTrackLine(this.__hittestRects[2],t,this.__hittestRects[2].left)):(e=this._crossTrackLine(this.__hittestRects[0],t,this.__hittestRects[0].top+o.__padding),n=this._crossTrackLine(this.__hittestRects[3],t,this.__hittestRects[3].bottom-o.__padding),i=this._crossTrackLine(this.__hittestRects[1],t,this.__hittestRects[1].top),r=this._crossTrackLine(this.__hittestRects[2],t,this.__hittestRects[2].bottom)),[e,n,i,r].filter((function(t){return null!=t}))},o.prototype._crossYTrackLine=function(e){var n=this.__totalHittestRect,i=this._getPlotView(),o=i._xAxisView(),r=[],l=new t.core.Point(0,0),a=new t.core.Point(0,0);if(i._swapAxes()){var s=n.top+n.height/2;l=new t.core.Point(o._plotRect().left,s),a=new t.core.Point(o._plotRect().right,s)}else{var u=n.left+n.width/2;l=new t.core.Point(u,o._plotRect().top),a=new t.core.Point(u,o._plotRect().bottom)}return r.push(new t.models._CartesianTrackLine(e,l,a,n)),r},o.prototype._crossTrackLine=function(e,n,i){var o=this._getPlotView(),r=o._xAxisView(),l=new t.core.Point(0,0),a=new t.core.Point(0,0);return o._swapAxes()?(l=new t.core.Point(i,r._plotRect().top),a=new t.core.Point(i,r._plotRect().bottom)):(l=new t.core.Point(r._plotRect().left,i),a=new t.core.Point(r._plotRect().right,i)),new t.models._CartesianTrackLine(n,l,a,e)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.financial._CandlestickDataLabelView(this,n,e):null},o.prototype._refresh=function(){var e=this._rectangle(),n=!1,i=e.top,r=e.bottom,l=i,a=e.top+e.height/2,s=e.bottom,u=[],_=[];if(null!=this.__topLineStart&&null!=this.__topLineEndLocation&&(u.push(this.__topLineStart.y,this.__topLineEndLocation.y),_.push(this.__topLineStart.y,this.__topLineEndLocation.y)),null!=this.__bottomLineStartLocation&&null!=this.__bottomLineEndLocation&&(u.push(this.__bottomLineEndLocation.y,this.__bottomLineStartLocation.y),_.push(this.__bottomLineEndLocation.y,this.__bottomLineStartLocation.y)),0==e.height&&0==e.width&&0==e.top&&0==e.left){if(n=!0,null==this.__topLineStart||null==this.__topLineEndLocation||null==this.__bottomLineStartLocation||null==this.__bottomLineEndLocation)return void(this.__hittestRects=[]);var p=new t.core.Rect(this.__topLineStart.x-o.__padding,0,2*o.__padding,0);this.__hittestRects=[p.clone(),p.clone(),p.clone(),p.clone()],l=a=s=Math.min.apply(Math,u)+Math.abs(Math.max.apply(Math,_)-Math.min.apply(Math,u))/2}else this.__hittestRects=[e.clone(),e.clone(),e.clone(),e.clone()];n||(u.push(e.top),_.push(e.bottom)),i=Math.min.apply(Math,u)-o.__padding,r=Math.max.apply(Math,_)+o.__padding,this.__hittestRects[0].top=i,this.__hittestRects[0].height=l-i,this.__hittestRects[1].top=l,this.__hittestRects[1].height=a-l,this.__hittestRects[2].top=a,this.__hittestRects[2].height=s-a,this.__hittestRects[3].top=s,this.__hittestRects[3].height=r-s;var c=r-i;this.__totalHittestRect=new t.core.Rect(e.left,i,e.width,c)},o.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:"IDisplayablePipeLine"==t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},o.__padding=10,o}(t._StockPointView);t._CandlestickPointView=e;var n=function(n){function o(t){return n.call(this,t)||this}return i(o,n),o.prototype._createPoints=function(i){if(i instanceof e){var o=i.additionalKind,r=i._rectangle(),l=[];if(null!=r){var a=null==i.open?0:i.open,s=null==i.close?0:i.close;null!=o&&"open"!=o||(a>s?(l.push(new t.core.Point(r.left,r.top)),l.push(new t.core.Point(r.right,r.top))):(l.push(new t.core.Point(r.right,r.bottom)),l.push(new t.core.Point(r.left,r.bottom)))),null!=o&&"close"!=o||(a>s?(l.push(new t.core.Point(r.right,r.bottom)),l.push(new t.core.Point(r.left,r.bottom))):(l.push(new t.core.Point(r.left,r.top)),l.push(new t.core.Point(r.right,r.top))))}var u=i._getTopLineStart(),_=i._getTopLineEnd();null!=u&&null!=_&&(null!=o&&"high"!=o||l.push(u.clone()));var p=i._getBottomLineStart(),c=i._getBottomLineEnd();return null!=p&&null!=c&&(null!=o&&"low"!=o||l.push(p.clone())),l}return n.prototype._createPoints.call(this,i)},o}(t._PointAdorner)}(t||(t={})),function(t){t._isCandlestickPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._CartesianSeriesView);t._CandlestickSeriesView=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null==r?new t._HlocPlotViewBuilder:r)||this}return i(n,e),n}(t._BaseStockPlotDefinition);t._HlocPlotDefinition=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="HighLowOpenClose",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"HighLowOpenClose"===n.type?(n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.financial.models._HlocPlotDefinition(e,e._findDataSchema(n.data),n)):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HlocPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._hlocPointView=function(){return this._ownerView},n.prototype._defaultStrokeColor=function(){var t=this._hlocPointView()._legendColor;return null==t&&(t=this._hlocPointView()._getCartesianSeriesView().color),t},n.prototype._layoutByPositionAndPlacement=function(e,n,i,o,r,l,a){var s=this._hlocPointView()._rectangle(),u=this._hlocPointView()._highLowStart(),_=this._hlocPointView()._highLowEnd(),p=s.center,c=s.center,h=s.center;if(i==t.TextPosition.Center)h.x+l.width/2>a.right?h.x=a.right-l.width/2:h.x-l.width/2<a.left&&(h.x=a.left+l.width/2);else{var f=i==t.TextPosition.Inside;switch(r<0&&(r=-r),o){case t.Placement.Auto:case t.Placement.Top:case t.Placement.Bottom:var d=o==t.Placement.Auto||o==t.Placement.Top;d?(c.y=u.y,p.y=u.y):(c.y=_.y,p.y=_.y),d===f?(p.y+=r,p.y+l.height>a.bottom&&(p.y=a.bottom-l.height),h.y=p.y+l.height/2):(p.y-=r,p.y-l.height<a.top&&(p.y=a.top+l.height),h.y=p.y-l.height/2);break;case t.Placement.Left:case t.Placement.Right:var y=o===t.Placement.Left;y?(c.x=s.left,p.x=c.x,null!=this._hlocPointView()._openStart()&&(c.y=this._hlocPointView()._openStart().y,p.y=c.y,h.y=c.y)):(c.x=s.right,p.x=c.x,null!=this._hlocPointView()._closeStart()&&(c.y=this._hlocPointView()._closeStart().y,p.y=c.y,h.y=c.y)),f===y?(p.x+=r,p.x+l.width>a.right&&(p.x=a.right-l.width),h.x=p.x+l.width/2):(p.x-=r,p.x-l.width<a.left&&(p.x=a.left+l.width),h.x=p.x-l.width/2)}}this._startPoint=c,this._endPoint=p,this._textView()._layout(e,n,new t.core.Rect(h.x-l.width/2,h.y-l.height/2,l.width,l.height))},n.prototype._calcPositionBy=function(e,n,i,o,r,l){if(e===t.TextPosition.Center)return t.TextPosition.Center;if(e!==t.TextPosition.Auto)return e===t.TextPosition.Inside?r<0?t.TextPosition.Outside:t.TextPosition.Inside:r<0?t.TextPosition.Inside:t.TextPosition.Outside;var a=r<0;r<0&&(r=-r);var s=this._hlocPointView()._highLowStart(),u=i.center;switch(n){case t.Placement.Auto:case t.Placement.Top:return a?s.y+r+l.height>o.bottom?t.TextPosition.Outside:t.TextPosition.Inside:s.y-r-l.height<o.top?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Bottom:return a?s.y-r-l.height<o.top?t.TextPosition.Outside:t.TextPosition.Inside:s.y+r+l.height>o.bottom?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Left:return a?u.x+r+l.width>o.right?t.TextPosition.Outside:t.TextPosition.Inside:u.x-r-l.width<o.left?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Right:return a?u.x-r-l.width<o.left?t.TextPosition.Outside:t.TextPosition.Inside:u.x+r+l.width>o.right?t.TextPosition.Inside:t.TextPosition.Outside;default:return t.TextPosition.Auto}},n.prototype._isPointVisible=function(){var t=this._hlocPointView(),e=t._highLowStart(),n=t._highLowEnd();return null!=e&&null!=n},n.prototype._layoutContent=function(e,n,i){if(this._isPointVisible()){var o=this._hlocPointView()._getPlotView();n=this._hlocPointView()._rectangle();var r=o._getLayoutView()._dataLabelsRectangle(),l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=this.__option.offset,s=this._position(),u=this.__option.placement,_=this._calcPositionBy(s,u,n,o._rectangle(),a,l);this._layoutByPositionAndPlacement(e,i,_,u,a,l,r)}else this._visible=!1},n}(t._PointDataLabelView),e._HlocDataLabelView=n}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._HlocSeriesView(this,e)},n}(t._BaseCartesianGroupView);t._HlocGroupView=e}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._HlocGroupView(this,e)},n.prototype._createCartesianPointView=function(e,n){return new t._HlocPointView(e,n,null)},n}(e._BaseStockPlotView),e._HlocPlotView=n}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._HlocPlotDefinition?new t._HlocPlotView(n,i,o):null},n}(),e._HlocPlotViewBuilder=n}(t.financial||(t.financial={}))}(t||(t={})),function(t){t._isHlocPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._createPoints=function(e){if(e instanceof n){var i=[];return null!=e._highLowStart()&&i.push(e._highLowStart().clone()),null!=e._openStart()&&i.push(e._openStart().clone()),null!=e._closeEnd()&&i.push(e._closeEnd().clone()),null!=e._highLowEnd()&&i.push(e._highLowEnd().clone()),i}return t.prototype._createPoints.call(this,e)},e}(t._PointAdorner),n=function(n){function o(e,i,o){var r=n.call(this,e,i,o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return i(o,n),o.prototype._highLowStart=function(){return this.__highLowStart},o.prototype._setHighLowStart=function(t){this.__highLowStart=null==t?null:t.clone()},o.prototype._highLowEnd=function(){return this.__highLowEnd},o.prototype._setHighLowEnd=function(t){this.__highLowEnd=null==t?null:t.clone()},o.prototype._openStart=function(){return this.__openStart},o.prototype._setOpenStart=function(t){this.__openStart=null==t?null:t.clone()},o.prototype._openEnd=function(){return this.__openEnd},o.prototype._setOpenEnd=function(t){this.__openEnd=null==t?null:t.clone()},o.prototype._closeStart=function(){return this.__closeStart},o.prototype._setCloseStart=function(t){this.__closeStart=null==t?null:t.clone()},o.prototype._closeEnd=function(){return this.__closeEnd},o.prototype._setCloseEnd=function(t){this.__closeEnd=null==t?null:t.clone()},o.prototype._hlocPlotView=function(){return this._getPlotView()},o.prototype._selectionAdorner=function(){return new e(this)},o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},o.prototype._draw=function(t,e){var n=this._highLowStart();null!=n&&null!=this.__highLowEnd&&t.drawLine(n.x,n.y,this.__highLowEnd.x,this.__highLowEnd.y),null!=this.__openStart&&null!=this.__openEnd&&(this.__openStart.equalsWith(this.__openEnd)||t.drawLine(this.__openStart.x,this.__openStart.y,this.__openEnd.x,this.__openEnd.y)),null!=this.__closeStart&&null!=this.__closeEnd&&(this.__closeStart.equalsWith(this.__closeEnd)||t.drawLine(this.__closeStart.x,this.__closeStart.y,this.__closeEnd.x,this.__closeEnd.y))},o.prototype._contains=function(t){for(var e=0,n=this.__hittestRects;e<n.length;e++)if(n[e].contains(t))return!0;return!1},o.prototype._cutOff=function(){return!1},o.prototype._hitTest=function(e,i,o){if(this._zLevel!=i)return null;for(var r=0;r<this.__hittestRects.length;++r){var l=this.__hittestRects[r];if(null!=l&&l.contains(e)){var a=null;switch(r){case 0:a="high";break;case 1:a="open";break;case 2:a="close";break;case 3:a="low";break;case 4:a=null}var s=new t.HitTestResult(e,this,this,t.ElementType.DataPoint,a);return null==o||null!=o&&o.predicate(s)?s:null}}return n.prototype._hitTest.call(this,e,i,o)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.financial._HlocDataLabelView(this,n,e):null},o.prototype._layoutContent=function(e,i,o){n.prototype._layoutContent.call(this,e,i,o);var r=this._data(),l=r._high(),a=r._low(),s=r._open(),u=r._close(),_=this._hlocPlotView(),p=null!=_._minDistanceInDimensionValues()?_._minDistanceInDimensionValues():1,c=_._xAxisView(),h=_._yAxisView(),f=_._getXValue(r),d=(null==f?0:f)-.5*p*_._barWidth(),y=d+p*_._barWidth(),g=c._scaleModel._value(d),m=c._scaleModel._value(y),v=((d=null==g?0:g)+(y=null==m?0:m))/2,w=null==l||isNaN(l)?NaN:h._scaleModel._value(l),b=null==a||isNaN(a)?NaN:h._scaleModel._value(a),S=null==s||isNaN(s)?NaN:h._scaleModel._value(s),P=null==u||isNaN(u)?NaN:h._scaleModel._value(u),C=[w,b,S,P],x=(C=C.filter((function(t){return!isNaN(t)}))).length>0?Math.min.apply(Math,C):NaN,V=C.length>0?Math.max.apply(Math,C):NaN;isNaN(v)||isNaN(x)||(this.__highLowStart=new t.core.Point(v,x)),isNaN(v)||isNaN(V)||(this.__highLowEnd=new t.core.Point(v,V)),isNaN(v)||isNaN(S)||isNaN(S)||(this.__openStart=new t.core.Point(v-Math.abs(y-d)/2,S),this.__openEnd=new t.core.Point(v,S)),isNaN(v)||isNaN(P)||isNaN(y)||isNaN(d)||(this.__closeStart=new t.core.Point(v,P),this.__closeEnd=new t.core.Point(v+Math.abs(y-d)/2,P)),this._refresh(),_._visualViews.push(this)},o.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._getPlotView()._xAxisView();if(t._isLineAxisView(n)){if(e.type==t.TrackerType.CrossX)return this._crossXTrackLine(e);if(e.type==t.TrackerType.CrossY)return[this._crossYTrackLine(e)]}return null},o.prototype._crossXTrackLine=function(e){var n=this._getPlotView(),i=n._xAxisView(),r=[],l=null,a=null,s=null,u=null,_=this._highLowStart();if(null!=this.__openStart){var p=o.__padding,c=this.__openStart.y;null!=this.__closeEnd&&(this.__closeEnd.y>this.__openStart.y||(c=this.__closeEnd.y+Math.abs(this.__closeEnd.y-this.__openStart.y)/2),p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2),s=new t.core.Rect(this.__openStart.x,c,this._rectangle().width,p);var h=new t.core.Point(0,0),f=new t.core.Point(0,0);if(n._swapAxes()){var d=s.right;h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)}else{var y=this.__openStart.y;h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)}r.push(new t.models._CartesianTrackLine(e,h,f,s))}if(null!=this.__closeEnd){p=o.__padding;var g=this.__closeEnd.y;null!=this.__openStart&&(this.__closeEnd.y>this.__openStart.y?(g=s.bottom,p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2):p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2),u=new t.core.Rect(this.__closeEnd.x-this._rectangle().width,g,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=u.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=this.__closeEnd.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,u))}if(null!=_){var m=this._rectangle().top+this._rectangle().height/2;null==s&&null==u||(m=null!=s&&null!=u?Math.min(s.top,u.top):null==s?u.top:s.top),p=Math.abs(_.y-o.__padding-m),l=new t.core.Rect(this._rectangle().left,_.y-o.__padding,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=l.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=_.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,l))}if(null!=this.__highLowEnd){var v=this._rectangle().top+this._rectangle().height/2,w=null==s?0:s.bottom,b=null==u?0:u.bottom,S=Math.max(w,b);0==S&&(S=v),p=this._rectangle().height-Math.abs(this._rectangle().top-S),a=new t.core.Rect(this._rectangle().left,S,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=a.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=this.__highLowEnd.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,a))}return r},o.prototype._crossYTrackLine=function(e){var n=this._getPlotView(),i=n._xAxisView(),r=this._rectangle().clone();r.top=r.top-o.__padding,r.height=r.height+o.__padding;var l=new t.core.Point(0,0),a=new t.core.Point(0,0);if(n._swapAxes()){var s=r.top+r.height/2;l=new t.core.Point(i._plotRect().left,s),a=new t.core.Point(i._plotRect().right,s)}else{var u=this._hlocShapeType(),_=r.left+r.width/2;"open"==u?_=r.left:"close"==u&&(_=r.left+r.width),l=new t.core.Point(_,i._plotRect().top),a=new t.core.Point(_,i._plotRect().bottom)}return new t.models._CartesianTrackLine(e,l,a,r)},o.prototype._hlocShapeType=function(){var t=this._data(),e=t._open(),n=t._close(),i=this._getPlotView()._verticalAxisView(),o=null==e||isNaN(e)?NaN:i._scaleModel._value(e),r=null==n||isNaN(n)?NaN:i._scaleModel._value(n);return isNaN(o)&&!isNaN(r)?"open":isNaN(r)&&!isNaN(o)?"close":"both"},o.prototype._refresh=function(){var e=[null!=this.__highLowStart?this.__highLowStart.x:null,null!=this.__highLowEnd?this.__highLowEnd.x:null,null!=this.__openEnd?this.__openEnd.x:null,null!=this.__openStart?this.__openStart.x:null,null!=this.__closeEnd?this.__closeEnd.x:null,null!=this.__closeStart?this.__closeStart.x:null],n=[null!=this.__highLowStart?this.__highLowStart.y:null,null!=this.__highLowEnd?this.__highLowEnd.y:null,null!=this.__openEnd?this.__openEnd.y:null,null!=this.__openStart?this.__openStart.y:null,null!=this.__closeEnd?this.__closeEnd.y:null,null!=this.__closeStart?this.__closeStart.y:null];if(e=e.filter((function(t){return null!=t})),n=n.filter((function(t){return null!=t})),e.length>0&&n.length>0){var i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),l=Math.max.apply(Math,e),a=Math.max.apply(Math,n);this._updateRectangle(new t.core.Rect(i,r,l-i,a-r))}this.__hittestRects=[];var s=this._highLowStart();if(null!=s){var u=new t.core.Rect(s.x-o.__padding,s.y-o.__padding,2*o.__padding,2*o.__padding);t._ArrayUtility._assignValueToArray(this.__hittestRects,0,u,null)}null!=this.__openStart&&(u=new t.core.Rect(this.__openStart.x,this.__openStart.y-o.__padding,this._rectangle().width/2,2*o.__padding),t._ArrayUtility._assignValueToArray(this.__hittestRects,1,u,null)),null!=this.__closeEnd&&(u=new t.core.Rect(this.__closeEnd.x-this._rectangle().width/2,this.__closeEnd.y-o.__padding,this._rectangle().width/2,2*o.__padding),t._ArrayUtility._assignValueToArray(this.__hittestRects,2,u,null)),null!=this.__highLowEnd&&(u=new t.core.Rect(this.__highLowEnd.x-o.__padding,this.__highLowEnd.y-o.__padding,2*o.__padding,2*o.__padding),t._ArrayUtility._assignValueToArray(this.__hittestRects,3,u,null)),null!=this.__highLowStart&&null!=this.__highLowEnd&&(u=new t.core.Rect(this.__highLowStart.x-o.__padding,this.__highLowStart.y-o.__padding,2*o.__padding,this.__highLowEnd.y-this.__highLowStart.y+2*o.__padding),t._ArrayUtility._assignValueToArray(this.__hittestRects,4,u,null))},o.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:"IDisplayablePipeLine"==t?this.__drawablePipeline:n.prototype.queryInterface.call(this,t)},o.__padding=10,o}(t._StockPointView);t._HlocPointView=n}(t||(t={})),function(t){t._isHlocPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._CartesianSeriesView);t._HlocSeriesView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isPolynomialTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PolynomialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._PolynomialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolynomialStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isPowerTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PowerTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._PowerTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PowerStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isSimpleMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._SimpleMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SimpleMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._shouldApplyColorFromPalette=function(){var t=this._referenceLineOverlayDefinition()._option;return(null==t.style||null==t.style.stroke)&&null!=t.legendText},o.prototype._getDataSlices=function(n){return(new e._StockOverlayDataSlicer)._slice(n._groupView(),t.DetailLevel.Group,null==this._referenceLineOverlayDefinition()._option.value)},o.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._getCartesianPlotView(),t,t._valueField())},o.prototype._sliceDetailKeyFilter=function(t){return!0},o.prototype._valueFieldFilter=function(t,e){var n=t._valueField(),i=this._referenceLineOverlayDefinition()._option;if(null!=n){if(null==i.field){if(this._isCompoundValueField(n))return!0;var o=e;return this._getValueFields(o).indexOf(n)>=0}return i.field.indexOf(n)>=0}return!1},o.prototype._isCompoundValueField=function(t){return!!/-/.test(t)},o.prototype._getValueFields=function(t){var e=[];return null!=t._highFieldDefinition&&e.push("high"),null!=t._lowFieldDefinition&&e.push("low"),null!=t._openFieldDefinition&&e.push("open"),null!=t._closeFieldDefinition&&e.push("close"),e},o}(t._CartesianReferenceLineOverlayView),e._StockReferenceLineOverlayView=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildOverlayView=function(e){return t._isStockPlotView(e)?new t.financial._StockReferenceLineOverlayView(e,this):null},n}(t._ReferenceLineDefinition);t._StockReferenceLineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._StockReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._StockReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isWeightedMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"WeightedMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._WeightedMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WeightedMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._getCoordinateSystemType=function(){return"Geography"},n.prototype._emptyEncodingsDefinition=function(){return t._MapEncodingsDefinition._emptyEncodingsDefinition},n.prototype._getDataModelType=function(){return"Geography"},n}(t._BasePlotDefinition);e._BaseMapPlotDefinition=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._visualViews=[],o._pointViews=[],o}return i(n,e),n.prototype._geographyCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},n.prototype._actionConditionalFormat=function(){(new t.map.models._MapConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},n.prototype._createPointViews=function(){for(var t=0,e=this._dataModel._points();t<e.length;t++){var n=e[t],i=this._createPointView(n);null!=i&&this._pointViews.push(i)}},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=0,r=this._visualViews;o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},n.prototype._getPointViews=function(){return this._pointViews},n}(t._BasePlotView);t._BaseMapPlotView=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o.__location=null,o.__textOption=o._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(o._getPlotView()._dataPointDataLabelOption()),o}return i(n,e),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.__textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!0,configurable:!0}),n.prototype._getLocation=function(){return null==this.__location?null:this.__location.clone()},n.prototype._setLocation=function(t){this.__location=t},n.prototype._createIdentityContent=function(){var e=this._ownerView._getPointViews().indexOf(this).toString();return t._Util.HashCode("point"+e)},n.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},n}(t._BasePointView),e._BaseMapPointView=n}(t||(t={})),function(t){t._isBaseMapPlotView=function(t){return null!=t&&void 0!==t._visualViews}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(i,o,r){return e.call(this,i,n._type,o,r,t._GeographyCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="Geography",n}(t._BaseCoordinateSystemDefinition);t._GeographyCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.___points=[],i}return i(e,t),Object.defineProperty(e.prototype,"points",{get:function(){return this.___points},enumerable:!0,configurable:!0}),e.prototype._points=function(){return this.___points},e.prototype._mapPlotDefinition=function(){return this._definition()},e}(t._PlotDataModel);t._BaseMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.__plot=e,i}return i(e,t),e.prototype._plot=function(){return this.__plot},e}(t._PointDataModel);t._BaseMapPointDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this,o=i._detailedMapPlotDefinition()._detailDefinition();return null!=o&&(i.___points=i._createPoints(i._dataSlices,o)),i}return i(n,e),n.prototype._detailedMapPlotDefinition=function(){return this._definition()},Object.defineProperty(n.prototype,"points",{get:function(){return this._points()},enumerable:!0,configurable:!0}),n.prototype._createPoints=function(e,n){var i=this,o=[];if(null!=n){var r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(n._dataFieldDefinition,n._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(e,r){var l=i._createPoint(e._dataSlices,new t.models._DetailDimension(n,e.key),e.key);o.push(l)}))}return o},n.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._DetailedMapPointDataModel(this,n,o,e)},n}(t._BaseMapPlotDataModel);t._DetailedMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,o)||this;return r.__detailDimension=n,r.__location=i,r}return i(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.__detailDimension._key()},enumerable:!0,configurable:!0}),e.prototype._location=function(){return this.__location},e.prototype._plot=function(){return t.prototype._plot.call(this)},e.prototype._detailDimension=function(){return this.__detailDimension},e}(t._BaseMapPointDataModel);t._DetailedMapPointDataModel=e}(t||(t={})),function(t){t._isBaseMapPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._mapPlotDefinition&&"function"==typeof e._points}}(t||(t={})),t||(t={}),function(t){t._isBaseMapPointDataModel=function(t){return null!=t&&"function"==typeof t._plot}}(t||(t={})),t||(t={}),function(t){t._isDetailedMapPlotDataModel=function(t){return null!=t&&"function"==typeof t._createPoint}}(t||(t={})),t||(t={}),function(t){t._isDetailedMapPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._location&&"function"==typeof e._detailDimension}}(t||(t={})),t||(t={}),function(t){t._isLatLongMapPlotDataModel=function(t){return null!=t&&"function"==typeof t._scatterLatLongMapPlotDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isLatLongMapPointDataNodel=function(t){var e=t;return null!=e&&void 0!==e._longitude&&void 0!==e._latitude&&"function"==typeof e._latLongMapPlot}}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this,o=i._scatterLatLongMapPlotDefinition()._valueDefinition();return null!=o&&(i.___points=i._createPoints(t,o)),i}return i(n,e),n.prototype._scatterLatLongMapPlotDefinition=function(){return this._definition()},Object.defineProperty(n.prototype,"points",{get:function(){return this._points()},enumerable:!0,configurable:!0}),n.prototype._createPoints=function(e,n){var i=this,o=[];return e.forEach((function(e){o.push(new t._LatLongMapPointDataNodel(i,e))})),o},n}(t._BaseMapPlotDataModel);t._LatLongMapPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._parseItems(n),i}return i(n,e),Object.defineProperty(n.prototype,"_longitude",{get:function(){return this.__long},set:function(t){!isNaN(t)&&t<=180&&t>=-180&&(this.__long=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_latitude",{get:function(){return this.__lat},set:function(t){!isNaN(t)&&t<=90&&t>=-90&&(this.__lat=t)},enumerable:!0,configurable:!0}),n.prototype._latLongMapPlot=function(){return e.prototype._plot.call(this)},n.prototype._parseItems=function(e){e._length>0&&(this._latitude=t._DataSlicesAggregate._defaultAggregate._aggregate(e,this._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition()._latitudeDefinition().numberDataField(),t.Aggregate.List),this._longitude=t._DataSlicesAggregate._defaultAggregate._aggregate(e,this._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition()._longitudeDefinition().numberDataField(),t.Aggregate.List))},n}(t._BaseMapPointDataModel);t._LatLongMapPointDataNodel=e}(t||(t={})),function(t){t._isMapPlotDataModel=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isMapPointDataModel=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._MapPointDataModel(this,n,o,e)},n}(t._DetailedMapPlotDataModel);t._MapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return i(e,t),e.prototype._plot=function(){return t.prototype._plot.call(this)},e}(t._DetailedMapPointDataModel);t._MapPointDataModel=e}(t||(t={})),function(t){t._isScatterDetailedMapPlotDataModel=function(t){return null!=t&&"function"==typeof t._scatterDetailedMapPlotDefinition}}(t||(t={})),t||(t={}),function(t){t._isScatterDetailedMapPointDataModel=function(t){return null!=t&&"function"==typeof t._scatterDetailedMapPlot}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._scatterDetailedMapPlotDefinition=function(){return this._definition()},n.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._ScatterDetailedMapPointDataModel(this,n,o,e)},n}(t._DetailedMapPlotDataModel);t._ScatterDetailedMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return i(e,t),e.prototype._scatterDetailedMapPlot=function(){return t.prototype._plot.call(this)},e}(t._DetailedMapPointDataModel);t._ScatterDetailedMapPointDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t.map._GeographyCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._GeographyCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t,n,i,o,r,l,a){void 0===a&&(a=null);var s=e.call(this,t,n,i,o,r,l,a)||this;return null!=i.encodings&&s._buildEncodings(),s}return i(n,e),n.prototype._valueDefinition=function(){return this.__valueDefinition},n.prototype._detailDefinition=function(){return this.__detailDefinition},n.prototype._buildEncodings=function(){if(this._encodingsDefinition._valueEncodingDefinitions.length>0){var e=this._encodingsDefinition._valueEncodingDefinitions[0]._getValueDimensionDefinition();t._isAggregateValueDimensionDefinition(e)&&(this.__valueDefinition=e)}if(this._encodingsDefinition._detailEncodingDefinitions.length>0){var n=this._encodingsDefinition._detailEncodingDefinitions[0];t._isSingleDataFieldDetailEncodingDefinition(n)&&(this.__detailDefinition=n)}},n}(e._BaseMapPlotDefinition);e._DetailedMapPlotDefinition=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){t._isDetailedMapPlotDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._valueDefinition&&"function"==typeof e._detailDefinition}}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t.map.models._MapLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._MapLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isMapPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._calculateColor=function(t){return t.color},n}(t._PointColorBuilder),e._MapPointColorBuilder=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(t,i){return void 0===t&&(t=!1),void 0===i&&(i=null),n.call(this,t,null==i?new e._MapPointColorBuilder:i)||this}return i(o,n),o.prototype._toPointView=function(e){if(t._isMapPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},o.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,null,null,null,1)},o}(t._PointStyleBuilder),e._MapPointStyleBuilder=n}(t||(t={})),t||(t={}),function(t){!function(t){!function(t){t._isScatterLatLongMapPlotDefinition=function(t){return null!=t&&"function"==typeof t._valueDefinition}}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u){var _=t.call(this,null,i,o,r,l,a,s,u)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return i(e,t),e._emptyEncodingsDefinition=new e([],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._MapEncodingsDefinition=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._MapEncodingsDefinitionContext=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(t){this.__featureCollection=null,this.__option=t}return Object.defineProperty(e.prototype,"option",{get:function(){return this.__option},enumerable:!0,configurable:!0}),e.prototype._features=function(){return null==this.__featureCollection&&this._analyseGeoData(),null!=this.__featureCollection?this.__featureCollection._features:[]},e.prototype._analyseGeoData=function(){var e=this.__option.geojson;if(null!=e){var n=new t._GeoJSONDeserializer(this.__option.propertyName);this.__featureCollection=n.deserialize(e)}},e}();t._GeographicSource=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,i;e=t.map||(t.map={}),n=e.models||(e.models={}),i=function(){function i(t){this.__propertyName=null!=t?t:"name"}return i.prototype.deserialize=function(n){if(null!=n)switch(t._AnyTypeUtility._toEnumValueOrNull(n.type,e.GeoType)){case e.GeoType.GeometryCollection:return this.deserializeGeometryCollection(n);case e.GeoType.Feature:return this.deserializeFeature(n);case e.GeoType.FeatureCollection:return this.deserializeFeatureCollection(n);default:return this.deserializeGeometry(n)}return null},i.prototype.deserializeFeatureCollection=function(t){var i=new n._GeoFeatureCollection,o=t.features;if(null!=o&&o instanceof Array)for(var r=0,l=o;r<l.length;r++){var a=l[r];null==a.type&&(a.type=e.GeoType[e.GeoType.Feature]);var s=this.deserialize(a);null!=s&&i._features.push(s)}return i},i.prototype.deserializeFeature=function(t){var e=t.properties,i=this.deserialize(t.geometry);return new n._GeoFeature(e,i,this.__propertyName)},i.prototype.deserializeGeometryCollection=function(t){var e=new n._GeometryCollection,i=t.geometries;if(null!=i&&i instanceof Array)for(var o=0,r=i;o<r.length;o++){var l=r[o],a=this.deserialize(l);null!=a&&e.geometrys.push(a)}return e},i.prototype.deserializeGeometry=function(i){var o=i.coordinates;switch(t._AnyTypeUtility._toEnumValueOrNull(i.type,e.GeoType)){case e.GeoType.Point:return n._GeometryFactory._createGeoPoint(o);case e.GeoType.MultiPoint:return n._GeometryFactory._createGeoMultiPoint(o);case e.GeoType.LineString:return n._GeometryFactory._createGeoLineString(o);case e.GeoType.MultiLineString:return n._GeometryFactory._createGeoMultiLineString(o);case e.GeoType.Polygon:return n._GeometryFactory._createGeoPolygon(o);case e.GeoType.MultiPolygon:return n._GeometryFactory._createGeoMultiPolygon(o)}return null},i}(),n._GeoJSONDeserializer=i}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.bounds=t};t._GeometryBBox=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i){this.__name=null,this.__geometry=n,this.__properties=e,this.__propertyName=i,this._type=t.GeoType.Feature}return Object.defineProperty(e.prototype,"properties",{get:function(){return this.__properties},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geometry",{get:function(){return this.__geometry},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return null==this.__name&&null!=this.__properties&&null!=this.__propertyName&&(this.__name=this.__properties[this.__propertyName],null==this.__name&&(this.__name=this.__properties[this.__propertyName.toLocaleUpperCase()])),this.__name},enumerable:!0,configurable:!0}),e}(),e._GeoFeature=n}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){this._type=t.GeoType.FeatureCollection,this._features=[]},e._GeoFeatureCollection=n}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"bbox",{get:function(){return new t._GeometryBBox(this._computeEnvelope())},enumerable:!0,configurable:!0}),e}();t._Geometry=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.coordinates=t};t._GeoLinearRing=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n){var i=e.call(this)||this;return i._type=t.GeoType.LineString,i.coordinates=n,i}return i(n,e),Object.defineProperty(n.prototype,"shapes",{get:function(){return[]},enumerable:!0,configurable:!0}),n.prototype._computeEnvelope=function(){return null},n.prototype.reset=function(){},n.prototype.foward=function(t){},n.prototype.clipping=function(t){},n.prototype.transform=function(t,e,n){},n}(e._Geometry),e._GeoLineString=n}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=e.models||(e.models={}),o=function(n){function o(){var t=n.call(this)||this;return t.__geometrys=[],t._type=e.GeoType.GeometryCollection,t}return i(o,n),Object.defineProperty(o.prototype,"geometrys",{get:function(){return this.__geometrys},enumerable:!0,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.geometrys;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._DrawingUtility._unionOfRectangles(e,o))}return e},Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.geometrys;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!0,configurable:!0}),o.prototype.reset=function(){for(var t=0,e=this.geometrys;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.geometrys;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.geometrys;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.geometrys;i<o.length;i++)o[i].transform(t,e,n)},o}(n._Geometry),n._GeometryCollection=o}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e._createGeoPoint=function(e){return null!=e&&e instanceof Array?new t._GeoPoint(e):null},e._createGeoMultiPoint=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoPoint(r);null!=l&&n.push(l)}return new t._GeoMultiPoint(n)},e._createGeoLineString=function(e){return null!=e&&e instanceof Array?new t._GeoLineString(e):null},e._createGeoMultiLineString=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoLineString(r);null!=l&&n.push(l)}return new t._GeoMultiLineString(n)},e._createGeoPolygon=function(e){return null!=e&&e instanceof Array?new t._GeoPolygon(e):null},e._createGeoMultiPolygon=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoPolygon(r);null!=l&&n.push(l)}return new t._GeoMultiPolygon(n)},e}();t._GeometryFactory=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=e.models||(e.models={}),o=function(n){function o(t){var i=n.call(this)||this;return i._type=e.GeoType.MultiLineString,i.coordinates=t,i}return i(o,n),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!0,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._DrawingUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(n._Geometry),n._GeoMultiLineString=o}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=e.models||(e.models={}),o=function(n){function o(t){var i=n.call(this)||this;return i._type=e.GeoType.MultiPoint,i.coordinates=t,i}return i(o,n),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!0,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._DrawingUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(n._Geometry),n._GeoMultiPoint=o}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=e.models||(e.models={}),o=function(n){function o(t){var i=n.call(this)||this;return i._type=e.GeoType.MultiPolygon,i.coordinates=t,i}return i(o,n),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!0,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._DrawingUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(n._Geometry),n._GeoMultiPolygon=o}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n){var i=e.call(this)||this;return i._type=t.GeoType.Point,i.coordinates=n,i}return i(n,e),Object.defineProperty(n.prototype,"shapes",{get:function(){return[]},enumerable:!0,configurable:!0}),n.prototype._computeEnvelope=function(){return null},n.prototype.reset=function(){},n.prototype.foward=function(t){},n.prototype.clipping=function(t){},n.prototype.transform=function(t,e,n){},n}(e._Geometry),e._GeoPoint=n}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=e.models||(e.models={}),o=function(o){function r(t){var n=o.call(this)||this;return n._type=e.GeoType.Polygon,n.__coordinatesProjection=null,n.__coordinates=t,n}return i(r,o),Object.defineProperty(r.prototype,"coordinates",{get:function(){return null!=this.__coordinatesProjection?this.__coordinatesProjection:this.__coordinates},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){var e=this.coordinates,i=[];if(e.length>1){for(var o=new t._Path,r=[],l=function(e){var n=[];e.forEach((function(e,i){0==i?o.moveto(e[0],e[1]):i==e.length-1?o.close():o.lineto(e[0],e[1]),n.push(new t.core.Point(e[0],e[1]))})),r.push(new t._PolygonShape(n))},a=0,s=e;a<s.length;a++)l(c=s[a]);i.push(new n._GeoPathShape(o,r))}else if(1==e.length){for(var u=[],_=0,p=e[0];_<p.length;_++){var c=p[_];u.push(new t.core.Point(c[0],c[1]))}i.push(new n._GeoPolygonShape(new t._PolygonShape(u)))}return i},enumerable:!0,configurable:!0}),r.prototype.reset=function(){this.__coordinatesProjection=null},r.prototype.foward=function(t){null==this.__coordinatesProjection&&(this.__coordinatesProjection=[]);for(var e=0,n=this.__coordinates;e<n.length;e++){for(var i=[],o=0,r=n[e];o<r.length;o++){var l=r[o];l instanceof Array&&2===l.length&&i.push(t(l[0],l[1]))}this.__coordinatesProjection.push(i)}},r.prototype.clipping=function(t){null!=this.__coordinatesProjection&&(this.__coordinatesProjection=t._clipPolygons(this.__coordinatesProjection))},r.prototype.transform=function(t,e,n){if(null!=this.__coordinatesProjection)for(var i=0,o=this.__coordinatesProjection;i<o.length;i++)for(var r=0,l=o[i];r<l.length;r++){var a=l[r];a[0]=a[0]*t+e,a[1]=a[1]*t+n}},r.prototype._computeEnvelope=function(){for(var e=!0,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,l=0,a=this.coordinates;l<a.length;l++)for(var s=0,u=a[l];s<u.length;s++){var _=u[s];_ instanceof Array&&2===_.length&&(e=!1,o=Math.min(_[0],o),n=Math.max(_[0],n),r=Math.min(_[1],r),i=Math.max(_[1],i))}return e?null:new t.core.Rect(o,r,n-o,i-r)},r}(n._Geometry),n._GeoPolygon=o}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.line=t,this.type="Line"};t._GeoLineShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t,e){this.path=t,this.polygons=e,this.type="Path"};t._GeoPathShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.point=t,this.type="Point"};t._GeoPointShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.polygon=t,this.type="Polygon"};t._GeoPolygonShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(){}return e.prototype._apply=function(t,e){for(var n=0,i=e._findRelatedPlotViews(t);n<i.length;n++){var o=i[n];this._useForPlot(e,o)}},e.prototype._useForPlot=function(e,n){t._isDataPointItemizedLegendDataModel(e)?this._useItemizedPointLegend(n,e):t._isLinearLegendDataModel(e)?this._useLinearColorPointLegend(n,e):e instanceof t._LightnessLegendDataModel&&this._useLightnessLegend(n,e)},e.prototype._useLinearColorPointLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Color)&&e._traversePointView((function(t){t._updateLegendColor(n._getColorByPoint(t))}))},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var s=a[l];if(s instanceof t._ItemizedPointLegendItemDataModel){var u=n._dataPointKeysMap._get(s._dataPointKey());if(null!=u)for(var _=0,p=u;_<p.length;_++){var c=p[_];i&&c._updateLegendColor(s._color()),o&&c._updateLegendShape(s._shape),r&&c._updateLegendSize(s._size)}}}},e.prototype._useLightnessLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Lightness)&&e._traversePointView((function(t){var e=n._getLightnessByPoint(t);null!=e&&t._updateLegendLightness(e)}))},e}();e._MapLegendAdopter=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._mapLegendSymbolStyleBuilder=function(){return null==e.__mapLegendSymbolStyleBuilder&&(e.__mapLegendSymbolStyleBuilder=new e),e.__mapLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle();o.stroke=new t._CssColor("#000000"),o.strokeWidth=.5;var r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.fill=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),i?t._StyleUtility._applyDataPointSymbolStyleOption(o,l):t._StyleUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._StyleUtility._applyDataPointSymbolStyleOption(o,a):t._StyleUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._StyleUtility._applyDataPointSymbolStyleOption(o,s):t._StyleUtility._applyDataPointStyleOption(o,s)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._MapLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),t._MapLegendSymbolStyleBuilder._mapLegendSymbolStyleBuilder())||this}return i(n,e),n.prototype.render=function(e,n,i){var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1),r=this._legendItemView()._data,l=r instanceof t.models._ItemizedValuePointLegendItem?r.key:null,a=this._getStyleSymbolShape(),s=this._shape,u=this._getDefaultShape(this._getPlotDefinition()),_=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._symbolDefinitionProviders(),l,a,s,u);null!=_&&_.createSymbol(n,o).render(e,i)},n}(t._LegendSymbolView);e._MapLegendSymbolView=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._LatLongMapPlotDataModel(n,e)},e}();t._LatLongMapPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._MapPlotDataModel(n,e)},e}();t._MapPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._ScatterDetailedMapPlotDataModel(n,e)},e}();t._ScatterMapPlotDataBuilder=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__longitude=NaN,this.__latitude=NaN,this.__identify=t}return Object.defineProperty(t.prototype,"identify",{get:function(){return this.__identify},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){if(isNaN(this.__longitude)){var t=this._calculateLocation(this.identify);this.__longitude=t.longitude,this.__latitude=t.latitude}return this.__longitude},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latitude",{get:function(){if(isNaN(this.__latitude)){var t=this._calculateLocation(this.identify);this.__longitude=t.longitude,this.__latitude=t.latitude}return this.__latitude},enumerable:!0,configurable:!0}),t.prototype._calculateLocation=function(t){return{longitude:null,latitude:null}},t}();t._IdentifyGeographicLocation=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._mapPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailDimension();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,s;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==n){var u=t._CastExtension.toAggregateString(l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._MapTextProxy=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._baseMapPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"valueField":return this._getValueFieldProperty(e);case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);case"shapeField":return this._getShapeFieldProperty(e);case"sizeField":return this._getSizeFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getValueFieldProperty=function(e){var n=this._point()._scatterDetailedMapPlot()._scatterDetailedMapPlotDefinition()._valueDefinition();if("name"==e){var i=n.label();return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=n._aggregate();if(null!=r){var l=t._CastExtension.toAggregateString(r);if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}return null}return null},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailDimension();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,s;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}return null},e.prototype._getShapeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getShapeEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getSizeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getSizeEncodingDefinition();if(n instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==n){var u=t._CastExtension.toAggregateString(l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._ScatterDetailedMapTextProxy=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._baseMapPlotView()._getDefinition()._pluginCollection)}return n.prototype._point=function(){return this.__point},n.prototype._contentDefinitions=function(){return this.__contentDefinitions},n.prototype._getDefaultFormat=function(t){return null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"longitude":case"long":return this._getLongitudeProperty(e);case"latitude":case"lat":return this._getLatitudeProperty(e);case"colorField":return this._getColorFieldProperty(e);case"shapeField":return this._getShapeFieldProperty(e);case"sizeField":return this._getSizeFieldProperty(e);default:return this._getTokenProperty(t,e)}},n.prototype._getLongitudeProperty=function(n){var i=this._point()._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition();if(e._isMapXyValueDimensionDefinition(i)){var o=i;if("name"==n){var r=o._longitudeDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}if("value"==n){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._longitudeDefinition()._dataField,t.Aggregate.List);return null!=l?new t.models._DataValueInfo(l,this.__stringFormatting):null}}return null},n.prototype._getLatitudeProperty=function(n){var i=this._point()._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition();if(e._isMapXyValueDimensionDefinition(i)){var o=i;if("name"==n){var r=o._latitudeDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}if("value"==n){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._latitudeDefinition()._dataField,t.Aggregate.List);return null!=l?new t.models._DataValueInfo(l,this.__stringFormatting):null}}return null},n.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,s;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}return null},n.prototype._getShapeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getShapeEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},n.prototype._getSizeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._encodingsDefinition._getSizeEncodingDefinition();if(n instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},n.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==n){var u=t._CastExtension.toAggregateString(l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}}}}return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}();e._LatLongMapTextProxy=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){function n(t,e){var n={_foward:function(n,i){var o=t._foward(n,i);return e._foward(o[0],o[1])},_invert:null};return t._invert&&e._invert&&(n._invert=function(n,i){var o=e._invert(n,i);return o&&t._invert(o[0],o[1])}),n}var i=function(){function e(e){this.__translate=new t.core.Point(0,0),this.__k=150,this.__δλ=0,this.__δφ=0,this.__δγ=0,this.__λ=0,this.__φ=0,this.__project=e,this._reset()}return e.prototype._δx=function(){return this.__δx},e.prototype._δy=function(){return this.__δy},e.prototype.getMapProjection=function(){return this.__project},e.prototype.rotateProject=function(){return this.__rotateProject},e.prototype.project=function(t,e){return this.__rotateProject._foward(t,e)},e.prototype._project=function(t,n){var i=this.project(t*e.__radian,n*e.__radian);return[i[0]*this.__k+this.__δx,this.__δy-i[1]*this.__k]},e.prototype._clipper=function(){return this.__project.getCilpper(this)},e.prototype._adviser=function(){return this.__project.getAdviser(this)},e.prototype._getScale=function(){return this.__k},e.prototype._setScale=function(t){isNaN(t),this.__k=t,this._reset()},e.prototype._getTranslate=function(){return this.__translate.clone()},e.prototype._setTranslate=function(t){this.__translate=t.clone(),this._reset()},e.prototype._getCenter=function(){return[this.__λ*e.__degree,this.__φ*e.__degree]},e.prototype._setCenter=function(t){this.__λ=t[0]%360*e.__radian,this.__φ=t[1]%360*e.__radian,this._reset()},e.prototype._getRotate=function(){return[this.__δλ*e.__degree,this.__δφ*e.__degree,this.__δγ*e.__degree]},e.prototype._setRotate=function(t){this.__δλ=t[0]%360*e.__radian,this.__δφ=t.length>1?t[1]%360*e.__radian:0,this.__δγ=t.length>2?t[2]%360*e.__radian:0,this._reset()},e.prototype.invert=function(t,n){var i=this.__rotateProject._invert((t-this.__δx)/this.__k,(this.__δy-n)/this.__k);return i&&[i[0]*e.__degree,i[1]*e.__degree]},e.prototype._reset=function(){this.__rotateProject=n(this._geoRotation(this.__δλ,this.__δφ,this.__δγ),this.__project);var t=this.__project._foward(this.__λ,this.__φ);this.__δx=this.__translate.x-t[0]*this.__k,this.__δy=this.__translate.y+t[1]*this.__k},e.prototype._geoForwardRotationλ=function(t){var n=2*e.__pi;return function(i,o){return[(i+=t)>e.__pi?i-n:i<-e.__pi?i+n:i,o]}},e.prototype._geoRotationλ=function(t){return{_foward:this._geoForwardRotationλ(t),_invert:this._geoForwardRotationλ(-t)}},e.prototype._geoRotationφγ=function(t,n){var i=Math.cos(t),o=Math.sin(t),r=Math.cos(n),l=Math.sin(n);function a(t){return t>1?e.__pi/2:t<-1?-e.__pi/2:Math.asin(t)}return{_foward:function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,_=Math.sin(e),p=_*i+s*o;return[Math.atan2(u*r-p*l,s*i-_*o),a(p*r+u*l)]},_invert:function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,_=Math.sin(e),p=_*r-u*l;return[Math.atan2(u*r+_*l,s*i+p*o),a(p*i-s*o)]}}},e.prototype._geoRotation=function(t,i,o){return t?i||o?n(this._geoRotationλ(t),this._geoRotationφγ(i,o)):this._geoRotationλ(t):i||o?this._geoRotationφγ(i,o):{_foward:function(t,n){var i=2*e.__pi;return[t>e.__pi?t-i:t<-e.__pi?t+i:t,n]},_invert:function(t,e){return[t,e]}}},e.__degree=180/Math.PI,e.__radian=Math.PI/180,e.__pi=Math.PI,e}();e.GeoProjection=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e.prototype.getCilpper=function(e){return new t.MapClipper(e)},e.prototype.getAdviser=function(e){return new t.ProjectionAdviser(e)},e}();t.MapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function n(t,n){var i=e.call(this)||this;function o(t){return t>1?Math.PI/2:t<-1?-Math.PI/2:Math.asin(t)}return i.__sinφ0=Math.sin(t),i.__n=(i.__sinφ0+Math.sin(n))/2,i.__c=1+i.__sinφ0*(2*i.__n-i.__sinφ0),i.__ρ0=Math.sqrt(i.__c)/i.__n,i._foward=function(t,e){var n=Math.sqrt(this.__c-2*this.__n*Math.sin(e))/this.__n;return[n*Math.sin(t*=this.__n),this.__ρ0-n*Math.cos(t)]},i._invert=function(t,e){var n=this.__ρ0-e;return[Math.atan2(t,n)/this.__n,o((this.__c-(t*t+n*n)*this.__n*this.__n)/(2*this.__n))]},i}return i(n,e),n.prototype.getAdviser=function(e){return new t.AlbersAdviser(e)},n.from=function(t,e){if(isNaN(t)||isNaN(e))return null;var i=Math.PI/180;return new n(t*i,e*i)},n}(t.MapProjection);t.AlbersMapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInMapProjectionBuilders=function(){return null==n.__buildInMapProjectionBuilders&&(n.__buildInMapProjectionBuilders=new n([],n._pluginType)),n.__buildInMapProjectionBuilders},n.prototype._convert=function(e){return t.map._isMapProjectionBuilder(e)?e:null},n.prototype._mapProjection=function(t,e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildMapProjection(t);if(null!=r)return r}return null},n._pluginType="MapProjection",n}(t._BuildInObjectCollection);t._BuildInMapProjectionBuilderCollection=e}(t||(t={})),function(t){!function(t){t._isMapProjectionBuilder=function(t){return null!=t._buildMapProjection}}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._foward=function(t,e){return[t,Math.log(Math.tan(Math.PI/4+e/2))]},t._invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Math.PI/2]},t}return i(n,e),n.prototype.getAdviser=function(e){return new t.MercatorAdviser(e)},n.prototype.getCilpper=function(e){return new t.MercatorCliper(e)},n.from=function(){return new n},n}(t.MapProjection);t.MercatorMapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){this.__lower48=this._createLower48(),this.__alaska=this._createAlaska(),this.__hawaii=this._createHawaii(),this.__puertoRico=this._createPuertoRico(),this._setScale(950)}return n.prototype._lower48Project=function(t,e){return this.__lower48._project(t,e)},n.prototype._project=function(t,e){return e>50?this.__alaska._project(t,e):t<-140?this.__hawaii._project(t,e):e<-21?this.__puertoRico._project(t,e):this.__lower48._project(t,e)},n.prototype._getScale=function(){return this.__lower48._getScale()},n.prototype._setScale=function(t){this.__lower48._setScale(t),this.__alaska._setScale(.35*t),this.__hawaii._setScale(t),this.__puertoRico._setScale(t),this._setTranslate(this.__lower48._getTranslate().clone())},n.prototype._getTranslate=function(){return this.__lower48._getTranslate().clone()},n.prototype._setTranslate=function(e){var n=this.__lower48._getScale();this.__lower48._setTranslate(e),this.__alaska._setTranslate(new t.core.Point(e.x-.307*n,e.y+.201*n)),this.__hawaii._setTranslate(new t.core.Point(e.x-.205*n,e.y+.212*n)),this.__puertoRico._setTranslate(new t.core.Point(e.x+.35*n,e.y+.224*n))},n.prototype.invert=function(t,e){return this.__lower48.invert(t,e)},n.prototype._clipper=function(){return new e.MapClipper(this.__lower48)},n.prototype._adviser=function(){return new e.AlbersUsaAdviser(this.__lower48)},n.prototype._createLower48=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(29.5,45.5));return t._setRotate([96,0]),t._setCenter([-.6,37.8]),t},n.prototype._createAlaska=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(55,65));return t._setRotate([154,0]),t._setCenter([-2,58.5]),t},n.prototype._createHawaii=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(8,18));return t._setRotate([157,0]),t._setCenter([-3,19.9]),t},n.prototype._createPuertoRico=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(8,18));return t._setRotate([66,0]),t._setCenter([0,18]),t},n}();e.AlbersUsaGeoProjection=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__projection=t,this.reset()}return t.prototype.reset=function(){},t.prototype._longPercision=function(){return.4},t.prototype._latPercision=function(){return.25},t.prototype.geoProjection=function(){return this.__projection},t.prototype.mathProjection=function(){return this.__projection.getMapProjection()},t.prototype._outline=function(){return null},t.prototype._boxBound=function(){return null},t.prototype._graticuleLines=function(t,e){for(var n=[],i=this._getLongitudeRange(),o=this._getLatitudeRange(),r=i[0];r<i[1];r+=t){for(var l=[],a=o[0];a<o[1];a+=this._latPercision())l.push(this.__projection._project(r,a));n.push(l)}for(a=o[0];a<o[1];a+=e){l=[];for(var s=i[0];s<i[1];s+=this._longPercision())l.push(this.__projection._project(s,a));n.push(l)}return this.geoProjection()._clipper()._clipLines(n)},t.prototype._getLongitudeRange=function(){return[-180,180]},t.prototype._getLatitudeRange=function(){var t=1e-6;return[-90+t,90-t]},t}();t.ProjectionAdviser=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.mathProjection=function(){return e.prototype.mathProjection.call(this)},n.prototype._outline=function(t){var e=this;return this._sampleOriginOutline(5).map((function(t){return e._projectMapToGeo(t[0],t[1])}))},n.prototype._boxBound=function(){var e=this._outline(15),n=e.map((function(t){return t[0]})),i=e.map((function(t){return t[1]})),o=Math.min.apply(Math,n),r=Math.min.apply(Math,i),l=Math.max.apply(Math,n)-o,a=Math.max.apply(Math,i)-r;return new t.core.Rect(o,r,l,a)},n.prototype._sampleOriginOutline=function(t){for(var e=[-180,180],n=[],i=e[0];;i+=t){if(i>=e[1]){n.push(e[1]);break}n.push(i)}return n.map((function(t){return[t,90]})).concat(n.reverse().map((function(t){return[t,-90]}))).concat([[-180,90]])},n.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},n}(e.ProjectionAdviser);e.AlbersAdviser=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._outline=function(){var t=this;return this._sampleOriginOutline(10).map((function(e){return t.geoProjection()._project(e[0],e[1])}))},e.prototype._sampleOriginOutline=function(t){for(var e=[-125,-66.5],n=[],i=e[0];;i+=t){if(i>=e[1]){n.push(e[1]);break}n.push(i)}return n.map((function(t){return[t,22.5]})).concat(n.reverse().map((function(t){return[t,49.5]}))).concat([[-125,22.5]])},e}(t.AlbersAdviser);t.AlbersUsaAdviser=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.mathProjection=function(){return e.prototype.mathProjection.call(this)},n.prototype._outline=function(){var t=this;return this._sampleOriginOutline().map((function(e){return t._projectMapToGeo(e[0],e[1])}))},n.prototype._getLatitudeRange=function(){return[-85,85]},n.prototype._boxBound=function(){var e=this._outline(),n=e.map((function(t){return t[0]})),i=e.map((function(t){return t[1]})),o=Math.min.apply(Math,n),r=Math.min.apply(Math,i),l=Math.max.apply(Math,n)-o,a=Math.max.apply(Math,i)-r;return new t.core.Rect(o,r,l,a)},n.prototype._sampleOriginOutline=function(){return[[-180,85],[180,85],[180,-85],[-180,-85],[-180,85]]},n.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},n}(e.ProjectionAdviser);e.MercatorAdviser=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__projection=t,this.reset()}return t.prototype.reset=function(){},t.prototype.geoProjection=function(){return this.__projection},t.prototype.mathProjection=function(){return this.__projection.getMapProjection()},t.prototype._clipLines=function(t){return t},t.prototype._clipPolygons=function(t){return t},t}();t.MapClipper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.mathProjection=function(){return t.prototype.mathProjection.call(this)},e.prototype._clipLines=function(t){var e=this.geoProjection()._adviser(),n=this._getK()*(e._longPercision()/.1);if(n<1e-6)return t;for(var i=[],o=0,r=t;o<r.length;o++){var l=r[o];i.push.apply(i,this._clipLine(l,n,null,!0))}return t.push.apply(t,i),t},e.prototype._getK=function(){return this.geoProjection()._getScale()},e.prototype._clipLine=function(t,e,n,i){var o=[];t.length>1&&!i&&o.push(t);for(var r=0;r<t.length;++r){var l=t[r];if(!this._distanceFilter(n,l,e)){o.push.apply(o,this._clipLine(t.splice(r),e,l));break}n=l}return o},e.prototype._distanceFilter=function(t,e,n){return null==t||(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])<n},e.prototype._clipPolygons=function(t){var e=this._getK();if(e<1e-6)return t;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=this._clipPolygon(r,e,null,0);if(1===l.length){for(var a=-45,s=this._clipPolygon(l[0],e,null,a);1===s.length&&a>-180;)a-=45,s=this._clipPolygon(s[0],e,null,a);if(1===s.length)for(a=45,s=this._clipPolygon(l[0],e,null,a);1===s.length&&a<180;)a+=45,s=this._clipPolygon(s[0],e,null,a);l=s}n.push.apply(n,l)}return this._removeSuspectPolygons(n,2*e)},e.prototype._removeSuspectPolygons=function(t,e){for(var n=null,i=t.length,o=0;o<i;++o){for(var r=t[o],l=0,a=r.length;l<a;++l){var s=r[l];if(!this._distanceFilter(n,s,e)){t[o--]=t[--i];break}n=s}n=null}return i<t.length&&t.splice(i),t},e.prototype._clipPolygon=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=0),t.length<3||i<=-180||i>=180)return[t];for(var o=[],r=[],l=this._isLonLs(t[0],i),a=0,s=t.length;a<s;++a){var u=t[a];this._distanceFilter(n,u,e)||(l=this._isLonLs(u,i)),l?r.push(u):o.push(u),n=u}var _=[];return r.length>1&&_.push(r),o.length>1&&_.push(o),_},e.prototype._isLonLs=function(t,e){var n=180/Math.PI;return this._projectInvert(t[0],t[1])[0]*n<e},e.prototype._projectInvert=function(t,e){var n=this.geoProjection(),i=this.mathProjection(),o=n._getScale();return i._invert((t-n._δx())/o,(n._δy()-e)/o)},e}(t.MapClipper);t.AlbersMapCliper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._clipPolygons=function(t){var e=this._getK();if(e<1e-6)return t;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];n.push.apply(n,this._clipPolygon(r,e,null))}return n},e.prototype._clipPolygon=function(t,e,n){if(t.length<3)return[t];var i=[],o=[],r=[],l=this._pointAttachState(t[0]),a=1;0===l&&(a=3);for(var s=0,u=t.length;s<u;++s){var _=t[s];if(!this._distanceFilter(n,_,e)){var p=this._pointAttachState(_);0===p?a=3:0===l?(l=p,a=1):a=p===l?1:2}switch(a){case 1:i.push(_);break;case 2:o.push(_);break;case 3:r.push(_)}n=_}var c=[];return o.length>1&&c.push(o),i.length>1&&c.push(i),r.length>1&&c.push(r),c},e.prototype._pointAttachState=function(t){var e=180/Math.PI,n=this._projectInvert(t[0],t[1])[0]*e;return n>90?1:n<-90?-1:0},e}(t.AlbersMapCliper);t.AlbersUsaClipper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.mathProjection=function(){return t.prototype.mathProjection.call(this)},e.prototype.reset=function(){this.__k=.5*this._dis2(this._projectMapToGeo(-180,0),this._projectMapToGeo(180,0))},e.prototype._dis2=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},e.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},e.prototype._clipLines=function(t){var e=this.__k;if(e<1e-6)return t;for(var n=[],i=this.geoProjection()._adviser()._boxBound(),o=0,r=t;o<r.length;o++){var l=r[o];n.push.apply(n,this._clipLine(l,i,e))}return n},e.prototype._clipLine=function(t,e,n){var i=[];if(t.length<1)return i;for(var o=0,r=this._pointOutbox(t[0],e),l=0;l<t.length;++l){var a=t[l];r?this._pointOutbox(a,e)||(r=!1,o=l):this._pointOutbox(a,e)&&(i.push(t.slice(o,l)),r=!0)}r||(0===o?i.push(t):i.push(t.slice(o)));for(var s=0,u=i;s<u.length;s++){var _=u[s];i.push.apply(i,this._clipInnerLine(_,n,null,!0))}return i},e.prototype._pointOutbox=function(t,e){return t[0]<e.left||t[0]>e.right||t[1]<e.top||t[1]>e.bottom},e.prototype._clipInnerLine=function(t,e,n,i){var o=[];t.length>1&&!i&&o.push(t);for(var r=0;r<t.length;++r){var l=t[r];if(!this._distanceFilter(n,l,e)){o.push(t.splice(r));break}n=l}return o},e.prototype._distanceFilter=function(t,e,n){return null==t||(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])<n},e.prototype._clipPolygons=function(t){var e=this.__k;if(e<1e-6)return t;for(var n=[],i=this.geoProjection()._adviser()._boxBound(),o=0,r=t;o<r.length;o++){var l=r[o];n.push.apply(n,this._clipPolygon(l,e,i))}return this._removeSuspectPolygons(n,2*e)},e.prototype._removeSuspectPolygons=function(t,e){for(var n=null,i=t.length,o=0;o<i;++o){for(var r=t[o],l=0,a=r.length;l<a;++l){var s=r[l];if(!this._distanceFilter(n,s,e)){t[o--]=t[--i];break}n=s}n=null}return i<t.length&&t.splice(i),t},e.prototype._regularPoint=function(t,e){t[0]<e.left&&(t[0]=e.left),t[0]>e.right&&(t[0]=e.right),t[1]<e.top&&(t[1]=e.top),t[1]>e.bottom&&(t[1]=e.bottom)},e.prototype._clipPolygon=function(t,e,n,i){if(void 0===i&&(i=null),t.length<3)return[t];for(var o=[],r=[],l=!1,a=0,s=t.length;a<s;++a){var u=t[a];this._distanceFilter(i,u,e)||(l=!l),l?r.push(u):o.push(u),this._regularPoint(u,n),i=u}var _=[];return r.length>1&&_.push(r),o.length>1&&_.push(o),_},e}(t.MapClipper);t.MercatorCliper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function t(){this.__d=""}return t.prototype._d=function(){return this.__d},t.prototype._reset=function(){this.__d=""},t.prototype._lineStart=function(t,e){this.__d+="M"+t.toString()+" "+e.toString()},t.prototype._line=function(t,e){this.__d+="L"+t.toString()+" "+e.toString()},t.prototype._close=function(){this.__d+="Z"},t.prototype._join=function(t){this.__d+=t._d()},t.polygonXY=function(e,n){var i=!0,o=new t;if(!(e&&e.length&&n&&n.length))return o;for(var r=0,l=e.length;r<l;++r)i?(o._lineStart(e[r],n[r]),i=!1):o._line(e[r],n[r]);return o._close(),o},t.polygon=function(e){var n=!0,i=new t;if(null==e)return i;for(var o=0,r=e.length;o<r;++o){var l=e[o];n?(i._lineStart(l[0],l[1]),n=!1):i._line(l[0],l[1])}return i._close(),i},t.lines=function(e){if(null==e)return null;if(e.length<=0)return null;for(var n=new t,i=0,o=e.length;i<o;++i){var r=e[i];n._join(this.line(r))}return n},t.line=function(e){var n=!0,i=new t;if(null==e)return i;for(var o=0,r=e.length;o<r;++o){var l=e[o];n?(i._lineStart(l[0],l[1]),n=!1):i._line(l[0],l[1])}return i},t}();t._GeoPath=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(){function n(e,n){this.__rectangle=t.core.Rect.ReadOnlyRect,this.__shapeViews=[],this.__translate=new t.core.Point(0,0),this.__zoom=1,this.__viewPortGroupElement=null,this._dλ=10,this._dφ=10,this._showGraticule=!1,this.__plotView=e,this.__source=n,this._init()}return n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._plotView=function(){return this.__plotView},n.prototype._step=function(t,e){isNaN(t)||isNaN(e)||(this._dλ=t,this._dφ=e)},Object.defineProperty(n.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){isNaN(t)||t<=0||(this.__zoom=t)},enumerable:!0,configurable:!0}),n.prototype._getTranslate=function(){return this.__translate},n.prototype._setTranslate=function(t){this.__translate=t.clone()},n.prototype._source=function(){return this.__source},n.prototype._shapeViews=function(){return this.__shapeViews},n.prototype._init=function(){if(this._source()){var t=this._source().option;t.translate&&this._setTranslate(t.translate),this.zoom=t.zoom,null!=t.option()&&t.option().step&&this._step(t.option().step[0],t.option().step[1]),t.showGraticule&&(this._showGraticule=!0)}},n.prototype._layout=function(t){this._init(),this._updateRectangle(t),null!=this._source()&&this._prepareShapeViews(this.zoom,this.__translate.x,this.__translate.y)},n.prototype._prepareShapeViews=function(t,n,i){if(null!=this.__source){this.__shapeViews.length=0;for(var o=0,r=this._source()._features();o<r.length;o++){var l=r[o];l.geometry.transform(t,n,i),l.geometry.clipping(this._getClipper());var a=new e._GeographicShapeView(this,l);this.__shapeViews.push(a)}}},n.prototype._beforeRender=function(t,e){},n.prototype._isShapeViewInPlotView=function(e){for(var n=0,i=this._plotView()._getPointViews();n<i.length;n++){var o=i[n];if(t._isMapPointView(o)&&null!=o&&o._shapeView()==e)return!0}return!1},n.prototype._render=function(t,e){var n=this;if(!e._renderLabel){var i=this._rectangle();this.__viewPortGroupElement=t.createGroup("viewport",null,null,i,i.width,i.height,0,0,(function(t){n._beforeRender(t,e);for(var i=0,o=n._shapeViews();i<o.length;i++){var r=o[i];n._isShapeViewInPlotView(r)||r._render(t,e)}})),null==this.__viewPortGroupElement&&t.drawGroup("viewport",null,null,(function(t){n._beforeRender(t,e);for(var i=0,o=n._shapeViews();i<o.length;i++){var r=o[i];n._isShapeViewInPlotView(r)||r._render(t,e)}}))}},n}(),e.BaseViewPort=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._getFoward=function(){var t=this;return function(e,n){return t.__projection._project(e,n)}},o.prototype._getInvert=function(){var t=this;return function(e,n){return t.__projection.invert(e,n)}},o.prototype._init=function(){if(this._source()){n.prototype._init.call(this);var i=this._source().option;this.__projection=new e.models.AlbersUsaGeoProjection,this.__vAlign=i.vAlign,this.__hAlign=i.hAlign,this.__hAlign=null==this.__hAlign?t.HAlign.Center:i.hAlign,this.__vAlign=null==this.__vAlign?t.VAlign.Middle:i.vAlign}},o.prototype._getClipper=function(){return this.__projection._clipper()},o.prototype._getAdviser=function(){return this.__projection._adviser()},o.prototype._layout=function(e){if(this._init(),this._updateRectangle(e),null!=this._source()){for(var n=null,i=0,o=this._source()._features();i<o.length;i++){var r=o[i];r.geometry.reset(),r.geometry.foward(this._getFoward()),null==n?n=r.geometry.bbox.bounds:null!=r.geometry.bbox.bounds&&(n=t._DrawingUtility._unionOfRectangles(n,r.geometry.bbox.bounds))}var l=1;null!=n&&isFinite(n.width)?l=this._calcScale(n,e):(n=this.__projection._adviser()._boxBound(),l=this.zoom);var a=this._calcTranslateBy(l,n,e),s=this.__projection._getScale();this.__projection._setScale(s*l),this.__projection._setTranslate(new t.core.Point(a[0],a[1])),this._prepareShapeViews(l,a[0],a[1])}},o.prototype._calcScale=function(t,e){var n=1*e.width/t.width,i=1*e.height/t.height;return Math.min(n,i)*this.zoom},o.prototype._calcTranslateBy=function(e,n,i){var o=this._getTranslate(),r=new t.Matrix,l=this._getJunction(this.__hAlign,this.__vAlign,n),a=this._getJunction(this.__hAlign,this.__vAlign,i);return r.scale(e,e),l=t._MatrixUtility._transformPoint(r,l),[a.x-l.x+o.x,a.y-l.y+o.y]},o.prototype._getJunction=function(e,n,i){var o=i.center;switch(e){case t.HAlign.Left:o.x=i.left;break;case t.HAlign.Right:o.x=i.right}switch(n){case t.VAlign.Top:o.y=i.top;break;case t.VAlign.Bottom:o.y=i.bottom}return o},o.prototype._beforeRender=function(t,e){this._showGraticule&&this._drawGraticule(t,e)},o.prototype._drawGraticule=function(t,n){new e.Graticule(this._getAdviser(),this._dλ,this._dφ).render(t,this._rectangle())},o}(e.BaseViewPort),e.AlbersUsaViewPort=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._getFoward=function(){var t=this;return function(e,n){return t.__projection._project(e,n)}},o.prototype._getInvert=function(){var t=this;return function(e,n){return t.__projection.invert(e,n)}},o.prototype._init=function(){if(this._source()){n.prototype._init.call(this),this.__vAlign=this.__hAlign=null;var i=this._source().option;this.__projection=new e.models.GeoProjection(this._mapProjection(i)),i.center?this.__projection._setCenter([i.center.x,i.center.y]):(this.__hAlign=null==i.hAlign?t.HAlign.Center:i.hAlign,this.__vAlign=null==i.vAlign?t.VAlign.Middle:i.vAlign),i.rotate3d&&this.__projection._setRotate([i.rotate3d.x,i.rotate3d.y,i.rotate3d.z])}},o.prototype._getClipper=function(){return this.__projection._clipper()},o.prototype._getAdviser=function(){return this.__projection._adviser()},o.prototype._layout=function(e){if(this._init(),this._updateRectangle(e),null!=this._source()){for(var n=null,i=0,o=this._source()._features();i<o.length;i++){var r=o[i];r.geometry.reset(),r.geometry.foward(this._getFoward()),null==n?n=r.geometry.bbox.bounds:null!=r.geometry.bbox.bounds&&(n=t._DrawingUtility._unionOfRectangles(n,r.geometry.bbox.bounds))}var l=this.__projection._adviser()._boxBound(),a=1;null!=n&&isFinite(n.width)?(n=t._DrawingUtility._intersectionOfRectangle(n,l),a=this._calcScale(n,e)):(n=l,a=this.zoom);var s=this._calcTranslateBy(a,n,e),u=this.__projection._getScale();this.__projection._setScale(u*a),this.__projection._setTranslate(new t.core.Point(s[0],s[1])),this._prepareShapeViews(a,s[0],s[1])}},o.prototype._calcScale=function(t,e){var n=1*e.width/t.width,i=1*e.height/t.height;return Math.min(n,i)*this.zoom},o.prototype._calcTranslateBy=function(e,n,i){var o,r,l=this._getTranslate();if(null!=this.__vAlign&&null!=this.__hAlign){var a=new t.Matrix,s=this._getJunction(this.__hAlign,this.__vAlign,n),u=this._getJunction(this.__hAlign,this.__vAlign,i);a.scale(e,e),s=t._MatrixUtility._transformPoint(a,s),o=u.x-s.x+l.x,r=u.y-s.y+l.y}else o=i.center.x+l.x,r=i.center.y+l.y;return[o,r]},o.prototype._getJunction=function(e,n,i){var o=i.center;switch(e){case t.HAlign.Left:o.x=i.left;break;case t.HAlign.Right:o.x=i.right}switch(n){case t.VAlign.Top:o.y=i.top;break;case t.VAlign.Bottom:o.y=i.bottom}return o},o.prototype._beforeRender=function(t,e){this._showGraticule&&this._drawGraticule(t,e)},o.prototype._drawGraticule=function(t,n){new e.Graticule(this._getAdviser(),this._dλ,this._dφ).render(t,this._rectangle())},o.prototype._mapProjection=function(e){var n=this._plotView()._getDefinition()._pluginCollection,i=t._BuildInMapProjectionBuilderCollection._defaultBuildInMapProjectionBuilders()._mapProjection(e,[],n);if(null!=i)return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue,i)},o}(e.BaseViewPort),e.GeoViewPort=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(){function e(t,e,n){this.__dλ=10,this.__dφ=10,this.__adviser=t,this._step(e,n)}return e.prototype._applyStyle=function(t){this.__style=t},e.prototype._step=function(t,e){isNaN(t)||isNaN(e)||(this.__dλ=t,this.__dφ=e)},e.prototype._gettGraticuleLines=function(t){return t._graticuleLines(this.__dλ,this.__dφ)},e.prototype.render=function(e,n){if(void 0===n&&(n=null),this.__adviser){e.beginTransform();var i=null==this.__style?t._StyleCloneMaker._styleCloneMaker._cloneOf(this._defaultGraticuleStyle()):this.__style;t._StyleUtility._applyAllStyle(e,i);var o=this._gettGraticuleLines(this.__adviser);if(null!=n){for(var r=[],l=0,a=o;l<a.length;l++){var s=a[l];r.push.apply(r,this._clipLine(s,n))}o=r}var u=t._GeoPath.lines(o);if(null!=u){var _=u._d(),p=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(_);e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}e.restoreTransform()}},e.prototype._clipLine=function(t,e){var n=[];if(t.length<1)return n;for(var i=0,o=this._pointOutbox(t[0],e),r=0;r<t.length;++r){var l=t[r];o?this._pointOutbox(l,e)||(o=!1,i=r):this._pointOutbox(l,e)&&(n.push(t.slice(i,r)),o=!0)}return o||(0===i?n.push(t):n.push(t.slice(i))),n},e.prototype._pointOutbox=function(t,e){return t[0]<e.left||t[0]>e.right||t[1]<e.top||t[1]>e.bottom},e.prototype._defaultGraticuleStyle=function(){return null==e.__defaultStyle&&(e.__defaultStyle=t._StyleUtility._buildStyle(null,"none",.5,"#777",.5)),e.__defaultStyle},e}(),e.Graticule=n}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.build=function(t,e){return this._createViewPortBy(t,e)},e._createViewPortBy=function(e,n){return n.option.projection==t.ProjectionType.AlbersUsa?new t.AlbersUsaViewPort(e,n):new t.GeoViewPort(e,n)},e}();t.MapViewPortBuilder=e}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t){e.evaluate(t)}))},e}(t.models._ConditionalFormattingRuleRunner);e._MapConditionalFormattingRuleRunner=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(i,o){var r=n.call(this,i._plotView())||this;r._hover=!1,r._externalStyle=null,r.__viewPort=i,r.__feature=o,r.__geoShapes=r.feature.geometry.shapes;for(var l=[],a=Number.NEGATIVE_INFINITY,s=0,u=r.__geoShapes;s<u.length;s++)if((y=u[s])instanceof e.models._GeoPolygonShape)(c=t._Util._polygonArea(y.polygon.points))>a&&(a=c,l=y.polygon.points);else if(y instanceof e.models._GeoPathShape)for(var _=0,p=y.polygons;_<p.length;_++){var c,h=p[_];(c=t._Util._polygonArea(h.points))>a&&(a=c,l=h.points)}if(l.length<=0)return r._visible=!1,r;r.__center=t._Util._getCenterOfGravityPoint(l),r.__xss=[],r.__yss=[];for(var f=0,d=r.__geoShapes;f<d.length;f++){var y;if((y=d[f])instanceof e.models._GeoPolygonShape)r.__xss.push(y.polygon.points.map((function(t){return t.x}))),r.__yss.push(y.polygon.points.map((function(t){return t.y})));else if(y instanceof e.models._GeoPathShape)for(var g=0,m=y.polygons;g<m.length;g++)h=m[g],r.__xss.push(h.points.map((function(t){return t.x}))),r.__yss.push(h.points.map((function(t){return t.y})))}return r}return i(o,n),o.prototype._getStyle=function(){return this.__style},o.prototype._setStyle=function(t){this.__style=t},o.prototype._getSelectionStyle=function(){return this.__selectionStyle},o.prototype._setSelectionStyle=function(t){this.__selectionStyle=t},o.prototype._getHoverStyle=function(){return this.__hoverStyle},o.prototype._setHoverStyle=function(t){this.__hoverStyle=t},o.prototype._color=function(){return this.__color},o.prototype._updateColor=function(t){this.__color!=t&&(this.__color=t)},Object.defineProperty(o.prototype,"feature",{get:function(){return this.__feature},enumerable:!0,configurable:!0}),o.prototype._xss=function(){return this.__xss},o.prototype._yss=function(){return this.__yss},o.prototype._defaultStyle=function(){return null==o.__defaultStyle&&(o.__defaultStyle=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultLineStyle()),t._StyleUtility._applyFill(o.__defaultStyle,new t._CssColor("#ffffff")),t._StyleUtility._applyStroke(o.__defaultStyle,new t._CssColor("#000000")),o.__defaultStyle.strokeWidth=.5),o.__defaultStyle},o.prototype._center=function(){return this.__center},o.prototype._drawView=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,this._defaultStyle()),t._StyleUtility._applyDataPointStyleOption(n,this.__viewPort._source().option.style);var o=this._color();null!=o&&(n.fill=o),t._StyleUtility._applyDataPointStyleOption(n,this._getStyle()),i.hasSelectionInPlotArea&&t._StyleUtility._applyDataPointStyleOption(n,this._getSelectionStyle()),this._hover&&t._StyleUtility._applyDataPointStyleOption(n,this._getHoverStyle()),t._StyleUtility._applyAllStyle(n,this._externalStyle);for(var r=0,l=this.__geoShapes;r<l.length;r++){var a=l[r];if(a instanceof e.models._GeoPathShape)n.drawPath(a.path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter);else if(a instanceof e.models._GeoPolygonShape){var s=a.polygon.points.map((function(t){return t.x})),u=a.polygon.points.map((function(t){return t.y}));n.drawPolygon(s,u)}}n.restoreTransform()},o.prototype._hitTest=function(e,i,o){if(this._zLevel!=i)return null;for(var r=0;r<this.__xss.length;++r){var l=this.__xss[r],a=this.__yss[r];if(t._Util.IsPointInPolygon2(e,l,a)){var s=new t.HitTestResult(e,null,this,null);return null==o||null!=o&&o.predicate(s)?s:null}}return n.prototype._hitTest.call(this,e,i,o)},o}(t._BaseView),e._GeographicShapeView=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__shapeViews=[],i}return i(n,e),n.prototype._viewPort=function(t){return null!=t&&(this.__viewPort=t),this.__viewPort},n.prototype._scale=function(e,n){if(this.__viewPort&&null!=e&&null!=n){var i=this._viewPort()._getFoward()(e,n);return isNaN(i[0])||isNaN(i[1])?null:new t.core.Point(i[0],i[1])}return null},n.prototype._invert=function(e,n){if(this.__viewPort){var i=this._viewPort()._getInvert()(e,n);return isNaN(i[0])||isNaN(i[1])?null:new t.core.Point(i[0],i[1])}return null},n.prototype._shapeViews=function(){return this.__shapeViews},n.prototype._className=function(){return n.__constClassName},n.prototype._layoutContent=function(t,n,i){this._updateRectangle(n),n.width>0&&n.height>0&&null!=this.__viewPort&&this._viewPort()._layout(n),e.prototype._layoutContent.call(this,t,n,i)},n.prototype._drawView=function(t,n){!n._renderLabel&&this.__viewPort&&this.__viewPort._render(t,n),e.prototype._drawView.call(this,t,n)},n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n.__constClassName="gcdv-geography-coordinate-system",n}(t._ZoomableCoordinateSystemView),e._GeographyCoordinateSystemView=n}(t||(t={})),function(t){!function(t){t._isGeographicShapeView=function(t){return!1}}(t.map||(t.map={}))}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._BaseMapPlotView);t._DetailedMapPlotView=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._symbolMapPointView=function(){return this._ownerView},n.prototype._layoutContent=function(e,n,i){var o=this._symbolMapPointView(),r=o._getPlotView();n=o._rectangle();var l=r._getLayoutView()._dataLabelsRectangle(),a=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=n.center.clone(),u=s.clone();u.x+a.width/2>l.right&&(u.x=l.right-a.width/2),u.x-a.width/2<l.left&&(u.x=l.left+a.width/2),u.y+a.height/2>l.bottom&&(u.y=l.bottom-a.height/2),u.y-a.height/2<l.top&&(u.y=l.top+a.height/2),this._textView()._layout(e,i,new t.core.Rect(u.x-a.width/2,u.y-a.height/2,a.width,a.height)),this._startPoint=s,this._endPoint=u},n}(t._PointDataLabelView),e._MapSymbolDataLabelView=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(e,i,o){var r=n.call(this,e,i,o)||this;return r.__defaultShape="Dot",r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return i(o,n),o.prototype._baseMapPlotView=function(){return this._ownerView},o.prototype._layoutContent=function(e,n,i){var o=this._getLocation();if(o){var r=this.size,l=this._getStyleSymbolSize();null==(r=null==r?l:l*r)&&(r=10);var a=o;this._updateRectangle(new t.core.Rect(a.x-r/2,a.y-r/2,r,r)),this._visible=!0}else this._visible=!1},o.prototype._symbolDefinition=function(){return null!=this.__symbolDefinition&&null==this._internalStyle()||(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},o.prototype._symbol=function(){return this.__symbol},o.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()},o.prototype._draw=function(e,n){this._renderSymbol1(e,t._DrawingUtility._scaleRectangle(this._rectangle(),this._scale),n)},o.prototype._renderSymbol1=function(t,e,n){var i=this._calculateStyle(n);this._applyDataPointExternalStyle(i),this.__symbol=this._symbolDefinition().createSymbol(e,i),this.__symbol.render(t,n)},o.prototype._contains=function(t){return null!=this.__symbol?this.__symbol.contains(t):this._rectangle().contains(t)},o.prototype._cutOff=function(){return!1},o.prototype._hitTest=function(e,i,o){if(this._zLevel!=i)return null;if(this.__drawablePipeline.contains(e)){var r=this._pointLayoutListView(),l=null==r?null:r._hitTest(e,i,o);return null!=l?l:(l=new t.HitTestResult(e,this,this,t.ElementType.DataPoint),null==o||null!=o&&o.predicate(l)?l:null)}return n.prototype._hitTest.call(this,e,i,o)},o.prototype._createDataLabelView=function(t){var n=this._dataLabel();return null!=n?new e._MapSymbolDataLabelView(this,n,t):null},o.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},o.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},o.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},o.prototype._pointsRect=function(){return this._rectangle()},Object.defineProperty(o.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!0,configurable:!0}),o.prototype._createSymbolDefinition=function(){var n=this._getDefinition(),i=null;if(n instanceof e.models._BaseMapPlotDefinition){var o=n._encodingsDefinition._getShapeEncodingDefinition();o instanceof t._SingleDataFieldLegendEncodingDefinition&&(i=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))}var r=this._getStyleSymbolShape(),l=this.shape,a=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(n._symbolDefinitionProviders(),i,r,l,a)},o.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:n.prototype.queryInterface.call(this,t)},o}(e._BaseMapPointView),e._SymbolMapPointView=n}(t||(t={})),function(t){t._isDetailedMapPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isSymbolMapPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isLatLongMapPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isLatLongMapPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._createPointViews(),o}return i(n,e),n.prototype._createPointView=function(e){return new t.map._LatLongMapPointView(this,e,null)},n.prototype._layoutContent=function(t,n,i){this._visualViews.length=0;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._visualViews.push(l),l._layout(t,null,i)}e.prototype._layoutContent.call(this,t,n,i)},n.prototype._draw=function(e,n){null!=this._definition._dvConfigOption.selectionMode&&this._definition._dvConfigOption.selectionMode!=t.SelectionMode.None&&t._Util.sort(this._visualViews,(function(e,n){if(e==n)return!1;if(t._isSelectingView(e))return e._isSelected();throw new t.RuntimeError(t.ErrorCode.Unknown)}));for(var i=0;i<this._visualViews.length;++i)this._visualViews[i]._render(e,n)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=this._visualViews.length-1;o>=0;--o){var r=this._visualViews[o]._hitTest(t,n,i);if(null!=r)return r}return e.prototype._hitTest.call(this,t,n,i)},n}(t._BaseMapPlotView);t._LatLongMapPlotView=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(e,i,o){return n.call(this,e,i,null==o?new t._PointStyleBuilder(!0):o)||this}return i(o,n),o.prototype._latLongMapPointDataModel=function(){return this._data()},o.prototype._layoutContent=function(t,e,i){this._updateLocation(this._data()),n.prototype._layoutContent.call(this,t,e,i)},o.prototype._updateLocation=function(t){var e=this._getPlotView()._geographyCoordinateSystemView()._scale(t._longitude,t._latitude);e&&this._setLocation(e)},o.prototype._createDataLabelContent=function(){var n=this._latLongMapPointDataModel()._plot()._mapPlotDefinition()._encodingsDefinition._textEncodingDefinitions,i=null;if(n&&n.length>0&&null==(i=this._customDataLabelTemplate())&&(i=this._defaultDataLabelTemplate(n)),null==i||""==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new e.models._LatLongMapTextProxy(this,this._latLongMapPointDataModel(),n),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s),_=this._toLines(u);return null!=_&&_.length>0?new t.models._DataLabelContent(_,this):null},o.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},o.prototype._createTooltipHtmlContent=function(n){var i=this._data()._plot()._mapPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,o=null;i&&i.length>0&&null==(o=this._customTooltipTemplate(n))&&(o=this._defaultTooltipTemplate(i));var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new e.models._LatLongMapTextProxy(this,this._data(),i),s=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,_=r.evaluate(l,a,s,u);return this._toHtml(_)},o}(e._SymbolMapPointView),e._LatLongMapPointView=n}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._mapPointView=function(){return this._ownerView},n.prototype._layoutContent=function(e,n,i){var o=this._mapPointView(),r=o._getPlotView(),l=o._shapeView();if(null!=l){var a=r._getLayoutView()._dataLabelsRectangle(),s=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,u=l._center(),_=u.clone();_.x+s.width/2>a.right&&(_.x=a.right-s.width/2),_.x-s.width/2<a.left&&(_.x=a.left+s.width/2),_.y+s.height/2>a.bottom&&(_.y=a.bottom-s.height/2),_.y-s.height/2<a.top&&(_.y=a.top+s.height/2),this._textView()._layout(e,i,new t.core.Rect(_.x-s.width/2,_.y-s.height/2,s.width,s.height)),this._startPoint=u,this._endPoint=_}},n}(t._PointDataLabelView),e._MapDataLabelView=n}(t||(t={})),function(t){t._isMapPlotView=function(e){return null!=e&&e instanceof t._MapPlotView}}(t||(t={})),function(t){t._isMapPointView=function(t){var e=t;return null!=e&&"function"==typeof e._shape&&"function"==typeof e._shapeView&&"function"==typeof e._xss&&"function"==typeof e._yss}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._attachCoordinateSystemViewPort(),o._createPointViews(),o}return i(n,e),n.prototype._mapPlotDefinition=function(){return this._definition},n.prototype._createPointView=function(e){return new t.map._MapPointView(this,e,null)},n.prototype._layoutContent=function(t,e,n){this._visualViews.length=0;for(var i=0,o=this._pointViews;i<o.length;i++){var r=o[i];this._visualViews.push(r),r._layout(t,null,n)}},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._draw=function(t,e){for(var n=0,i=this._pointViews;n<i.length;n++)i[n]._render(t,e)},n.prototype._attachCoordinateSystemViewPort=function(){var e=this._definition._plotConfigOption.option(),n=new t.map.options._MapConfigOption(null==e?null:e.map),i=new t.map.models._GeographicSource(n),o=t.map.MapViewPortBuilder.build(this,i);this._geographyCoordinateSystemView()._viewPort(o)},n}(t._DetailedMapPlotView);t._MapPlotView=e}(t||(t={})),function(t){var e,n,o;e=t.map||(t.map={}),n=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype._createPoints=function(n){if(n instanceof o){for(var i=n._xss(),r=n._yss(),l=Math.min(i.length,r.length),a=void 0,s=void 0,u=void 0,_=void 0,p=void 0,c=void 0,h=void 0,f=void 0,d=0;d<l;++d)for(var y=i[d],g=r[d],m=0;m<y.length;++m)(null==a||a>y[m])&&(a=y[m],p=g[m]),(null==s||s<y[m])&&(s=y[m],c=g[m]),(null==u||u>g[m])&&(u=g[m],h=y[m]),(null==_||_<g[m])&&(_=g[m],f=y[m]);var v=[];return v.push(new t.core.Point(a,p)),v.push(new t.core.Point(s,c)),v.push(new t.core.Point(h,u)),v.push(new t.core.Point(f,_)),v}return e.prototype._createPoints.call(this,n)},n}(t._PointAdorner),o=function(o){function r(t,n,i){return o.call(this,t,n,null==i?new e._MapPointStyleBuilder:i)||this}return i(r,o),r.prototype._mapPlotView=function(){return this._ownerView},r.prototype._onHoverChanged=function(){var t=this._shapeView();null!=t&&(t._hover=this._hover)},r.prototype._onSelectedChanged=function(){var e=this._shapeView();if(null!=e)if(this._isSelected()){var n=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);n._merge(this._getDefinition()._plotConfigOption.selectedStyle),e._setSelectionStyle(n)}else{var i=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);i._merge(this._getDefinition()._plotConfigOption.unselectedStyle),e._setSelectionStyle(i)}},r.prototype._shape=function(){for(var e=this._xss(),n=this._yss(),i=[],o=Math.min(e.length,n.length),r=0;r<o;r++)for(var l=e[r],a=n[r],s=Math.min(l.length,a.length),u=0;u<s;u++)i.push(new t.core.Point(l[u],a[u]));return new t._PolygonShape(i)},Object.defineProperty(r.prototype,"location",{get:function(){return this._data()._location()},enumerable:!0,configurable:!0}),r.prototype._shapeView=function(){return this.__shapeView},r.prototype._createDataLabelView=function(t){var n=this._dataLabel();return null!=n?new e._MapDataLabelView(this,n,t):null},r.prototype._findShapeView=function(t){for(var e=this._data(),n=0,i=t._viewPort()._shapeViews();n<i.length;n++){var o=i[n];if(null!=e._location()&&e._location().identify==o.feature.name)return o}return null},r.prototype._layoutContent=function(t,e,n){o.prototype._layoutContent.call(this,t,e,n);var i=this._getPlotView(),r=this._findShapeView(i._geographyCoordinateSystemView());null!=r&&(this._setLocation(r._center().clone()),this.__shapeView=r)},r.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;var r=this._shapeView();if(null!=r){var l=r._hitTest(e,n,null);if(null!=l){var a=new t.HitTestResult(l.point,this,this,t.ElementType.DataPoint);return null==i||null!=i&&i.predicate(a)?a:null}}return o.prototype._hitTest.call(this,e,n,i)},r.prototype._drawView=function(t,e){o.prototype._drawView.call(this,t,e);var n=this._shapeView();null!=n&&(n._updateColor(this.color),n._setStyle(this.style),n._setHoverStyle(this._getDefinition()._plotConfigOption.hoverStyle),this._isSelected()?n._setSelectionStyle(this.selectedStyle):n._setSelectionStyle(this.unselectedStyle),n._render(t,e))},r.prototype._xss=function(){return this._shapeView()._xss()},r.prototype._yss=function(){return this._shapeView()._yss()},r.prototype._selectionAdorner=function(){return new n(this)},r.prototype._createDataLabelContent=function(){var n=this._data()._plot()._mapPlotDefinition()._encodingsDefinition._textEncodingDefinitions,i=null;if(n&&n.length>0&&null==(i=this._customDataLabelTemplate())&&(i=this._defaultDataLabelTemplate(n)),null==i||""==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new e.models._MapTextProxy(this,this._data(),n),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s),_=this._toLines(u);return null!=_&&_.length>0?new t.models._DataLabelContent(_,this):null},r.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},r.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},r.prototype._createTooltipHtmlContent=function(n){var i=this._data()._plot()._mapPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,o=null;i&&i.length>0&&null==(o=this._customTooltipTemplate(n))&&(o=this._defaultTooltipTemplate(i));var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new e.models._MapTextProxy(this,this._data(),i),s=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,_=r.evaluate(l,a,s,u);return this._toHtml(_)},r.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},r.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},r}(e._BaseMapPointView),e._MapPointView=o}(t||(t={})),function(t){t._isScatterMapPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isScatterMapPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._createPointViews(),o}return i(n,e),n.prototype._createPointView=function(e){return new t.map._ScatterMapPointView(this,e,null)},n.prototype._layoutContent=function(t,n,i){this._visualViews.length=0;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._visualViews.push(l),l._layout(t,null,i)}e.prototype._layoutContent.call(this,t,n,i)},n.prototype._render=function(n,i){null!=this._definition._dvConfigOption.selectionMode&&this._definition._dvConfigOption.selectionMode!=t.SelectionMode.None&&t._Util.sort(this._visualViews,(function(e,n){if(e==n)return!1;if(t._isSelectingView(e))return e._isSelected();throw new t.RuntimeError(t.ErrorCode.Unknown)})),e.prototype._render.call(this,n,i)},n.prototype._draw=function(t,e){for(var n=0;n<this._visualViews.length;++n)this._visualViews[n]._render(t,e)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=this._visualViews.length-1;o>=0;--o){var r=this._visualViews[o]._hitTest(t,n,i);if(null!=r)return r}return e.prototype._hitTest.call(this,t,n,i)},n}(t._DetailedMapPlotView);t._ScatterMapPlotView=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(e,i,o){return n.call(this,e,i,null==o?new t._PointStyleBuilder(!0):o)||this}return i(o,n),Object.defineProperty(o.prototype,"location",{get:function(){return this._data()._location()},enumerable:!0,configurable:!0}),o.prototype._updateLocation=function(t){for(var e=this._data(),n=0,i=t._viewPort()._shapeViews();n<i.length;n++){var o=i[n];if(null!=e._location()&&e._location().identify==o.feature.name){this._setLocation(o._center().clone());break}}},o.prototype._layoutContent=function(t,e,i){var o=this._getPlotView();this._updateLocation(o._geographyCoordinateSystemView()),n.prototype._layoutContent.call(this,t,e,i)},o.prototype._createDataLabelContent=function(){var n=this._data()._plot()._mapPlotDefinition()._encodingsDefinition._textEncodingDefinitions,i=null;if(n&&n.length>0&&null==(i=this._customDataLabelTemplate())&&(i=this._defaultDataLabelTemplate(n)),null==i||""==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new e.models._ScatterDetailedMapTextProxy(this,this._data(),n),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s),_=this._toLines(u);return null!=_&&_.length>0?new t.models._DataLabelContent(_,this):null},o.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},o.prototype._createTooltipHtmlContent=function(n){var i=this._data()._plot()._mapPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,o=null;i&&i.length>0&&null==(o=this._customTooltipTemplate(n))&&(o=this._defaultTooltipTemplate(i));var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new e.models._ScatterDetailedMapTextProxy(this,this._data(),i),s=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,_=r.evaluate(l,a,s,u);return this._toHtml(_)},o}(e._SymbolMapPointView),e._ScatterMapPointView=n}(t||(t={})),function(t){!function(t){!function(t){t[t.Point=0]="Point",t[t.MultiPoint=1]="MultiPoint",t[t.LineString=2]="LineString",t[t.MultiLineString=3]="MultiLineString",t[t.Polygon=4]="Polygon",t[t.MultiPolygon=5]="MultiPolygon",t[t.GeometryCollection=6]="GeometryCollection",t[t.Feature=7]="Feature",t[t.FeatureCollection=8]="FeatureCollection"}(t.GeoType||(t.GeoType={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Mercator=0]="Mercator",t[t.Albers=1]="Albers",t[t.AlbersUsa=2]="AlbersUsa"}(t.ProjectionType||(t.ProjectionType={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){t._isMapXyValueDimensionDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._longitudeDefinition&&"function"==typeof e._latitudeDefinition&&void 0!==e._plotDefinition&&"function"==typeof e._fieldDefinition}}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(t,n,i,o){var r=e.call(this,t,n,null)||this;return r.__longitudeDefinition=i,r.__latitudeDefinition=o,r}return i(n,e),n.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new o(this,this._plotDefinition,this.__longitudeDefinition,this.__latitudeDefinition,e)}return this.__valueDimensionDefinition},n}(t._ValueEncodingDefinition);e._MapXyValueEncodingDefinition=n;var o=function(t){function n(e,n,i,o,r){var l=t.call(this,e,o._label)||this;return l._plotDefinition=n,l.__fieldDefinition=o,l.__longitudeDefinition=i,l.__latitudeDefinition=o,l._excludeNullsFilter=r,l}return i(n,t),n.prototype._longitudeDefinition=function(){return this.__longitudeDefinition},n.prototype._latitudeDefinition=function(){return this.__latitudeDefinition},n.prototype._fieldDefinition=function(){return this.__fieldDefinition},Object.defineProperty(n.prototype,"_identifier",{get:function(){return this.__fieldDefinition._dataField._name},enumerable:!0,configurable:!0}),n.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},n.prototype._toValues=function(t,e){return[]},n.prototype.equalsWith=function(n){if(this==n)return!0;if(e._isMapXyValueDimensionDefinition(n)){var i=n;return!!this._fieldDefinition().equalsWith(i._fieldDefinition())&&t.prototype.equalsWith.call(this,n)}return!1},n.prototype.queryInterface=function(e){return"IMapXyValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},n}(t._BaseDimensionDefinition)}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){var o=i,r=o.field;if(null==r)return null;if("string"==typeof r){var l=t._EscapedCharacterStringUtility._split(r,","),a=null!=o.label?o.label.split(","):[];if(l.length>1){var s=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(l[0],n._dataSchema,a.length>0?a[0]:null),u=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(l[1],n._dataSchema,a.length>1?a[1]:null);if(null!=s&&t._isNumberDataFieldDefinition(s)&&null!=u&&t._isNumberDataFieldDefinition(u))return new e._MapXyValueEncodingDefinition(n,!0,s,u)}}}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._MapXyValueEncodingDefinitionBuilder=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,r;e=t.map||(t.map={}),n=e.options||(e.options={}),r=function(r){function l(){return null!==r&&r.apply(this,arguments)||this}return i(l,r),Object.defineProperty(l.prototype,"propertyName",{get:function(){return this.__propertyName},set:function(t){t!=this.__propertyName&&(this.__propertyName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showGraticule",{get:function(){return this.__showGraticule},set:function(t){null!=t&&t!=this.__showGraticule&&(this.__showGraticule=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parallels",{get:function(){return this.__parallels},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__parallels=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"geojson",{get:function(){return this.__geojson},set:function(t){null!=t&&t!=this.__geojson&&(this.__geojson=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"center",{get:function(){return this.__center},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__center=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotate3d",{get:function(){return this.__rotate3d},set:function(e){if(!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)){var i=t._JsonElementUtility._getAsArray(e);1!==i.length||isNaN(i[0])?2!==i.length||isNaN(i[0])||isNaN(i[1])?3!==i.length||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||(this.__rotate3d=new n._Rotate3DOption(i[0],i[1],i[2])):this.__rotate3d=new n._Rotate3DOption(i[0],i[1],0):this.__rotate3d=new n._Rotate3DOption(i[0],0,0)}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translate",{get:function(){return this.__translate},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__translate=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){null!=t&&t!=this.__zoom&&(this.__zoom=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"projection",{get:function(){return this.__projection},set:function(t){null!=this.__projection&&this.__projection==t||(this.__projection=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){null!=this.__hAlign&&this.__hAlign==t||(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){null!=this.__vAlign&&this.__vAlign==t||(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!==e&&(null==e&&(e=new t.options._DataPointStyleOption),this.__style=e)},enumerable:!0,configurable:!0}),l.prototype.init=function(){r.prototype.init.call(this),this.__center=null,this.__geojson=null,this.__translate=null,this.__zoom=null,this.__projection=e.ProjectionType.Mercator,this.__hAlign=null,this.__vAlign=null,this.__style=new t.options._DataPointStyleOption(null),this.__parallels=null,this.__rotate3d=null,this.__showGraticule=null,this.__propertyName=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],l.prototype,"propertyName",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,e.ProjectionType,e.ProjectionType.Mercator)],l.prototype,"projection",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],l.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],l.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],l.prototype,"style",null),l}(t.options._Option),n._MapConfigOption=r}(t||(t={})),function(t){!function(t){!function(t){var e=function(t,e,n){this.x=t,this.y=e,this.z=n};t._Rotate3DOption=e}(t.options||(t.options={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="MapProjection",this.type=t._BuildInMapProjectionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildMapProjection=function(e){if(e.projection===t.map.ProjectionType.Albers){var n=0,i=60;return e.parallels&&(n=e.parallels.x,i=e.parallels.y),t.map.models.AlbersMapProjection.from(n,i)}return null},e.prototype.queryInterface=function(t){return"IMapProjectionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AlbersMapProjectionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._GeographyCoordinateSystemDefinition._type?new t._GeographyCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GeographyCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.map.models._BaseMapPlotDefinition){if(t.map.options._isGeoPathOverlayOption(n)){var o=n;return new t._GeographyPathDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Path"===(o=n).type&&t.options._isJsonOption(n))return new t._GeographyPathDefinition(e,new t.map.options._GeoPathOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GeoPathOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(e){function n(t,n){var i=e.call(this)||this;return i.__plot=t,i.__option=n,i}return i(n,e),n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__plot,this.__option)},n.prototype._getPointInfo=function(e,n){var i=e._geographyCoordinateSystemView()._scale(n.location[0],n.location[1]);return null==i?null:new t.PointAttachInfo(i,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical().reverse())},n}(t._PointAttachmentAgent),e._GeoPathOverlayPointAttachmentAgent=n}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,null,1)),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return null!=this._option.path&&null!=this._option.location&&t._isMapPlotView(e)?new t.map._GeoPathOverlayView(e,this):null},n.prototype.queryInterface=function(t){return null},n}(t._BaseOverlayDefinition);t._GeographyPathDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i){var o=e.call(this)||this;o.__paths=[];for(var r=0,l=n;r<l.length;r++){var a=l[r];o.__paths.push(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(a))}return o.__bbox=i,o.__matrix=new t.Matrix,o}return i(n,e),n.prototype._box=function(){var e=t._MatrixUtility._transformPoint(this.__matrix,new t.core.Point(this.__bbox.right,this.__bbox.bottom));return new t.core.Rect(0,0,e.x,e.y)},n.prototype._junction=function(e,n){var i=t._MatrixUtility._transformPoint(this.__matrix,new t.core.Point(this.__bbox.left,this.__bbox.top));return t._MatrixUtility._transformPoint(e,i)},n._from=function(t){var e=n._getBoundingBoxOfPath(t);return null==e?null:new n(t,e)},n.prototype.setSize=function(t,e){var n=this.__bbox;(null==t||isNaN(t)||t<=0)&&(t=n.width),(null==e||isNaN(e)||e<=0)&&(e=n.height);var i=t/n.width,o=e/n.height;this.__matrix.reset(),this.__matrix.scale(i,o)},n._getBoundingBoxOfPath=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r),a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l);n=null==n?a:t._DrawingUtility._unionOfRectangles(n,a)}return n},n.prototype._paths=function(){return this.__paths},n.prototype._refresh=function(t){},n.prototype._renderRefresh=function(t){this.strokeWidth=t.strokeWidth},n.prototype._draw=function(e){var n=this;e.drawGroup(null,null,this.__matrix,(function(e){for(var i=0,o=n.__paths;i<o.length;i++){var r=o[i];e.drawPath(r,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}}))},n.prototype._contain=function(n){return n=t._MatrixUtility._transformPoint(this.__matrix.invert(),n),e.prototype._contain.call(this,n)},n.prototype._containStroke=function(n){return n=t._MatrixUtility._transformPoint(this.__matrix.invert(),n),e.prototype._containStroke.call(this,n)},n}(t._PathPrototype);t.GeoPathShape=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(n){function o(t,e){return n.call(this,t,e)||this}return i(o,n),o.prototype._baseColor=function(){return null==this.__baseColor?t._CssColor._defaultStyleColor():this.__baseColor},o.prototype._applyPaletteColor=function(){this.__baseColor=this._getColor()},o.prototype._initializeStyle=function(){this._shouldApplyColorFromPalette()&&this._applyPaletteColor()},o.prototype._shouldApplyColorFromPalette=function(){var t=this._definition._option;return null==t.style||null==t.style.stroke||null==t.style.fill},o.prototype._mapPlotView=function(){return this._ownerView},o.prototype.createOverlayItemViews=function(){this.__templateAnnotation=this._createAnnotation()},o.prototype.useData=function(){},o.prototype._createAnnotation=function(){var n=this._definition._option,i=t.GeoPathShape._from(n.path);if(null==i)return null;var o=new t._TemplateAnnotation;o._content(i),o._bindAttachmentAgent(new e._GeoPathOverlayPointAttachmentAgent(this._mapPlotView(),n));var r=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=r&&(o.xOffset=r.x,o.yOffset=r.y),o},o.prototype._annotationStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._definition._defaultStyle());return e.fill=this._baseColor(),e.stroke=this._baseColor(),t._StyleUtility._applyOverlayStyleOption(e,this._definition._option.style),e},o.prototype._initContent=function(){var e=this._definition._option,n=this.__templateAnnotation._content(),i=Math.min(this._plotView()._getLayoutView()._rectangle().width,this._plotView()._getLayoutView()._rectangle().height),o=null;null!=e.width&&(e.width.type==t.ValueOptionType.Percentage?o=e.width.value*i:e.width.type==t.ValueOptionType.Pixel&&(o=e.width.value));var r=null;null!=e.height&&(e.height.type==t.ValueOptionType.Percentage?r=e.height.value*i:e.height.type==t.ValueOptionType.Pixel&&(r=e.height.value)),n.setSize(o,r)},o.prototype._layoutContent=function(t,e){t.beginTransform(),null!=this.__templateAnnotation&&(this._initContent(),this.__templateAnnotation._applyCustomStyle(this._annotationStyle()),this.__templateAnnotation._layout(t,e)),t.restoreTransform()},o.prototype._drawView=function(t,e){null!=this.__templateAnnotation&&this.__templateAnnotation._render(t,e)},o.prototype.box=function(){if(null!=this.__templateAnnotation){var t=this.__templateAnnotation.queryInterface("IBoxBounded");if(null!=t)return t.box()}return null},o.prototype.queryInterface=function(e){return"IBoxBounded"===e?t.BoxBounded._pack(this):n.prototype.queryInterface.call(this,e)},o}(t._BaseOverlayView),e._GeoPathOverlayView=n}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){null!=this.__offset&&this.__offset==t||(this.__offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.__path},set:function(t){this.__path=[],null!=t&&(this.__path=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!=e&&(null==e&&(e=new t.options._OverlayStyleOption),this.__style=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"location",{get:function(){return this.__location},set:function(e){if(this.__location=[],t._JsonElementUtility._isNull(e))throw new t.RuntimeError(t.ErrorCode.FormatInvalid);if(t._JsonElementUtility._isArray(e)&&2!=e.length)throw new t.RuntimeError(t.ErrorCode.FormatInvalid);null!=e&&(this.__location=e.slice())},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type="Path",this.__width=null,this.__height=null,this.__path=[],this.__style=new t.options._OverlayStyleOption(null),this.__location=[],this.__offset=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"offset",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"string")],n.prototype,"path",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_OverlayStyleOption")],n.prototype,"style",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"number")],n.prototype,"location",null),n}(t.options._OverlayOption);e._GeoPathOverlayOption=n,e._isGeoPathOverlayOption=function(e){return!!t.options._isOverlayOption(e)&&e instanceof n}}((e=t.map||(t.map={})).options||(e.options={}))}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")&&t._JsonElementUtility._hasProperty(i,"location")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Path"===t._JsonElementUtility._getAsString(r))return!0}return!1},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.map.options._GeoPathOverlayOption,e,n):(this._processError(e),null)},n}(t._OverlayOptionConverter);t._GeoPathOverlayOptionConverter=e}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="MapColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t.map.models._BaseMapPlotDefinition&&i instanceof t._MapEncodingsDefinitionContext){var l=n,a=t._NumbericLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=a)return a;var s=t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=s)return s;var u=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=u?u:new t._EmptyLegendDefinition(e,t.LegendType.Color)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MapColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterMapBackgroundColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isBackgroundColorEncodingOption(n)&&(e instanceof t.map.models._ScatterDetailedMapPlotDefinition||e instanceof t.map.models._ScatterLatLongMapPlotDefinition)&&i instanceof t._MapEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.BackgroundColor,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.BackgroundColor)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterMapBackgroundColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterMapLightnessLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isLightnessEncodingOption(n)&&(e instanceof t.map.models._DetailedMapPlotDefinition||e instanceof t.map.models._ScatterLatLongMapPlotDefinition)&&i instanceof t._MapEncodingsDefinitionContext){var l=n,a=t._LightnessLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Lightness,l,o,r);return null!=a?(t._LegendInitializerBuilderCollection._defaultCollection._add(new t._LightnessLegendInitializerBuilder),a):new t._EmptyLegendDefinition(e,t.LegendType.Lightness)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterMapLightnessLegendPlugin=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterMapShapeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isShapeEncodingOption(n)&&(e instanceof t.map.models._ScatterDetailedMapPlotDefinition||e instanceof t.map.models._ScatterLatLongMapPlotDefinition)&&i instanceof t._MapEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Shape,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Shape)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterMapShapeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterMapSizeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isSizeEncodingOption(n)&&(e instanceof t.map.models._ScatterDetailedMapPlotDefinition||e instanceof t.map.models._ScatterLatLongMapPlotDefinition)&&i instanceof t._MapEncodingsDefinitionContext){var l=n,a=t._ItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Size,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Size)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterMapSizeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Map",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Map"===n.type?new t.map.models._MapPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},n.prototype._createValueEncodingDefinition=function(t,e,n){return null},n}(t._EncodingsDefinitionBuilder);t._MapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(n){function o(i,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),n.call(this,i,o,r,new e._MapPlotViewBuilder,new t._MapPlotDataBuilder,null==l?new t._MapEncodingsDefinitionBuilder:l,null==a?new t._MapLegendSymbolViewBuilder:a)||this}return i(o,n),o}(e._DetailedMapPlotDefinition);e._MapPlotDefinition=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._MapPlotDefinition?new t._MapPlotView(n,i,o):null},n}();e._MapPlotViewBuilder=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="MapProjection",this.type=t._BuildInMapProjectionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildMapProjection=function(e){return e.projection===t.map.ProjectionType.Mercator?t.map.models.MercatorMapProjection.from():null},e.prototype.queryInterface=function(t){return"IMapProjectionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MercatorMapProjectionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(null!=e&&e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},n.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},n}(t._EncodingsDefinitionBuilder);t._ScatterDetailedMapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){!function(t){!function(t){t._isScatterDetailedMapPlotDefinition=function(t){return!1}}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(n){function o(i,o,r,l){return void 0===l&&(l=null),n.call(this,i,o,r,new e._ScatterDetailedMapPlotViewBuilder,new t._ScatterMapPlotDataBuilder,null==l?new t._ScatterDetailedMapEncodingsDefinitionBuilder:l)||this}return i(o,n),o}(e._DetailedMapPlotDefinition);e._ScatterDetailedMapPlotDefinition=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._ScatterDetailedMapPlotDefinition?new t._ScatterMapPlotView(n,i,o):null},n}();e._ScatterDetailedMapPlotViewBuilder=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type)for(var o=0,r=i._coordinateSystemDefinitions;o<r.length;o++)if(r[o]._type==t._GeographyCoordinateSystemDefinition._type)return new t.map.models._ScatterDetailedMapPlotDefinition(e,e._findDataSchema(n.data),n);return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterDetailedMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},n.prototype._createValueEncodingDefinitions=function(e,n,i){var o=[];if(null!=n&&n.length>0){var r=t.map.models._MapXyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n[0]);null!=r&&o.push(r)}return o},n}(t._EncodingsDefinitionBuilder);t._LatLongMapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(n){function o(i,o,r,l){void 0===l&&(l=null);var a=n.call(this,i,o,r,new e._ScatterLatLongMapPlotViewBuilder,new t._LatLongMapPlotDataBuilder,null==l?new t._LatLongMapEncodingsDefinitionBuilder:l)||this;return null!=r.encodings&&a._buildEncodings(),a}return i(o,n),o.prototype._valueDefinition=function(){return this.__valueDefinition},o.prototype._buildEncodings=function(){if(this._encodingsDefinition._valueEncodingDefinitions.length>0){var t=this._encodingsDefinition._valueEncodingDefinitions[0]._getValueDimensionDefinition();e._isMapXyValueDimensionDefinition(t)&&(this.__valueDefinition=t)}},o}(e._BaseMapPlotDefinition);e._ScatterLatLongMapPlotDefinition=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._ScatterLatLongMapPlotDefinition?new t._LatLongMapPlotView(n,i,o):null},n}();e._ScatterLatLongMapPlotViewBuilder=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type)for(var o=0,r=i._coordinateSystemDefinitions;o<r.length;o++)if(r[o]._type==t._GeographyCoordinateSystemDefinition._type){var l=new t.map.models._ScatterLatLongMapPlotDefinition(e,e._findDataSchema(n.data),n);if(null!=l._valueDefinition())return l}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterLatLongMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterMapTrapezoidLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){return n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Size)&&t._isItemizedLegendDataModel(n)&&n._items().length>0&&(n._getDefinition()._plotDefinition instanceof t.map.models._ScatterDetailedMapPlotDefinition||n._getDefinition()._plotDefinition instanceof t.map.models._ScatterLatLongMapPlotDefinition)?new t._TrapezoidLegendView(e,n):null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterMapTrapezoidLegendViewPlugin=n}(t||(t={})),function(t){var e,n,i;e=t.graph||(t.graph={}),n=e.models||(e.models={}),i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isGraphPlotDefinition(i)?new e._GraphPlotView(n,i,o):null},n}(),n._GraphPlotViewBuilder=i}(t||(t={})),function(t){var e=function(e){function n(i,o,r){return e.call(this,i,n._type,o,r,t._GraphCoordinateSystemViewBuilder._viewBuilder)||this}return i(n,e),n._type="Graph",n}(t._BaseCoordinateSystemDefinition);t._GraphCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__viewports=[],i}return i(n,e),n.prototype.rectangle=function(){return this._rectangle().clone()},n.prototype.matrix=function(){return this._getMatrixOfSpace01(null).values.slice()},n.prototype._getMatrixOfSpace01=function(t){for(var e,n=0,i=this.__viewports;n<i.length;n++){var o=i[n];if(o._spaceName()==t){e=o;break}}if(null==e)return null;var r=e._spaces()[0]._matrix();if(null==r)return null;if(null!=this._transform){var l=this._transform.clone();return l.transform(r),l}return r},n.prototype._addSpace=function(e){if(null!=e&&!e._isEmpty()){for(var n=0,i=this.__viewports;n<i.length;n++)if(i[n]._addSpace(e))return;var o=new t.graph._GraphViewPort(this,e._name);o._addSpace(e),this.__viewports.push(o)}},n.prototype._setViewPortOfSpace=function(e,n,i,o,r){var l;t._AnyTypeUtility._toNumber(e),t._AnyTypeUtility._toNumber(n),t._AnyTypeUtility._toNumber(i),t._AnyTypeUtility._toNumber(o);for(var a=0,s=this.__viewports;a<s.length;a++){var u=s[a];if(u._spaceName()==r){l=u;break}}null!=l&&(l.customizedXExtent=[e,e+i],l.customizedYExtent=[n,n+o])},n.prototype._layoutContent=function(t,n,i){this._updateRectangle(n);for(var o=0,r=this.__viewports;o<r.length;o++)r[o]._refresh();e.prototype._layoutContent.call(this,t,n,i)},n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n.prototype.queryInterface=function(t){return"IGraphCoordinateSystem"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._ZoomableCoordinateSystemView);t._GraphCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._GraphCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._GraphCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(t,e){this.__spaces=[],this.__coordinateSystemView=t,this.__spaceName=e}return e.prototype._spaces=function(){return this.__spaces},e.prototype._addSpace=function(t){return t._name==this.__spaceName&&(this.__spaces.push(t),!0)},e.prototype._cotentRectange=function(){return this.__contentRectange},e.prototype._spaceName=function(){return this.__spaceName},e.prototype._refresh=function(){var t=this.customizedXExtent;if(null==t){t=[Number.MAX_VALUE,-Number.MAX_VALUE];for(var e=0,n=this.__spaces;e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i._xExtent[0]),t[1]=Math.max(t[1],i._xExtent[1])}}var o=this.customizedYExtent;if(null==o){o=[Number.MAX_VALUE,-Number.MAX_VALUE];for(var r=0,l=this.__spaces;r<l.length;r++)i=l[r],o[0]=Math.min(o[0],i._yExtent[0]),o[1]=Math.max(o[1],i._yExtent[1])}this._refreshSpaceBy(t,o)},e.prototype._refreshSpaceBy=function(e,n){var i=this.__coordinateSystemView._rectangle(),o=i.width/(e[1]-e[0]),r=i.height/(n[1]-n[0]),l=Math.min(o,r),a=[(e[1]+e[0])/2,(n[1]+n[0])/2],s=i.center,u=new t.Matrix;u.translate(s.x-a[0],s.y-a[1]),t._MatrixUtility._scaleAt(u,l,l,new t.core.Point(a[0],a[1]));for(var _=0,p=this.__spaces;_<p.length;_++)p[_]._transform(u);var c=(e[1]-e[0])*l,h=(n[1]-n[0])*l;this.__contentRectange=new t.core.Rect(s.x-c/2,s.y-h/2,c,h)},e}(),e._GraphViewPort=n}(t||(t={})),function(t){!function(t){t._isGraphCoordinateSystem=function(t){return null!=t&&"function"==typeof t.matrix}}(t.graph||(t.graph={}))}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.__points=[];var o=i._graphPlotDefinition()._detailDefinition();return null!=o&&(i.__points=i._createPoints(i._dataSlices,o)),i}return i(n,e),n.prototype._points=function(){return this.__points},n.prototype._graphPlotDefinition=function(){return this._definition()},n.prototype._createPoints=function(e,n){var i=this,o=[];if(null!=n){var r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(n._dataFieldDefinition,n._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(e,r){var l=i._createPoint(e._dataSlices,new t.models._DetailDimension(n,e.key));o.push(l)}))}return o},n.prototype._createPoint=function(e,n){return new t._GraphPointDataModel(this,n,e)},n}(t._PlotDataModel);t._GraphPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o.__plot=e,o.__detailDimension=n,o}return i(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.__detailDimension._key()},enumerable:!0,configurable:!0}),e.prototype._identification=function(){return this.__detailDimension._key()},e.prototype._detailDimension=function(){return this.__detailDimension},e.prototype._plot=function(){return this.__plot},e}(t._PointDataModel);t._GraphPointDataModel=e}(t||(t={})),t||(t={}),function(t){t._isGraphPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._detailDimension&&"function"==typeof e._plot&&"function"==typeof e._identification}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u){var _=t.call(this,null,i,o,r,l,a,s,u)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return i(e,t),e._emptyEncodingsDefinition=new e([],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._GraphEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._adopter=new t.graph.models._GraphLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._GraphEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._GraphEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},n.prototype._createValueEncodingDefinition=function(t,e,n){return null},n}(t._EncodingsDefinitionBuilder);t._GraphEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._GraphEncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function n(){}return n._build=function(i){if(null!=i){if("path"==i.type){var o=i,r=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o.value);return new e._GraphPathShape(r)}if("ellipse"==i.type){var l=i,a=l.rx,s=l.ry;if(!t._AnyTypeUtility._isNumber(a)||a<=0||!t._AnyTypeUtility._isNumber(s)||s<=0)return null;var u=l.center;return null==u&&(u=[0,0]),n._isPoint(u,!1)?new e._GraphEllipseShape(u[0],u[1],a,s):null}if("rect"==i.type){var _=i,p=_.width,c=_.height;if(!t._AnyTypeUtility._isNumber(p)||p<=0||!t._AnyTypeUtility._isNumber(c)||c<=0)return null;var h=_.position;return null==h&&(h=[0,0]),n._isPoint(h,!1)?new e._GraphRectangleShape(h[0],h[1],p,c):null}}return null},n._isPoint=function(e,n){return void 0===n&&(n=!1),!(!n&&null==e||Array.isArray(e)&&2!=e.length||!t._AnyTypeUtility._isNumber(e[0])||!t._AnyTypeUtility._isNumber(e[1]))},n}(),e._GraphShapeBuilder=n}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function n(t){this._json=t,this._shapes=this._createShapes(t.shapes)}return n.prototype._customStyle=function(){return this.__customStyle},n.prototype._applyCustomStyle=function(t){this.__customStyle=t},n.prototype._identification=function(){return null==this._json.properties?null:this._json.properties.name},n.prototype._center=function(){var e=null;if(null!=this._json.properties){var n=this._json.properties.center;if(null!=n){if(!Array.isArray(n))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);if(!n.every((function(t){return"number"==typeof t})))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);var i=n[0],o=n[1];if(null==i||null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);e=new t.core.Point(i,o)}}if(null==e){var r=this._xExtent(),l=this._yExtent();e=new t.core.Point((r[1]+r[0])/2,(l[1]+l[0])/2)}return isNaN(e.x)||isNaN(e.y)?null:e},n.prototype._xExtent=function(){for(var t=[Number.MAX_VALUE,-Number.MAX_VALUE],e=0,n=this._shapes.map((function(t){return t._bbox}));e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i.left),t[1]=Math.max(t[1],i.right)}return t},n.prototype._yExtent=function(){for(var t=[Number.MAX_VALUE,-Number.MAX_VALUE],e=0,n=this._shapes.map((function(t){return t._bbox}));e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i.top),t[1]=Math.max(t[1],i.bottom)}return t},n.prototype._isEmpty=function(){return null==this._shapes||0==this._shapes.length},n.prototype._createShapes=function(t){if(null==t)return null;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=e._GraphShapeBuilder._build(r);null!=l&&null!=l._bbox&&n.push(l)}return n},n.prototype._renderShapes=function(t){for(var e=0,n=this._shapes;e<n.length;e++)n[e]._draw(t)},n.prototype._draw=function(e){var n=this;this._isEmpty()||(e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._customStyle()),null!=this._matrix?e.drawGroup(null,null,this._matrix,(function(t){n._renderShapes(t)})):this._renderShapes(e),e.restoreTransform())},n.prototype._contain=function(t,e){if(this._isEmpty())return!1;for(var n=0,i=this._shapes;n<i.length;n++)if(i[n]._contain(t,e))return!0;return!1},n}(),e._GraphElement=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e,n,i,o){this.__center=[e,n],this.__rx=i,this.__ry=o,this._bbox=new t.core.Rect(e-i,n-o,2*i,2*o)}return e.prototype._contain=function(t,e){var n=this._bbox;return!(t<n.left||t>n.right||e<n.top||e>n.bottom)&&Math.pow(t-this.__center[0],2)/(this.__rx*this.__rx)+Math.pow(e-this.__center[1],2)/(this.__ry*this.__ry)<=1},e.prototype._draw=function(t){t.drawEllipse(this.__center[0],this.__center[1],this.__rx,this.__ry,null)},e}(),e._GraphEllipseShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e){this.__path=e,this._bbox=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(e)}return e.prototype._contain=function(e,n){var i=this._bbox;return!(e<i.left||e>i.right||n<i.top||n>i.bottom||!(new t._PathUtil).contain(this.__path,e,n))},e.prototype._draw=function(e){null!=this.__path&&e.drawPath(this.__path,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},e}(),e._GraphPathShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e,n,i,o){this.__pos=[e,n],this.__width=i,this.__height=o,this._bbox=new t.core.Rect(e,n,i,o)}return e.prototype._contain=function(t,e){var n=this._bbox;return!(t<n.left||t>n.right||e<n.top||e>n.bottom)},e.prototype._draw=function(e){var n=t._PathBuilder._defaultPathBuilder._buildPath();n.moveto(this.__pos[0],this.__pos[1]),n.lineto(this.__pos[0]+this.__width,this.__pos[1]),n.lineto(this.__pos[0]+this.__width,this.__pos[1]+this.__height),n.lineto(this.__pos[0],this.__pos[1]+this.__height),n.close(),e.drawPath(n,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},e}(),e._GraphRectangleShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(){}return e.prototype._defaultStyle=function(){return null},e.prototype._customStyle=function(){return this.__customStyle},e.prototype._applyCustomStyle=function(t){this.__customStyle=t,this.__style=null},e.prototype.IStyle=function(){if(null==this.__style){var e=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),this.__style=e}return this.__style},e}(),e._GraphShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(t){this._xExtent=[Number.MAX_VALUE,-Number.MAX_VALUE],this._yExtent=[Number.MAX_VALUE,-Number.MAX_VALUE],this.__elements=[],this._name=t}return e.prototype._updateExtent=function(t){var e=t._xExtent(),n=t._yExtent();this._xExtent[0]=Math.min(this._xExtent[0],e[0]),this._xExtent[1]=Math.max(this._xExtent[1],e[1]),this._yExtent[0]=Math.min(this._yExtent[0],n[0]),this._yExtent[1]=Math.max(this._yExtent[1],n[1])},e.prototype._isEmpty=function(){return 0==this.__elements.length},e.prototype._addElement=function(t){null!=t&&(this._updateExtent(t),this.__elements.push(t),t._space=this)},e.prototype._elements=function(){return this.__elements},e.prototype._transform=function(t){null!=t&&(this.__matrix=t,this.__inv=t.invert())},e.prototype._matrix=function(){return this.__matrix},e.prototype._forward=function(e,n,i){null!=this.__matrix&&t._MatrixUtility._transformCoordinatePoint(this.__matrix,e,n,i)},e.prototype._invert=function(e,n,i){null!=this.__matrix&&t._MatrixUtility._transformCoordinatePoint(this.__inv,e,n,i)},e}(),e._GraphSpace=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){void 0===r&&(r=null);var l=e.call(this,n,i,o,new t.graph.models._GraphPlotViewBuilder,new t._GraphPlotDataBuilder,null==r?new t._GraphEncodingsDefinitionBuilder:r,new t._GraphLegendSymbolViewBuilder)||this;return null!=o.encodings&&l._buildEncodings(),l}return i(n,e),n.prototype._getCoordinateSystemType=function(){return"Graph"},n.prototype._detailDefinition=function(){return this.__detailDefinition},n.prototype._defaultShapeStyle=function(){return null==this.__defaultShapeStyle&&(this.__defaultShapeStyle=t._StyleUtility._buildStyle(null,"none",null,"#000000",1,null,!1)),this.__defaultShapeStyle},n.prototype._emptyEncodingsDefinition=function(){return t._GraphEncodingsDefinition._emptyEncodingsDefinition},n.prototype._buildEncodings=function(){if(this._encodingsDefinition._detailEncodingDefinitions.length>0){var e=this._encodingsDefinition._detailEncodingDefinitions[0];t._isSingleDataFieldDetailEncodingDefinition(e)&&(this.__detailDefinition=e)}},n.prototype._getDataModelType=function(){return"Graph"},n}(t._BasePlotDefinition);t._GraphPlotDefinition=e}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(n){function o(t,e,i){var o=n.call(this,t,e,i)||this;return o._children=[],o._pointViews=[],o._attachCoordinateSystemViewPort(),o._createPointViews(),o}return i(o,n),o.prototype._createPointViews=function(){for(var t=0,e=this._dataModel._points();t<e.length;t++){var n=e[t],i=this._createPointView(n);null!=i&&this._pointViews.push(i)}},o.prototype._actionConditionalFormat=function(){(new e.models._GraphConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},o.prototype._graphCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},o.prototype._graphPointViews=function(){return this._pointViews},o.prototype._space=function(){return this.__space},o.prototype._createPointView=function(e){return new t._GraphPointView(this,e,null)},o.prototype._layoutContent=function(t,e,i){n.prototype._layoutContent.call(this,t,e,i),this._children=[];for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._children.push(l),l._layout(t,null,i)}},o.prototype._hitTest=function(e,i,o){if(this._zLevel!=i)return null;if(null!=this._space()){var r=[e.x,e.y];if(this._space()._invert(r[0],r[1],r),r[0]>=this._space()._xExtent[0]&&r[0]<this._space()._xExtent[1]&&r[1]>=this._space()._yExtent[0]&&r[1]<this._space()._yExtent[1])for(var l=this._graphPointViews(),a=l.length-1;a>=0;a--){var s=l[a]._element();if(null!=s&&s._contain(r[0],r[1])){var u=new t.HitTestResult(e,l[a],this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(u)?u:null}}}for(var _=0,p=this._children;_<p.length;_++)if(null!=(u=p[_]._hitTest(e,i,o)))return u;return n.prototype._hitTest.call(this,e,i,o)},o.prototype._draw=function(e,n){var i=this;if(!n._renderLabel&&null!=this.__space){for(var o=this._getShapeStyle(),r=0,l=this.__space._elements();r<l.length;r++)l[r]._applyCustomStyle(o);for(var a=0,s=this._graphPointViews();a<s.length;a++)s[a]._beforeRender(e,n);e.drawGroup(null,null,this.__space._matrix(),(function(o){try{null!=i.__backgroundImage&&e.drawImage(i.__backgroundImage,0,0,i.__backgroundImage.width,i.__backgroundImage.height);for(var r=0,l=i.__space._elements();r<l.length;r++){for(var a=l[r],s=null,u=0,_=i._graphPointViews();u<_.length;u++){var p=_[u];if(p._element()==a){s=p;break}}null!=s?s._render(o,n):a._draw(o)}}catch(e){throw new t.OptionError(t.ErrorCode.WrongGraphJson)}}));for(var u=0,_=this._graphPointViews();u<_.length;u++)_[u]._afterRender(e,n)}},o.prototype._defaultShapeStyle=function(){return this._definition._defaultShapeStyle()},o.prototype._getShapeStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._defaultShapeStyle());return t._StyleUtility._applyStyleOption(e,this._definition._dvConfigOption.style),t._StyleUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),e},o.prototype.queryInterface=function(t){return"IGraphCoordinateSystem"==t?this._graphCoordinateSystemView():n.prototype.queryInterface.call(this,t)},o.prototype._attachCoordinateSystemViewPort=function(){var n=new e.options._GraphConfigOption(this._definition._plotConfigOption.option()),i=null;try{i=this._createGraphSpace(n.graphJson)}catch(e){throw new t.OptionError(t.ErrorCode.WrongGraphJson,n.graphJson)}if(null!=i){this.__space=i,this._graphCoordinateSystemView()._addSpace(this.__space);var o=n.viewport;null!=o&&this._graphCoordinateSystemView()._setViewPortOfSpace(o[0],o[1],o[2],o[3],this.__space._name),this.__backgroundImage=this._createBackgroundImage(this)}},o.prototype._createGraphSpace=function(t){for(var n=new e._GraphSpace(t.spaceName),i=0,o=t.elements;i<o.length;i++){var r=o[i],l=new e._GraphElement(r);l._isEmpty()||n._addElement(l)}return n._isEmpty()?null:n},o.prototype._createBackgroundImage=function(e){var n=t._BuildInBackgroundImagePolicyBuilderCollection._buildInBackgroundImagePolicyBuilders()._backgroundImagePolicy(e,e._getDefinition()._plotConfigOption.plugins,e._getDefinition()._pluginCollection);return null!=n?n._buildBackgroundImage(this,e._getDefinition()._imageProvider):null},o.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},o.prototype._getPointViews=function(){return this._pointViews},o}(t._BasePlotView),e._GraphPlotView=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isGraphPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._calculateColor=function(t){return t.color},n}(t._PointColorBuilder);t._GraphPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._GraphPointColorBuilder:i)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isGraphPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,"none",null,"#000000",1,null,!1)},n.prototype._applyColor=function(t,e,n){t.fill=e},n}(t._PointStyleBuilder);t._GraphPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,null==o?new t._GraphPointStyleBuilder:o)||this;return r.__element=r._findElementBy(n._space(),i._identification()),r}return i(n,e),n.prototype._createIdentityContent=function(){var e=this._data()._identification(),n=t._Util.HashCode(null!=e?e.toString():"null");return t._Util.HashCode(n)},n.prototype._element=function(){return this.__element},n.prototype._center=function(){return this.__center},Object.defineProperty(n.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!0,configurable:!0}),n.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.graph._GraphDataLabelView(this,n,e):null},n.prototype._createDataLabelContent=function(){var e,n=this._data()._plot()._graphPlotDefinition()._encodingsDefinition._textEncodingDefinitions;if(n&&n.length>0&&null==(e=this._customDataLabelTemplate())&&(e=this._defaultDataLabelTemplate(n)),null==e||""==e)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(e),r=new t.graph.models._GraphTextProxy(this,this._data(),n),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,s=i.evaluate(o,r,l,a),u=this._toLines(s);return null!=u&&u.length>0?new t.models._DataLabelContent(u,this):null},n.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},n.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},n.prototype._createTooltipHtmlContent=function(e){var n,i=this._data()._plot()._graphPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions;i&&i.length>0&&null==(n=this._customTooltipTemplate(e))&&(n=this._defaultTooltipTemplate(i));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(n),l=new t.graph.models._GraphTextProxy(this,this._data(),i),a=this._getDefinition()._plotConfigOption.plugins,s=this._getDefinition()._pluginCollection,u=o.evaluate(r,l,a,s);return this._toHtml(u)},n.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},n.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),null!=this.__element&&(this.__center=this.__element._center(),this._scale=1)},n.prototype._beforeRender=function(e,n){if(null!=this.__element)if(1!=this._scale){var i=new t.Matrix,o=this._element()._center();t._MatrixUtility._scaleAt(i,this._scale,this._scale,o),this._element()._matrix=i}else this._element()._matrix=null},n.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n),this._applyStyleToElement(n),this._element()._draw(t)},n.prototype._afterRender=function(t,e){},Object.defineProperty(n.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"identification",{get:function(){return this._data()._identification()},enumerable:!0,configurable:!0}),n.prototype._graphPlotView=function(){return this._getPlotView()},n.prototype._applyStyleToElement=function(t){if(null!=this.__element){var e=this._calculateStyle(t);this._applyDataPointExternalStyle(e),this.__element._applyCustomStyle(e)}},n.prototype._findElementBy=function(e,n){if(null==e)return null;for(var i=0,o=e._elements();i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._comparer._equalsWith(r._identification(),n))return r}return null},n.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},n.prototype._isVisible=function(){var t=this;return null!=this.__element&&!!this._graphPlotView()._space()._elements().some((function(e){return e==t.__element}))&&e.prototype._isVisible.call(this)},n}(t._BasePointView);t._GraphPointView=e}(t||(t={})),function(t){t._isGraphPlotDefinition=function(t){return null!=t&&"function"==typeof t._detailDefinition}}(t||(t={})),t||(t={}),function(t){t._isGraphPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isGraphPointView=function(t){var e=t;return"function"==typeof e._element&&"function"==typeof e._center&&"function"==typeof e._graphPlotView}}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(){}return e.prototype._apply=function(t,e){for(var n=0,i=e._findRelatedPlotViews(t);n<i.length;n++){var o=i[n];this._useForPlot(e,o)}},e.prototype._useForPlot=function(e,n){t._isDataPointItemizedLegendDataModel(e)?this._useItemizedPointLegend(n,e):t._isLinearLegendDataModel(e)&&this._useLinearColorPointLegend(n,e)},e.prototype._useLinearColorPointLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Color)&&e._traversePointView((function(t){t._updateLegendColor(n._getColorByPoint(t))}))},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var s=a[l];if(s instanceof t._ItemizedPointLegendItemDataModel){var u=n._dataPointKeysMap._get(s._dataPointKey());if(null!=u)for(var _=0,p=u;_<p.length;_++){var c=p[_];i&&c._updateLegendColor(s._color()),o&&c._updateLegendShape(s._shape),r&&c._updateLegendSize(s._size)}}}},e}();e._GraphLegendAdopter=n}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._graphLegendSymbolStyleBuilder=function(){return null==e.__graphLegendSymbolStyleBuilder&&(e.__graphLegendSymbolStyleBuilder=new e),e.__graphLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.fill=r,o.stroke=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),s=e._getUnselectedStyle(),u=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,u),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,p),t._StyleUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._StyleUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&t._StyleUtility._applyDataPointStyleOption(o,s));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._GraphLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return e.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),t._GraphLegendSymbolStyleBuilder._graphLegendSymbolStyleBuilder())||this}return i(n,e),n}(t._LegendSymbolView);t._GraphLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._GraphLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._GraphLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._GraphPlotDataModel(n,e)},e}();t._GraphPlotDataBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._graphPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailDimension();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._graphPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(this.__pointView.color):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,s;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(s=this.__pointView.color)?new t.models._ColorValueInfo(s):null}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==n){var u=t._CastExtension.toAggregateString(l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._GraphTextProxy=n}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t){e.evaluate(t)}))},e}(t.models._ConditionalFormattingRuleRunner);e._GraphConditionalFormattingRuleRunner=n}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._graphPointView=function(){return this._ownerView},n.prototype._layoutContent=function(e,n,i){var o=this._graphPointView(),r=o._center();if(null!=o._element()&&null!=r){var l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=t._MatrixUtility._transformPoint(o._element()._space._matrix(),r),s=a.clone();this._textView()._layout(e,i,new t.core.Rect(s.x-l.width/2,s.y-l.height/2,l.width,l.height)),this._startPoint=a,this._endPoint=s}else this._visible=!1},n}(t._PointDataLabelView),e._GraphDataLabelView=n}(t||(t={})),function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"viewport",{get:function(){return this.__viewport},set:function(t){null!=t&&t==this.__viewport||(this.__viewport=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphJson",{get:function(){return this.__graphJson},set:function(t){null!=t&&t!=this.__graphJson&&(this.__graphJson=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!==e&&(null==e&&(e=new t.options._DataPointStyleOption),this.__style=e)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__graphJson=null,this.__style=new t.options._DataPointStyleOption(null),this.__viewport=null},o([t.JsonConverterAttribute(t._ViewportOptionConverter,!0),t.ValidatorAttribute(t._ViewportOptionValidator,!0)],n.prototype,"viewport",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],n.prototype,"style",null),n}(t.options._Option);e._GraphConfigOption=n}((e=t.graph||(t.graph={})).options||(e.options={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.graph||(t.graph={}))}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._GraphCoordinateSystemDefinition._type?new t._GraphCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Map",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n){if("Map"===n.type){var i=new t.graph.options._GraphConfigOption(n.config.option());if(null!=i.graphJson&&"Graph"===i.graphJson.type)return new t._GraphPlotDefinition(e,e._findDataSchema(n.data),n)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t._GraphPlotDefinition&&i instanceof t._GraphEncodingsDefinitionContext){var l=n,a=t._NumbericLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=a)return a;var s=t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=s)return s;var u=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=u?u:new t._EmptyLegendDefinition(e,t.LegendType.Color)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o.__seriesViews=[],o._pointViews=[],o.__children=[],o.__axisViews=[],o._createSeriesViews(),o}return i(n,e),n.prototype._axisViews=function(){return this.__axisViews},n.prototype._getParallelSeriesViews=function(){return this.__seriesViews},n.prototype._getPointViews=function(){for(var t=[],e=0,n=this._getParallelSeriesViews();e<n.length;e++){var i=n[e];t.push.apply(t,i._pointViews())}return t},n.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},n.prototype._attachCoordinateSystem=function(e){var n=e.map((function(t){return t._option}));this.__axisViews=this._createAxisViews(this._dataModel._dimensions(),n.filter((function(e){return e.type==t.AxisType.Y})))},n.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i);for(var o=0,r=this._getParallelSeriesViews();o<r.length;o++)r[o]._layout(t,n,i)},n.prototype._draw=function(t,e){for(var n=0,i=this._axisViews();n<i.length;n++)i[n]._render(t,e);for(var o=0,r=this._getParallelSeriesViews();o<r.length;o++)r[o]._render(t,e)},n.prototype._createAxisViews=function(e,n){var i=this,o=[];return e.forEach((function(e,r){var l=r<n.length?n[r]:new t.options._AxisOption(null),a=i._createAxisView(e,l);null!=a&&o.push(a)})),o},n.prototype._createAxisView=function(e,n){return new t._ParallelAxisView(this,n,e)},n.prototype._createSeriesViews=function(){for(var t=0,e=this._dataModel._seriesList();t<e.length;t++){var n=e[t],i=this._createSeriesView(n);null!=i&&this._getParallelSeriesViews().push(i)}},n.prototype._createSeriesView=function(e){return new t._ParallelSeriesView(this,e)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=0,r=this.__children;o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},n.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},n}(t._BasePlotView);t._ParallelPlotView=e}(t||(t={})),function(t){t._isParallelPlotDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._valueDefinitions&&"function"==typeof e._detailDefinitions}}(t||(t={})),t||(t={}),function(t){t._isParallelPlotView=function(t){return null!=t&&"function"==typeof t._getParallelSeriesViews}}(t||(t={})),function(t){t._isParallelPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._ParallelLineAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._ParallelLineAxisDefinition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.buildAxisView=function(t,e,n,i){return null},t.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},t}();t._ParallelLineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._ParallelRadialAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._ParallelRadialAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelRadialAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){return n._getCoordinateSystemType()===t._XyCoordinateSystemDefinition._type&&n instanceof t.models._ParallelPlotDefinition?new t._ParallelRadialAxisDefinition(e,i,t.Orientation.Vertical):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultParallelRadialAxisDefinitionBuilder=new e,e}();t._ParallelRadialAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultParallelRadialAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.buildAxisView=function(t,e,n,i){return null},t.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},t}();t._ParallelRadialAxisViewBuilder=e}(t||(t={})),function(t){t._isParallelPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._parallelPlotDefinition&&"function"==typeof e._seriesList&&"function"==typeof e._dimensions}}(t||(t={})),function(t){t._isParallelPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._dimension&&"function"==typeof e._value&&"function"==typeof e._fieldItem}}(t||(t={})),function(t){t._isParallelSeriesDataModel=function(t){var e=t;return null!=e&&void 0!==e.color&&"function"==typeof e._valueDefinition&&"function"==typeof e._points&&"function"==typeof e._isNulls&&"function"==typeof e._plot}}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n,i)||this;if(1==o._parallelPlotDefinition()._valueDefinitions().length){var r=o._parallelPlotDefinition()._valueDefinitions()[0];if(o.__dimensions=o._createDimensions(r),1==o._parallelPlotDefinition()._detailDefinitions().length){var l=o._parallelPlotDefinition()._detailDefinitions()[0];if(t._isSingleDataFieldDetailEncodingDefinition(l)){var a=l;o.__seriesList=o._createSeriesList(n,r,a)}else o.__seriesList=[]}else 0==o._parallelPlotDefinition()._detailDefinitions().length?o.__seriesList=o._createSeriesList(n,r,null):o.__seriesList=[];for(var s=0,u=o._seriesList();s<u.length;s++)for(var _=0,p=u[s]._points();_<p.length;_++){var c=p[_],h=c._dimension(),f=c._value();if(null!=f&&!isNaN(f)){var d=h._getMaximum();(null==d||isNaN(d)||d<f)&&h._setMaximum(f);var y=h._getMinimum();(null==y||isNaN(y)||y>f)&&h._setMinimum(f)}}}else o.__dimensions=[],o.__seriesList=[];return o}return i(n,e),n.prototype._points=function(){for(var t=[],e=0,n=this._seriesList();e<n.length;e++)for(var i=0,o=n[e]._points();i<o.length;i++){var r=o[i];null!=r&&t.push(r)}return t},n.prototype._dimensions=function(){return this.__dimensions},n.prototype._seriesList=function(){return this.__seriesList},n.prototype._parallelPlotDefinition=function(){return this._definition()},n.prototype._createDimensions=function(e){if(null==e)return null;var n=[];if(t.models._isParallelValueDimensionDefinition(e))for(var i=0,o=e._fieldDefinitions();i<o.length;i++){var r=o[i];n.push(new t.models._ParallelDimension(r))}return n},n.prototype._createSeriesList=function(e,n,i){var o=this,r=[];if(null!=i){var l=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),a=[];a.push(new t.QueryGroupByOption(new t._GroupingDefinition(i._dataFieldDefinition)));var s=l.groupBy(a).query().groups;t._TreeNodeUtility._traverseDFS(s,(function(e,l){var a=o._createSeries(e._dataSlices,n,new t.models._DetailDimension(i,e.key),e.key);null==a||i._excludeNulls&&a._isNulls()||r.push(a)}))}else e.forEach((function(t){var e=o._createSeries(t,n,null,null);null!=e&&r.push(e)}));return r},n.prototype._createSeries=function(e,n,i,o){return null==i&&t.models._isParallelValueDimensionDefinition(n)?new t._ParallelSeriesDataModel(this,e,n,o):null},n}(t._PlotDataModel);t._ParallelPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,n)||this;return o.__series=t,o.__dimension=i,o}return i(n,e),n.prototype._series=function(){return this.__series},n.prototype._fieldItem=function(){return t._DataSlicesAggregate._defaultAggregate._aggregate(this._dataSlices,this.__dimension._fieldDefinition()._dataField,t.Aggregate.List)},n.prototype._value=function(){var e=this._series()._valueDefinition(),n=this._dimension()._fieldDefinition(),i=t._Util.find(e._fieldDefinitions(),(function(t){return t.equalsWith(n)}));if(null!=i){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._dataSlices,i._dataField,t.Aggregate.List);if(t._AnyTypeUtility._isNumber(o))return o}return null},n.prototype._style=function(){return null==this.__style&&(this.__style=t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._cloneOf(this._series()._plot()._definition()._plotConfigOption.style)),this.__style},n.prototype._dimension=function(){return this.__dimension},n}(t._PointDataModel);t._ParallelPointDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,n)||this;return r.__key=o,r.__plot=t,r.__valueDefinition=i,r.__points=r._createPoints(n),r}return i(n,e),Object.defineProperty(n.prototype,"key",{get:function(){return this.__key},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Series},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.__color},set:function(t){this.__color!=t&&(this.__color=t)},enumerable:!0,configurable:!0}),n.prototype._plot=function(){return this.__plot},n.prototype._points=function(){return this.__points},n.prototype._isNulls=function(){for(var t=0,e=this._points();t<e.length;t++)if(null!=e[t]._value())return!1;return!0},n.prototype._valueDefinition=function(){return this.__valueDefinition},n.prototype._createPoints=function(t){for(var e=[],n=0,i=this._plot()._dimensions();n<i.length;n++){var o=i[n],r=this._createPoint(t,o);null!=r&&e.push(r)}return e},n.prototype._createPoint=function(e,n){return new t._ParallelPointDataModel(this,e,n)},n.prototype.queryInterface=function(t){return null},n}(t._DataModel);t._ParallelSeriesDataModel=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__minimum=null,this.__maximum=null,this.__fieldDefinition=t}return t.prototype._fieldDefinition=function(){return this.__fieldDefinition},t.prototype._getMinimum=function(){return this.__minimum},t.prototype._setMinimum=function(t){this.__minimum=t},t.prototype._getMaximum=function(){return this.__maximum},t.prototype._setMaximum=function(t){this.__maximum=t},t}();t._ParallelDimension=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isParallelValueDimensionDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._fieldDefinitions&&void 0!==e._plotDefinition&&"function"==typeof e._fieldDefinition}}(t.models||(t.models={}))}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u){var _=t.call(this,null,i,o,r,l,a,s,u)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return i(e,t),e._emptyEncodingsDefinition=new e([],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._ParallelEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n._adopter=new t.models.ParallelLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!1),n}return i(n,e),n.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createEncodingsDefinitionContext=function(){return new t._ParallelEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._ParallelEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},n.prototype._createValueEncodingDefinition=function(e,n,i){return null==n?null:t.models._ParallelValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)},n}(t._EncodingsDefinitionBuilder);t._ParallelEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._ParallelEncodingsDefinitionContext=e}(t||(t={})),function(t){!function(e){var n=function(e){function n(t,n,i){var o=e.call(this,t,i,null)||this;return o.__fieldDefinitions=n,o}return i(n,e),n.prototype._getValueDimensionDefinition=function(){if(null==this.__valueDimensionDefinition){var e=this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null;this.__valueDimensionDefinition=new o(this,this._plotDefinition,this.__fieldDefinitions,e)}return this.__valueDimensionDefinition},n}(t._ValueEncodingDefinition);e._ParallelValueEncodingDefinition=n;var o=function(t){function n(e,i,o,r){var l=t.call(this,e,n._buildLabel(o))||this;return l._plotDefinition=i,l.__fieldDefinition=null,l.__fieldDefinitions=o,l._excludeNullsFilter=r,l}return i(n,t),Object.defineProperty(n.prototype,"_identifier",{get:function(){return this.__fieldDefinition._dataField._name},enumerable:!0,configurable:!0}),n.prototype._getValueEncodingDefinition=function(){return this._encodingDefinition},n.prototype._toValues=function(t,e){return[]},n.prototype._fieldDefinitions=function(){return this.__fieldDefinitions},n.prototype._fieldDefinition=function(){return this.__fieldDefinition},n.prototype.equalsWith=function(t){if(e._isParallelValueDimensionDefinition(t)){var n=t;if(this._fieldDefinitions()==n._fieldDefinitions())return!0;if(null!=this._fieldDefinitions()&&null!=n._fieldDefinitions()&&this._fieldDefinitions().length==n._fieldDefinitions().length){for(var i=0;i<this._fieldDefinitions().length;i++)if(!this._fieldDefinitions()[i].equalsWith(n._fieldDefinitions()[i]))return!1;return!0}}return!1},n.prototype.queryInterface=function(e){return"IParallelValueDimensionDefinition"==e||"IValueDimensionDefinition"==e?this:t.prototype.queryInterface.call(this,e)},n._buildLabel=function(t){return t.map((function(t){return t._label})).join("-")},n}(t._BaseDimensionDefinition)}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=[],l=0,a=t._EscapedCharacterStringUtility._split(o.field,"|");l<a.length;l++){var s=a[l],u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(s,n._dataSchema,null);null!=u&&r.push(u)}if(r.length>1)return new e._ParallelValueEncodingDefinition(n,r,o.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}(),e._ParallelValueEncodingDefinitionBuilder=n}(t||(t={})),function(t){!function(t){t._isParallelPlotModel=function(t){return null!=t&&void 0!==t.seriesList}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isParallelPointModel=function(t){return null!=t&&void 0!==t.dimension}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isParallelSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.points&&void 0!==e.color}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._apply=function(e,n){if(t._isDataPointItemizedLegendDataModel(n))for(var i=n,o=0,r=i._findRelatedPlotViews(e);o<r.length;o++){var l=r[o];t._isParallelPlotView(l)&&this._useItemizedPointLegend(l,i)}},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var s=a[l];if(s instanceof t._ItemizedPointLegendItemDataModel&&null!=(f=n._dataPointKeysMap._get(s._dataPointKey())))for(var u=0,_=f;u<_.length;u++){var p=_[u];i&&p._updateLegendColor(s._color()),o&&p._updateLegendShape(s._shape),r&&p._updateLegendSize(s._size)}}for(var c=0,h=e._getParallelSeriesViews();c<h.length;c++){var f,d=h[c];if(i&&(f=d._pointViews()).length>0){for(var y=f[0].color,g=1;g<f.length;g++)if(f[g].color!==y){y=null;break}null!=y&&(d.color=y)}}},e}(),e.ParallelLegendAdopter=n}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._ParallelPlotDataModel(n,e)},e}();t._ParallelPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n)||this;return r.__rectangle=t.core.Rect.ReadOnlyRect,r.__axisLabelViews=[],r.__option=i,r.__scale=o,r}return i(n,e),n.prototype._plotView=function(){return this._ownerView},n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._scale=function(){return this.__scale},n.prototype._option=function(){return this.__option},n.prototype._format=function(){return null!=this._option().format?this._option().format.value:null},n.prototype._axisLabelViews=function(){return this.__axisLabelViews},n.prototype._styleClassName=function(){return null},n.prototype._defaultLineStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMajorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._defaultMinorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._majorTickSize=function(){return this._option().majorTickSize},n.prototype._minorTickSize=function(){return this._option().minorTickSize},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(e,n,i){var o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(this._option().plugins,this._plotView()._getDefinition()._pluginCollection),r=this._format(),l=this._option();e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._StyleUtility._applyLineStyleOption(e,l.majorTickStyle);var a=this._scale();this.__axisLabelViews=[];for(var s=0,u=a.ticks();s<u.length;s++){var _=u[s];a.value(_);var p=o.format(r,_),c=this._createAxisLabelView(p,_);null!=c&&this._axisLabelViews().push(c)}e.restoreTransform()},n.prototype._drawView=function(t,e){var n=this;t.beginTransform();var i=this._styleClassName();null!=i&&i.length>0?t.drawGroup(this._styleClassName(),null,null,(function(t){n._renderAxis(t,e)})):this._renderAxis(t,e),t.restoreTransform()},n.prototype._renderAxis=function(t,e){},n.prototype._createAxisLabelView=function(e,n){return new t._AxisLabelView(this,e,n)},n}(t._BaseView);t._AxisView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,new t._LinearAxisScale(new t._BaseLinearAxisScalePolicy,null))||this;return r.__yClassName="gcdv-axis-y",r.__dimension=o,r}return i(n,e),n.prototype._dimension=function(){return this.__dimension},n.prototype._parallelPlotView=function(){return this._ownerView},n.prototype._format=function(){var t=null!=this._option().format?this._option().format.value:null;return null!=t?t:this._dimension()._fieldDefinition()._format},n.prototype._styleClassName=function(){return this.__yClassName},n.prototype._toLocation=function(t){return null},n.prototype._initScale=function(){var e=this._scale(),i=this._dimension(),o=i._getMinimum(),r=i._getMaximum(),l=this._option().min;null!=l&&l.type==t.ValueOptionType.Number&&(o=l.value);var a=this._option().max;null!=a&&a.type==t.ValueOptionType.Number&&(r=a.value);var s,u=null==o?0:o;s=(o=u-((null==r?0:r)-u)*n.__minimumSpace)>0?[o,r]:[0,r],e._setDomain(s)},n.__minimumSpace=.25,n}(t._AxisView);t._ParallelAxisView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n)||this;return r.__rectangle=t.core.Rect.ReadOnlyRect,r.__degree=0,r.__title=i,r.__tick=o,r}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._title=function(){return this.__title},n.prototype._tick=function(){return this.__tick},n.prototype._getLocation=function(){return this.__location},n.prototype._setLocation=function(t){this.__location=t},n.prototype._getCenter=function(){return this.__center},n.prototype._setCenter=function(t){this.__center=t},n.prototype._getDegree=function(){return this.__degree},n.prototype._setDegree=function(t){this.__degree=t},n.prototype._axisView=function(){return this._ownerView},n.prototype._drawView=function(e,n){var i=this._axisView()._option();if(i.labels!=t.AxisPosition.None){e.beginTransform(),t._StyleUtility._applyTextStyleOption(e,i.labelStyle);var o=this._getLocation(),r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(this._getDegree()),this._getCenter());e.drawSingleLineString(this._title(),o.x,o.y,null,r),e.restoreTransform()}},n}(t._BaseView);t._AxisLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._measure=function(e,n){return new t._RectangleViewMetricsResult(new t.core.Size(0,0))},n}(t._ParallelAxisView);t._LineParallelAxisView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._toLocation=function(e){var n=this._scale().value(e);if(null!=n&&!isNaN(n)){var i=this._axisDegree()*Math.PI/180,o=new t.core.Size(Math.cos(i),Math.sin(i));return new t.core.Point(this.center.x+n*o.width,this.center.y+n*o.height)}return null},n.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._option(),l=this._scale(),a=this._axisDegree()*Math.PI/180,s=new t.core.Size(Math.cos(a),Math.sin(a)),u=this._majorTickSize(),_=u*s.height,p=u*s.width;n.beginTransform(),t._StyleUtility._applyStyle(n,this._defaultMajorTickStyle()),t._StyleUtility._applyLineStyleOption(n,r.majorTickStyle);for(var c=0,h=this._axisLabelViews();c<h.length;c++){var f=h[c],d=l.value(f._tick()),y=n.measureSingleLineString(f._title()),g=this._calculateMajorLabelLocation(r,s,_,p,d,y),m=g[0],v=g[1],w=g[2];f._setLocation(m),f._setCenter(v),f._setDegree(w)}n.restoreTransform()},n.prototype._axisDegree=function(){var t=this._plotView()._getDefinition()._plotConfigOption.startAngle+this.degree-180;return t<0?t=t%360+360:t%=360,t},n.prototype._initScale=function(){e.prototype._initScale.call(this);var t=this._scale(),n=[0,this.radius];t._setRange(n)},n.prototype._renderAxis=function(e,n){var i=this._axisDegree()*Math.PI/180,o=new t.core.Size(Math.cos(i),Math.sin(i));this._renderAxisLine(e,o);for(var r=this._majorTickSize(),l=r*o.height,a=r*o.width,s=this._scale(),u=0,_=s.ticks();u<_.length;u++){var p=_[u],c=s.value(p);this._drawMajorTick(e,c,l,a,o)}for(var h=0,f=this._axisLabelViews();h<f.length;h++)f[h]._render(e,n)},n.prototype._renderAxisLine=function(e,n){var i=this._option();i.axisLine&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._StyleUtility._applyLineStyleOption(e,i.lineStyle),e.drawLine(this.center.x,this.center.y,this.center.x+this.radius*n.width,this.center.y+this.radius*n.height),e.restoreTransform())},n.prototype._drawMajorTick=function(e,n,i,o,r){var l=this._option();if(l.majorTicks!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._StyleUtility._applyLineStyleOption(e,l.majorTickStyle);var a=this._calculateMajorTickLocation(l,r,i,o,n),s=a[0],u=a[1];e.drawLine(s.x,s.y,u.x,u.y),e.restoreTransform()}},n.prototype._calculateMajorTickLocation=function(e,n,i,o,r){var l=new t.core.Point(this.center.x+r*n.width,this.center.y+r*n.height);return e.majorTicks==t.TickMark.Cross?[new t.core.Point(l.x+i/2,l.y-o/2),new t.core.Point(l.x-i/2,l.y+o/2)]:e.majorTicks==t.TickMark.Outside?[new t.core.Point(l.x+i,l.y-o),l]:e.majorTicks==t.TickMark.Inside?[l,new t.core.Point(l.x-i,l.y+o)]:[l,l]},n.prototype._calculateMajorLabelLocation=function(e,n,i,o,r,l){var a=this._calculateMajorTickLocation(e,n,i,o,r)[0],s=e.labelAngle,u=null!=s&&s.length>0?Math.round(s[0]):0,_=this._axisDegree();if(0==u){var p=void 0;return _>=270?(_-=270,p=new t.core.Point(a.x+l.width/2*n.height,a.y-l.width/2*n.width)):_>=180?(_-=180,p=new t.core.Point(a.x+l.height/2*n.height,a.y-l.height/2*n.width)):_>=90?(_-=90,p=new t.core.Point(a.x+l.width/2*n.height,a.y-l.width/2*n.width)):p=new t.core.Point(a.x+l.height/2*n.height,a.y-l.height/2*n.width),[new t.core.Point(p.x-l.width/2,p.y+l.height/2),p,_]}u>0?_+=u:_=_+180+u;var c=l.height*Math.cos(u*Math.PI/180)/2*Math.cos(_*Math.PI/180-Math.PI/2),h=l.height*Math.cos(u*Math.PI/180)/2*Math.sin(_*Math.PI/180-Math.PI/2);return p=new t.core.Point(a.x+c,a.y+h),_<0?_=_%360+360:_%=360,_>270?[new t.core.Point(p.x,p.y+l.height/2),p,_]:_>180||_>90?[new t.core.Point(p.x,p.y+l.height/2),p,_-180]:[new t.core.Point(p.x,p.y+l.height/2),p,_]},n}(t._ParallelAxisView);t._RadialParallelAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._axisViews=function(){return e.prototype._axisViews.call(this)},n.prototype._layoutContent=function(n,i,o){var r=this._axisViews();if(r.length>1)for(var l=i.left,a=0,s=r;a<s.length;a++){var u=(c=s[a])._measure(n,new t.core.Size(i.width,i.height))._size.width;c._layout(n,new t.core.Rect(l,i.top,u,i.height),o)}else for(var _=0,p=r;_<p.length;_++){var c;u=(c=p[_])._measure(n,new t.core.Size(i.width,i.height))._size.width,c._layout(n,new t.core.Rect(i.left,i.top,u,i.height),o)}e.prototype._layoutContent.call(this,n,i,o)},n.prototype._createAxisView=function(e,n){return new t._LineParallelAxisView(this,n,e)},n}(t._ParallelPlotView);t._CartesianParallelPlotView=e}(t||(t={})),function(t){t._isCartesianParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._layoutContent=function(n,i,o){var r=this._axisViews(),l=new t.core.Point((i.left+i.right)/2,(i.top+i.bottom)/2),a=Math.min(i.width/2,i.height/2),s=new t.core.Rect(l.x-a,l.y-a,2*a,2*a);if(r.length>0)for(var u=360/r.length,_=0,p=0,c=r;p<c.length;p++){var h=c[p];h.center=l,h.radius=a,h.degree=_,h._initScale(),h._layout(n,s,o),_+=u}e.prototype._layoutContent.call(this,n,i,o)},n.prototype._createAxisView=function(e,n){return new t._RadialParallelAxisView(this,n,e)},n}(t._ParallelPlotView);t._RadialParallelPlotView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i._hover=!1,i.__data=n,i.__pointViews=i._createPointViews(n._points()),i}return i(n,e),n.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},Object.defineProperty(n.prototype,"selected",{get:function(){for(var t=0,e=this._pointViews();t<e.length;t++)if(!e[t]._isSelected())return!1;return!0},set:function(t){for(var e=0,n=this._pointViews();e<n.length;e++)n[e]._selected=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._data().color},set:function(t){this._data().color=t},enumerable:!0,configurable:!0}),n.prototype._plotView=function(){return this._ownerView},n.prototype._pointViews=function(){return this.__pointViews},n.prototype._data=function(){return this.__data},n.prototype._style=function(){return null==this.__style&&(this.__style=t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._cloneOf(this._plotView()._getDefinition()._plotConfigOption.style)),this.__style},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){for(var i=0,o=this._pointViews();i<o.length;i++)o[i]._layout(t,e,n)},n.prototype._createPointViews=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],r=this._createPointView(o);null!=r&&e.push(r)}return e},n.prototype._createPointView=function(e){return null!=e._fieldItem()?new t._ParallelPointView(this,e,null):null},n}(t._BaseView);t._ParallelSeriesView=e}(t||(t={})),function(t){t._isParallelSeriesView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null);var s=e.call(this,n,i,o,r,new t._ParallelPlotDataBuilder,null==l?new t._ParallelEncodingsDefinitionBuilder:l,a)||this;return null!=o.encodings&&s._buildEncodings(),s}return i(n,e),n.prototype._isAvailable=function(){return null!=this.__valueDefinitions&&this.__valueDefinitions.length>0},n.prototype._valueDefinitions=function(){return this.__valueDefinitions},n.prototype._detailDefinitions=function(){return this.__detailDefinitions},n.prototype._emptyEncodingsDefinition=function(){return t._ParallelEncodingsDefinition._emptyEncodingsDefinition},n.prototype._buildEncodings=function(){this.__valueDefinitions=[];var t=this._encodingsDefinition._valueEncodingDefinitions;if(null!=t&&t.length>0)for(var e=0,n=t;e<n.length;e++){var i=n[e]._getValueDimensionDefinition();this.__valueDefinitions.push(i)}this.__detailDefinitions=this._encodingsDefinition._detailEncodingDefinitions},n.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},n.prototype._getDataModelType=function(){return"Parallel"},n}(t._BasePlotDefinition),e._ParallelPlotDefinition=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t._plotView(),n,i)||this;return o.__seriesView=t,o}return i(n,e),Object.defineProperty(n.prototype,"parent",{get:function(){return this._seriesView()._plotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dimension",{get:function(){return this._data()._dimension()._fieldDefinition()._dataField._name},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IParallelPointModel"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._seriesView=function(){return this.__seriesView},n.prototype._location=function(){return this.__location},Object.defineProperty(n.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!0,configurable:!0}),n.prototype._layoutContent=function(t,e,n){for(var i=this._data(),o=i._dimension(),r=0,l=this._seriesView()._plotView()._axisViews();r<l.length;r++){var a=l[r];if(a._dimension()==o){this.__location=a._toLocation(i._fieldItem());break}}},n.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},n}(t._BasePointView);t._ParallelPointView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelBackgroundColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isBackgroundColorEncodingOption(n)&&e instanceof t.models._ParallelPlotDefinition&&i instanceof t._ParallelEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.BackgroundColor,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.BackgroundColor)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelBackgroundColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelColorLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isColorEncodingOption(n)&&e instanceof t.models._ParallelPlotDefinition&&i instanceof t._ParallelEncodingsDefinitionContext){var l=n,a=t._ItemizedNumbericColorLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=a)return a;var s=t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);if(null!=s)return s;var u=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Color,l,o,r);return null!=u?u:new t._EmptyLegendDefinition(e,t.LegendType.Color)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelColorLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelShapeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isShapeEncodingOption(n)&&e instanceof t.models._ParallelPlotDefinition&&i instanceof t._ParallelEncodingsDefinitionContext){var l=n,a=t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Shape,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Shape)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelShapeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelSizeLegend",this.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t.options._isSizeEncodingOption(n)&&e instanceof t.models._ParallelPlotDefinition&&i instanceof t._ParallelEncodingsDefinitionContext){var l=n,a=t._ItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder._buildLegendEncodingDefinition(e,t.LegendType.Size,l,o,r);return null!=a?a:new t._EmptyLegendDefinition(e,t.LegendType.Size)}return null},e.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelSizeLegendPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesView=function(e){return new t._ParallelAreaSeriesView(this,e)},n}(t._RadialParallelPlotView);t._AreaRadialParallelPlotView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._layoutContent=function(t,n,i){if(e.prototype._layoutContent.call(this,t,n,i),this.__xs=[],this.__ys=[],this._pointViews().length>0){for(var o=0,r=this._pointViews();o<r.length;o++){var l=r[o]._location();null!=l&&(this.__xs.push(l.x),this.__ys.push(l.y))}this.__xs.push(this.__xs[0]),this.__ys.push(this.__ys[0])}},n.prototype._drawView=function(e,n){e.beginTransform(),t._StyleUtility._applyFill(e,this._plotView()._getDefinition()._paletteColorProvider._defaultColor());var i=this._data().color;null!=i&&(e.fill=i),t._StyleUtility._applyDataPointStyleOption(e,this._style()),n.hasSelectionInPlotArea&&(this.selected?(t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._dvConfigOption.selectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.selectedStyle),null!=n.apiSelectedStyle&&t._StyleUtility._applyDataPointStyleOption(e,n.apiSelectedStyle)):(t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._dvConfigOption.unselectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.unselectedStyle))),this._hover&&t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.hoverStyle),this.__xs.length>0&&this.__ys.length>0&&e.drawPolygon(this.__xs,this.__ys),e.restoreTransform()},n}(t._ParallelSeriesView);t._ParallelAreaSeriesView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesView=function(e){return new t._ParallelAreaSeriesView(this,e)},n}(t._CartesianParallelPlotView);t._AreaCartesianParallelPlotView=e}(t||(t={})),function(t){t._isAreaCartesianParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isAreaRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(i,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),n.call(this,i,o,r,null==l?new e._ParallelAreaPlotViewBuilder:l,null,null==a?new t._ParallelAreaSymbolViewBuilder(!1,!1):a)||this}return i(o,n),o.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},o}(e._ParallelPlotDefinition),e._ParallelAreaPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(i instanceof e._ParallelAreaPlotDefinition&&t._isParallelPlotDataModel(o)&&null!=n){var r=i._valueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueDimensionDefinition(r[0]))return new t._AreaRadialParallelPlotView(n,i,o)}return null},n}(),e._ParallelAreaPlotViewBuilder=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._AreaLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._ParallelAreaSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type){var o=new t.models._ParallelAreaPlotDefinition(e,e._findDataSchema(null),n);return null!=o._valueDefinitions()&&o._valueDefinitions().length>0&&t.models._isParallelValueDimensionDefinition(o._valueDefinitions()[0])?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelAreaPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelLineAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(t,e,n){return null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelLineAxisPlugin=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesView=function(e){return new t._ParallelLineSeriesView(this,e)},n}(t._CartesianParallelPlotView);t._LineCartesianParallelPlotView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesView=function(e){return new t._ParallelLineSeriesView(this,e)},n}(t._RadialParallelPlotView);t._LineRadialParallelPlotView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._defaultStyle=function(){return t._ViewUtility._defaultLineStyle()},n.prototype._layoutContent=function(t,n,i){if(e.prototype._layoutContent.call(this,t,n,i),this.__xs=[],this.__ys=[],this._pointViews().length>0){for(var o=0,r=this._pointViews();o<r.length;o++){var l=r[o]._location();null!=l&&(this.__xs.push(l.x),this.__ys.push(l.y))}this.__xs.push(this.__xs[0]),this.__ys.push(this.__ys[0])}},n.prototype._drawView=function(e,n){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle());var i=this._plotView()._getDefinition()._paletteColorProvider._defaultColor();null!=i&&(e.stroke=i);var o=this._data().color;null!=o&&(e.stroke=o),t._StyleUtility._applyDataPointStyleOption(e,this._style()),n.hasSelectionInPlotArea&&(this.selected?(t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._dvConfigOption.selectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.selectedStyle),null!=n.apiSelectedStyle&&t._StyleUtility._applyDataPointStyleOption(e,n.apiSelectedStyle)):(t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._dvConfigOption.unselectedStyle),t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.unselectedStyle))),this._hover&&t._StyleUtility._applyDataPointStyleOption(e,this._plotView()._getDefinition()._plotConfigOption.hoverStyle),this.__xs.length>0&&this.__ys.length>0&&e.drawLines(this.__xs,this.__ys),e.restoreTransform()},n}(t._ParallelSeriesView);t._ParallelLineSeriesView=e}(t||(t={})),function(t){t._isLineCartesianParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isLineRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(i,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),n.call(this,i,o,r,null==l?new e._ParallelLinePlotViewBuilder:l,null,null==a?new t._ParallelLineSymbolViewBuilder(!1,!1):a)||this}return i(o,n),o.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},o}(e._ParallelPlotDefinition),e._ParallelLinePlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(i instanceof e._ParallelLinePlotDefinition&&t._isParallelPlotDataModel(o)&&null!=n){var r=i._valueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueDimensionDefinition(r[0]))return new t._LineRadialParallelPlotView(n,i,o)}return null},n}(),e._ParallelLinePlotViewBuilder=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildLegendSymbolView=function(e){var n=new t._LineLegendSymbolView;return n._setPlotDefinition(e),n},n}(t._LegendSymbolViewBuilder);t._ParallelLineSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type){var o=new t.models._ParallelLinePlotDefinition(e,e._findDataSchema(null),n);return null!=o._valueDefinitions()&&o._valueDefinitions().length>0&&t.models._isParallelValueDimensionDefinition(o._valueDefinitions()[0])?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ParallelLinePlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t){return e.call(this,t)||this}return i(n,e),n.prototype.validate=function(e,n,i){if(null==e)return 20;if(!isNaN(e)){var o=e;return o<0&&(o=Math.abs(o)),o}return this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),20},n}(t._BaseValidator);t._SankeyNodeWidthValidator=e}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Source=1]="Source",t[t.Target=2]="Target",t[t.Gradient=3]="Gradient"}(t.SankeyColorMode||(t.SankeyColorMode={}))}(t||(t={})),function(t){t._isSankeyFlowColorBuilder=function(t){return null!=t&&"function"==typeof t._createFlowGradientColor}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._toPointView=function(e){if(t._isSankeyFlowView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._calculateColor=function(t){var e=t._color;return null==e&&(e=this._getColorByMode(t),t._color=e),e},n.prototype._getColorByMode=function(e){var n=null,i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.colorMode;if(i==t.SankeyColorMode.None)null==(n=this._getFlowColorWithValue(e))&&(n=this._getColorIterator(e._getSankeyPlotView())._next(!0));else if(i==t.SankeyColorMode.Source)n=e._getSourceNodeView()._paletteColor;else if(i==t.SankeyColorMode.Target)n=e._getTargetNodeView()._paletteColor;else if(i==t.SankeyColorMode.Gradient){var o=e._getSourceNodeView()._paletteColor,r=e._getTargetNodeView()._paletteColor;null!=o&&null!=r&&(n=this._createFlowGradientColor(o,r))}return n},n.prototype._getColorIterator=function(t){var e=t._getSankeyPlotDefinition()._flowColorIterator();return null==e&&(e=t._getLayoutView()._getPlotAreaView()._colorIterator),e},n.prototype._getFlowColorWithValue=function(e){return e._getSankeyPlotView()._getSankeyPlotDefinition()._flowPaletteColorProvider._colorWithValue(t._DataValueTypeExtension._toDataValueType(e._weight))},n.prototype._createFlowGradientColor=function(e,n){if(t.models._isPatternColor(e)||t.models._isPatternColor(n))return e;if(t.models._isCssColor(e)){if(t.models._isCssColor(n))return this._createLinearGradientColor(e.color,n.color);if(t.models._isLinearGradientColor(n))return this._createLinearGradientColor(e.color,n.colorStops[0].color);if(t.models._isRadialGradientColor(n))return this._createRadialGradientColor(e.color,n.colorStops[0].color)}if(t.models._isLinearGradientColor(e)){if(t.models._isRadialGradientColor(n))return e;if(t.models._isLinearGradientColor(n))return this._createLinearGradientColor(e.colorStops[e.colorStops.length-1].color,n.colorStops[0].color);if(t.models._isCssColor(n))return this._createLinearGradientColor(e.colorStops[e.colorStops.length-1].color,n.color)}if(t.models._isRadialGradientColor(e)){if(t.models._isLinearGradientColor(n))return e;if(t.models._isRadialGradientColor(n))return this._createRadialGradientColor(e.colorStops[e.colorStops.length-1].color,n.colorStops[0].color);if(t.models._isCssColor(n))return this._createRadialGradientColor(e.colorStops[e.colorStops.length-1].color,n.color)}return e},n.prototype._createLinearGradientColor=function(e,n){var i=[new t._ColorStop(e,0),new t._ColorStop(n,1)];return new t._LinearGradientColor(90,i)},n.prototype._createRadialGradientColor=function(e,n){var i=[new t._ColorStop(e,0),new t._ColorStop(n,1)],o=new t.core.Point(.5,.5);return new t._RadialGradientColor(o,.5,o,.5,i)},n}(t._PointColorBuilder);t._SankeyFlowColorBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null!=i?i:new t._SankeyFlowColorBuilder)||this}return i(n,e),n.prototype._buildSelectedPointStyle=function(e,n){var i=this._toPointView(e),o=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.selectedStyle),o},n.prototype._buildUnselectedPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._dvConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.unselectedStyle),i},n.prototype._buildHoverPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.hoverStyle),this._applyDataPointStyleOption(i,n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.hoverStyle),i},n.prototype._toPointView=function(e){if(t._isSankeyFlowView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},n.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(.4,"#666666",1,"none",1)},n.prototype._applyColor=function(t,e,n){null!=e&&(t.fill=e,t.stroke=e)},n.prototype._applyDataPointStyle=function(e,n){var i=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow,o=i.colorMode;if(o==t.SankeyColorMode.None)this._applyDataPointStyleOption(e,i.style),this._applyDataPointStyleOption(e,n._internalStyle());else{var r=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node,l=null;null!=r&&(l=r.style,this._applyNodeColorOption(e,l)),this._applyNodeInternalColor(e,n,o,l),this._applyFlowOtherStyleOption(e,i.style),this._applyFlowOtherStyleOption(e,n._internalStyle())}},n.prototype._applyNodeColorOption=function(e,n){null!=n&&(null!=n.fill&&(e.fill=t._StyleUtility._colorFromOption(n.fill)),null!=n.stroke&&(e.stroke=t._StyleUtility._colorFromOption(n.stroke)))},n.prototype._applyFlowOtherStyleOption=function(t,e){null!=e&&(null!=e.opacity&&(t.fillOpacity=e.opacity),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth.top),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray))},n.prototype._applyNodeInternalColor=function(e,n,i,o){if(i==t.SankeyColorMode.Source)this._applyNodeColorOption(e,n._getSourceNodeView()._internalStyle());else if(i==t.SankeyColorMode.Target)this._applyNodeColorOption(e,n._getTargetNodeView()._internalStyle());else if(i==t.SankeyColorMode.Gradient){var r=n._getSourceNodeView(),l=n._getTargetNodeView(),a=r._internalStyle(),s=l._internalStyle(),u=null,_=null,p=null,c=null;if(null!=a&&(u=null==a.fill?null:t._StyleUtility._colorFromOption(a.fill),p=null==a.stroke?null:t._StyleUtility._colorFromOption(a.stroke)),null!=s&&(_=null==s.fill?null:t._StyleUtility._colorFromOption(s.fill),c=null==s.stroke?null:t._StyleUtility._colorFromOption(s.stroke)),(null!=u||null!=_)&&(u=this._getNodeColor(u,o,r._paletteColor,!0),_=this._getNodeColor(_,o,l._paletteColor,!0),t._isSankeyFlowColorBuilder(this._pointColorBuilder))){var h=this._pointColorBuilder;e.fill=h._createFlowGradientColor(u,_)}null==p&&null==c||(p=this._getNodeColor(p,o,r._paletteColor,!1),c=this._getNodeColor(c,o,l._paletteColor,!1),!t._isSankeyFlowColorBuilder(this._pointColorBuilder))||(h=this._pointColorBuilder,e.stroke=h._createFlowGradientColor(p,c))}},n.prototype._getNodeColor=function(e,n,i,o){if(null!=e)return e;if(null!=n){if(o&&null!=n.fill)return t._StyleUtility._colorFromOption(n.fill);if(!o&&null!=n.stroke)return t._StyleUtility._colorFromOption(n.stroke)}return i},n}(t._PointStyleBuilder);t._SankeyFlowStyleBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._buildNodeColor=function(t){var e=t._getSankeyPlotView(),n=this._getPaletteColorProvider(e),i=this._getColorIterator(e),o=n._colorWithValue(t._value);return null==o&&(o=i._next(!0)),o},t.prototype._getPaletteColorProvider=function(t){return t._getSankeyPlotDefinition()._nodePaletteColorProvider},t.prototype._getColorIterator=function(t){var e=t._getSankeyPlotDefinition()._nodeColorIterator();return null==e&&(e=t._getLayoutView()._getPlotAreaView()._colorIterator),e},t}();t._SankeyNodeColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildNodeLabelText=function(e,n){var i=e._getSankeyPlotView(),o=this._createTextTemplate(n);if(null==o||""==o)return null;var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t._SankeyNodeLabelTextProxy(e,n,null),s=i._getDefinition()._plotConfigOption.plugins,u=i._getDefinition()._pluginCollection,_=r.evaluate(l,a,s,u),p=this._toLines(_);return null!=p&&p.length>0?p.join("\n"):null},e.prototype._createTextTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTextTemplate():null},e.prototype._getDefaultTextTemplate=function(){return"{name}"},e.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},e}();t._SankeyNodeLabelTextBuilder=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this._nodeColorBuilder=null!=e?e:new t._SankeyNodeColorBuilder}return e.prototype._buildNodeStyle=function(t){var e=this._buildDefaultStyle();return this._applyColor(e,t._paletteColor),this._applyNodeStyle(e,t),e},e.prototype._buildNodeHoverStyle=function(e){var n=t._StyleUtility._buildStyle();t._StyleUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.hoverStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._StyleUtility._applyDataPointStyleOption(n,i.hoverStyle),n},e.prototype._buildNodeSelectedStyle=function(e){var n=t._StyleUtility._buildStyle();t._StyleUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._dvConfigOption.selectedStyle),t._StyleUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.selectedStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._StyleUtility._applyDataPointStyleOption(n,i.selectedStyle),n},e.prototype._buildNodeUnselectedStyle=function(e){var n=t._StyleUtility._buildStyle();t._StyleUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._dvConfigOption.unselectedStyle),t._StyleUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.unselectedStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._StyleUtility._applyDataPointStyleOption(n,i.unselectedStyle),n},e.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(1,null,1,"none",1,null)},e.prototype._applyColor=function(t,e){t.fill=e},e.prototype._applyNodeStyle=function(e,n){var i=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;null!=i&&t._StyleUtility._applyDataPointStyleOption(e,i.style),t._StyleUtility._applyDataPointStyleOption(e,n._internalStyle())},e._defaultBuilder=new e,e}();t._SankeyNodeStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r._source=n,r._target=i,r._weight=o,r}return i(e,t),e}(t._PointDataModel);t._SankeyFlowDataModel=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isSankeyPlotModel=function(t){var e=t;return null!=e&&void 0!==e.nodes&&void 0!==e.flows}}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._flows=[],i}return i(n,e),n.prototype._points=function(){return this._flows},n.prototype._initialize=function(){var e=this,n=this._definition(),i=n._encodingsDefinition._valueEncodingDefinitions,o=n._encodingsDefinition._getSankeyCategoryEncodingDefinition();if(i.length>0&&null!=o)for(var r=i[0]._getValueDimensionDefinition(),l=t._SankeyGroupingModelBuilder._defaultGroupingModelBuilder._build(new t._SankeyGroupingBuilder,this._dataSlices,o._sankeyGroupingDefinition),a=function(n){var i=n._dataSlices,o=n.key._from,l=n.key._to,a=r._fieldDefinition()._dataField,u=r._aggregate();if(null!=u){var _=s._calculateFlowWeight(i,a,u);s._checkNodes(o,l)&&s._checkWeight(_)&&s._flows.push(new t._SankeyFlowDataModel(i,o,l,_))}else i.forEach((function(n){var i=e._calculateFlowWeight(n,a,t.Aggregate.List);e._checkNodes(o,l)&&e._checkWeight(i)&&e._flows.push(new t._SankeyFlowDataModel(n,o,l,i))}))},s=this,u=0,_=l;u<_.length;u++)a(_[u])},n.prototype._calculateFlowWeight=function(e,n,i){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(e,n,i);return this._toNumber(o)},n.prototype._toNumber=function(t){if(null==t)return null;var e=null;return"number"==typeof t?e=t:t instanceof Date?e=t.valueOf():"boolean"!=typeof t&&"string"!=typeof t||(e=NaN),e},n.prototype._checkNodes=function(t,e){return null!=t&&null!=e},n.prototype._checkWeight=function(t){return null!=t&&!isNaN(t)&&t>=0},n}(t._PlotDataModel);t._SankeyPlotDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(e,n){if(t._isSankeyPlotDefinition(e)){var i=this._createData(e,n);return i._initialize(),i}return null},e.prototype._createData=function(e,n){return new t._SankeyPlotDataModel(n,e)},e._defaultBuilder=new e,e}();t._SankeyPlotDataModelBuilder=e}(t||(t={})),t||(t={}),function(t){t._isSankeyGroupingDefinition=function(t){var e=t;return void 0!==e._fromFieldDefinition&&void 0!==e._toFieldDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.key=e,i}return i(e,t),e}(t._DataModel);t._SankeyGrouping=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o){return null==e?null:new t._SankeyGrouping(e,n)},e}();t._SankeyGroupingBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this._fromFieldDefinition=t,this._toFieldDefinition=e,this._sorter=n,this._filter=i}return e.prototype.label=function(){return null},e.prototype.equalsWith=function(e){if(this==e)return!0;if(t._isSankeyGroupingDefinition(e)){var n=e;return this._fromFieldDefinition.equalsWith(n._fromFieldDefinition)&&this._toFieldDefinition.equalsWith(n._toFieldDefinition)}return!1},e.prototype.queryInterface=function(t){return null},e}();t._SankeyGroupingDefinition=e}(t||(t={})),function(t){var e=function(t,e){this._from=t,this._to=e};t._SankeyGroupingKey=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__fromField=t,this.__toField=e}return e.prototype._buildGroupingKey=function(e){var n=null!=e?e._items:[],i=t._DataItemExtension._toItem(this.__fromField,n),o=t._DataItemExtension._toItem(this.__toField,n);return new t._SankeyGroupingKey(i,o)},e}();t._SankeyGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;var i=t._DataValueTypeEqualityComparer._comparer;return i._equalsWith(e._from,n._from)&&i._equalsWith(e._to,n._to)},e._defaultSankeyGroupingKeyEqualityComparer=new e,e}();t._SankeyGroupingKeyEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o,r,l){var a=[],s=new t._DataSlicesKeysFilter(l._filter,[l._fromFieldDefinition._dataField._name,l._toFieldDefinition._dataField._name])._filter(r),u=[];s.forEach((function(e){for(var o=n._buildGroupingKey(e),r=null,l=0,a=u;l<a.length;l++){var s=a[l];if(i._equalsWith(o,s._key)){r=s;break}}null==r&&(r=new t._GroupingInfo(o),u.push(r)),r._mergeDataSlices(e)}));for(var _=0,p=u;_<p.length;_++){var c=p[_],h=e._buildGrouping(c._key,c._dataSlices,o,null);null!=h&&a.push(h)}var f=l._sorter;return null!=f&&f._sort(a),a},e.prototype._build=function(e,n,i){var o=new t._SankeyGroupingKeyBuilder(i._fromFieldDefinition._dataField,i._toFieldDefinition._dataField),r=t._SankeyGroupingKeyEqualityComparer._defaultSankeyGroupingKeyEqualityComparer;return this._buildGrouping(e,o,r,null,n,i)},e._defaultGroupingModelBuilder=new e,e}();t._SankeyGroupingModelBuilder=e}(t||(t={})),function(t){t._isSankeyCategoryEncodingDefinition=function(e){if(!t._isCategoryEncodingDefinition(e))return!1;var n=e;return null!=n._fromFieldDefinition&&void 0!==n._toFieldDefinition&&void 0!==n._sankeyGroupingDefinition}}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){var a=e.call(this,t,o,r,l)||this;return a._fromFieldDefinition=n,a._toFieldDefinition=i,a.__sankeyGroupingDefinition=null,a}return i(n,e),Object.defineProperty(n.prototype,"_sankeyGroupingDefinition",{get:function(){return null==this.__sankeyGroupingDefinition&&(this.__sankeyGroupingDefinition=this._buildSankeyGroupingDefinition(this._plotDefinition,this._fromFieldDefinition,this._toFieldDefinition,this._excludeNulls,this._sortDefinition)),this.__sankeyGroupingDefinition},enumerable:!0,configurable:!0}),n.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isSankeyCategoryEncodingDefinition(n)){var i=n;return i._fromFieldDefinition.equalsWith(this._fromFieldDefinition)&&i._toFieldDefinition.equalsWith(this._toFieldDefinition)}return!1},n.prototype._buildSankeyGroupingDefinition=function(e,n,i,o,r){var l=o?t._BuildInCategoryFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,e._pluginCollection):null;return new t._SankeyGroupingDefinition(n,i,null,l)},n}(t._CategoryEncodingDefinition);t._SankeyCategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCategoryEncodingDefinition=function(e,n){if(null==n.field||0==n.field.length)return null;var i=t._EscapedCharacterStringUtility._split(n.field,",");if(this._getOptionStrictMode(n)){if(2==i.length){var o=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,null),r=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[1],e._dataSchema,null);return new t._SankeyCategoryEncodingDefinition(e,o,r,n.excludeNulls,null,null)}throw new t.OptionError(t.ErrorCode.UnexpectedValue,n.field)}return i.length>1&&(o=null==i[0]?null:t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,null),r=null==i[1]?null:t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[1],e._dataSchema,null),null!=o&&null!=r)?new t._SankeyCategoryEncodingDefinition(e,o,r,n.excludeNulls,null,null):null},e.prototype._getOptionStrictMode=function(e){var n=!1;return t.options._isOptionStrictMode(e)&&(n=e._strictMode),n},e._categoryEncodingDefinitionBuilder=new e,e}();t._SankeyCategoryEncodingDefinitionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,s,u,_){var p=t.call(this,e,o,r,l,a,s,u,_)||this;return p._detailEncodingDefinitions=n,p._valueEncodingDefinitions=i,p}return i(e,t),e.prototype._getSankeyCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},e._emptyEncodingsDefinition=new e(null,[],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._SankeyEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function n(n){void 0===n&&(n=null);var i=e.call(this)||this;return i._categoryEncodingDefinitionBuilder=null==n?t._SankeyCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder:n,i}return i(n,e),n.prototype._createEncodingsDefinitionContext=function(){return new t._SankeyEncodingsDefinitionContext},n.prototype._createEncodingsDefinition=function(e){return new t._SankeyEncodingsDefinition(e._sankeyCategoryEncodingDefinition,e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._sizeEncodingDefinition,e._shapeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},n.prototype._buildEncodingDefinitions=function(t,n,i){i._sankeyCategoryEncodingDefinition=null==this._categoryEncodingDefinitionBuilder?null:this._categoryEncodingDefinitionBuilder._buildCategoryEncodingDefinition(t,n.category),i._detailEncodingDefinitions=this._createDetailEncodingDefinitions(t,n.details,i),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},n.prototype._createDetailEncodingDefinitions=function(t,e,n){return[]},n.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},n.prototype._createValueEncodingDefinition=function(e,n,i){var o=new t._AggregateValueEncodingDefinitionBuilder(null)._buildValueEncodingDefinition(e,n);return null!=o?o:null},n}(t._EncodingsDefinitionBuilder);t._SankeyEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return i(e,t),e}(t._EncodingsDefinitionContext);t._SankeyEncodingsDefinitionContext=e}(t||(t={})),function(t){t._isSankeyPlotDefinition=function(t){var e=t;return void 0!==e._encodingsDefinition&&void 0!==e._nodeLabelOverlayDefinition&&void 0!==e._nodePaletteColorProvider&&void 0!==e._flowPaletteColorProvider&&void 0!==e._conditionalFormattingRuleRunner&&"function"==typeof e._nodeColorIterator&&"function"==typeof e._flowColorIterator&&"function"==typeof e._getNodeTextOption&&"function"==typeof e._getNodeTooltipOption&&"function"==typeof e._getSankeyPlotConfigOption}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),n.prototype._defaultStyle=function(){return null},n}(t._BaseOverlayDefinition);t._SankeyNodeLabelOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildNodeLabelOverlayDefinition=function(e,n){return null==n||"Node"!=n.scope?null:new t._SankeyNodeLabelOverlayDefinition(e,n)},e}();t._SankeyNodeLabelOverlayDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.__flowView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){if(e instanceof t._TokenSyntaxExpression){var n=e.token,i=e.path,o=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition;if("sourceNode"==n)return o._getSankeyCategoryEncodingDefinition()._fromFieldDefinition._format;if("targetNode"==n)return o._getSankeyCategoryEncodingDefinition()._toFieldDefinition._format;if("valueField"==n&&"value"==i)return o._valueEncodingDefinitions[0]._getValueDimensionDefinition()._fieldDefinition()._format;for(var r=0,l=o._tooltipEncodingDefinitions;r<l.length;r++){var a=l[r];if(t._isAggregateContentEncodingDefinition(a)){var s=a._dataFieldDefinition;if(n==s._dataField._name)return s._format}}}return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("sourceNode"===e)return new t.models._DataValueInfo(this.__flowView._getSourceNodeView()._value,this.__stringFormatting);if("targetNode"===e)return new t.models._DataValueInfo(this.__flowView._getTargetNodeView()._value,this.__stringFormatting);var o=n.split(".");return"valueField"===e?this._getValueFieldProperty(o):"categoryField"===e?this._getCategoryFieldProperty(o):this._getTokenProperty(e,n,this.__stringFormatting)},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__flowView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__flowView?new t._AnyValueBinding(e.substring(8))._getValue(this.__flowView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e.prototype._flowDataModel=function(){return this.__flowView._data()},e.prototype._getValueFieldProperty=function(e){var n=e.shift(),i=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._valueEncodingDefinitions[0]._getValueDimensionDefinition();if("name"==n){var o=i.label();if(null!=o)return new t.models._DataValueInfo(o,this.__stringFormatting)}if("value"==n){var r=null==i._aggregate()?t.Aggregate.List:i._aggregate(),l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._flowDataModel()._dataSlices,i._fieldDefinition()._dataField,r);if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}if("aggregate"==n&&null!=(r=i._aggregate())){var a=t._CastExtension.toAggregateString(r);if(null!=a)return new t.models._DataValueInfo(a,this.__stringFormatting)}return null},e.prototype._getCategoryFieldProperty=function(e){var n=e.shift(),i=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._getSankeyCategoryEncodingDefinition(),o=i._fromFieldDefinition,r=i._toFieldDefinition;if("name"==n){var l=o._label+"-"+r._label;if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}if("value"==n){var a=this._flowDataModel()._dataSlices,s=t._DataSlicesAggregate._defaultAggregate._aggregate(a,o._dataField,t.Aggregate.List),u=t._DataSlicesAggregate._defaultAggregate._aggregate(a,r._dataField,t.Aggregate.List);if(null!=s&&null!=u){var _=this.__stringFormatting.format(o._format,s),p=this.__stringFormatting.format(r._format,u);return new t.models._DataValueInfo(_+", "+p,this.__stringFormatting)}}return null},e.prototype._getTokenProperty=function(e,n,i){for(var o=0,r=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions;o<r.length;o++){var l=r[o];if(t._isAggregateContentEncodingDefinition(l)){var a=l;if(a._dataFieldDefinition._dataField._name==e)if("name"==n){var s=a._dataFieldDefinition._label;if(null!=s)return new t.models._DataValueInfo(s,i)}else if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__flowView._data()._dataSlices,a._dataFieldDefinition._dataField,t.Aggregate.List);if(null!=u)return new t.models._DataValueInfo(u,i)}}}return null},e}();t._SankeyFlowTooltipTextProxy=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){this.__nodeView=e,this.__textOption=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(t){return null!=this.__textOption.format&&null!=this.__textOption.format.value?this.__textOption.format.value:null},e.prototype._getDefaultFormatType=function(){return null!=this.__textOption.format&&null!=this.__textOption.format.type?this.__textOption.format.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){return null==e?null:"name"===e?new t.models._DataValueInfo(this.__nodeView._value,this.__stringFormatting):"value"===e?new t.models._DataValueInfo(this.__nodeView._weight(),this.__stringFormatting):null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__nodeView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__nodeView?new t._AnyValueBinding(e.substring(8))._getValue(this.__nodeView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._SankeyNodeLabelTextProxy=e}(t||(t={})),function(t){var e=function(){function e(e,n){this._nodeView=e,this._stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){if(e instanceof t._TokenSyntaxExpression){var n=e.token,i=e.path,o=this._nodeView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition;if("value"==i)return o._valueEncodingDefinitions[0]._getValueDimensionDefinition()._fieldDefinition()._format;if("name"==i){if("income"==n)return o._getSankeyCategoryEncodingDefinition()._fromFieldDefinition._format;if("outcome"==n)return o._getSankeyCategoryEncodingDefinition()._toFieldDefinition._format}}return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this._stringFormatting},e.prototype.getIdentifierValue=function(e){return"current"==e?this._nodeView:e.length>8&&"current."==e.substring(0,8)&&null!=this._nodeView?new t._AnyValueBinding(e.substring(8))._getValue(this._nodeView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._SankeyNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("name"===e)return new t.models._DataValueInfo(this._nodeView._value,this._stringFormatting);if("value"===e){var o=t._DataValueTypeExtension._toDataValueType(this._nodeView._weight());return new t.models._DataValueInfo(o,this._stringFormatting)}if("income"===e&&null!=i){var r=i;return this._getRelatedFlowProperty(this._nodeView._incomes[r],n,!0,this._stringFormatting)}return"outcome"===e&&null!=i?(r=i,this._getRelatedFlowProperty(this._nodeView._outcomes[r],n,!1,this._stringFormatting)):null},n.prototype._getRelatedFlowProperty=function(e,n,i,o){if(null!=e){if("name"===n){var r=i?e._source._value:e._target._value;return new t.models._DataValueInfo(r,o)}if("value"===n)return new t.models._DataValueInfo(e._weight,o)}return null},n}(t._SankeyNodeTooltipTextProxy);t._SankeyRadialNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("name"===e)return new t.models._DataValueInfo(this._nodeView._value,this._stringFormatting);if("value"===e){var o=t._DataValueTypeExtension._toDataValueType(this._nodeView._weight());return new t.models._DataValueInfo(o,this._stringFormatting)}if("income"===e&&null!=i){var r=i;return this._getRelatedFlowProperty(this._nodeView._incomes[r],n,!0,this._stringFormatting)}return"outcome"===e&&null!=i?(r=i,this._getRelatedFlowProperty(this._nodeView._outcomes[r],n,!1,this._stringFormatting)):null},n.prototype._getRelatedFlowProperty=function(e,n,i,o){if(null!=e){if("name"===n){var r=i?e._source._value:e._target._value;return new t.models._DataValueInfo(r,o)}if("value"===n)return new t.models._DataValueInfo(e._weight,o)}return null},n}(t._SankeyNodeTooltipTextProxy);t._SankeyXyNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._applyConditionalFormattingRules=function(e){for(var n=e,i=n._getDefinition()._plotConfigOption.rules,o=[],r=n._getDefinition()._pluginCollection,l=function(e){if("Node"==e.type){var i=new t.models._ConditionalFormattingRule(e,o,r);n._traverseNodeViews((function(t){i.evaluate(t._toSankeyNodeModel())}))}else if("Flow"==e.type||"DataPoint"==e.type){var l=new t.models._ConditionalFormattingRule(e,o,r);n._traverseFlowViews((function(t){l.evaluate(t._toSankeyFlowModel())}))}},a=0,s=i;a<s.length;a++)l(s[a])},e}();t._SankeyConditionalFormattingRuleRunner=e}(t||(t={})),function(t){var e=function(e){function o(i,o,r,l){var a=e.call(this,i,o,r,l,t._SankeyPlotDataModelBuilder._defaultBuilder,new t._SankeyEncodingsDefinitionBuilder)||this;return a.__sankeyPlotConfigOption=a._buildSankeyPlotConfigOption(r.config),a.__nodePaletteColorProvider=null==a.__sankeyPlotConfigOption.node?null:a._createPaletteColorProvider(a.__sankeyPlotConfigOption.node.palette),a.__flowPaletteColorProvider=a._createPaletteColorProvider(a.__sankeyPlotConfigOption.flow.palette),a.__nodeColorIterator=a._createColorIterator(a.__nodePaletteColorProvider),a.__flowColorIterator=a._createColorIterator(a.__flowPaletteColorProvider),a.__nodeLabelOverlayDefinitionBuilder=new t._SankeyNodeLabelOverlayDefinitionBuilder,a.__nodeTextOption=a._findNodeTextOption(r),a._nodeLabelOverlayDefinition=a.__nodeLabelOverlayDefinitionBuilder._buildNodeLabelOverlayDefinition(a,a.__nodeTextOption),a.__nodeTooltipOption=a._findNodeTooltipOption(r),a.__flowTooltipOption=a._findFlowTooltipOption(r),a._conditionalFormattingRuleRunner=new t._SankeyConditionalFormattingRuleRunner,a._visualViewOrderComparer=new n(a),a}return i(o,e),o.prototype._emptyEncodingsDefinition=function(){return t._SankeyEncodingsDefinition._emptyEncodingsDefinition},o.prototype._buildSankeyPlotConfigOption=function(e){return t.options._isSankeyPlotConfigOption(e)?e:null!=e.option()?new t.options._SankeyPlotConfigOption(e.option(),!0):new t.options._SankeyPlotConfigOption(null,!0)},o.prototype._findNodeTextOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.text;e<n.length;e++){var i=n[e];if("Node"==i.scope)return i}return null},o.prototype._findNodeTooltipOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.tooltip;e<n.length;e++){var i=n[e];if("Node"==i.scope)return i}return null},o.prototype._findFlowTooltipOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.tooltip;e<n.length;e++){var i=n[e];if("Flow"==i.scope||"DataPoint"==i.scope)return i}return null},Object.defineProperty(o.prototype,"_nodePaletteColorProvider",{get:function(){return null!=this.__nodePaletteColorProvider?this.__nodePaletteColorProvider:this._paletteColorProvider},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_flowPaletteColorProvider",{get:function(){return null!=this.__flowPaletteColorProvider?this.__flowPaletteColorProvider:this._paletteColorProvider},enumerable:!0,configurable:!0}),o.prototype._nodeColorIterator=function(){return null!=this.__nodeColorIterator?this.__nodeColorIterator:null!=this.colorIterator()?this.colorIterator():null},o.prototype._flowColorIterator=function(){return null!=this.__flowColorIterator?this.__flowColorIterator:null!=this.colorIterator()?this.colorIterator():null},o.prototype._getNodeTextOption=function(){return this.__nodeTextOption},o.prototype._getNodeTooltipOption=function(){return this.__nodeTooltipOption},o.prototype._getFlowTooltipOption=function(){return this.__flowTooltipOption},o.prototype._getSankeyPlotConfigOption=function(){return this.__sankeyPlotConfigOption},o.prototype._getDataModelType=function(){return"Relation"},o}(t._BasePlotDefinition);t._SankeyPlotDefinition=e;var n=function(){function t(t){this.__visualViewOrderComparers=[];var e=t._hoverBehaviorPolicy._visualViewOrderComparer;null!=e&&this.__visualViewOrderComparers.push(e),this.__visualViewOrderComparers.push(new o)}return t.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},t}(),o=function(){function e(){}return e.prototype._compare=function(t,e){var n=0;return 0!=(n=this._compareSelectedView(t,e))?n:n=this._compareIndex(t,e)},e.prototype._compareSelectedView=function(t,e){return this._isSelected(t)?this._isSelected(e)?0:1:this._isSelected(e)?-1:0},e.prototype._compareIndex=function(e,n){return t._isSankeyNodeView(e)&&t._isSankeyNodeView(n)||t._isSankeyFlowView(e)&&t._isSankeyFlowView(n)?e._getIndex()-n._getIndex():t._isSankeyNodeView(e)?1:-1},e.prototype._isSelected=function(e){return t._isSelectingView(e)&&e._isSelected()},e}()}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSankeyPlotConfigOption=function(t){var e=t;return null!=e&&void 0!==e.node&&void 0!==e.flow}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"palette",{get:function(){return this.__palette},set:function(t){this.__palette!=t&&(this.__palette=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorMode",{get:function(){return this.__colorMode},set:function(t){this.__colorMode!=t&&(this.__colorMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(this.__unSelectedStyle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__style=null,this.__palette=null,this.__colorMode=t.SankeyColorMode.None,this.__hoverStyle=null,this.__selectedStyle=null,this.__unSelectedStyle=null},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],n.prototype,"style",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],n.prototype,"palette",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SankeyColorMode,t.SankeyColorMode.None)],n.prototype,"colorMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],n.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],n.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],n.prototype,"unselectedStyle",null),n}(e._Option),e._SankeyFlowOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"palette",{get:function(){return this.__palette},set:function(t){this.__palette!=t&&(this.__palette=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(this.__unSelectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nodeGap",{get:function(){return this.__nodeGap},set:function(t){this.__nodeGap!=t&&(this.__nodeGap=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"padAngle",{get:function(){return this.__padAngle},set:function(t){this.__padAngle!=t&&(this.__padAngle=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__style=null,this.__palette=[],this.__hoverStyle=null,this.__selectedStyle=null,this.__unSelectedStyle=null,this.__nodeGap=10,this.__padAngle=1,this.__width=20,this.__borderRadius=null},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],n.prototype,"style",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],n.prototype,"palette",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataPointStyleOption")],n.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],n.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SelectionStyleOption")],n.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,10)],n.prototype,"nodeGap",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1)],n.prototype,"padAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,20),t.ValidatorAttribute(t._SankeyNodeWidthValidator,!0)],n.prototype,"width",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],n.prototype,"borderRadius",null),n}(e._Option),e._SankeyNodeOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"node",{get:function(){return this.__node},set:function(t){this.__node!=t&&(this.__node=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"flow",{get:function(){return this.__flow},set:function(t){this.__flow!=t&&(null==t&&(t=new e._SankeyFlowOption),this.__flow=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__node=null,this.__flow=new e._SankeyFlowOption(null)},r.prototype.queryInterface=function(t){return"ISankeyPlotConfigOption"==t?this:n.prototype.queryInterface.call(this,t)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SankeyNodeOption")],r.prototype,"node",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_SankeyFlowOption")],r.prototype,"flow",null),r}(e._PlotConfigOption),e._SankeyPlotConfigOption=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.canConvert=function(n,i,o){return!(!e.prototype.canConvert.call(this,n,i,o)||!t._JsonElementUtility._hasProperty(i,"node")&&!t._JsonElementUtility._hasProperty(i,"flow"))},n.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._SankeyPlotConfigOption,e,n):(this._processError(e),null)},n}(t._PlotConfigOptionConverter);t._SankeyPlotConfigOptionConverter=e}(t||(t={})),function(t){t._isSankeyFlowView=function(t){var e=t;return null!=e&&void 0!==e._weight&&"function"==typeof e._getSankeyPlotView&&"function"==typeof e._getSourceNodeView&&"function"==typeof e._getTargetNodeView&&"function"==typeof e._toSankeyFlowModel&&void 0!==e._color&&"function"==typeof e._getIndex}}(t||(t={})),function(t){t._isSankeyNodeView=function(t){var e=t;return null!=e&&void 0!==e._value&&void 0!==e._nodeStyleBuilder&&void 0!==e._textOption&&void 0!==e._tooltipOption&&void 0!==e._paletteColor&&"function"==typeof e._getSankeyPlotView&&"function"==typeof e._initPaletteColor&&"function"==typeof e._weight&&"function"==typeof e._toSankeyNodeModel&&"function"==typeof e._internalStyle&&"function"==typeof e._getIndex}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t)||this;return o._text=n,o._textOption=i,o.__textView=null,o.__textLocation=null,o.__textAngle=null,o}return i(n,e),n.prototype.translate=function(t,e){var n=this._getTextView()._getRectangle();n.left+=t,n.top+=e},n.prototype._getTextView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._text,this._getTextOverflow(this._getNodeView(),this._textOption),this._getPaddings(),this._getHAlign(),this._getVAlign(),this._buildStyle(this._getNodeView(),this._textOption),null,this._getTextAlignment(this._getNodeView(),this._textOption))),this.__textView},n.prototype._measureLabelSize=function(t,e){return this._getTextView()._measure(t,e)},n.prototype._getMaxWidth=function(t){var e=t.maxWidth;return null==e?Number.MAX_VALUE:e},n.prototype._getTextPosition=function(e){var n=null;return null!=e&&(n=e.position==t.TextPosition.Auto?t.TextPosition.Center:e.position),t._NativeExtension._toNonNullEnum(n,t.TextPosition.Center)},n.prototype._getPosition=function(e){var n=t.Position.None;switch(e){case t.Placement.Auto:case t.Placement.Top:n=t.Position.Top;break;case t.Placement.Left:n=t.Position.Left;break;case t.Placement.Right:n=t.Position.Right;break;case t.Placement.Bottom:n=t.Position.Bottom}return n},n.prototype._getTextLocation=function(){return this.__textLocation},n.prototype._setTextLocation=function(t){this.__textLocation=t},n.prototype._getTextAngle=function(){return this.__textAngle},n.prototype._setTextAngle=function(t){this.__textAngle=t},n.prototype._getTextAngleFromOption=function(e){return null!=e&&null!=e.angle?t._Util.degree2Rad(e.angle):null},n.prototype._drawView=function(e,n){var i=null,o=this._getTextLocation(),r=this._getTextAngle();null!=o&&null!=r&&0!=r&&(i=t._MatrixUtility._buildRotateMatrix(this._getTextAngle(),this._getTextLocation())),this._getTextView()._transform=i,this._getTextView()._render(e,n)},n.prototype._buildStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=e._getSankeyPlotView();return t._StyleUtility._applyTextStyleOption(i,o._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,o._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(i,o._getDefinition()._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,n.textStyle),t._StyleUtility._applyFill(i,t._CssColor._none()),t._StyleUtility._applyFillOption(i,o._getDefinition()._dvConfigOption.style.backgroundColor),t._StyleUtility._applyFillOption(i,o._getDefinition()._plotAreaOption.style.backgroundColor),t._StyleUtility._applyFillOption(i,n.style.backgroundColor),t._StyleUtility._applyStyle(i,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(i,this._defaultStrokeColor(e)),t._StyleUtility._applyLineStyleFromStyleOption(i,o._getDefinition()._dvConfigOption.style),t._StyleUtility._applyLineStyleFromStyleOption(i,o._getDefinition()._plotAreaOption.style),t._StyleUtility._applyLineStyleFromStyleOption(i,n.style),i},n.prototype._defaultStrokeColor=function(t){return t._paletteColor},n.prototype._getTextOverflow=function(e,n){var i=e._getSankeyPlotView(),o=n.textStyle.overflow;return null==o&&(o=i._getDefinition()._plotConfigOption.textStyle.overflow),null==o&&(o=i._getDefinition()._plotAreaOption.textStyle.overflow),null==o&&(o=i._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(o,t.TextOverflow.Clip)},n.prototype._getPaddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},n.prototype._getHAlign=function(){return t.HAlign.Left},n.prototype._getVAlign=function(){return t.VAlign.Middle},n.prototype._getTextAlignment=function(t,e){var n=t._getSankeyPlotView(),i=e.textStyle.alignment;return null==i&&(i=n._getDefinition()._plotConfigOption.textStyle.alignment),null==i&&(i=n._getDefinition()._plotAreaOption.textStyle.alignment),null==i&&(i=n._getDefinition()._dvConfigOption.textStyle.alignment),i},n}(t._BaseView);t._SankeyNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i)||this;return r.__nodeLabelViewBuilder=o,r.__nodeLabelViews=[],r.__nodeLabelTextBuilder=new t._SankeyNodeLabelTextBuilder,r}return i(n,e),n.prototype.createOverlayItemViews=function(){var t=this;this._getSankeyPlotView()._traverseNodeViews((function(e){var n=t.__nodeLabelTextBuilder._buildNodeLabelText(e,e._textOption);null!=n&&t.__nodeLabelViews.push(t.__nodeLabelViewBuilder._buildNodeLabelView(e,n,e._textOption))}))},n.prototype._getSankeyPlotView=function(){return this._plotView()},n.prototype.useData=function(){},n.prototype._layoutContent=function(t,e){for(var n=0,i=this.__nodeLabelViews;n<i.length;n++)i[n]._layout(t,e)},n.prototype._drawView=function(t,e){for(var n=0,i=this.__nodeLabelViews;n<i.length;n++)i[n]._render(t,e)},n}(t._BaseOverlayView);t._SankeyNodeLabelOverlayView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i,o){void 0===o&&(o=null);var r=e.call(this,n)||this;return r._value=i,r.__paletteColor=null,r._nodeStyleBuilder=null!=o?o:t._SankeyNodeStyleBuilder._defaultBuilder,r._textOption=r._buildTextOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r._tooltipOption=r._buildTooltipOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r._hover=!1,r.__selected=!1,r}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._textOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return this._tooltipOption},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.__selected},set:function(t){this.__selected!=t&&(this.__selected=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Node},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getSankeyPlotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_paletteColor",{get:function(){return this._initPaletteColor(),this.__paletteColor},enumerable:!0,configurable:!0}),n.prototype._getSankeyPlotView=function(){return this._ownerView},n.prototype._initPaletteColor=function(){null==this.__paletteColor&&(this.__paletteColor=this._nodeStyleBuilder._nodeColorBuilder._buildNodeColor(this))},n.prototype._toSankeyNodeModel=function(){return this},n.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},n.prototype._render=function(t,e){},n.prototype._isSelected=function(){return this.__selected},n.prototype.contains=function(t){return!0},n.prototype._tooltipContent=function(){var e=this._createTooltipHtmlContent(this._tooltipOption);if(null!=e&&e.length>0){var n=this._tooltipStyle(this._getSankeyPlotView()._getSankeyPlotDefinition(),this._tooltipOption);return new t.models._TextTooltipContent(e,n)}return null},n.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))&&null!=this._tooltipContent()?this:null},n.prototype.queryInterface=function(t){return"ISankeyNodeView"===t||"ISankeyNodeModel"===t||"IShowTooltipModel"===t||"IQueryShowTooltipModel"==t?this:e.prototype.queryInterface.call(this,t)},n.prototype._createStyleModel=function(){var e=this._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=e?new t.models._DataPointStyleOptionModel(e.style):new t.models._DataPointStyleOptionModel(null)},n.prototype._buildTextOption=function(e){var n=e._getNodeTextOption();return null!=n?t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker._cloneOf(n):null},n.prototype._buildTooltipOption=function(e){var n=e._getNodeTooltipOption();return null!=n?t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(n):null},n.prototype._calculateStyle=function(e,n,i){var o=e._buildNodeStyle(n),r=null,l=null,a=null;i.hasSelectionInPlotArea&&(this._isSelected()||i.selected?r=e._buildNodeSelectedStyle(this):l=e._buildNodeUnselectedStyle(this)),this._hover&&(a=e._buildNodeHoverStyle(n));var s=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(s,o),t._StyleUtility._applyAllStyle(s,r),t._StyleUtility._applyAllStyle(s,l),t._StyleUtility._applyAllStyle(s,a),s},n.prototype._tooltipStyle=function(e,n){var i=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultTextStyle()),o=e._dvConfigOption;return t._StyleUtility._applyFillOption(i,o.style.backgroundColor),t._StyleUtility._applyLineStyleFromStyleOption(i,o.style),t._StyleUtility._applyTextStyleOption(i,o.textStyle),t._StyleUtility._applyFillOption(i,n.style.backgroundColor),t._StyleUtility._applyLineStyleFromStyleOption(i,n.style),t._StyleUtility._applyTextStyleOption(i,e._plotConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,n.textStyle),i},n.prototype._toHtml=function(e){if(null!=e&&e.trim().length>0){for(var n=e.split("\n"),i=new t.models._ContentHtmlBuilder,o=0,r=n;o<r.length;o++){var l=r[o];i._startLine();for(var a=0,s=t.models.StringObject._parse(l);a<s.length;a++){var u=s[a];i._append(u)}i._endLine()}return i._html()}return""},n}(t._BaseView);t._SankeyNodeView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._visualViews=[],o._pointViews=[],o._flowViews=new Array,o._nodeViews=new Array,o}return i(e,t),e.prototype._draw=function(t,e){for(var n=this,i=0,o=this._nodeViews;i<o.length;i++)o[i]._initPaletteColor();this._visualViews.sort((function(t,e){return n._getSankeyPlotDefinition()._visualViewOrderComparer._compare(t,e)}));for(var r=0,l=this._visualViews;r<l.length;r++)l[r]._render(t,e)},e.prototype._hasSelectedPointView=function(){for(var t=0,e=this._nodeViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},e.prototype._getPointViews=function(){return this._pointViews},Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodeViews.map((function(t){return t._toSankeyNodeModel()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flows",{get:function(){return this._flowViews.map((function(t){return t._toSankeyFlowModel()}))},enumerable:!0,configurable:!0}),e.prototype._actionConditionalFormat=function(){this._getSankeyPlotDefinition()._conditionalFormattingRuleRunner._applyConditionalFormattingRules(this)},e.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=this._visualViews.length-1;i>=0;--i){var o=this._visualViews[i]._hitTest(t,e,n);if(null!=o)return o}return null},e.prototype._dataPointTooltipOption=function(){return this._getSankeyPlotDefinition()._getFlowTooltipOption()},e}(t._BasePlotView);t._SankeyPlotView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,null==o?new t._SankeyFlowStyleBuilder:null)||this;return r._weight=i._weight,r._color=null,r.__tooltipOption=r._buildTooltipOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Flow},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._weight},enumerable:!0,configurable:!0}),n.prototype._toSankeyFlowModel=function(){return this},Object.defineProperty(n.prototype,"text",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return this.__tooltipOption},enumerable:!0,configurable:!0}),n.prototype._tooltipContent=function(){var e=this._createSankeyFlowTooltipHtmlContent(this,this.__tooltipOption);if(null!=e&&e.length>0){var n=this._tooltipStyle();return new t.models._TextTooltipContent(e,n)}return null},n.prototype.queryInterface=function(t){return"ISankeyFlowView"===t||"ISankeyFlowModel"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(this._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.style)},n.prototype._buildTooltipOption=function(e){var n=e._getFlowTooltipOption();return null!=n?t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(n):null},n.prototype._createSankeyFlowTooltipHtmlContent=function(e,n){var i=e._getSankeyPlotView()._getSankeyPlotDefinition(),o=this._createTooltipTemplate(n,i._encodingsDefinition._tooltipEncodingDefinitions);if(null==o)return null;var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t._SankeyFlowTooltipTextProxy(e,null),s=i._plotConfigOption.plugins,u=i._pluginCollection,_=r.evaluate(l,a,s,u);return this._toHtml(_)},n.prototype._createTooltipTemplate=function(t,e){return null!=e&&e.length>0?null!=t&&null!=t.template?t.template:this._getDefaultTooltipTemplate(e):null},n.prototype._getDefaultTooltipTemplate=function(e){var n=[];n.push("{sourceNode} -> {targetNode}: {valueField.value}");for(var i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=new t._PathUtil,l=this._pointStyleBuilder._buildPointStyle(this),a=this._getAppropriateHitestPaddingBy(l.strokeWidth);if(null!=this._flowPath&&(r.contain(this._flowPath,n.x,n.y)||r.containStroke(this._flowPath,a,n.x,n.y))){var s=new t.HitTestResult(n,this,this,t.ElementType.Flow);return null==o||null!=o&&o.predicate(s)?s:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getAppropriateHitestPaddingBy=function(t){return null==t&&(t=1),t<10?5:t/2},n}(t._BasePointView);t._SankeyFlowView=e}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.PlotArea)return 0;for(var i=!1,o=0,r=n.plotsPanes;o<r.length;o++)for(var l=0,a=r[o].plots;l<a.length;l++){var s=a[l];if(t._isSankeyPlotModel(s))for(var u=0,_=s.nodes;u<_.length;u++){var p=_[u];p.selected&&(p.selected=!1,this._changeRealtedFlowSelectStatus(p,!1),i=!0)}}return i?1:0},e.prototype._changeRealtedFlowSelectStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._selected=e})),n._outcomes.forEach((function(t){t._selected=e}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._selected=e})),i._outcomes.forEach((function(t){t._selected=e}))}},e}();t._SankeyCancelSelectionInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t._SankeyCancelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e}();t._SankeyCancelSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SankeyFlowHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Flow&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,this._changeRealtedNodeHoverStatus(this.model,!0),1},e.prototype.onLeave=function(t){return this.model.hover=!1,this._changeRealtedNodeHoverStatus(this.model,!1),1},e.prototype.onMove=function(t){return 0},e.prototype._changeRealtedNodeHoverStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyFlowView")){var n=t.queryInterface("ISankeyXyFlowView");n._source._hover=e,n._target._hover=e}else if(null!=t.queryInterface("ISankeyRadialFlowView")){var i=t.queryInterface("ISankeyRadialFlowView");i._source._hover=e,i._target._hover=e}},e}();t._SankeyFlowHoverInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t._SankeyFlowHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e}();t._SankeyFlowHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SankeyNodeHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Node&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,this._changeRealtedFlowHoverStatus(this.model,!0),1},e.prototype.onLeave=function(t){return this.model.hover=!1,this._changeRealtedFlowHoverStatus(this.model,!1),1},e.prototype.onMove=function(t){return 0},e.prototype._changeRealtedFlowHoverStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._hover=e})),n._outcomes.forEach((function(t){t._hover=e}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._hover=e})),i._outcomes.forEach((function(t){t._hover=e}))}},e}();t._SankeyNodeHoverInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t._SankeyNodeHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e}();t._SankeyNodeHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.Node)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=this._getSelectionMode(o);return null==r?0:r==t.SelectionMode.Node?(this._clear(o),i.selected=!0,this._changeRealtedFlowSelectStatus(i,!0),1):0},e.prototype._getSelectionMode=function(e){var n=t._ViewModelUtility._dvModel(e);if(null==n)return null;var i=n.option;return null==i?null:i.selectionMode},e.prototype._clear=function(e){for(var n=0,i=e.plotsPanes;n<i.length;n++)for(var o=0,r=i[n].plots;o<r.length;o++){var l=r[o];if(t._isSankeyPlotModel(l))for(var a=0,s=l.nodes;a<s.length;a++){var u=s[a];u.selected=!1,this._changeRealtedFlowSelectStatus(u,!1)}}},e.prototype._changeRealtedFlowSelectStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._selected=e})),n._outcomes.forEach((function(t){t._selected=e}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._selected=e})),i._outcomes.forEach((function(t){t._selected=e}))}},e}();t._SankeyNodeSelectionInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t._SankeyNodeSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e}();t._SankeyNodeSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e,!0)}(t||(t={})),function(t){t._isSankeyRadialCoordinateSystemDefinition=function(t){return!0}}(t||(t={})),function(t){var e=function(e){function n(i,o,r,l){return e.call(this,i,null==o?n._type:o,r,l,t._SankeyRadialCoordinateSystemViewBuilder._defaultBuilder)||this}return i(n,e),n._type="SankeyRadial",n}(t._PolarCoordinateSystemDefinition);t._SankeyRadialCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyRadial",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n===t._SankeyRadialCoordinateSystemDefinition._type?new t._SankeyRadialCoordinateSystemDefinition(e,n,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyRadialCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPlotsView=function(){return new t._PlotsView(this)},n}(t._PolarCoordinateSystemView);t._SankeyRadialCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){if(t._isSankeyRadialCoordinateSystemDefinition(n)){var i=n;return new t._SankeyRadialCoordinateSystemView(e,i)}return null},e._defaultBuilder=new e,e}();t._SankeyRadialCoordinateSystemViewBuilder=e}(t||(t={})),function(t){t._isSankeyRadialPlotDefinition=function(t){var e=t;return void 0!==e._nodeHeightInPercentageOfRadius&&void 0!==e._nodeGapInRadian}}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,o,t._SankeyRadialPlotViewBuilder._defaultBuilder)||this,l=r._getSankeyPlotConfigOption();return r._nodeHeightInPercentageOfRadius=r._getNodeHeightInPercentageOfRadius(l),r._nodeGapInRadian=r._getNodeGapInRadian(l),r}return i(n,e),n.prototype._getCoordinateSystemType=function(){return"SankeyRadial"},n.prototype._getNodeHeightInPercentageOfRadius=function(t){var e=t.innerRadius;return null!=e?1-e:.15},n.prototype._getNodeGapInRadian=function(e){var n=e.node;return null!=n?t._Util.degree2Rad(n.padAngle):t._Util.degree2Rad(1)},n}(t._SankeyPlotDefinition);t._SankeyRadialPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyRadial",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Sankey"===n.type&&n.config.axisMode==t.AxisMode.Radial?new t._SankeyRadialPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyRadialPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function n(n,i,o,r,l){var a=e.call(this,n,i,l)||this;return a._source=o,a._target=r,a.__start=null,a.__end=null,a.__curveWidthInRadian=null,a.__layouter=new t._SankeyRadialFlowViewLayouter(o,r),a}return i(n,e),n.prototype._sankeyPlotView=function(){return this._ownerView},n.prototype._layout=function(t,e,n){this.__start=this.__layouter._getStartCoordinateValue(this),this.__end=this.__layouter._getEndCoordinateValue(this),this.__curveWidthInRadian=this.__layouter._getCurveWidthInRadian(this)},n.prototype._drawView=function(e,n){if(null!=this._sankeyPlotView()._sankeyCoordinateSystemView()._getCenter()&&null!=this._source._location&&null!=this._target._location){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i);var o=this._sankeyPlotView(),r=new t._PolarCoordinateValue(this._start._radius,this._start._radian-this._curveWidthInRadian/2),l=new t._PolarCoordinateValue(this._start._radius,this._start._radian+this._curveWidthInRadian/2),a=new t._PolarCoordinateValue(this._end._radius,this._end._radian-this._curveWidthInRadian/2),s=new t._PolarCoordinateValue(this._end._radius,this._end._radian+this._curveWidthInRadian/2);this._flowPath=this._buildFlowPath(o,r,l,a,s);var u=this._isTargetCoverSource(r,l,a,s);e.drawPath(this._flowPath,u?t.PathFillType.Nonzero:t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform()}},n.prototype._controlCoordinateValue=function(t,e){var n=t.clone();return n._radius-=n._radius*e,n},n.prototype._normalizeCurveRadian=function(e){return e>=t._Utility._PI2?this._normalizeCurveRadian(e-t._Utility._PI2):e<0?this._normalizeCurveRadian(e+t._Utility._PI2):e},n.prototype._isTargetCoverSource=function(t,e,n,i){return!(!t.equalsWith(n)||!e.equalsWith(i))},Object.defineProperty(n.prototype,"_start",{get:function(){return null==this.__start&&(this.__start=this.__layouter._getStartCoordinateValue(this)),this.__start},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_end",{get:function(){return null==this.__end&&(this.__end=this.__layouter._getEndCoordinateValue(this)),this.__end},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_curveWidthInRadian",{get:function(){return null==this.__curveWidthInRadian&&(this.__curveWidthInRadian=this.__layouter._getCurveWidthInRadian(this)),this.__curveWidthInRadian},enumerable:!0,configurable:!0}),n.prototype._getSankeyPlotView=function(){return this._sankeyPlotView()},n.prototype._getSourceNodeView=function(){return this._source},n.prototype._getTargetNodeView=function(){return this._target},n.prototype._getIndex=function(){return this._sankeyPlotView()._flowViews.indexOf(this)},n.prototype._shape=function(){return null},n.prototype.queryInterface=function(t){return"ISankeyRadialFlowView"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._buildFlowPath=function(e,n,i,o,r){var l=t._Util.degree2Rad(e._sankeyPlotDefinition()._plotOption.config.sweep),a=e._sankeyCoordinateSystemView(),s=a._toPoint(n),u=a._toPoint(i),_=a._toPoint(o),p=a._toPoint(r),c=o._radian>=i._radian?o._radian-i._radian:i._radian-o._radian,h=r._radian>=n._radian?r._radian-n._radian:n._radian-r._radian,f=0==l?0:this._normalizeCurveRadian(c)/l,d=0==l?0:this._normalizeCurveRadian(h)/l,y=this._controlCoordinateValue(n,d),g=this._controlCoordinateValue(i,f),m=this._controlCoordinateValue(o,f),v=this._controlCoordinateValue(r,d),w=a._toPoint(y),b=a._toPoint(g),S=a._toPoint(m),P=a._toPoint(v),C=t._PathBuilder._defaultPathBuilder._buildPath();return C.moveto(s.x,s.y),C.arcTo(n._radius,i._radius,0,0,1,u.x,u.y),C.curveto(b.x,b.y,S.x,S.y,_.x,_.y),C.arcTo(o._radius,r._radius,0,0,1,p.x,p.y),C.curveto(P.x,P.y,w.x,w.y,s.x,s.y),C.close(),C},n}(t._SankeyFlowView);t._SankeyRadialFlowView=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sourceNode=t,this.__targetNode=e,this.__radianPerWeight=null,this.__sourceNodeFlowList=null,this.__targetNodeFlowList=null}return e.prototype._getStartCoordinateValue=function(t){return this._getFlowCoordinateValueByNode(t,t._source,this._getSourceNodeFlowList())},e.prototype._getEndCoordinateValue=function(t){return this._getFlowCoordinateValueByNode(t,t._target,this._getTargetNodeFlowList())},e.prototype._getCurveWidthInRadian=function(t){var e=this._getRadianPerWeight();return t._source==t._target?2*t._weight*e:t._weight*e},e.prototype._getFlowCoordinateValueByNode=function(t,e,n){var i=e._location.clone();i._radius=e._sankeyPlotView()._sankeyCoordinateSystemView()._getRadius()-e._heightInRadius,i._radian-=e._widthInRadian/2;var o=n.indexOf(t);if(o>=0){for(var r=0;r<=o;r++)i._radian+=r==o?this._getCurveWidthInRadian(n[r])/2:this._getCurveWidthInRadian(n[r]);return i}return null},e.prototype._getSourceNodeFlowList=function(){return null==this.__sourceNodeFlowList&&(this.__sourceNodeFlowList=this._sortFlowsInNode(this.__sourceNode)),this.__sourceNodeFlowList},e.prototype._getTargetNodeFlowList=function(){return null==this.__targetNodeFlowList&&(this.__targetNodeFlowList=this._sortFlowsInNode(this.__targetNode)),this.__targetNodeFlowList},e.prototype._sortFlowsInNode=function(t){for(var e=new Array,n=t._value,i=t._sankeyPlotView()._nodeViews,o=i.indexOf(t),r=0,l=i.slice(0,o+1).reverse().concat(i.slice(o+1).reverse());r<l.length;r++){var a=l[r];a._outcomes.forEach((function(t){t._target._value==n&&e.indexOf(t)<0&&e.push(t)})),a._incomes.forEach((function(t){t._source._value==n&&e.indexOf(t)<0&&e.push(t)}))}return e},e.prototype._getRadianPerWeight=function(){if(null==this.__radianPerWeight){var t=this.__sourceNode._sankeyPlotView(),e=this._getSweepRadian(t._sankeyPlotDefinition()._plotOption.config.sweep);this.__radianPerWeight=this._calculateRadianPerWeight(t,e)}return this.__radianPerWeight},e.prototype._calculateRadianPerWeight=function(e,n){var i=e._nodeViews,o=this._nodeGapInRadian(e),r=i.reduce((function(t,e){return t+e._weight()}),0);if(0==r)return 0;var l=void 0;return(l=null==n||n>=t._Utility._PI2?(t._Utility._PI2-i.length*o)/r:(n-(i.length-1)*o)/r)<=0?0:l},e.prototype._nodeGapInRadian=function(t){return t._sankeyPlotDefinition()._nodeGapInRadian},e.prototype._getSweepRadian=function(e){return e>=360?t._Utility._PI2:t._Util.degree2Rad(e)},e}();t._SankeyRadialFlowViewLayouter=e}(t||(t={})),function(t){t._isSankeyRadialNodeView=function(t){var e=t;return null!=e&&void 0!==e._incomes&&void 0!==e._outcomes&&void 0!==e._location&&void 0!==e._widthInRadian&&void 0!==e._heightInRadius&&"function"==typeof e._sankeyPlotView}}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getNodeView=function(){return this._ownerView},n.prototype._layout=function(e,n){var i=this._getTextPosition(this._textOption),o=this._getMaxWidth(this._textOption),r=this._textOption.offset,l=this._measureLabelSize(e,new t.core.Size(o,Number.MAX_VALUE))._size,a=this._getNodeView(),s=a._sankeyPlotView()._sankeyCoordinateSystemView(),u=s._normalizeRadian(a._location._radian),_=null,p=null,c=this._getTextAngleFromOption(this._textOption);if(i==t.TextPosition.Center){var h=new t._PolarCoordinateValue(a._location._radius-a._heightInRadius/2,u);_=(f=s._toPoint(h)).x-l.width/2,p=f.y-l.height/2,null==c&&(c=this._getCenterPositionTextAngle(h,s))}else if(i==t.TextPosition.Outside){h=new t._PolarCoordinateValue(a._location._radius+r,u);var f=s._toPoint(h);(d=this._getActualLocationRadian(h,s))>=0&&d<Math.PI/2?(_=f.x,p=f.y):d>=Math.PI/2&&d<Math.PI?(_=f.x-l.width,p=f.y):d>=Math.PI&&d<3*Math.PI/2?(_=f.x-l.width,p=f.y-l.height):d>=3*Math.PI/2&&d<2*Math.PI&&(_=f.x,p=f.y-l.height)}else if(i==t.TextPosition.Inside){var d;h=new t._PolarCoordinateValue(a._location._radius-r,u),f=s._toPoint(h),(d=this._getActualLocationRadian(h,s))>=0&&d<Math.PI/2?(_=f.x-l.width,p=f.y-l.height):d>=Math.PI/2&&d<Math.PI?(_=f.x,p=f.y-l.height):d>=Math.PI&&d<3*Math.PI/2?(_=f.x,p=f.y):d>=3*Math.PI/2&&d<2*Math.PI&&(_=f.x-l.width,p=f.y)}null!=_&&null!=p&&(this._getTextView()._layout(e,n,new t.core.Rect(_,p,l.width,l.height)),this._setTextLocation(this._getTextView()._getRectangle().center),this._setTextAngle(c))},n.prototype._getCenterPositionTextAngle=function(t,e){var n=this._getActualLocationRadian(t,e);return n>Math.PI/2&&n<=3*Math.PI/2&&(n+=Math.PI),n},n.prototype._getActualLocationRadian=function(t,e){var n=e._adjustPolarCoordinateRadian(t);return e._normalizeRadian(n._radian)},n}(t._SankeyNodeLabelView);t._SankeyRadialNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o._incomes=new Array,o._outcomes=new Array,o._location=null,o._widthInRadian=0,o._heightInRadius=0,o}return i(n,e),n.prototype._sankeyPlotView=function(){return this._ownerView},n.prototype._weight=function(){return this._incomeWeight()+this._outcomeWeight()},n.prototype._getIndex=function(){return this._sankeyPlotView()._nodeViews.indexOf(this)},n.prototype._render=function(e,n){if(null!=this._location){var i=this._sankeyPlotView()._sankeyCoordinateSystemView(),o=i._getCenter();if(null!=o){e.beginTransform();var r=this._calculateStyle(this._nodeStyleBuilder,this,n);t._StyleUtility._applyStyle(e,r);var l=i._adjustPolarCoordinateRadian(this._location),a=i._getRadius(),s=a-this._heightInRadius,u=l._radian-this._widthInRadian/2,_=this._widthInRadian,p=this._sankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().node,c=null!=p?p.borderRadius:null,h=t._PathUtility._buildDonutSegmentWithBorderRadius(o.x,o.y,a,s,u,_,c);null!=h?e.drawPath(h,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(o.x,o.y,a,s,u,_),e.restoreTransform()}}},n.prototype.queryInterface=function(t){return"ISankeyRadialNodeView"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._nodeContainPoint(this,n)){var r=new t.HitTestResult(n,this,this,t.ElementType.Node);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._nodeContainPoint=function(t,e){var n=this._sankeyPlotView()._sankeyCoordinateSystemView(),i=n._getCenter(),o=n._getRadius(),r=o-t._heightInRadius,l=t._location._radian-t._widthInRadian/2,a=t._widthInRadian,s=e.x-i.x,u=e.y-i.y,_=s*s+u*u;if(_>=r*r&&_<=o*o){var p=90*a/Math.PI,c=this._clampAngle(180*l/Math.PI+p),h=180*Math.atan2(u,s)/Math.PI,f=this._clampAngle(c-h);if(Math.abs(f)<=p)return!0}return!1},n.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},n.prototype._incomeWeight=function(){for(var t=0,e=0,n=this._incomes;e<n.length;e++)t+=n[e]._weight;return t},n.prototype._outcomeWeight=function(){for(var t=0,e=0,n=this._outcomes;e<n.length;e++)t+=n[e]._weight;return t},n.prototype._createTooltipHtmlContent=function(e){var n=this._createTooltipTemplate(e);if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._SankeyRadialNodeTooltipTextProxy(this,null),l=this._sankeyPlotView(),a=l._getDefinition()._plotConfigOption.plugins,s=l._getDefinition()._pluginCollection,u=i.evaluate(o,r,a,s);return this._toHtml(u)},n.prototype._createTooltipTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTooltipTemplate(this._incomes,this._outcomes):null},n.prototype._getDefaultTooltipTemplate=function(t,e){var n=[];n.push("{name}: {value}"),n.push("Income:");for(var i=0;i<t.length;i++){var o="{income["+i.toString()+"].name}",r="{income["+i.toString()+"].value}";n.push(" "+o+": "+r)}for(n.push("Outcome:"),i=0;i<e.length;i++)o="{outcome["+i.toString()+"].name}",r="{outcome["+i.toString()+"].value}",n.push(" "+o+": "+r);return n.join("\n")},n}(t._SankeyNodeView);t._SankeyRadialNodeView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(t,n,i){var o=e.call(this,t,n,i)||this;return o._generateChildViews(o._dataModel),o}return i(o,e),o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),t._SankeyRadialPlotViewLayouter._defaultLayouter._layout(n,i,o,this)},o.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n)},o.prototype._generateChildViews=function(e){for(var n,i,o=[],r=[],l=0,a=e._flows;l<a.length;l++){var s=a[l];if(null!=s._source){var u=this._findNodeView(this._nodeViews,s._source),_=this._findNodeView(this._nodeViews,s._target),p=new t._SankeyRadialFlowView(this,s,u,_,null);u._outcomes.push(p),_._incomes.push(p),this._flowViews.push(p),o.push(p),r.indexOf(u)<0&&r.push(u),r.indexOf(_)<0&&r.push(_)}}(n=this._visualViews).push.apply(n,o),(i=this._visualViews).push.apply(i,r)},o.prototype._findNodeView=function(e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._comparer._equalsWith(r._value,n))return r}var l=new t._SankeyRadialNodeView(this,n);return e.push(l),l},o.prototype._sankeyPlotDefinition=function(){return this._definition},o.prototype._sankeyCoordinateSystemView=function(){return this._coordinateSystemView()},o.prototype._getSankeyPlotDefinition=function(){return this._definition},o.prototype._traverseNodeViews=function(t){for(var e=0,n=this._nodeViews;e<n.length;e++)t(n[e])},o.prototype._traverseFlowViews=function(t){for(var e=0,n=this._flowViews;e<n.length;e++)t(n[e])},o.prototype._prepareDataLabelOverlay=function(){var e=this._getSankeyPlotDefinition()._nodeLabelOverlayDefinition;null!=e&&this._overlayViews().push(new t._SankeyNodeLabelOverlayView(this,e,new n))},o}(t._SankeyPlotView);t._SankeyRadialPlotView=e;var n=function(){function e(){}return e.prototype._buildNodeLabelView=function(e,n,i){if(t._isSankeyRadialNodeView(e)){var o=e;return new t._SankeyRadialNodeLabelView(o,n,i)}return null},e}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){if(t._isSankeyPlotDefinition(n)&&t._isSankeyRadialPlotDefinition(n)){var o=n;return new t._SankeyRadialPlotView(e,o,i)}return null},e._defaultBuilder=new e,e}();t._SankeyRadialPlotViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._layout=function(t,e,n,i){null!=i._sankeyCoordinateSystemView()._getCenter()&&(this._layoutNodeViews(i),this._layoutFlowViews(t,e,n,i))},e.prototype._factory=function(e,n,i){var o=e.reduce((function(t,e){return t+e._weight()}),0);return 0==o?0:null==i||i>=t._Utility._PI2?(t._Utility._PI2-e.length*n)/o:(i-(e.length-1)*n)/o},e.prototype._nodeHeightInPercentageOfRadius=function(t){return t._nodeHeightInPercentageOfRadius},e.prototype._nodeGapInRadian=function(t){return t._nodeGapInRadian},e.prototype._layoutNodeViews=function(e){var n=e._sankeyCoordinateSystemView()._getRadius(),i=e._sankeyPlotDefinition(),o=this._nodeGapInRadian(i),r=n*this._nodeHeightInPercentageOfRadius(i),l=t._Util.degree2Rad(i._plotOption.config.startAngle),a=this._getSweepRadian(i._plotOption.config.sweep),s=this._factory(e._nodeViews,o,a),u=e._nodeViews;s<0&&(s=0,o=a/u.length);for(var _=new t._PolarCoordinateValue(n,l),p=0,c=u;p<c.length;p++){var h=c[p];h._location=_.clone(),h._heightInRadius=r,h._widthInRadian=s*h._weight(),h._location._radian+=h._widthInRadian/2,_._radian+=h._widthInRadian+o}},e.prototype._getSweepRadian=function(e){return e>=360?t._Utility._PI2:t._Util.degree2Rad(e)},e.prototype._layoutFlowViews=function(t,e,n,i){for(var o=0,r=i._flowViews;o<r.length;o++)r[o]._layout(t,e,n)},e._defaultLayouter=new e,e}();t._SankeyRadialPlotViewLayouter=e}(t||(t={})),function(t){t._isSankeyXyPlotDefinition=function(t){var e=t;return void 0!==e._nodeGap&&void 0!==e._nodeWidth}}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,o,t._SankeyXyPlotViewBuilder._defaultBuilder)||this,l=r._getSankeyPlotConfigOption();return r._nodeGap=r._getNodeGap(l),r._nodeWidth=r._getNodeWidth(l),r}return i(n,e),n.prototype._getCoordinateSystemType=function(){return"Xy"},n.prototype._getNodeGap=function(t){var e=t.node;return null!=e?e.nodeGap:10},n.prototype._getNodeWidth=function(t){var e=t.node;return null!=e?e.width:20},n}(t._SankeyPlotDefinition);t._SankeyXyPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyXy",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Sankey"===n.type&&n.config.axisMode==t.AxisMode.Cartesian?new t._SankeyXyPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyXyPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,r)||this;return l._source=i,l._target=o,l}return i(n,e),n.prototype._sankeyPlotView=function(){return this._ownerView},n.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._flowPath=this._buildFlowPath(this._start,this._end,this._curveWidth),e.drawPath(this._flowPath,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform()},n.prototype._getSankeyPlotView=function(){return this._sankeyPlotView()},n.prototype._getSourceNodeView=function(){return this._source},n.prototype._getTargetNodeView=function(){return this._target},n.prototype._getIndex=function(){return this._sankeyPlotView()._flowViews.indexOf(this)},n.prototype._shape=function(){return null},n.prototype.queryInterface=function(t){return"ISankeyXyFlowView"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._buildFlowPath=function(e,n,i){var o=t._PathBuilder._defaultPathBuilder._buildPath();return o.moveto(e.x,e.y-i/2),o.curveto((e.x+n.x)/2,e.y-i/2,(e.x+n.x)/2,n.y-i/2,n.x,n.y-i/2),o.lineto(n.x,n.y+i/2),o.curveto((n.x+e.x)/2,n.y+i/2,(n.x+e.x)/2,e.y+i/2,e.x,e.y+i/2),o.close(),o},n}(t._SankeyFlowView);t._SankeyXyFlowView=e}(t||(t={})),function(t){t._isSankeyXyNodeView=function(t){var e=t;return null!=e&&void 0!==e._incomes&&void 0!==e._outcomes&&void 0!==e._rectangle&&"function"==typeof e._sankeyPlotView}}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getNodeView=function(){return this._ownerView},n.prototype._layout=function(e,n){var i=this._getNodeView()._rectangle,o=this._getTextPosition(this._textOption),r=this._textOption.placement,l=this._getPosition(r),a=this._getMaxWidth(this._textOption),s=this._textOption.offset,u=this._measureLabelSize(e,new t.core.Size(a,Number.MAX_VALUE))._size,_=i.left,p=i.top;if(o==t.TextPosition.Center){var c=i.center.clone();_=c.x-u.width/2,p=c.y-u.height/2}else if(l==t.Position.Top){var h=new t.core.Point(i.left+i.width/2,i.top);_=h.x-u.width/2,p=o==t.TextPosition.Outside?h.y-u.height-s:h.y+s}else if(l==t.Position.Left){var f=new t.core.Point(i.left,i.top+i.height/2);p=f.y-u.height/2,_=o==t.TextPosition.Outside?f.x-u.width-s:f.x+s}else if(l==t.Position.Right){var d=new t.core.Point(i.right,i.top+i.height/2);p=d.y-u.height/2,_=o==t.TextPosition.Outside?d.x+s:d.x-u.width-s}else if(l==t.Position.Bottom){var y=new t.core.Point(i.left+i.width/2,i.bottom);_=y.x-u.width/2,p=o==t.TextPosition.Outside?y.y+s:y.y-u.height-s}this._getTextView()._layout(e,n,new t.core.Rect(_,p,u.width,u.height)),this._setTextLocation(this._getTextView()._getRectangle().center),this._setTextAngle(this._getTextAngleFromOption(this._textOption))},n}(t._SankeyNodeLabelView);t._SankeyXyNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o._incomes=new Array,o._outcomes=new Array,o._rectangle=null,o}return i(n,e),n.prototype._sankeyPlotView=function(){return this._ownerView},n.prototype._weight=function(){return Math.max(this._incomeWeight(),this._outcomeWeight())},n.prototype._getIndex=function(){return this._sankeyPlotView()._nodeViews.indexOf(this)},n.prototype._render=function(e,n){if(null!=this._rectangle){e.beginTransform();var i=this._calculateStyle(this._nodeStyleBuilder,this,n);t._StyleUtility._applyStyle(e,i);var o=this._sankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().node,r=null!=o?o.borderRadius:null,l=t._PathUtility._buildRectangleWithBorderRadius(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height,r);null!=l?e.drawPath(l,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawRect(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height),e.restoreTransform()}},n.prototype.queryInterface=function(t){return"ISankeyXyNodeView"===t?this:e.prototype.queryInterface.call(this,t)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle;if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Node);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._incomeWeight=function(){for(var t=0,e=0,n=this._incomes;e<n.length;e++)t+=n[e]._weight;return t},n.prototype._outcomeWeight=function(){for(var t=0,e=0,n=this._outcomes;e<n.length;e++)t+=n[e]._weight;return t},n.prototype._createTooltipHtmlContent=function(e){var n=this._createTooltipTemplate(e);if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._SankeyXyNodeTooltipTextProxy(this,null),l=this._sankeyPlotView(),a=l._getDefinition()._plotConfigOption.plugins,s=l._getDefinition()._pluginCollection,u=i.evaluate(o,r,a,s);return this._toHtml(u)},n.prototype._createTooltipTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTooltipTemplate(this._incomes,this._outcomes):null},n.prototype._getDefaultTooltipTemplate=function(t,e){var n=[];n.push("{name}: {value}"),n.push("Income:");for(var i=0;i<t.length;i++){var o="{income["+i.toString()+"].name}",r="{income["+i.toString()+"].value}";n.push(" "+o+": "+r)}for(n.push("Outcome:"),i=0;i<e.length;i++)o="{outcome["+i.toString()+"].name}",r="{outcome["+i.toString()+"].value}",n.push(" "+o+": "+r);return n.join("\n")},n}(t._SankeyNodeView);t._SankeyXyNodeView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function r(t,n,i){var o=e.call(this,t,n,i)||this;return o.__sourceNodeViews=[],o.__targetNodeViews=[],o._checkCyclicData(i._flows),o._generateChildViews(i),o}return i(r,e),r.prototype._sankeyPlotDefinition=function(){return this._definition},r.prototype._getSourceNodeViews=function(){return this.__sourceNodeViews},r.prototype._getTargetNodeViews=function(){return this.__targetNodeViews},r.prototype._getSankeyPlotDefinition=function(){return this._definition},r.prototype._traverseNodeViews=function(t){for(var e=0,n=this._nodeViews;e<n.length;e++)t(n[e])},r.prototype._traverseFlowViews=function(t){for(var e=0,n=this._flowViews;e<n.length;e++)t(n[e])},r.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),t._SankeyXyPlotViewLayouter._defaultLayouter._layout(n,o,this)},r.prototype._checkCyclicData=function(e){if(!this._createDirectedGraph(e)._isDAG())throw new t.RuntimeError(t.ErrorCode.CyclicDataExisted)},r.prototype._createDirectedGraph=function(t){for(var e=this._getVertexes(t),n=new o(e.length),i=0,r=t;i<r.length;i++){var l=r[i],a=e.indexOf(l._source),s=e.indexOf(l._target);n._addEdge(a,s)}return n},r.prototype._getVertexes=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],r=o._source,l=o._target;e.indexOf(r)<0&&e.push(r),e.indexOf(l)<0&&e.push(l)}return e},r.prototype._generateChildViews=function(e){for(var n,i,o=0,r=e._flows;o<r.length;o++){var l=r[o];if(null!=l._source){var a=this._findNodeView(this._nodeViews,l._source),s=this._findNodeView(this._nodeViews,l._target),u=new t._SankeyXyFlowView(this,l,a,s,null);a._outcomes.push(u),s._incomes.push(u),this._flowViews.push(u),this._addNodeView(a,this.__sourceNodeViews),this._addNodeView(s,this.__targetNodeViews)}}(n=this._visualViews).push.apply(n,this._flowViews),(i=this._visualViews).push.apply(i,this._nodeViews)},r.prototype._findNodeView=function(e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._comparer._equalsWith(r._value,n))return r}var l=new t._SankeyXyNodeView(this,n);return e.push(l),l},r.prototype._addNodeView=function(t,e){e.indexOf(t)<0&&e.push(t)},r.prototype._prepareDataLabelOverlay=function(){var e=this._getSankeyPlotDefinition()._nodeLabelOverlayDefinition;null!=e&&this._overlayViews().push(new t._SankeyNodeLabelOverlayView(this,e,new n))},r}(t._SankeyPlotView);t._SankeyXyPlotView=e;var n=function(){function e(){}return e.prototype._buildNodeLabelView=function(e,n,i){if(t._isSankeyXyNodeView(e)){var o=e;return new t._SankeyXyNodeLabelView(o,n,i)}return null},e}(),o=function(){function t(t){this.__vertexNumber=t,this.__adjacencyList=[];for(var e=0;e<t;e++)this.__adjacencyList.push(new Array);this.__isDAG=!0}return t.prototype._addEdge=function(t,e){this.__adjacencyList[t].push(e)},t.prototype._isDAG=function(){var t=new Array(this.__vertexNumber);this._fillArray(t,0);for(var e=0;this.__isDAG&&e<this.__vertexNumber;e++)0==t[e]&&this._dfs(e,t);return this.__isDAG},t.prototype._dfs=function(t,e){e[t]=1;for(var n=0,i=this.__adjacencyList[t];n<i.length;n++){var o=i[n];if(0==e[o]){if(this._dfs(o,e),!this.__isDAG)return}else if(1==e[o])return void(this.__isDAG=!1)}e[t]=2},t.prototype._fillArray=function(t,e){for(var n=0;n<t.length;n++)t[n]=e},t}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){if(t._isSankeyPlotDefinition(n)&&t._isSankeyXyPlotDefinition(n)){var o=n;return new t._SankeyXyPlotView(e,o,i)}return null},e._defaultBuilder=new e,e}();t._SankeyXyPlotViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(t){this._nodeViews=new Array,this._index=t}return t.prototype._weight=function(){for(var t=0,e=0,n=this._nodeViews;e<n.length;e++)t+=n[e]._weight();return t},t}(),n=function(){function n(){}return n.prototype._layout=function(t,e,n){for(var i=n._rectangle(),o=this._createNodeColumns(n),r=this._nodeWidth(n._sankeyPlotDefinition()),l=Math.floor((i.width-o.length*r)/(o.length-1)),a=this._nodeGap(n._sankeyPlotDefinition()),s=this._minFactory(o,i.height,a),u=0,_=n._flowViews;u<_.length;u++){var p=_[u];p._curveWidth=p._weight*s}o.length>0&&(this._layoutNodeViews(i,o,s,a,r,l),this._layoutFlowViews(n,s))},n.prototype._createNodeColumns=function(n){for(var i=new Array,o=function(n){var o=r._columnIndex(n),l=t._Util.find(i,(function(t){return t._index==o}));null==l&&(l=new e(o),i.push(l)),l._nodeViews.push(n)},r=this,l=0,a=n._nodeViews;l<a.length;l++)o(a[l]);return this._updateColumnIndex(i),i.sort((function(t,e){return t._index-e._index})),i},n.prototype._columnIndex=function(t){if(0==t._outcomes.length)return-1;for(var e=0,n=0,i=t._incomes;n<i.length;n++){var o=i[n],r=this._columnIndex(o._source);r>=e&&(e=r+1)}return e},n.prototype._updateColumnIndex=function(e){var n=t._Util.find(e,(function(t){return-1==t._index}));null!=n&&(n._index=e.length-1)},n.prototype._minFactory=function(t,e,n){for(var i=null,o=0,r=t;o<r.length;o++){var l=r[o],a=l._weight();if(0!=a){var s=(e-(l._nodeViews.length-1)*n)/a;(null==i||i>s)&&(i=s)}}return null==i?0:i},n.prototype._layoutNodeViews=function(e,n,i,o,r,l){for(var a=e.left,s=0,u=n;s<u.length;s++){for(var _=u[s],p=_._weight()*i+(_._nodeViews.length-1)*o,c=this._columnVerticalPosition(_,p,e)-p/2,h=0,f=_._nodeViews;h<f.length;h++){var d=f[h],y=new t.core.Rect(a,c,r,d._weight()*i);d._rectangle=y;for(var g=0,m=0,v=d._incomes;m<v.length;m++){var w=v[m];w._end=new t.core.Point(y.left,y.top+g+i*w._weight/2),g+=i*w._weight}for(var b=0,S=0,P=d._outcomes;S<P.length;S++){var C=P[S];C._start=new t.core.Point(y.right,y.top+b+i*C._weight/2),b+=i*C._weight}c+=d._rectangle.height+o}a+=r+l}},n.prototype._layoutFlowViews=function(e,n){for(var i=e._getSourceNodeViews().slice().sort((function(t,e){return t._rectangle.top-e._rectangle.top})),o=e._getTargetNodeViews().slice().sort((function(t,e){return t._rectangle.top-e._rectangle.top})),r=0,l=e._nodeViews;r<l.length;r++){for(var a=l[r],s=a._rectangle,u=0,_=0,p=this._sortFlowsInNode(a._incomes,!0,i);_<p.length;_++){var c=p[_];c._end=new t.core.Point(s.left,s.top+u+n*c._weight/2),u+=n*c._weight}for(var h=0,f=0,d=this._sortFlowsInNode(a._outcomes,!1,o);f<d.length;f++){var y=d[f];y._start=new t.core.Point(s.right,s.top+h+n*y._weight/2),h+=n*y._weight}}},n.prototype._columnVerticalPosition=function(t,e,n){for(var i=null,o=null,r=0,l=t._nodeViews;r<l.length;r++)for(var a=0,s=l[r]._incomes;a<s.length;a++){var u=s[a];if(null!=u._start){var _=u._start.y-u._curveWidth/2,p=_+u._curveWidth;(null==i||_<i)&&(i=_),(null==o||p>o)&&(o=p)}}if(null==i||null==o)return n.center.y;var c=(i+o)/2;return c-e/2<n.top?n.top+e/2:c+e/2>n.bottom?n.bottom-e/2:c},n.prototype._nodeWidth=function(t){return t._nodeWidth},n.prototype._nodeGap=function(t){return t._nodeGap},n.prototype._sortFlowsInNode=function(t,e,n){if(t.length<2)return t;var i=t.slice();return e?i.sort((function(t,e){return n.indexOf(t._source)-n.indexOf(e._source)})):i.sort((function(t,e){return n.indexOf(t._target)-n.indexOf(e._target)})),i},n._defaultLayouter=new n,n}();t._SankeyXyPlotViewLayouter=n}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._TrellisLineAxisViewBuilder)||this}return i(n,e),n}(t._AxisDefinition);t._TrellisLineAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisLineAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._XyCartesianCoordinateSystemDefinition._type&&t._isTrellisPlotDefinition(n)&&!n._cellLayoutDefinition._includeAxesInCells?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._TrellisLineAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultTrellisLineAxisDefinitionBuilder=new e,e}();t._TrellisLineAxisDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n,i,o){return n._orientation==t.Orientation.Vertical?new t._TrellisRowAxisView(e,n,i,o):n._orientation==t.Orientation.Horizontal?new t._TrellisColumnAxisView(e,n,i,o):null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._TrellisLineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,i)||this;return o.__index=n,o}return i(n,e),n.prototype._trellisView=function(){return this._getLayoutView()},n.prototype._index=function(){return this.__index},n.prototype._getPlotViews=function(){for(var e=[],n=0,i=this._getCellViews();n<i.length;n++)for(var o=0,r=i[n]._plotViews();o<r.length;o++){var l=r[o];t._isCartesianPlotView(l)&&e.push(l)}return e},n.prototype._innerMinSize=function(){return null},n.prototype._getCellViews=function(){return[]},n.prototype._initPlotViews=function(t,e,n){},n.prototype._createPlotsView=function(){return new t._TrellisCartesianPlotsView(this)},n.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},n}(t._XyCartesianCoordinateSystemView);t._TrellisRowColumnCartesianCoordinateSystemView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._trellisCellLayoutView=function(){return e.prototype._getLayoutView.call(this)},n.prototype._innerMinSize=function(){return this._includeAxesInCells()?null:e.prototype._innerMinSize.call(this)},n.prototype._layoutContent=function(t,n,i){this._includeAxesInCells()?e.prototype._layoutContent.call(this,t,n,i):this._layoutPlotViews(t,n,i)},n.prototype._renderAxes=function(t,n){this._includeAxesInCells()&&e.prototype._renderAxes.call(this,t,n)},n.prototype._horizontalAxisViews=function(){return this._includeAxesInCells()?e.prototype._horizontalAxisViews.call(this):this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._columnsView._getColumnView(this._trellisCellLayoutView()._getTrellisCellView()._getColumnIndex())._coordinateSystemView()._horizontalAxisViews()},n.prototype._verticalAxisViews=function(){return this._includeAxesInCells()?e.prototype._verticalAxisViews.call(this):this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._rowsView._getRowView(this._trellisCellLayoutView()._getTrellisCellView()._getRowIndex())._coordinateSystemView()._verticalAxisViews()},n.prototype._createAxisView=function(n,i,o){if(this._includeAxesInCells())return e.prototype._createAxisView.call(this,n,i,o);var r=null,l=this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView();return r=i._orientation==t.Orientation.Horizontal?l._columnsView._getColumnView(this._trellisCellLayoutView()._getTrellisCellView()._getColumnIndex())._coordinateSystemView():l._rowsView._getRowView(this._trellisCellLayoutView()._getTrellisCellView()._getRowIndex())._coordinateSystemView(),e.prototype._createAxisView.call(this,r,i,o)},n.prototype._includeAxesInCells=function(){return this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells},n.prototype._createPlotsView=function(){return new t._TrellisCartesianPlotsView(this)},n.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},n}(t._XyCartesianCoordinateSystemView);t._TrellisCellLineCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._getCellViews=function(){for(var t=this._trellisView()._getCellViews(),e=[],n=0;n<t.length;n++)e.push(t[n][this._index()]);return e},e}(t._TrellisRowColumnCartesianCoordinateSystemView);t._TrellisColumnCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e.prototype._getCellViews=function(){return this._trellisView()._getCellViews()[this._index()]},e.prototype._clearOverlayDimensions=function(){},e}(t._TrellisRowColumnCartesianCoordinateSystemView);t._TrellisRowCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisDataModel=function(e,n){if(!n)return null;var i=new t._TrellisHeaderCellGroupingsBuilder,o=n._columnHeaderDefinition._fieldDefinitions,r=n._columnHeaderDefinition._sortDefinition,l=i._buildGroups(e,r,o),a=n._rowHeaderDefinition._fieldDefinitions,s=n._rowHeaderDefinition._sortDefinition,u=i._buildGroups(e,s,a),_=[];if(0==o.length)_.push(new t.models._TrellisColumnDataModel(0,e));else{var p=o.length-1,c=0;t._TreeNodeUtility._traverseDFS(l,(function(e,n){n==p&&_.push(new t.models._TrellisColumnDataModel(c++,e._dataSlices))}))}var h=[];if(0==a.length)h.push(new t.models._TrellisRowDataModel(0,e));else{var f=a.length-1,d=0;t._TreeNodeUtility._traverseDFS(u,(function(e,n){n==f&&h.push(new t.models._TrellisRowDataModel(d++,e._dataSlices))}))}for(var y=[],g=0;g<h.length;g++)for(var m=0;m<_.length;m++){var v=t._DataSlicesUtility._intersection(_[m]._dataSlices,h[g]._dataSlices);y.push(new t.models._TrellisCellDataModel(g,m,v))}for(var w=0,b=y;w<b.length;w++){for(var S=b[w],P=0,C=h;P<C.length;P++){var x=C[P];S._rowIndex==x._index&&x._cells.push(S)}for(var V=0,D=_;V<D.length;V++){var A=D[V];S._columnIndex==A._index&&A._cells.push(S)}}return new t.models._TrellisDataModel(e,h,_,u,l,y)},e._defaultTrellisDataModelBuilder=new e,e}();t._TrellisDataModelBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGroups=function(e,n,i){if(0==i.length)return[];for(var o=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),r=[],l=0;l<i.length;l++)r.push(new t.QueryGroupByOption(new t._GroupingDefinition(i[l],0==l?n:null)));var a=o.groupBy(r).query().groups,s=[],u=[],_=i.length-1;t._TreeNodeUtility._traverseGrouping(a,null,0,(function(e,n,o){var r=new t.models._TrellisHeaderCellDataModel(n.key,n._dataSlices,e,i[o],0,0,0);return null!=e?e.children.push(r):s.push(r),r._level=o,o==_&&u.push(r),r}));for(var p=0;p<u.length;p++){var c=u[p];c._start=p,c._end=p,this._updateParentStartEnd(c)}return s},e.prototype._updateParentStartEnd=function(t){var e=t.parent;if(null!=e){var n=e.children,i=!1;t==n[0]&&(e._start=t._start,i=!0),t==n[n.length-1]&&(e._end=t._end,i=!0),i&&this._updateParentStartEnd(e)}},e}();t._TrellisHeaderCellGroupingsBuilder=e}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o._rowIndex=e,o._columnIndex=n,o}return i(e,t),e}(t._DataModel),e._TrellisCellDataModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n){var i=t.call(this,n)||this;return i._index=e,i._cells=[],i._dimensions=[],i}return i(e,t),e}(t._DataModel),e._TrellisColumnDataModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e)||this;return a._rowCount=n.length,a._columnCount=i.length,a._rows=n,a._columns=i,a._rowHeaders=o,a._columnHeaders=r,a._cells=l,a._dimensions=[],a}return i(e,t),e}(t._DataModel),e._TrellisDataModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n,i,o,r,l,a){var s=t.call(this,n)||this;return s.key=e,s._fieldDefinition=o,s.parent=i,s.children=[],s._start=r,s._end=l,s._level=a,s}return i(e,t),e}(t._DataModel),e._TrellisHeaderCellDataModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function e(e,n){var i=t.call(this,n)||this;return i._index=e,i._cells=[],i._dimensions=[],i}return i(e,t),e}(t._DataModel),e._TrellisRowDataModel=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisAreaCartesianPlotDefinition?new t._TrellisAreaCartesianPlotView(n,i,o):null},n}(),e._TrellisAreaPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisBarCartesianPlotDefinition?new t._TrellisBarCartesianPlotView(n,i,o):null},n}(),e._TrellisBarPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisCandlestickPlotDefinition?new t._TrellisCandlestickPlotView(n,i,o):null},n}(),e._TrellisCandlestickPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisHlocPlotDefinition?new t._TrellisHlocPlotView(n,i,o):null},n}(),e._TrellisHlocPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisLineCartesianPlotDefinition?new t._TrellisLineCartesianPlotView(n,i,o):null},n}(),e._TrellisLinePlotViewBuilder=n}(t||(t={})),function(t){!function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i,o,new t._TrellisParallelAreaPlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return i(n,e),n}(t._ParallelAreaPlotDefinition);t._TrellisParallelAreaPlotDefinition=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisParallelAreaPlotDefinition){var r=i._valueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueDimensionDefinition(r[0]))return new t._AreaRadialParallelPlotView(n,i,o)}return null},n}(),e._TrellisParallelAreaPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o){var r=t.call(this,n,i,o,new e._TrellisParallelLinePlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return i(n,t),n}(t.models._ParallelLinePlotDefinition),e._TrellisParallelLinePlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisParallelLinePlotDefinition){var r=i._valueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueDimensionDefinition(r[0]))return new t._LineRadialParallelPlotView(n,i,o)}return null},n}(),e._TrellisParallelLinePlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisScatterCartesianPlotDefinition?new t._TrellisScatterCartesianPlotView(n,i,o):null},n}(),e._TrellisScatterPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o){var r=t.call(this,n,i,o,new e._TrellisSunburstPlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return i(n,t),n}(t.models._SunburstPlotDefinition),e._TrellisSunburstPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisSunburstPlotDefinition?new t._TrellisSunburstPlotView(n,i,o):null},n}(),e._TrellisSunburstPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisTextPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return i(n,t),n}(t._TextCartesianPlotDefinition),e._TrellisTextPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisTextPlotDefinition?new t._TrellisTextPlotView(n,i,o):null},n}(),e._TrellisTextPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o){var r=t.call(this,n,i,o,new e._TrellisTreeMapPlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return i(n,t),n}(t.models._TreeMapPlotDefinition),e._TrellisTreeMapPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisTreeMapPlotDefinition?new t._TrellisTreemapPlotView(n,i,o):null},n}(),e._TrellisTreeMapPlotViewBuilder=n}(t||(t={})),function(t){t._isTrellisCartesianPlotDefinition=function(e){var n=e;return null!=n._trellisPlotDataBuilder&&t._isTrellisPlotDefinition(n)&&t._isCartesianPlotDefinition(n)}}(t||(t={})),function(t){t._isTrellisPlotDefinition=function(t){return null!=t._cellLayoutDefinition}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){var l=n.call(this,t,i,o,new e._TrellisAreaPlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return i(o,n),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._AreaCartesianPlotDefinition),e._TrellisAreaCartesianPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){var l=n.call(this,t,i,o,new e._TrellisBarPlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return i(o,n),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._BarCartesianPlotDefinition),e._TrellisBarCartesianPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisCandlestickPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return i(n,t),n}(t.financial.models._CandlestickPlotDefinition),e._TrellisCandlestickPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(t){function n(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisHlocPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return i(n,t),n}(t.financial.models._HlocPlotDefinition),e._TrellisHlocPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){var l=n.call(this,t,i,o,new e._TrellisLinePlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return i(o,n),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._LineCartesianPlotDefinition),e._TrellisLineCartesianPlotDefinition=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(n){function o(t,i,o,r){var l=n.call(this,t,i,o,new e._TrellisScatterPlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return i(o,n),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._ScatterCartesianPlotDefinition),e._TrellisScatterCartesianPlotDefinition=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return i(e,t),e}(t._CartesianGroupDataModel);t._TrellisCartesianGroupDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isTrellisCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n,i,o);return l._initialize(),l}return null},e.prototype._createData=function(e,n,i,o){return null!=e._encodingsDefinition._getCartesianCategoryEncodingDefinition()?this._createCategoryData(e,n,i,o):e._valueDefinitions().every((function(e){return t._isXyStyleValueDimensionDefinition(e)}))?this._createXyData(e,n,i,o):this._createSingleValueData(e,n,i,o)},e.prototype._createCategoryData=function(e,n,i,o){return new t._TrellisCartesianCategoryPlotDataModel(n,e,i,o)},e.prototype._createSingleValueData=function(e,n,i,o){return new t._TrellisCartesianSingleValuePlotDataModel(n,e,i,o)},e.prototype._createXyData=function(e,n,i,o){return new t._TrellisCartesianXyPlotDataModel(n,e,i,o)},e._defaultTrellisCartesianPlotDataBuilder=new e,e}();t._TrellisCartesianPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isTrellisCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n);return null!=l&&l._initialize(),l}return null},e.prototype._createData=function(e,n){return null!=e._encodingsDefinition._getCartesianCategoryEncodingDefinition()?this._createCategoryData(e,n):e._valueDefinitions().every((function(e){return t._isXyStyleValueDimensionDefinition(e)}))?this._createXyData(e,n):this._createSingleValueData(e,n)},e.prototype._createCategoryData=function(e,n){return new t._TrellisStockCartesianCategoryPlotDataModel(n,e)},e.prototype._createSingleValueData=function(t,e){return null},e.prototype._createXyData=function(e,n){return new t._TrellisStockCartesianXyPlotDataModel(n,e)},e._defaultTrelliStockPlotDataBuilder=new e,e}();t._TrellisStockPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n,i);return l._initialize(),l}return null},e.prototype._createData=function(e,n,i){return null!=e._encodingsDefinition._getCartesianCategoryEncodingDefinition()?this._createCategoryData(e,n,i):e._valueDefinitions().every((function(e){return t._isXyStyleValueDimensionDefinition(e)}))?this._createXyData(e,n,i):this._createSingleValueData(e,n,i)},e.prototype._createCategoryData=function(e,n,i){return new t._TrellisTextCartesianCategoryPlotDataModel(n,e,i)},e.prototype._createSingleValueData=function(e,n,i){return new t._TrellisTextCartesianSingleValuePlotDataModel(n,e,i)},e.prototype._createXyData=function(e,n,i){return new t._TrellisTextCartesianXyPlotDataModel(n,e,i)},e._defaultTrellisTextPlotDataBuilder=new e,e}();t._TrellisTextPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n)||this;return r.__trellisDataModel=i,r.__trellisCellDataModel=o,r}return i(n,e),n.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n.prototype._createPoints=function(n){var i=this,o=this._cartesianPlotDefinition()._encodingsDefinition._getCartesianCategoryEncodingDefinition()._getDimensionDefinition(),r=e.prototype._createXDimension.call(this,o,this._dataSlices);if(null==this._categoryDimension||null==this._categoryDimension._definition()||null==r||null==r._definition())return e.prototype._createPoints.call(this,n);var l=this._cartesianPlotDefinition()._detailDefinitions(),a=[],s=[];t._TreeNodeUtility._traverseDFS(this._categoryDimension._dimensionValueGroups(),(function(t,e){0==t.children.length&&s.push(t)}));var u=[];t._TreeNodeUtility._traverseDFS(r._dimensionValueGroups(),(function(t,e){0==t.children.length&&u.push(t)}));for(var _=function(e){var n=e._y(),o=n._definition(),r=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(o);if(null==r)return"continue";for(var _=function(s){for(var _,c=s._dimensionValues().length>0?s._dimensionValues()[0]:null,h=null,f=0,d=u;f<d.length;f++){var y=d[f],g=y._dimensionValues().length>0?y._dimensionValues()[0]:null;if(p._equalsWith(g,c)){h=y;break}}if(null==h)return"continue";var m=[],v=h._dataSlices;if(null!=l&&l.length>0)for(var w=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(v,null),b=function(l){var a=[];a.push(new t.QueryGroupByOption(new t._GroupingDefinition(l._dataFieldDefinition,l._sortDefinition)));var s=w.groupBy(a).query().groups;t._TreeNodeUtility._traverseDFS(s,(function(a,s){var u=r._buildDimensionValues(a._dataSlices,n,o),_=i._createPoint(e,a._dataSlices,c,u,new t.models._DetailDimension(l,a.key));null!=_&&m.push(_)}))},S=0,P=l;S<P.length;S++)b(P[S]);else{var C=n._definition(),x=r._buildDimensionValues(v,n,C),V=p._createPoint(e,v,c,x,null);null!=V&&m.push(V)}a.push.apply(a,m),(_=e._points()).push.apply(_,m)},c=0,h=s;c<h.length;c++)_(h[c])},p=this,c=0,h=n;c<h.length;c++)_(h[c]);return a},n.prototype._createMirrorGroup=function(e,n,i,o,r){return new t._TrellisCartesianGroupDataModel(this,e,n,i)},n.prototype._equalsWith=function(e,n){var i=t._DataValueTypeEqualityComparer._comparer._equalsWith(e.rawValue,n.rawValue),o=this._pathEqualsWith(e.path,n.path);return!(!i||!o)},n.prototype._pathEqualsWith=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;if(e.length!=n.length)return!1;for(var i=t._DataValueTypeEqualityComparer._comparer,o=0,r=e.length;o<r;o++)if(!i._equalsWith(e[o],n[o]))return!1;return!0},n}(t._CartesianCategoryPlotDataModel);t._TrellisCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n)||this;return r.__trellisDataModel=i,r.__trellisCellDataModel=o,r}return i(n,e),n.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n}(t._CartesianSingleValuePlotDataModel);t._TrellisCartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n)||this;return r.__trellisDataModel=i,r.__trellisCellDataModel=o,r}return i(n,e),n.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n}(t._CartesianXyPlotDataModel);t._TrellisCartesianXyPlotDataModel=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._StockCartesianCategoryPlotDataModel);t._TrellisStockCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._StockCartesianXyPlotDataModel);t._TrellisStockCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__trellisDataModel=i,o}return i(n,e),n.prototype._createMirrorGroup=function(e,n,i,o,r){return new t._TrellisCartesianGroupDataModel(this,e,n,i)},n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n}(t._CartesianCategoryPlotDataModel);t._TrellisTextCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__trellisDataModel=i,o}return i(n,e),n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n}(t._CartesianSingleValuePlotDataModel);t._TrellisTextCartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__trellisDataModel=i,o}return i(n,e),n.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},n}(t._CartesianXyPlotDataModel);t._TrellisTextCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortGroupSeriesList=function(e,n,i){if(null!=(n=n.filter((function(e){return e._group!=t.Group.Mirror})))&&n.length>0){var o=n[0],r=null;if(null==o._sortDefinition&&(r=o._dataFieldDefinition),null!=r){var l=[],a=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),s=[];s.push(new t.QueryGroupByOption(new t._GroupingDefinition(r)));var u=a.groupBy(s).query().groups;t._TreeNodeUtility._traverseDFS(u,(function(t,e){l.push(t.key)}));for(var _=0,p=e;_<p.length;_++)p[_]._seriesList().sort((function(e,n){var i=t._NativeExtension.findIndex(l,(function(n){return t._Util.sameValue(n,e.key)})),o=t._NativeExtension.findIndex(l,(function(e){return t._Util.sameValue(e,n.key)}));return-1==i&&-1==o?0:-1==i||-1==o?1:i-o}))}}},e}();t._TrellisSeriesSortPolicy=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultTrellisCellsLayoutPolicyBuilderCollection=function(){return null==n.__trellisCellsLayoutPolicyBuilders&&(n.__trellisCellsLayoutPolicyBuilders=new n([],n._pluginType)),n.__trellisCellsLayoutPolicyBuilders},n.prototype._convert=function(e){return t._isTrellisCellsLayoutPolicyBuilder(e)?e:null},n.prototype.trellisCellsLayoutPolicy=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(e,o);r<l.length;r++){var a=l[r],s=a.item._buildTrellisCellsLayoutPolicy(a.option,n,i);if(null!=s)return s}return null},n._pluginType="TrellisCellsLayout",n}(t._BuildInObjectCollection);t._BuildInTrellisCellsLayoutPolicyBuilderCollection=e}(t||(t={})),function(t){t._isTrellisCellsLayoutPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildTrellisCellsLayoutPolicy}}(t||(t={})),t||(t={}),function(t){t._isTrellisRadialCellsLayoutPolicy=function(t){var e=t;return null!=e&&"function"==typeof e._getRadius&&"function"==typeof e._registerCoordianteSystemLayoutPlugin&&"function"==typeof e._unregisterCoordianteSystemLayoutPlugin}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"TrellisColumnHeaderHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.TrellisColumnHeader&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._TrellisColumnHeaderHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.onClick=function(e,n){if(null!=n){var i=t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderCellView(n);if(null!=i){var o=i._getTrellisColumnsPaneView()._getTrellisLayoutView(),r=o._getTrellisLayoutDefinition()._dvConfigOption;if(null!=r&&r.selectionMode==t.SelectionMode.Trellis){i.selected=!i.selected;var l=t._PlotAreaViewModelUtility._toPlotAreaModel(o._getPlotAreaView());return null!=l&&t._LegendUtility._updateLegendItemSelectedState(l),1}}}return 0},e}(),e._TrellisColumnHeaderSelectionInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"TrellisRowHeaderHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.TrellisRowHeader&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._TrellisRowHeaderHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.onClick=function(e,n){if(null!=n){var i=t._TrellisLayoutViewModelUtility._toTrellisRowHeaderCellView(n);if(null!=i){var o=i._getTrellisRowsPaneView()._getTrellisLayoutView(),r=o._getTrellisLayoutDefinition()._dvConfigOption;if(null!=r&&r.selectionMode==t.SelectionMode.Trellis){i.selected=!i.selected;var l=t._PlotAreaViewModelUtility._toPlotAreaModel(o._getPlotAreaView());return null!=l&&t._LegendUtility._updateLegendItemSelectedState(l),1}}}return 0},e}(),e._TrellisRowHeaderSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__fieldDefinitionBuilder=null==e?t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder:e}return e.prototype._buildSortDefinition=function(e,n){return null==e?null:null!=e.field?t._FieldSortDefinitionBuilder._fieldSortDefinitionBuilder.buildFieldSortDefinition(e,n):t._SimpleSortDefinitionBuilder._simpleSortDefinitionBuilder.buildSimpleSortDefinition(e)},e.prototype._buildFieldDefinitions=function(e,n){for(var i=[],o=t._EscapedCharacterStringUtility._split(e,">"),r=this.__fieldDefinitionBuilder,l=0,a=o;l<a.length;l++){var s=a[l],u=r._buildDataFieldDefinition(s,n,null);null!=u&&i.push(u)}return i},e}();t._TrellisHeaderDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildTrellisHeaderDefinition=function(e,n){if(null!=e.field&&""!=e.field){var i=t._EscapedCharacterStringUtility._split(e.field,",");if(i.length>0)return new t._TrellisHeaderDefinition(this._buildFieldDefinitions(i[0],n),this._buildSortDefinition(e.columnSort,n))}return new t._TrellisHeaderDefinition([],this._buildSortDefinition(e.columnSort,n))},n._defaultTrellisColumnHeaderDefinitionBuilder=new n,n}(t._TrellisHeaderDefinitionBuilder);t._TrellisColumnHeaderDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t,e){this._fieldDefinitions=t,this._sortDefinition=e};t._TrellisHeaderDefinition=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildTrellisHeaderDefinition=function(e,n){if(null!=e.field&&""!=e.field){var i=t._EscapedCharacterStringUtility._split(e.field,",");if(i.length>1)return new t._TrellisHeaderDefinition(this._buildFieldDefinitions(i[1],n),this._buildSortDefinition(e.rowSort,n))}return new t._TrellisHeaderDefinition([],this._buildSortDefinition(e.rowSort,n))},n._defaultTrellisRowHeaderDefinitionBuilder=new n,n}(t._TrellisHeaderDefinitionBuilder);t._TrellisRowHeaderDefinitionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(t){this.__minRadiusRate=0,this.__pluginCoordianteSystemLayout=null,null!=t&&(this.__minRadiusRate=t)}return e.prototype._registerCoordianteSystemLayoutPlugin=function(e){null!=this.__pluginCoordianteSystemLayout&&this.__pluginCoordianteSystemLayout.radius==e||(null==this.__pluginCoordianteSystemLayout||t.plugins.PluginCollection.defaultPluginCollection.unregister(this.__pluginCoordianteSystemLayout),this.__pluginCoordianteSystemLayout=new t._TrellisRadialCoordinateSystemLayout(e),this.__pluginCoordianteSystemLayout.heightenPriority(),t.plugins.PluginCollection.defaultPluginCollection.register(this.__pluginCoordianteSystemLayout))},e.prototype._unregisterCoordianteSystemLayoutPlugin=function(){null!=this.__pluginCoordianteSystemLayout&&(t.plugins.PluginCollection.defaultPluginCollection.unregister(this.__pluginCoordianteSystemLayout),this.__pluginCoordianteSystemLayout=null)},e.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,s){i._axisLabels=[];var u=l[0];if(a.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),l.forEach((function(t){var e=[t._innerRadius*r,r];t._scaleModel._setRange(e)})),null!=u){var _=null==u._scaleModel._minimum?0:u._scaleModel._minimum,p=null==u._scaleModel._maximum?0:u._scaleModel._maximum;a.forEach((function(t){var e=t._getAcutalOrigin();if(null!=e&&e>=_&&e<=p){var n=u._scaleModel._value(e+(null!=u?u._getRadiusOffset():0));t._setOriginRadius(n)}}))}var c=[],h=[];s._layout(e,i,n);for(var f=0,d=s._plotViews;f<d.length;f++){var y=d[f];if(t._isCartesianPlotView(y)){var g=y;h.push.apply(h,g._getLayoutShapes())}}var m=new t.core.Rect(o.x-r,o.y-r,2*r,2*r);a.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y,t._layout(e,m,i),c.push.apply(c,t._getLayoutShapes(!1))}));var v=m.clone();c.forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);v=t._DrawingUtility._unionOfRectangles(v,new t.core.Rect(n,o,i-n,r-o))}));for(var w=0,b=h;w<b.length;w++){var S=b[w],P=Math.min(S.leftTop.x,S.rightTop.x,S.rightBottom.x,S.leftBottom.x),C=Math.max(S.leftTop.x,S.rightTop.x,S.rightBottom.x,S.leftBottom.x),x=Math.min(S.leftTop.y,S.rightTop.y,S.rightBottom.y,S.leftBottom.y),V=Math.max(S.leftTop.y,S.rightTop.y,S.rightBottom.y,S.leftBottom.y);v=t._DrawingUtility._unionOfRectangles(v,new t.core.Rect(P,x,C-P,V-x))}return v},e.prototype._isEqualsRect=function(t,e){var n=.5;return Math.abs(e.width-t.width)<n&&Math.abs(e.height-t.height)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.top-t.top)<n},e.prototype._isInnerShape=function(e,n){var i=t._DrawingUtility._intersectionOfRectangle(e,n);return this._isEqualsRect(e,i)||this._isEqualsRect(e,n)},e.prototype._searchBestRadius=function(t,e,n,i,o,r,l,a,s){n._checkOverlap=!1;var u=o,_=this._layoutShapesRect(t,e,n,i,u,l,a,s);if(this._isInnerShape(_,e))for(var p=o,c=r;c-p>1;){var h=(c-p)/2+p;_=this._layoutShapesRect(t,e,n,i,h,l,a,s),this._isInnerShape(_,e)?(p=h,u=h):c=h}return n._checkOverlap=!1,u},e.prototype.getCellRadius=function(e,n,i,o,r,l){var a=new t.core.Point(n.left+n.width/2,n.top+n.height/2);r=r.filter((function(t){return t._scaleModel._hasScale()})),o=o.filter((function(t){return t._scaleModel._hasScale()}));var s=Math.min(n.width/2,n.height/2),u=this.__minRadiusRate*s,_=this._searchBestRadius(e,n,i,a,u,s,o,r,l);return _>=1&&(_-=.5),_},e.prototype._getRadius=function(e,n,i,o){for(var r=[],l=n.left,a=n.top,s=o._cellViews(),u=o._getTrellisLayoutView()._rowsView._getRowHeights(n.height),_=o._getTrellisLayoutView()._columnsView._getColumnWidths(n.width),p=0;p<s.length;p++){var c=s[p];l=n.left;for(var h=0;h<c.length;h++)for(var f=c[h],d=0,y=f._layoutView()._coordinateSystemViews();d<y.length;d++){var g=y[d],m=[],v=[];g instanceof t._TrellisRadialCartesianCoordinateSystemView&&(m=g._horizontalAxisViews(),v=g._verticalAxisViews()),g instanceof t._TrellisPolygonalCartesianCoordinateSystemView&&(m=g._horizontalAxisViews(),v=g._verticalAxisViews());var w=new t.core.Rect(l,a,_[h],u[p]),b=f._getInnerRectangle(e,w),S=g._plotsView,P=this.getCellRadius(e,b,i,m,v,S);r.push(P)}a+=c[0]._getRectangle().height}return Math.min.apply(Math,r)},e.prototype.queryInterface=function(t){return null},e}(),e._TrellisRadialCellsLayoutPolicy=n}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.__priority=0,i.name="TrellisRadial",i.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,i.__radius=n,i}return i(n,e),Object.defineProperty(n.prototype,"priority",{get:function(){return this.__priority},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this.__radius},enumerable:!0,configurable:!0}),n.prototype.heightenPriority=function(){this.__priority=Number.MAX_VALUE},n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?this:null},n.prototype._layoutCoordinateSystem=function(e,n,i,o){var r=o._horizontalViewSize,l=o._verticalViewSize,a=o.horizontalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),s=o.verticalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),u=o._plotsView,_=o._getPlotViews();i._checkOverlap=!0;var p=new t.core.Rect(n.left,n.top,n.width/r,n.height/l),c=0,h=[],f=[];s.forEach((function(n,i){if(h[i]=0,f[i]=0,n._getDefinition()._option.position!=t.AxisPosition.None){var o=new t.core.Size(p.width,p.height),r=n._measure(e,o)._size;f[i]+=r.height,h[i]+=r.height-n._axisLabelHeight-n._getAxisLineWidth(),c+=h[i]}})),p.clone().height-=c;var d=new t.core.Point(n.left+n.width/2,n.top+n.height/2),y=this.__radius,g=s[0],m=a[0];if(s.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),a.forEach((function(t){var e=[t._innerRadius*y,y];t._scaleModel._setRange(e)})),null!=m){var v=null==m._scaleModel._minimum?0:m._scaleModel._minimum,w=null==m._scaleModel._maximum?0:m._scaleModel._maximum;s.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=v&&n<=w){var i=m._scaleModel._value(n+(null!=m?m._getRadiusOffset():0));t._setOriginRadius(i)}}))}if(null!=g){var b=null==g._scaleModel._minimum?0:g._scaleModel._minimum,S=null==g._scaleModel._maximum?0:g._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=b&&n<=S){var i=g._scaleModel._value(n);t._setOriginAngle(i)}}))}var P=0;s.forEach((function(i){var o=new t.core.Size(n.width,n.height);if(!t._isOrdinalAxisScale(i._scaleModel._scale)){var r=i._measureMaxLabelSize(e);i._scaleModel._setTickNumber(i._getAnnoNumber(!0,o.height,r))}i._getDefinition()._option.position!=t.AxisPosition.None&&(P=i._axisLabelHeight)})),a.forEach((function(i){if(i._getDefinition()._option.position!=t.AxisPosition.None){var o=new t.core.Size(n.width,n.height-P);i._measure(e,o)}if(!t._isOrdinalAxisScale(i._scaleModel._scale)){var r=i._measureMaxLabelSize(e),l=2*(P+y);i._scaleModel._setTickNumber(i._getAnnoNumber(!1,l,r))}})),u._plotViews.forEach((function(n){t._isCartesianPlotView(n)&&n._initAxisScale(e)}));var C=p.clone(),x=0;s.forEach((function(t,n){y-=x,t._radius=y,t._cx=d.x,t._cy=d.y,t._layout(e,C,i),t._titleView()._layout(e,C,i),x+=f[n],C.height-=h[n]})),a.forEach((function(t){var n=[t._innerRadius*y,y];t._scaleModel._setRange(n),t._radius=y,t._cx=d.x,t._cy=d.y,t._layout(e,C,i),t._titleView()._layout(e,C,i)})),_.forEach((function(e){t._isCartesianPlotView(e)&&e._setCenter(d.clone())})),u._layout(e,i,n),i._checkOverlap=!1;var V=new t._CartesianCoordinateSystemLayoutResult;return V.plotLogicRect=new t.core.Rect(d.x-y,d.y-y,2*y,2*y),V},n}(t._CoordinateSystemLayoutBuilder);t._TrellisRadialCoordinateSystemLayout=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"minRadius",{get:function(){return this.__minRadius},set:function(t){null!=this.__minRadius&&this.__minRadius==t||(this.__minRadius=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__minRadius=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"minRadius",null),n}(e._Option),e._TrellisCellsLayoutPluginArgumentsOption=n}(t||(t={})),function(t){!function(t){t._isTrellisCellsLayoutPluginArgumentsOption=function(t){return null!=t&&void 0!==t.minRadius}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisRadial",this.type=t._BuildInTrellisCellsLayoutPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildTrellisCellsLayoutPolicy=function(e,n,i){if(null!=e&&null!=n&&null!=i&&n==t.AxisMode.Radial&&"Text"!=i){var o=new t.options._TrellisCellsLayoutPluginArgumentsOption(null!=e.arguments?e.arguments.option():null);return new t.plugins._TrellisRadialCellsLayoutPolicy(o.minRadius)}return null},e.prototype.queryInterface=function(t){return"ITrellisCellsLayoutPolicyBuilder"===t||"IPlugin"===t?this:null},e}();t.TrellisCellsLayoutPolicyBuilderPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TrellisColumnHeaderHoverInteraction},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisColumnHeaderHoverInteractionBuilder=new e,e}();t._TrellisColumnHeaderHoverInteractionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._TrellisColumnHeaderSelectionInteraction},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisColumnHeaderSelectionInteractionBuilder=new e,e}();t._TrellisColumnHeaderSelectionInteractionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TrellisRowHeaderHoverInteraction},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisRowHeaderHoverInteractionBuilder=new e,e}();t._TrellisRowHeaderHoverInteractionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._TrellisRowHeaderSelectionInteraction},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisRowHeaderSelectionInteractionBuilder=new e,e}();t._TrellisRowHeaderSelectionInteractionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._OverlayItemizedLegendDataModel);t._TrellisOverlayItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._apply=function(){t.prototype._apply.call(this),this._legend._setAvailable(!1)},e}(t._OverlayLegendInitializer);t._TrellisOverlayLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){return n instanceof t._TrellisOverlayItemizedLegendDataModel?new t._TrellisOverlayLegendInitializer(e,n,n._definition):null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t?this:null},e}();t._TrellisOverlayLegendInitializerBuilder=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(){var n=e.call(this)||this;return n.name="TrellisOverlayLegend",n.type=t._BuildInOverlayLegendDataModelBuilderCollection._pluginType,n.priority=1,n}return i(n,e),n.prototype._buildOverlayLegendDataModel=function(e,n){if(t._isTrellisPlotDefinition(e)){var i=this._getLegendDefinition(e._overlayDefinitions());if(null!=i)return t._LegendInitializerBuilderCollection._defaultCollection._add(new t._TrellisOverlayLegendInitializerBuilder),new t._TrellisOverlayItemizedLegendDataModel(i,n._getOption(i._plotDefinition._plotOption.name,t.LegendType.Overlay))}return null},n.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(e._OverlayColorLegendBuilder),e._TrellisOverlayLegendPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._TrellisCartesianReferenceLineOverlayView(e,this);return null},n}(t._ReferenceLineDefinition);t._TrellisCartesianReferenceLineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildOverlayDefinition=function(e,n,i){if(t._isTrellisPlotDefinition(e)){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._TrellisCartesianReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._TrellisCartesianReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=7}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e,r=new t.models._TrellisParallelAreaPlotDefinition(e,o._dataSchema,n);if(null!=r._valueDefinitions()&&r._valueDefinitions().length>0&&t.models._isParallelValueDimensionDefinition(r._valueDefinitions()[0]))return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisParallelAreaPlotPlugin=new e,e}();t._TrellisParallelAreaPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=7}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e,r=new t.models._TrellisParallelLinePlotDefinition(e,o._dataSchema,n);if(null!=r._valueDefinitions()&&r._valueDefinitions().length>0&&t.models._isParallelValueDimensionDefinition(r._valueDefinitions()[0]))return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisParallelLinePlotPlugin=new e,e}();t._TrellisParallelLinePlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisScatterCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisScatterPlotPlugin=new e,e}();t._TrellisScatterPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=6}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&t._isTrellisCellLayoutDefinition(e)&&(n.config.axisMode==t.AxisMode.Polygonal||n.config.axisMode==t.AxisMode.Radial)){var o=e,r=new t.models._TrellisSunburstPlotDefinition(e,o._dataSchema,n);if(null!=r._detailDefinition()&&null!=r._detailDefinition()._dataFieldDefinitions&&r._detailDefinition()._dataFieldDefinitions.length>1)return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisSunburstPlotPlugin=new e,e}();t._TrellisSunburstPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMap",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("TreeMap"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisTreeMapPlotDefinition(e,o._dataSchema,n)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisTreeMapPlotPlugin=new e,e}();t._TrellisTreeMapPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisAreaCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisAreaPlotPlugin=new e,e}();t._TrellisAreaPlotPlugin=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._AreaCartesianSeriesView(this,e)},n}(t._AreaCartesianGroupView);t._TrellisAreaCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._TrellisAreaCartesianGroupView(this,e)},n.prototype._getGroupViewPort=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView(),e=this._rectangle();return null==t||t._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n.prototype._createCartesianPointView=function(e,n){return new t._AreaCartesianPointView(e,n,null)},n}(t._AreaCartesianPlotView);t._TrellisAreaCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisBarCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisBarPlotPlugin=new e,e}();t._TrellisBarPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisLineCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisLinePlotPlugin=new e,e}();t._TrellisLinePlotPlugin=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._LineCartesianSeriesView(this,e)},n}(t._LineCartesianGroupView);t._TrellisLineCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._TrellisLineCartesianGroupView(this,e)},n.prototype._getGroupViewPort=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView(),e=this._rectangle();return null==t||t._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n.prototype._createCartesianPointView=function(e,n){return new t._LineCartesianPointView(e,n,null)},n}(t._LineCartesianPlotView);t._TrellisLineCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Text",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Text"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisTextPlotDefinition(e,o._dataSchema,n,t._TrellisTextPlotDataBuilder._defaultTrellisTextPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisTextPlotPlugin=new e,e}();t._TrellisTextPlotPlugin=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createCartesianSeriesView=function(e){return new t._TrellisTextSeriesView(this,e)},n}(t._TextCartesianGroupView);t._TrellisTextCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._createCartesianGroupView=function(e){return new t._TrellisTextCartesianGroupView(this,e)},n.prototype._createCartesianPointView=function(e,n){var i=n._group()._y()._definition();return null!=i&&null!=i.queryInterface("IRangeValueDimensionDefinition")?null:new t._TextCartesianPointView(e,n,null)},n.prototype._getGroupViewPort=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView(),e=this._rectangle();return null==t||t._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n}(t._TextCartesianPlotView);t._TrellisTextPlotView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Candlestick",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Candlestick"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.models._TrellisCandlestickPlotDefinition(e,o._dataSchema,n,t._TrellisStockPlotDataBuilder._defaultTrelliStockPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisCandlestickPlotPlugin=new e,e}();t._TrellisCandlestickPlotPlugin=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HighLowOpenClose",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("HighLowOpenClose"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.models._TrellisHlocPlotDefinition(e,o._dataSchema,n,t._TrellisStockPlotDataBuilder._defaultTrelliStockPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisHlocPlotPlugin=new e,e}();t._TrellisHlocPlotPlugin=e}(t||(t={})),function(t){t._isTrellisCellLayoutDefinition=function(t){var e=t;return void 0!==e._dataSchema&&void 0!==e._includeAxesInCells}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isTrellisPlotConfigOption=function(t){return null!=t.trellis}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LineStyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__hoverStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"includeAxesInCells",{get:function(){return this.__includeAxesInCells},set:function(t){null!=this.__includeAxesInCells&&this.__includeAxesInCells==t||(this.__includeAxesInCells=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"includeEmptyCells",{get:function(){return this.__includeEmptyCells},set:function(t){null!=this.__includeEmptyCells&&this.__includeEmptyCells==t||(this.__includeEmptyCells=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:null!=this.__plugins&&this.__plugins==t||(this.__plugins=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__style=new e._LineStyleOption(null),this.__textStyle=new e._TextStyleOption(null),this.__hoverStyle=new e._TextStyleOption(null),this.__padding=null,this.__includeAxesInCells=!1,this.__includeEmptyCells=!1,this.__plugins=[]},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LineStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"includeAxesInCells",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"includeEmptyCells",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!0,"_ConfigPluginOption")],r.prototype,"plugins",null),r}(e._Option),e._PlotConfigTrellisOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"trellis",{get:function(){return this.__trellis},set:function(t){this.__trellis!=t&&(null==t&&(t=new e._PlotConfigTrellisOption),this.__trellis=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__trellis=new e._PlotConfigTrellisOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_PlotConfigTrellisOption")],r.prototype,"trellis",null),r}(e._PlotConfigOption),e._TrellisPlotConfigOption=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r._dataSchema=t._dataSchema,r._trellisConfigOption=r._findTrellisConfigOption(r._createPlotOptionWithAxisOptionsList(n,i)),r._includeAxesInCells=r._trellisConfigOption.includeAxesInCells,r}return i(n,e),n.prototype._findTrellisConfigOption=function(e){if(e.length>0){var n=e[0]._plotOption.config;return t.options._isTrellisPlotConfigOption(n)?n.trellis:new t.options._TrellisPlotConfigOption(n.option()).trellis}return new t.options._PlotConfigTrellisOption},n}(t._PlotListLayoutDefinition);t._TrellisCellLayoutDefinition=e}(t||(t={})),function(t){t._isTrellisLayoutDefinition=function(t){var e=t;return null!=e._dataSchema&&null!=e._rowHeaderDefinition&&null!=e._columnHeaderDefinition&&null!=e._cellLayoutDefinition}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"rowSort",{get:function(){return this.__rowSort},set:function(t){this.__rowSort!=t&&(this.__rowSort=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSort",{get:function(){return this.__columnSort},set:function(t){this.__columnSort!=t&&(this.__columnSort=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__rowSort=null,this.__columnSort=null},o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"rowSort",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],n.prototype,"columnSort",null),n}(t.options._LayoutEncodingOption),e._TrellisLayoutEncodingOption=n}(t||(t={})),function(t){var e=function(e){function n(i,o,r,l,a,s,u,_){var p=e.call(this,i,s,u,null==_?n.__viewBuilderCallback:_)||this;p._dataSchema=o,p._rowHeaderDefinition=r,p._columnHeaderDefinition=l;var c=new t._TrellisCellLayoutDefinition(p,s,u,null);return p._trellisConfigOption=c._trellisConfigOption,p._cellLayoutDefinition=c,p}return i(n,e),n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1)),this.__defaultStyle},n.__viewBuilderCallback=function(e,n){if(t._isTrellisLayoutDefinition(n)){var i=n;return new t._TrellisLayoutView(e,i)}return null},n}(t._BaseLayoutDefinition);t._TrellisLayoutDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Trellis",this.type=t._BuildInLayoutDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._dataSchema=function(t,e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._findDataSchema(r.data);if(null==n)n=l;else if(!l.equalsWith(n))return null}return n},e.prototype._buildLayoutDefinition=function(e,n,i,o){var r=this._dataSchema(e,i);if(null==r)return null;var l=new t.options._TrellisLayoutEncodingOption(n.option());if(l.type!=this.name)return null;var a=t._TrellisRowHeaderDefinitionBuilder._defaultTrellisRowHeaderDefinitionBuilder._buildTrellisHeaderDefinition(l,r),s=t._TrellisColumnHeaderDefinitionBuilder._defaultTrellisColumnHeaderDefinitionBuilder._buildTrellisHeaderDefinition(l,r);return a._fieldDefinitions.length<=0&&s._fieldDefinitions.length<=0?null:new t._TrellisLayoutDefinition(e,r,a,s,l,i,o,null)},e.prototype.queryInterface=function(t){return"ILayoutBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isTrellisCellModel=function(t){var e=t;return null!=e&&void 0!==e.rowIndex&&void 0!==e.columnIndex&&void 0!==e.plots&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisColumnHeaderModel=function(t){var e=t;return null!=e&&void 0!==e.columnHeaders&&void 0!==e.columnIndex&&void 0!==e.columnSpan&&void 0!==e.text&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedPlots}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisColumnModel=function(t){var e=t;return null!=e&&void 0!==e.columnIndex&&void 0!==e.columnHeader&&void 0!==e.cells&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisModel=function(t){var e=t;return null!=e&&void 0!==e.columnHeaders&&void 0!==e.rowHeaders&&void 0!==e.columns&&void 0!==e.rows&&void 0!==e.cells&&void 0!==e.corner&&void 0!==e.includeAxesInCells}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisRowHeaderModel=function(t){var e=t;return null!=e&&void 0!==e.rowHeaders&&void 0!==e.rowIndex&&void 0!==e.rowSpan&&void 0!==e.text&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedPlots}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisRowModel=function(t){var e=t;return null!=e&&void 0!==e.rowIndex&&void 0!==e.rowHeader&&void 0!==e.cells&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(){}return t._toTrellisRowModel=function(t){return null!=t.queryInterface("ITrellisRowModel")?t:null},t._toTrellisColumnModel=function(t){return null!=t.queryInterface("ITrellisColumnModel")?t:null},t._toTrellisRowHeaderModel=function(t){return null!=t.queryInterface("ITrellisRowHeaderModel")?t:null},t._toTrellisColumnHeaderModel=function(t){return null!=t.queryInterface("ITrellisColumnHeaderModel")?t:null},t._toTrellisCellModel=function(t){return null!=t.queryInterface("ITrellisCellModel")?t:null},t._toTrellisRowHeaderCellView=function(t){return null!=t.queryInterface("ITrellisRowHeaderCellView")?t:null},t._toTrellisColumnHeaderCellView=function(t){return null!=t.queryInterface("ITrellisColumnHeaderCellView")?t:null},t}();t._TrellisLayoutViewModelUtility=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o._data=i,o.__layoutView=new t._TrellisCellLayoutView(o,o._getTrellisLayoutDefinition()._cellLayoutDefinition),o.__layoutView._loadDataSlices(o._data._dataSlices),o.__layoutViews=[o.__layoutView],o}return i(n,e),n.prototype._layoutView=function(){return this.__layoutView},n.prototype._plotViews=function(){return this.__layoutView._findAllPlotViews()},n.prototype._getInnerRectangle=function(t,e){return this._calculateInnerRectangle(t,e)},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},n.prototype._className=function(){return"gcdv-trellis-cell-"+this._getRowIndex()+"-"+this._getColumnIndex()},n.prototype._paddings=function(){return this._getTrellisLayoutDefinition()._trellisConfigOption.padding},n.prototype._createIdentityContent=function(){var e=this._getRowIndex().toString(),n=this._getColumnIndex().toString();return t._Util.HashCode("trellis-cell"+e+n)},n.prototype._layoutInnerContent=function(t,e,n){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0),this.__layoutView._layout(t,e,n)},n.prototype._renderInnerContent=function(e,n,i){var o=this;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells&&null!=n&&i._renderLabel){var r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height);e.drawGroup(null,r,null,(function(t){o.__layoutView._render(e,i)}))}else this.__layoutView._render(e,i)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this.__layoutView._hitTest(n,i,o);return null!=l?l:(l=new t.HitTestResult(n,this,this,t.ElementType.TrellisCell),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getTrellisCellsView=function(){return this._ownerView},n.prototype._getRowIndex=function(){return this._data._rowIndex},n.prototype._getColumnIndex=function(){return this._data._columnIndex},n.prototype._getPlotAreaView=function(){return this._ownerView._getTrellisLayoutView()._getPlotAreaView()},n.prototype._getLayoutViews=function(){return this.__layoutViews},n.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._ownerView._getTrellisLayoutView()._id()+this._createIdentityContent()),this.__cachedId},n.prototype.dispose=function(){this.__layoutView.dispose()},Object.defineProperty(n.prototype,"rowIndex",{get:function(){return this._data._rowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnIndex",{get:function(){return this._data._columnIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plots",{get:function(){return this._plotViews().map((function(e){return t.models._isPlotModel(e)?e:null}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._data._dataSlices._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisCell},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"ITrellisCellModel"==t||"ITrellisCellView"==t?this:null},n}(t._RectangleView);t._TrellisCellView=e}(t||(t={})),function(t){t._isTrellisCellLayoutView=function(t){return"function"==typeof t._getTrellisCellView}}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._dataLabelsRectangle=function(){return this._getTrellisCellView()._getRectangle()},n.prototype._createCoordinateSystemView=function(n){return"CartesianXy"==n._type?new t._TrellisCellLineCartesianCoordinateSystemView(this,n):"CartesianPolygonal"==n._type?new t._TrellisPolygonalCartesianCoordinateSystemView(this,n):"CartesianRadial"==n._type?new t._TrellisRadialCartesianCoordinateSystemView(this,n):"Text"==n._type?new t._TrellisTextCategoriesCoordinateSystemView(this,n):e.prototype._createCoordinateSystemView.call(this,n)},n.prototype._drawChildren=function(t,e){for(var n=0,i=this._coordinateSystemViews();n<i.length;n++)i[n]._render(t,e)},n.prototype._createPlotData=function(n,i){if(t._isTrellisCartesianPlotDefinition(n)){var o=n,r=this._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._dataModel(),l=this._getTrellisCellView()._data;if(null!=o._trellisPlotDataBuilder)return o._trellisPlotDataBuilder._buildTrellisPlotData(o,i,r,l)}return e.prototype._createPlotData.call(this,n,i)},n.prototype._getTrellisCellView=function(){return this._ownerView},n.prototype._loadDataSlices=function(t){t._length<=0&&this._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeEmptyCells||e.prototype._loadDataSlices.call(this,t)},Object.defineProperty(n.prototype,"parent",{get:function(){return this._getTrellisCellView()},enumerable:!0,configurable:!0}),n}(t._PlotListLayoutView);t._TrellisCellLayoutView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._columnsWidth=function(){for(var t=0,e=this._cellViews()[0],n=0;n<e.length;n++)t+=e[n]._getRectangle().width;return t},n.prototype._rowsHeight=function(){for(var t=0,e=this._cellViews(),n=0;n<e.length;n++)t+=e[n][0]._getRectangle().height;return t},n.prototype._className=function(){return"gcdv-trellis-cells"},n.prototype._update=function(){for(var e=this.__cellViews=this._createCellViews(),n={},i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var r=e[i][o]._plotViews(),l=0;l<r.length;l++){var a=r[l],s="";t._isTextCartesianPlotView(a)?s="Text":t._isCartesianPlotView(a)?s="CartesianXy":t._isHierarchicalPlotView(a)?s="Hierarchical":t._isParallelPlotView(a)&&(s="Parallel");var u=n[s];null==u&&(u=n[s]=[]),u.push(a)}for(var _=0,p=t._NativeExtension.properties(n,!1);_<p.length;_++){var c=n[s=p[_]];if("CartesianXy"===s)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat();else if("Hierarchical"===s)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat();else if("Text"===s)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat()}},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},n.prototype._layoutInnerContent=function(t,e,n){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0),this._layoutCellViewsPolicy(t,e,n)},n.prototype._layoutCellViewsPolicy=function(e,n,i){var o=this._getTrellisLayoutDefinition()._trellisConfigOption.plugins,r=this._getTrellisLayoutDefinition()._pluginCollection,l=null,a=null,s=this._getTrellisLayoutDefinition()._plotOptions;null!=s&&s.length>0&&(l=s[0].config.axisMode,a=s[0].type);var u=t._BuildInTrellisCellsLayoutPolicyBuilderCollection._defaultTrellisCellsLayoutPolicyBuilderCollection().trellisCellsLayoutPolicy(this,o,l,a,r);if(null!=u){var _=u._getRadius(e,n,i,this);u._registerCoordianteSystemLayoutPlugin(_),this._layoutCellViews(e,n,i),u._unregisterCoordianteSystemLayoutPlugin()}else this._layoutCellViews(e,n,i)},n.prototype._layoutCellViews=function(e,n,i){for(var o=n.left,r=n.top,l=this._cellViews(),a=this._ownerView._rowsView._getRowHeights(n.height),s=this._ownerView._columnsView._getColumnWidths(n.width),u=0;u<l.length;u++){var _=l[u];o=n.left;for(var p=0;p<_.length;p++){var c=_[p];c._layout(e,i,new t.core.Rect(o,r,s[p],a[u])),o+=c._getRectangle().width}r+=_[0]._getRectangle().height}},n.prototype._getLogicSize=function(){return new t.core.Size(this._columnsWidth(),this._rowsHeight())},n.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._scrollX,this.__scrollableLabelsGroupElement.offsetY=this._scrollY,this.__scrollableLabelsGroupElement.flush())},n.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},n.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._scrollX,this._scrollY,(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},n.prototype._renderInnerContent=function(t,e,n){for(var i=this._cellViews(),o=0;o<i.length;o++)for(var r=i[o],l=0;l<r.length;l++)r[l]._render(t,n)},n.prototype._createCellViews=function(){var e=this._ownerView._dataModel()._rowCount,n=this._ownerView._dataModel()._columnCount,i=this._ownerView._dataModel()._cells,o=[];o.length=e;for(var r=0,l=i;r<l.length;r++){var a=l[r];null==o[a._rowIndex]&&(o[a._rowIndex]=[],o[a._rowIndex].length=n),o[a._rowIndex][a._columnIndex]=new t._TrellisCellView(this,a)}return o},n.prototype._hitTestContent=function(t,n,i){for(var o=this._cellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++){var s=l[a]._hitTest(t,n,i);if(null!=s)return s}return e.prototype._hitTestContent.call(this,t,n,i)},n.prototype._getTrellisLayoutView=function(){return this._ownerView},n.prototype._getCellView=function(t,e){var n=this._cellViews();return n[t]&&n[t][e]},n.prototype._cellViews=function(){return this.__cellViews},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},n.prototype.dispose=function(){if(null!=this.__cellViews){for(var t=0,e=this.__cellViews;t<e.length;t++)for(var n=0,i=e[t];n<i.length;n++)i[n].dispose();this.__cellViews=null}},n}(t._ScrollableView);t._TrellisCellsPaneView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__dataModel=n,i._prepareCoordinateSystems(),i}return i(n,e),n.prototype._getCellViews=function(){for(var t=this._ownerView._getTrellisLayoutView()._getCellViews(),e=[],n=0;n<t.length;n++)e.push(t[n][this.columnIndex]);return e},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisColumn},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnIndex",{get:function(){return this.__dataModel._index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnHeader",{get:function(){var e=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews(),n=e[e.length-1][this.columnHeader.columnIndex];return t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this.__dataModel._dataSlices._items},enumerable:!0,configurable:!0}),n.prototype._coordinateSystemView=function(){return this.__coordinateSystemView},n.prototype._axisViews=function(){var t=this._coordinateSystemView();return null!=t?t._horizontalAxisViews().map((function(t){return t})):[]},n.prototype._className=function(){return"gcdv-trellis-column-"+this.columnIndex},n.prototype._paddings=function(){var e=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,n=new t.options._PaddingOption(null);return null!=e&&(n.left=e.left,n.right=e.right),n},n.prototype._prepareCoordinateSystems=function(){for(var e=null,n=0,i=this._getTrellisLayoutDefinition()._cellLayoutDefinition._coordinateSystemDefinitions;n<i.length;n++){var o=i[n];"CartesianXy"===o._type&&(e=o)}null!=e&&(this.__coordinateSystemView=new t._TrellisColumnCartesianCoordinateSystemView(this._ownerView._getTrellisLayoutView(),this.columnIndex,e))},n.prototype._getBarCount=function(){if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return 1;var t=1,e=this._coordinateSystemView();if(null!=e)for(var n=e._horizontalAxisViews(),i=0;i<n.length;i++)for(var o=0,r=n[i]._dimensions();o<r.length;o++){var l=r[o];t=Math.max(t,l._dimensionValues().length)}return t},n.prototype._layoutInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0);var i=this._coordinateSystemView();null!=i&&i._layout(t,e,n)}},n.prototype._renderInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var i=this._coordinateSystemView();null!=i&&i._render(t,n)}},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this._coordinateSystemView();if(null!=l){var a=l._hitTest(n,i,o);if(null!=a)return a}var s=new t.HitTestResult(n,this,this,t.ElementType.TrellisColumn);return null==o||null!=o&&o.predicate(s)?s:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype.dispose=function(){null!=this.__coordinateSystemView&&(this.__coordinateSystemView.dispose(),this.__coordinateSystemView=null)},n.prototype.queryInterface=function(t){return"ITrellisColumnModel"==t||"ITrellisColumnView"==t?this:null},n}(t._RectangleView);t._TrellisColumnView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__hover=!1,i.__dataModel=n,i}return i(n,e),Object.defineProperty(n.prototype,"_hover",{get:function(){return this.__hover},set:function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},enumerable:!0,configurable:!0}),n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},n.prototype._onHoverChanged=function(){this._textView()._hover=this._hover},n.prototype._traverseCellView=function(t){for(var e=this._ownerView._columnViews(),n=this._getColumnIndex();n<this._getColumnIndex()+this._getColumnSpan();n++)for(var i=0,o=e[n]._getCellViews();i<o.length;i++)t(o[i])},n.prototype._clipId=function(){return this.__clipId},n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._textStyle),this.__style=e}return this.__style},n.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._StyleUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},n.prototype._textOverflow=function(){var e=this._textStyle?this._textStyle.overflow:null;return null==e&&(e=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.overflow),null==e?t.TextOverflow.Ellipsis:e},n.prototype._textAlignment=function(){var t=this._textStyle?this._textStyle.alignment:null;return null==t&&(t=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.text,this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},n.prototype._updateSelected=function(t){this._traverseCellView((function(e){for(var n=0,i=e._plotViews();n<i.length;n++)i[n]._traversePointView((function(e){e._selected=t}))}))},n.prototype._paddings=function(){return new t.options._PaddingOption({left:3,top:3,right:3,bottom:3})},n.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutInnerContent=function(t,e,n){return this._textView()._layout(t,n,e)},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=null;if(this._textOverflow()==t.TextOverflow.Clip){var l=this._getRectangle();r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(l.left,l.top,l.width,l.height)}e.drawGroup(null,r,null,(function(t){o._textView()._render(t,i)}))},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.TrellisColumnHeader);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getColumnIndex=function(){return this.__dataModel._start},n.prototype._getColumnSpan=function(){return this.__dataModel._end-this.__dataModel._start+1},n.prototype._getTrellisColumnsPaneView=function(){return this._ownerView},n.prototype._isSelected=function(){var t=!0;return this._traverseCellView((function(e){if(t)for(var n=0,i=e._plotViews();n<i.length;n++)for(var o=0,r=i[n]._getPointViews();o<r.length;o++)0==r[o]._selected&&(t=!1)})),t},Object.defineProperty(n.prototype,"columnHeaders",{get:function(){var e=[],n=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews(),i=this.__dataModel._level;if(i<n.length-1)for(var o=0,r=n[i+1];o<r.length;o++){var l=r[o];if(l._getColumnIndex()>=this._getColumnIndex()&&l._getColumnIndex()+l._getColumnSpan()<=this._getColumnIndex()+this._getColumnSpan()){var a=t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(l);null!=a&&e.push(a)}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnIndex",{get:function(){return this.__dataModel._start},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return this.__dataModel._end-this.__dataModel._start+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getTrellisLayoutDefinition()._pluginCollection);if(null!=e){var n=this.__dataModel._fieldDefinition._format;return e.format(n,this.__dataModel.key)}return null==this.__dataModel.key?"null":this.__dataModel.key.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){return this._textStyle},set:function(t){this._textStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),n.prototype.relatedPlots=function(){var e=[];return this._traverseCellView((function(n){var i=t._TrellisLayoutViewModelUtility._toTrellisCellModel(n);null!=i&&e.push.apply(e,i.plots)})),e},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisColumnHeader},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.__dataModel._level;if(0===t)return this._ownerView._getTrellisLayoutView();for(var e=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews()[t-1],n=0;n<e.length;n++){var i=e[n];if(i._getColumnIndex()<=this._getColumnIndex()&&this._getColumnIndex()+this._getColumnSpan()<=i._getColumnIndex()+i._getColumnSpan())return i}return this._ownerView._getTrellisLayoutView()},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"ITrellisColumnHeaderModel"==t||"ITrellisColumnHeaderCellView"==t?this:null},n}(t._RectangleView);t._TrellisColumnHeaderCellView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._columnViews=function(){return this.__columnViews},n.prototype._headerCellViews=function(){return this.__headerCellViews},n.prototype._axisTitleViews=function(t){for(var e=this._columnViews()[0]._axisViews(),n=[],i=0;i<e.length;i++)e[i]._getDefinition()._option.position===t&&n.push(e[i]._titleView());return n},n.prototype._nearHeight=function(){var e=0;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;var n=this._axisTitleViews(t.AxisPosition.Near).reduce((function(t,e){return t+e._rectangle().height}),0);e+=n;for(var i=[],o=this._columnViews(),r=0;r<o.length;r++)for(var l=o[r]._axisViews(),a=0;a<l.length;a++)l[a]._getDefinition()._option.position===t.AxisPosition.Near&&(i[a]=Math.max(null==i[a]?0:i[a],l[a]._rectangle().height));return e+=i.reduce((function(t,e){return t+e}),0)},n.prototype._farHeight=function(){for(var e=0,n=this._headerCellViews(),i=0;i<n.length;i++)e+=n[i][0]._getRectangle().height;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;var o=this._axisTitleViews(t.AxisPosition.Far).reduce((function(t,e){return t+e._rectangle().height}),0);e+=o;for(var r=[],l=this._columnViews(),a=0;a<l.length;a++)for(var s=l[a]._axisViews(),u=0;u<s.length;u++)s[u]._getDefinition()._option.position===t.AxisPosition.Far&&(r[u]=Math.max(null==r[u]?0:r[u],s[u]._rectangle().height));return e+=r.reduce((function(t,e){return t+e}),0)},n.prototype._columnsWidth=function(){for(var t=0,e=this._columnViews(),n=0;n<e.length;n++)t+=e[n]._getRectangle().width;return t},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},n.prototype._className=function(){return"gcdv-trellis-columns"},n.prototype._getTitleHeights=function(t,e,n){for(var i=this._columnViews()[0]._axisViews(),o=[],r=0;r<i.length;r++)i[r]._getDefinition()._option.position===e&&o.push(i[r]._getTitleHeight(t,n));return o},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},n.prototype._update=function(){this.__columnViews=this._createColumnViews(),this.__headerCellViews=this._createHeaderCellViews()},n.prototype._getColumnWidths=function(t){for(var e=[],n=this._columnViews(),i=[],o=0,r=0;r<n.length;r++){var l=n[r]._getBarCount();i[r]=l,o+=l}var a=this._ownerView._getHorizontalViewSize(),s=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,u=0;null!=s&&(u=s.left+s.right);var _=(t/a-u*n.length)/o;for(r=0;r<n.length;r++)e.push(i[r]*_+u);return e},n.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);for(var o=this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells,r=this._getColumnWidths(n.width),l=this._headerCellViews(),a=[],s=0;s<l.length;s++){for(var u=l[s],_=0,p=0;p<u.length;p++){var c=u[p],h=r.slice(c._getColumnIndex(),c._getColumnIndex()+c._getColumnSpan()).reduce((function(t,e){return t+e}),0),f=c._measure(e,new t.core.Size(h,n.height))._size;_=Math.max(_,f.height)}a[s]=_}var d=this._getTitleHeights(e,t.AxisPosition.Near,n.size).reverse(),y=this._getTitleHeights(e,t.AxisPosition.Far,n.size).reverse(),g=d.reduce((function(t,e){return t+e}),0),m=y.reduce((function(t,e){return t+e}),0),v=n.left,w=n.top+(o?0:m),b=0;for(s=0;s<l.length;s++){u=l[s];var S=a[s];for(v=n.left,p=0;p<u.length;p++)c=u[p],h=r.slice(c._getColumnIndex(),c._getColumnIndex()+c._getColumnSpan()).reduce((function(t,e){return t+e}),0),c._layout(e,i,new t.core.Rect(v,w,h,S)),v+=h;b+=l[s][0]._getRectangle().height,w+=S}v=n.left;var P=n.height-b-(o?0:g+m),C=this._columnViews();for(p=0;p<C.length;p++)C[p]._layout(e,i,new t.core.Rect(v,w,r[p],P)),v+=r[p];if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var x=[],V=[],D=[],A=[];for(p=0;p<C.length;p++)for(var O=C[p]._axisViews().reverse(),L=0;L<O.length;L++)(N=O[L])._scaleModel._hasScale()&&(null==x[L]&&(x[L]=0),null==V[L]&&(V[L]=0),N._getDefinition()._option.position===t.AxisPosition.Near?(x[L]=Math.max(x[L],N._rectangle().height),(null==D[L]||D[L]>(null==N._autoAngle?0:N._autoAngle))&&(D[L]=N._autoAngle)):N._getDefinition()._option.position===t.AxisPosition.Far&&(V[L]=Math.max(V[L],N._rectangle().height),(null==A[L]||A[L]>(null==N._autoAngle?0:N._autoAngle))&&(A[L]=N._autoAngle)));var T=0,M=0,I=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=I&&(T=I.left,M=I.right),v=n.left;var E=x.reduce((function(t,e){return t+e}),0),B=V.reduce((function(t,e){return t+e}),0),R=P-E-B;for(p=0;p<C.length;p++){O=C[p]._axisViews().reverse();var k=w,F=w+B+R;for(L=0;L<O.length;L++){var N;if((N=O[L])._scaleModel._hasScale()){var U=r[p]-(T+M),z=v+T;if(!t._isOrdinalAxisScale(N._scaleModel._scale)){var j=N._rectangle().right;U-=Math.max(v+U-j,0)}N._scaleModel._setRange([z,z+U]),i._lineCartesianCoordinateSystemContent=new t.core.Rect(v,w+B,r[p],R),N._getDefinition()._option.position===t.AxisPosition.Near?(N._autoAngle=D[L],N._layout(e,new t.core.Rect(z,F,U,x[L]),i),F+=x[L]):N._getDefinition()._option.position===t.AxisPosition.Far&&(N._autoAngle=A[L],N._layout(e,new t.core.Rect(z,k,U,V[L]),i),k+=V[L]),i._lineCartesianCoordinateSystemContent=null}}v+=r[p]}var G=this._axisTitleViews(t.AxisPosition.Near).reverse(),W=n.bottom;for(L=0;L<G.length;L++)G[L]._layout(e,new t.core.Rect(n.left,W-d[L],v-n.left,d[L]),i),W-=d[L];var q=this._axisTitleViews(t.AxisPosition.Far).reverse(),H=n.top;for(L=0;L<q.length;L++)q[L]._layout(e,new t.core.Rect(n.left,H,v-n.left,y[L]),i),H+=y[L]}},n.prototype._getLogicSize=function(){var e=this._getRectangle();return new t.core.Size(this._columnsWidth(),e.height)},n.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._scrollX,this.__scrollableLabelsGroupElement.offsetY=this._scrollY,this.__scrollableLabelsGroupElement.flush())},n.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},n.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._scrollX,this._scrollY,(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._columnViews(),l=this._headerCellViews();i._renderLabel||(e.drawGroup("gcdv-trellis-columns-gridline",null,null,(function(e){e.beginTransform();var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(o._getTrellisLayoutDefinition()._defaultStyle());t._StyleUtility._applyLineStyleOption(n,o._getTrellisLayoutDefinition()._trellisConfigOption.style),t._StyleUtility._applyStyle(e,n);for(var i=0;i<l.length;i++)for(var a=l[i],s=0;s<a.length;s++){var u=a[s]._getRectangle(),_=0===s?u.left+.5:u.left;e.drawLine(_,u.top,_,u.bottom),s===a.length-1&&e.drawLine(u.right-.5,u.top,u.right-.5,u.bottom)}for(s=0;s<r.length;s++){var p=(u=r[s]._getRectangle()).top,c=u.bottom;_=0===s?u.left+.5:u.left,e.drawLine(_,p,_,c),s===r.length-1&&e.drawLine(u.right-.5,p,u.right-.5,c)}e.restoreTransform()})),e.drawGroup("gcdv-trellis-columns-header",null,null,(function(t){for(var e=0;e<l.length;e++)for(var n=l[e],o=0;o<n.length;o++)n[o]._render(t,i)})));for(var a=0;a<r.length;a++)r[a]._render(e,i)},n.prototype._createColumnViews=function(){for(var e=[],n=this._ownerView._dataModel()._columns,i=0;i<n.length;i++)e.push(new t._TrellisColumnView(this,n[i]));return e},n.prototype._createHeaderCellViews=function(){var e=[],n=this._ownerView._dataModel()._columnHeaders,i=[];for(i.push.apply(i,n);i.length>0;){var o=[];e.push(o);for(var r=i.length;r>0;){var l=i.shift();o.push(new t._TrellisColumnHeaderCellView(this,l));var a=l.children;null!=a&&a.length>0&&i.push.apply(i,a),r--}}return e},n.prototype._hitTestContent=function(t,n,i){for(var o=this._headerCellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++)if(null!=(u=l[a]._hitTest(t,n,i)))return u;var s=this._columnViews();for(a=0;a<s.length;a++){var u;if(null!=(u=s[a]._hitTest(t,n,i)))return u}return e.prototype._hitTestContent.call(this,t,n,i)},n.prototype.dispose=function(){if(null!=this.__columnViews){for(var t=0,e=this.__columnViews;t<e.length;t++)e[t].dispose();this.__columnViews=null}},n.prototype._getTrellisLayoutView=function(){return this._ownerView},n.prototype._getColumnView=function(t){return this.__columnViews[t]},n}(t._ScrollableView);t._TrellisColumnsPaneView=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.__rectangle=t.core.Rect.ReadOnlyRect,i}return i(n,e),n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},n.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisCorner},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n}(t._BaseView);t._TrellisCornerView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__horizontalScrollbarVisible=!0,i.__verticalScrollbarVisible=!0,i.__cornerView=i._createCornerView(),i._rowsView=i._createRowsView(),i._columnsView=i._createColumnsView(),i.__cellsView=i._createCellsView(),i}return i(n,e),n.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),null!=this.__cellsView&&(this.__cellsView.dispose(),this.__cellsView=null),this._rowsView.dispose(),this._columnsView.dispose()},n.prototype._dataModel=function(){return this.__dataModel},n.prototype._getCellViews=function(){return this.__cellsView._cellViews()},n.prototype._getCellView=function(t,e){return this.__cellsView._getCellView(t,e)},n.prototype._findAllPlotViews=function(){for(var t=[],e=this._getCellViews(),n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)t.push.apply(t,e[n][i]._plotViews());return t},n.prototype._getPlotViews=function(t){for(var e=[],n=this._findAllPlotViews(),i=0;i<n.length;i++)n[i]._getDefinition()._plotOption===t&&e.push(n[i]);return e},n.prototype._getPlotDataPoints=function(t){for(var e=[],n=this._getPlotViews(t),i=0;i<n.length;i++)e.push.apply(e,n[i]._getPointViews());return e},n.prototype._createIdentityContent=function(){var e=this._getTrellisLayoutDefinition(),n="";null!=e._columnHeaderDefinition&&(n+=e._columnHeaderDefinition._fieldDefinitions.map((function(t){return t._dataField._name})).join("-"));var i="";null!=e._rowHeaderDefinition&&(i+=e._rowHeaderDefinition._fieldDefinitions.map((function(t){return t._dataField._name})).join("-"));var o=this._ownerView._getLayoutViews().indexOf(this).toString();return t._Util.HashCode("trellis-layout"+n+i+o)},n.prototype._layoutData=function(){var e=this._getCellViews();if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]._layoutView()._layoutData();else{for(var o=0,r=this._findAllPlotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=t._BarExtension._barExtension(l._cartesianCoordinateSystemView());null!=a&&a._resetClusterGroups()}l._layoutData()}for(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells||this._mergeOverlayDimensions(),n=0;n<e.length;n++)for(i=0;i<e[n].length;i++)e[n][i]._layoutView()._layoutData();for(var s=0,u=this._rowsView._rowViews();s<u.length;s++){var _=u[s];null!=_._coordinateSystemView()&&_._coordinateSystemView()._layoutData()}for(var p=0,c=this._columnsView._columnViews();p<c.length;p++){var h=c[p];null!=h._coordinateSystemView()&&h._coordinateSystemView()._layoutData()}}},n.prototype._mergeOverlayDimensions=function(){for(var e=[],n=this._getAxisViews(),i=function(n){var i;if(n._scaleDimension.scaleType!=t.ValueScaleType.Ordinal){var o=n._dimensions().filter((function(e){return t.models._isOverlayDimension(e)}));if(o.length>0){var r=n._getDefinition(),l=t._Util.find(e,(function(t){return t.axisDefinition==r}));null==l&&(l={axisDefinition:r,dimensions:[]},e.push(l)),(i=l.dimensions).push.apply(i,o)}}},o=0,r=n;o<r.length;o++)i(r[o]);if(e.length>0)for(var l=function(n){var i=n._getDefinition(),o=t._Util.find(e,(function(t){return t.axisDefinition==i}));if(null!=o)for(var r=0,l=o.dimensions;r<l.length;r++){var a=l[r];n._dimensions().indexOf(a)<0&&n._dimensions().push(a)}},a=0,s=n;a<s.length;a++)l(s[a])},n.prototype._getAxisViews=function(){for(var e=[],n=this._getCellViews(),i=0;i<n.length;i++)for(var o=0;o<n[i].length;o++)for(var r=0,l=n[i][o]._layoutView()._coordinateSystemViews();r<l.length;r++){var a=l[r];t._isCartesianCoordinateSystemView(a)&&"CartesianXy"!=a._getDefinition()._type&&e.push.apply(e,a._verticalAxisViews().slice().concat(a._horizontalAxisViews()))}for(var s=0,u=this._rowsView._rowViews();s<u.length;s++){var _=u[s];null!=_._coordinateSystemView()&&e.push.apply(e,_._coordinateSystemView()._verticalAxisViews())}for(var p=0,c=this._columnsView._columnViews();p<c.length;p++){var h=c[p];null!=h._coordinateSystemView()&&e.push.apply(e,h._coordinateSystemView()._horizontalAxisViews())}return e},n.prototype._initPlotViews=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)for(var i=0,o=this._findAllPlotViews();i<o.length;i++){var r=o[i];"CartesianXy"===r._getDefinition()._getCoordinateSystemType()&&r._initAxisScale(t)}},n.prototype._viewSizeChanged=function(){var e=this._getHorizontalViewSize(),n=this._getVerticalViewSize(),i=t._BuildInViewSizeBuilderCollection._defaultBuildInViewSizeBuilders()._viewSizePolicy(this,null,this._definition._pluginCollection);if(null!=i){var o=this._rowsView._rowViews(),r=o.length>0?o[0]._getRectangle().height:0,l=this._columnsView._columnViews(),a=l.length>0?l[0]._getRectangle().width:0,s=i.horizontalViewSize(e,this,a),u=i.verticalViewSize(n,this,r);if(0!=s&&s!=e||0!=u&&u!=n)return this._setHorizontalViewSize(s),this._setVerticalViewSize(u),!0}return!1},n.prototype._layoutRowColumn=function(e,n,i){this._rowsView._layout(e,i,n);var o=this._rowsView._nearWidth(),r=this._rowsView._farWidth();this._columnsView._layout(e,i,new t.core.Rect(n.left+o,n.top,n.width-o-r,n.height));var l=this._columnsView._nearHeight(),a=this._columnsView._farHeight();return(l>0||a>0)&&(this._rowsView._layout(e,i,new t.core.Rect(n.left,n.top+a,n.width,n.height-a-l)),o=this._rowsView._nearWidth(),r=this._rowsView._farWidth(),this._columnsView._layout(e,i,new t.core.Rect(n.left+o,n.top,n.width-o-r,n.height)),l=this._columnsView._nearHeight(),a=this._columnsView._farHeight()),new t.core.Rect(n.left+o,n.top+a,n.width-o-r,n.height-a-l)},n.prototype._layoutContent=function(e,n,i){this._updateRectangle(n),this._initPlotViews(e,n,i),e.beginTransform();var o=this._layoutRowColumn(e,n,i);this._viewSizeChanged()&&(o=this._layoutRowColumn(e,n,i)),this.__cornerView._layout(e,new t.core.Rect(n.left,n.top,o.left-n.left,o.top-n.top),i),this.__cellsView._layout(e,i,o),e.restoreTransform(),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},n.prototype._drawView=function(t,e){var n=this;t.drawGroup("gcdv-trellis",null,null,(function(t){t.beginTransform(),e._renderLabel=!1,n.__cornerView._render(t,e),n._rowsView._render(t,e),n._columnsView._render(t,e),n.__cellsView._render(t,e),e._renderLabel=!0,n._rowsView._render(t,e),n._columnsView._render(t,e),n.__cellsView._render(t,e),e._renderLabel=!1,t.restoreTransform()}))},n.prototype._canScroll=function(){var t=this.__cellsView,e=this._columnsView,n=this._rowsView;return!!(t._canScroll()||e._canScroll()||n._canScroll())},n.prototype._scrollRect=function(){var e=this.__cellsView._getRectangle();return new t.core.Rect(e.left,e.top,e.width+this._rowsView._farWidth(),e.height+this._columnsView._nearHeight())},n.prototype._getHorizontalViewSize=function(){var t=this.__horizontalViewSize;if(null!=t&&0!=t)return t;for(var e=this._getCoordinateSystems(),n=0;n<e.length;n++){var i=e[n]._horizontalViewSize;if(1!==i)return this.__horizontalViewSize=i,i}return 1},n.prototype._setHorizontalViewSize=function(t){this.__horizontalViewSize=t},n.prototype._getVerticalViewSize=function(){var t=this.__verticalViewSize;if(null!=t&&0!=t)return t;for(var e=this._getCoordinateSystems(),n=0;n<e.length;n++){var i=e[n]._verticalViewSize;if(1!==i)return this.__verticalViewSize=i,i}return 1},n.prototype._setVerticalViewSize=function(t){this.__verticalViewSize=t},n.prototype._getCoordinateSystems=function(){for(var t=[],e=this._getCellView(0,0)._plotViews(),n=0;n<e.length;n++){var i=e[n],o=i._getLayoutView()._coordinateSystemView(i._getDefinition().coordinateSystemDefinition);-1===t.indexOf(o)&&t.push(o)}return t},n.prototype._createCornerView=function(){return new t._TrellisCornerView(this)},n.prototype._createRowsView=function(){return new t._TrellisRowsPaneView(this)},n.prototype._createColumnsView=function(){return new t._TrellisColumnsPaneView(this)},n.prototype._createCellsView=function(){return new t._TrellisCellsPaneView(this)},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n)){var l=this.__cellsView._hitTest(n,i,o);return null!=l||null!=(l=this._columnsView._hitTest(n,i,o))||null!=(l=this._rowsView._hitTest(n,i,o))?l:(l=new t.HitTestResult(n,this,this,t.ElementType.Trellis),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getTrellisLayoutDefinition=function(){return this._definition},n.prototype._plotsPaneViews=function(){for(var t=[],e=0,n=this._getCellViews();e<n.length;e++)for(var i=0,o=n[e];i<o.length;i++){var r=o[i];t.push.apply(t,r._layoutView()._plotsPaneViews())}return t},n.prototype._loadDataSlices=function(e){this.__dataModel=t._TrellisDataModelBuilder._defaultTrellisDataModelBuilder._buildTrellisDataModel(e,this._getTrellisLayoutDefinition()),this._rowsView._update(),this._columnsView._update(),this.__cellsView._update()},n.prototype._loadDataSources=function(t){var e=t._dataSource(this._getTrellisLayoutDefinition()._dataSchema._name);this._loadDataSlices(e._slice())},n.prototype._createScrollbar=function(e){if(e==t.Orientation.Horizontal&&!this.__horizontalScrollbarVisible)return null;if(e==t.Orientation.Vertical&&!this.__verticalScrollbarVisible)return null;var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());if(null==n)return null;var i=new t.core.Size(this._columnsView._columnsWidth(),this._rowsView._rowsHeight()),o=this._scrollRect(),r=null;return r=e==t.Orientation.Horizontal?new t.core.Rect(o.left,o.top,o.width-this._rowsView._farWidth(),o.height):new t.core.Rect(o.left,o.top,o.width,o.height-this._columnsView._nearHeight()),t._ScrollUtility._buildScrollbar(e,r,i,n)},n.prototype._scrollTo=function(t,e){this.__cellsView._scrollTo(t,e),this._columnsView._scrollX!=t&&this._columnsView._scrollTo(t,0),this._rowsView._scrollY!=e&&this._rowsView._scrollTo(0,e)},n.prototype._isHitTested=function(e,n){return this._scrollRect().contains(new t.core.Point(e,n))},Object.defineProperty(n.prototype,"corner",{get:function(){return this.__cornerView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnHeaders",{get:function(){return this._columnsView._headerCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeaders",{get:function(){return this._rowsView._headerCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._columnsView._columnViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisColumnModel(e)})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rowsView._rowViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisRowModel(e)})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"includeAxesInCells",{get:function(){return this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.Trellis},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"ITrellisModel"==t||"ITrellisLayoutView"==t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseLayoutView);t._TrellisLayoutView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__dataModel=n,i._prepareCoordinateSystems(),i}return i(n,e),n.prototype._getCellViews=function(){return this._ownerView._getTrellisLayoutView()._getCellViews()[this.rowIndex]},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisRow},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowIndex",{get:function(){return this.__dataModel._index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeader",{get:function(){var e=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews(),n=e[e.length-1][this.rowIndex];return t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this.__dataModel._dataSlices._items},enumerable:!0,configurable:!0}),n.prototype._coordinateSystemView=function(){return this.__coordinateSystemView},n.prototype._axisViews=function(){var t=this._coordinateSystemView();return null!=t?t._verticalAxisViews().map((function(t){return t})):[]},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},n.prototype._className=function(){return"gcdv-trellis-row-"+this.rowIndex},n.prototype._paddings=function(){var e=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,n=new t.options._PaddingOption(null);return null!=e&&(n.top=e.top,n.bottom=e.bottom),n},n.prototype._prepareCoordinateSystems=function(){for(var e=null,n=0,i=this._getTrellisLayoutDefinition()._cellLayoutDefinition._coordinateSystemDefinitions;n<i.length;n++){var o=i[n];"CartesianXy"===o._type&&(e=o)}null!=e&&(this.__coordinateSystemView=new t._TrellisRowCartesianCoordinateSystemView(this._ownerView._getTrellisLayoutView(),this.rowIndex,e))},n.prototype._getBarCount=function(){if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return 1;var t=1,e=this._coordinateSystemView();if(null!=e)for(var n=e._verticalAxisViews(),i=0;i<n.length;i++)for(var o=0,r=n[i]._dimensions();o<r.length;o++){var l=r[o];t=Math.max(t,l._dimensionValues().length)}return t},n.prototype._layoutInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0);var i=this._coordinateSystemView();null!=i&&i._layout(t,e,n)}},n.prototype._renderInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var i=this._coordinateSystemView();null!=i&&i._render(t,n)}},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this._coordinateSystemView();if(null!=l){var a=l._hitTest(n,i,o);if(null!=a)return a}var s=new t.HitTestResult(n,this,this,t.ElementType.TrellisRow);return null==o||null!=o&&o.predicate(s)?s:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype.dispose=function(){null!=this.__coordinateSystemView&&(this.__coordinateSystemView.dispose(),this.__coordinateSystemView=null)},n.prototype.queryInterface=function(t){return"ITrellisRowModel"==t||"ITrellisRowView"==t?this:null},n}(t._RectangleView);t._TrellisRowView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(t,n){var i=e.call(this,t)||this;return i.__hover=!1,i.__dataModel=n,i}return i(n,e),n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},n.prototype._onHoverChanged=function(){this._textView()._hover=this._hover},n.prototype._traverseCellView=function(t){for(var e=this._ownerView._rowViews(),n=this._getRowIndex();n<this._getRowIndex()+this._getRowSpan();n++)for(var i=0,o=e[n]._getCellViews();i<o.length;i++)t(o[i])},Object.defineProperty(n.prototype,"hover",{get:function(){return this._hover},set:function(t){this._hover=t},enumerable:!0,configurable:!0}),n.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this.textStyle),this.__style=e}return this.__style},n.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._StyleUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},n.prototype._textOverflow=function(){var e=this.textStyle?this.textStyle.overflow:null;return null==e&&(e=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.overflow),null==e?t.TextOverflow.Ellipsis:e},n.prototype._textAlignment=function(){var t=this.textStyle?this.textStyle.alignment:null;return null==t&&(t=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.alignment),t},n.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.text,this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},n.prototype._updateSelected=function(t){this._traverseCellView((function(e){for(var n=0,i=e._plotViews();n<i.length;n++)i[n]._traversePointView((function(e){e._selected=t}))}))},n.prototype._paddings=function(){return new t.options._PaddingOption({left:3,top:3,right:3,bottom:3})},n.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},n.prototype._layoutInnerContent=function(t,e,n){return this._textView()._layout(t,n,e)},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=null;if(this._textOverflow()==t.TextOverflow.Clip){var l=this._getRectangle();r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(l.left,l.top,l.width,l.height)}e.drawGroup(null,r,null,(function(t){o._textView()._render(t,i)}))},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.TrellisRowHeader);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._getRowIndex=function(){return this.__dataModel._start},n.prototype._getRowSpan=function(){return this.__dataModel._end-this.__dataModel._start+1},n.prototype._getTrellisRowsPaneView=function(){return this._ownerView},n.prototype._isSelected=function(){var t=!0;return this._traverseCellView((function(e){if(t)for(var n=0,i=e._plotViews();n<i.length;n++)for(var o=0,r=i[n]._getPointViews();o<r.length;o++)0==r[o]._selected&&(t=!1)})),t},Object.defineProperty(n.prototype,"rowHeaders",{get:function(){var e=[],n=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews(),i=this.__dataModel._level;if(i<n.length-1)for(var o=0,r=n[i+1];o<r.length;o++){var l=r[o];if(l._getRowIndex()>=this._getRowIndex()&&l._getRowIndex()+l._getRowSpan()<=this._getRowIndex()+this._getRowSpan()){var a=t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(l);null!=a&&e.push(a)}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowIndex",{get:function(){return this.__dataModel._start},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSpan",{get:function(){return this.__dataModel._end-this.__dataModel._start+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getTrellisLayoutDefinition()._pluginCollection);if(null!=e){var n=this.__dataModel._fieldDefinition._format;return e.format(n,this.__dataModel.key)}return null==this.__dataModel.key?"null":this.__dataModel.key.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_hover",{get:function(){return this.__hover},set:function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},enumerable:!0,configurable:!0}),n.prototype.relatedPlots=function(){var e=[];return this._traverseCellView((function(n){var i=t._TrellisLayoutViewModelUtility._toTrellisCellModel(n);null!=i&&e.push.apply(e,i.plots)})),e},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.TrellisRowHeader},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.__dataModel._level;if(0===t)return this._ownerView._getTrellisLayoutView();for(var e=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews()[t-1],n=0;n<e.length;n++){var i=e[n];if(i._getRowIndex()<=this._getRowIndex()&&this._getRowIndex()+this._getRowSpan()<=i._getRowIndex()+i._getRowSpan())return i}return this._ownerView._getTrellisLayoutView()},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"ITrellisRowHeaderModel"==t||"ITrellisRowHeaderCellView"==t?this:null},n}(t._RectangleView);t._TrellisRowHeaderCellView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._rowViews=function(){return this.__rowViews},n.prototype._headerCellViews=function(){return this.__headerCellViews},n.prototype._axisTitleViews=function(t){for(var e=this._rowViews()[0]._axisViews(),n=[],i=0;i<e.length;i++)e[i]._getDefinition()._option.position===t&&n.push(e[i]._titleView());return n},n.prototype._nearWidth=function(){for(var e=0,n=this._headerCellViews(),i=0;i<n.length;i++)e+=n[i][0]._getRectangle().width;if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var o=this._axisTitleViews(t.AxisPosition.Near).reduce((function(t,e){return t+e._rectangle().width}),0);e+=o;for(var r=[],l=this._rowViews(),a=0;a<l.length;a++)for(var s=l[a]._axisViews(),u=0;u<s.length;u++)null==r[u]&&(r[u]=0),s[u]._getDefinition()._option.position===t.AxisPosition.Near&&(r[u]=Math.max(r[u],s[u]._rectangle().width));e+=r.reduce((function(t,e){return t+e}),0)}return e},n.prototype._farWidth=function(){var e=0;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;e+=this._axisTitleViews(t.AxisPosition.Far).reduce((function(t,e){return t+e._rectangle().width}),0);for(var n=[],i=this._rowViews(),o=0;o<i.length;o++)for(var r=i[o]._axisViews(),l=0;l<r.length;l++)null==n[l]&&(n[l]=0),r[l]._getDefinition()._option.position===t.AxisPosition.Far&&(n[l]=Math.max(n[l],r[l]._rectangle().width));return e+n.reduce((function(t,e){return t+e}),0)},n.prototype._rowsHeight=function(){for(var t=0,e=this._rowViews(),n=0;n<e.length;n++)t+=e[n]._getRectangle().height;return t},n.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},n.prototype._className=function(){return"gcdv-trellis-rows"},n.prototype._getTitleHeights=function(t,e,n){for(var i=this._rowViews()[0]._axisViews(),o=[],r=0;r<i.length;r++)i[r]._getDefinition()._option.position===e&&o.push(i[r]._getTitleHeight(t,n));return o},n.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},n.prototype._getRowView=function(t){return this._rowViews()[t]},n.prototype._update=function(){this.__rowViews=this._createRowViews(),this.__headerCellViews=this._createHeaderCellViews()},n.prototype._getRowHeights=function(t){for(var e=[],n=this._rowViews(),i=[],o=0,r=0;r<n.length;r++){var l=n[r]._getBarCount();i[r]=l,o+=l}var a=this._ownerView._getVerticalViewSize(),s=0,u=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=u&&(s=u.top+u.bottom);var _=(t/a-s*n.length)/o;for(r=0;r<n.length;r++)e.push(i[r]*_+s);return e},n.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);for(var o=this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells,r=this._getRowHeights(n.height),l=this._headerCellViews(),a=[],s=0;s<l.length;s++){for(var u=l[s],_=0,p=0;p<u.length;p++){var c=u[p],h=r.slice(c._getRowIndex(),c._getRowIndex()+c._getRowSpan()).reduce((function(t,e){return t+e}),0),f=c._measure(e,new t.core.Size(n.width,h))._size;_=Math.max(_,f.width)}a[s]=_}var d=this._getTitleHeights(e,t.AxisPosition.Near,n.size).reverse(),y=this._getTitleHeights(e,t.AxisPosition.Far,n.size).reverse(),g=d.reduce((function(t,e){return t+e}),0),m=y.reduce((function(t,e){return t+e}),0),v=n.left+(o?0:g),w=n.top,b=0;for(s=0;s<l.length;s++){u=l[s];var S=a[s];for(w=n.top,p=0;p<u.length;p++)c=u[p],h=r.slice(c._getRowIndex(),c._getRowIndex()+c._getRowSpan()).reduce((function(t,e){return t+e}),0),c._layout(e,i,new t.core.Rect(v,w,S,h)),w+=h;b+=l[s][0]._getRectangle().width,v+=S}w=n.top;var P=this._rowViews(),C=n.width-b-(o?0:g+m);for(p=0;p<P.length;p++)P[p]._layout(e,i,new t.core.Rect(v,w,C,r[p])),w+=r[p];if(!o){var x=[],V=[];for(p=0;p<P.length;p++)for(var D=P[p]._axisViews().reverse(),A=0;A<D.length;A++)(R=D[A])._scaleModel._hasScale()&&(null==x[A]&&(x[A]=0),null==V[A]&&(V[A]=0),R._getDefinition()._option.position===t.AxisPosition.Near?x[A]=Math.max(x[A],R._rectangle().width):R._getDefinition()._option.position===t.AxisPosition.Far&&(V[A]=Math.max(V[A],R._rectangle().width)));var O=0,L=0,T=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=T&&(O=T.top,L=T.bottom),w=n.top;var M=x.reduce((function(t,e){return t+e}),0),I=C-M-V.reduce((function(t,e){return t+e}),0);for(p=0;p<P.length;p++){D=P[p]._axisViews().reverse();var E=v,B=v+M+I;for(A=0;A<D.length;A++){var R;if((R=D[A])._scaleModel._hasScale()){var k=r[p]-(O+L),F=w+O;t._isOrdinalAxisScale(R._scaleModel._scale)||(F=R._rectangle().top,k=r[p]-Math.max(F-w,0)-L),R._scaleModel._setRange([F+k,F]),i._lineCartesianCoordinateSystemContent=new t.core.Rect(E+M,w,I,r[p]),R._getDefinition()._option.position===t.AxisPosition.Near?(R._layout(e,new t.core.Rect(E,F,k,x[A]),i),E+=x[A]):R._getDefinition()._option.position===t.AxisPosition.Far&&(R._layout(e,new t.core.Rect(B,F,k,V[A]),i),B+=V[A]),i._lineCartesianCoordinateSystemContent=null}}w+=r[p]}var N=this._axisTitleViews(t.AxisPosition.Near).reverse(),U=n.left;for(A=0;A<N.length;A++)N[A]._layout(e,new t.core.Rect(U,n.top,d[A],w-n.top),i),U+=d[A];var z=this._axisTitleViews(t.AxisPosition.Far).reverse(),j=n.right;for(A=0;A<z.length;A++)z[A]._layout(e,new t.core.Rect(j-y[A],n.top,y[A],w-n.top),i),j-=y[A]}},n.prototype._getLogicSize=function(){var e=this._getRectangle();return new t.core.Size(e.width,this._rowsHeight())},n.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._scrollX,this.__scrollableLabelsGroupElement.offsetY=this._scrollY,this.__scrollableLabelsGroupElement.flush())},n.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},n.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._scrollX,this._scrollY,(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},n.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._rowViews();if(!i._renderLabel){var l=this._headerCellViews();e.drawGroup("gcdv-trellis-rows-gridline",null,null,(function(e){e.beginTransform();var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(o._getTrellisLayoutDefinition()._defaultStyle());t._StyleUtility._applyLineStyleOption(n,o._getTrellisLayoutDefinition()._trellisConfigOption.style),t._StyleUtility._applyStyle(e,n);for(var i=0;i<l.length;i++)for(var a=l[i],s=0;s<a.length;s++){var u=a[s]._getRectangle(),_=0===s?u.top+.5:u.top;e.drawLine(u.left,_,u.right,_),s===a.length-1&&e.drawLine(u.left,u.bottom-.5,u.right,u.bottom-.5)}for(s=0;s<r.length;s++){var p=(u=r[s]._getRectangle()).left,c=u.right,h=0===s?u.top+.5:u.top;e.drawLine(p,h,c,h),s===r.length-1&&e.drawLine(p,u.bottom-.5,c,u.bottom-.5)}e.restoreTransform()})),e.drawGroup("gcdv-trellis-rows-header",null,null,(function(t){for(var e=0;e<l.length;e++)for(var n=l[e],o=0;o<n.length;o++)n[o]._render(t,i)}))}for(var a=0;a<r.length;a++)r[a]._render(e,i)},n.prototype._createRowViews=function(){for(var e=[],n=this._ownerView._dataModel()._rows,i=0;i<n.length;i++)e.push(new t._TrellisRowView(this,n[i]));return e},n.prototype._createHeaderCellViews=function(){var e=[],n=this._ownerView._dataModel()._rowHeaders,i=[];for(i.push.apply(i,n);i.length>0;){var o=[];e.push(o);for(var r=i.length;r>0;){var l=i.shift();o.push(new t._TrellisRowHeaderCellView(this,l));var a=l.children;null!=a&&a.length>0&&i.push.apply(i,a),r--}}return e},n.prototype._hitTestContent=function(t,n,i){for(var o=this._headerCellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++)if(null!=(_=l[a]._hitTest(t,n,i)))return _;for(var s=this._rowViews(),u=0;u<s.length;u++){var _;if(null!=(_=s[u]._hitTest(t,n,i)))return _}return e.prototype._hitTestContent.call(this,t,n,i)},n.prototype.dispose=function(){if(null!=this.__rowViews){for(var t=0,e=this.__rowViews;t<e.length;t++)e[t].dispose();this.__rowViews=null}},n.prototype._getTrellisLayoutView=function(){return this._ownerView},n}(t._ScrollableView);t._TrellisRowsPaneView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LegendDataPoint",this.type=t._BuildInLegendDataPointsPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._getPointViews=function(e,n){for(var i=[],o=!1,r=0,l=n._findRelatedPlotViews(e);r<l.length;r++){var a=l[r],s=a._getLayoutView();if(t._isTrellisCellLayoutView(s))if(t._isHierarchicalPlotView(a)){o=!0;var u=a._getRootPointView();if(null!=u)for(var _=0,p=u._children;_<p.length;_++){var c=p[_];i.push(c)}}else i.push.apply(i,a._getPointViews())}return o||i.sort((function(t,e){return t._data()._dataIndex-e._data()._dataIndex})),i},e.prototype._buildDataPointsPolicy=function(e){return(t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e))&&t._isTrellisCellLayoutDefinition(e._getDefinition()._plotDefinition._layoutDefinition)?this:null},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisLegendDataPointsPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype._canScroll=function(){return!1},e}(t._AxesView);t._TrellisAxesView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createTitleView=function(){return new t._TrellisRowColumnAxisTitleView(this)},n.prototype._getCoordinateSystemView=function(){return e.prototype._getCoordinateSystemView.call(this)},n.prototype._getClipRectangle=function(){var e=this._getCoordinateSystemView(),n=e._trellisView(),i=n._rectangle(),o=this._rectangle().clone();if(o.left-=this._getLeftMargin(),o.width+=this._getLeftMargin()+this._getRightMargin(),n._columnsView._getColumnView(0)._coordinateSystemView()===e)for(var r=0,l=n._columnsView._axisTitleViews(this._definition._option.position);r<l.length;r++){var a=l[r];o=t._DrawingUtility._unionOfRectangles(o,a._rectangle())}return o.height+=o.top-i.top,o.top=i.top,o},n.prototype._measureTitle=function(t,e){return 0},n.prototype._layoutTitleView=function(t,e,n){},n.prototype._getLayoutShapes=function(t){return e.prototype._getLayoutShapes.call(this,!1)},n.prototype._getLayoutLineShapes=function(){var e=[];return this._definition._option.position!=t.AxisPosition.None&&e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),e},n.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.left<this._rectangle().left&&this._setLeftMargin(this._rectangle().left-t.left),t.right>this._rectangle().right&&this._setRightMargin(t.right-this._rectangle().right),t},n}(t._HorizontalLineAxisView);t._TrellisColumnAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createTitleView=function(){var e=new t._TrellisRowColumnAxisTitleView(this);return this.position==t.AxisPosition.Near?e._setTextAngle(-90):e._setTextAngle(90),e},n.prototype._getCoordinateSystemView=function(){return e.prototype._getCoordinateSystemView.call(this)},n.prototype._getClipRectangle=function(){var e=this._getCoordinateSystemView(),n=e._trellisView(),i=n._rectangle(),o=this._rectangle().clone();if(o.top-=this._getTopMargin(),o.height+=this._getTopMargin()+this._getBottomMargin(),n._rowsView._getRowView(0)._coordinateSystemView()===e)for(var r=0,l=n._rowsView._axisTitleViews(this._definition._option.position);r<l.length;r++){var a=l[r];o=t._DrawingUtility._unionOfRectangles(o,a._rectangle())}return o.width+=o.left-i.left,o.left=i.left,o},n.prototype._measureTitle=function(t,e){return 0},n.prototype._layoutTitleView=function(t,e,n){},n.prototype._getLayoutShapes=function(t){return e.prototype._getLayoutShapes.call(this,!1)},n.prototype._getLayoutLineShapes=function(){var e=[];return this._definition._option.position!=t.AxisPosition.None&&e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),e},n.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.top<this._rectangle().top&&this._setTopMargin(this._rectangle().top-t.top),t.bottom>this._rectangle().bottom&&this._setBottomMargin(t.bottom-this._rectangle().bottom),t},n}(t._VerticalLineAxisView);t._TrellisRowAxisView=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._initTextPadding=function(){null==this._axisView()._getDefinition()._option.titleStyle.padding?this._setTextPadding(new t.options._PaddingOption({left:0,right:0,top:this._axisView()._getDefinition()._getDefaultTitlePadding(),bottom:this._axisView()._getDefinition()._getDefaultTitlePadding()})):this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},n.prototype._hAlign=function(){return this._axisView()._getDefinition()._orientation==t.Orientation.Vertical?t.HAlign.Left:e.prototype._hAlign.call(this)},n.prototype._measure=function(n,i){var o=this._axisView()._getDefinition()._orientation==t.Orientation.Vertical,r=this._axisView()._getCoordinateSystemView(),l=r._trellisView();if(o){if(l._rowsView._getRowView(0)._coordinateSystemView()!=r)return new t._RectangleViewMetricsResult(new t.core.Size(0,0))}else if(l._columnsView._getColumnView(0)._coordinateSystemView()!=r)return new t._RectangleViewMetricsResult(new t.core.Size(0,0));return e.prototype._measure.call(this,n,i)},n}(t._LineAxisTitleView);t._TrellisRowColumnAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPlotsView=function(){return new t._TrellisCartesianPlotsView(this)},n.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},n}(t._PolygonalCartesianCoordinateSystemView);t._TrellisPolygonalCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPlotsView=function(){return new t._TrellisCartesianPlotsView(this)},n.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},n}(t._RadialCartesianCoordinateSystemView);t._TrellisRadialCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createPlotsView=function(){return new t._TrellisPlotsView(this)},n.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},n}(t._TextCategoriesCoordinateSystemView);t._TrellisTextCategoriesCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildXDimension=function(e,n,i,o,r){var l=i._detailDefinitions(),a=i.axisDefinitions.filter((function(e){return e._option.type==t.AxisType.X})),s=null;if(i._cellLayoutDefinition._includeAxesInCells)s=this._build(e,l,a.length>0?a[0]:null,n);else if(null!=e&&t._isCartesianCategoryDimensionDefinition(e)||t.models._OrdinalDimensionBuilder._isOrdinalDimension(e,l.length>0?l[0]:null,a.length>0?a[0]:null))if(i._plotConfigOption.swapAxes){var u=o._rows[r._rowIndex];s=this._buildRowDimension(u,e,l,a)}else{var _=o._columns[r._columnIndex];s=this._buildColumnDimension(_,e,l,a)}else s=this._buildTrellisDimension(o,e,l,a);return s},e.prototype._buildYDimension=function(e,n,i,o,r){var l=i._detailDefinitions(),a=i.axisDefinitions.filter((function(e){return e._option.type==t.AxisType.Y})),s=null;if(i._cellLayoutDefinition._includeAxesInCells)s=this._build(e,l,a.length>0?a[0]:null,n);else if(t.models._OrdinalDimensionBuilder._isOrdinalDimension(e,l.length>0?l[0]:null,a.length>0?a[0]:null))if(i._plotConfigOption.swapAxes){var u=o._columns[r._columnIndex];s=this._buildColumnDimension(u,e,l,a)}else{var _=o._rows[r._rowIndex];s=this._buildRowDimension(_,e,l,a)}else s=this._buildTrellisDimension(o,e,l,a);return s},e.prototype._buildRowDimension=function(t,e,n,i){for(var o=0,r=t._dimensions;o<r.length;o++){var l=r[o];if(l._definition()==e)return l}var a=this._build(e,n,i.length>0?i[0]:null,t._dataSlices);return t._dimensions.push(a),a},e.prototype._buildColumnDimension=function(t,e,n,i){for(var o=0,r=t._dimensions;o<r.length;o++){var l=r[o];if(l._definition()==e)return l}var a=this._build(e,n,i.length>0?i[0]:null,t._dataSlices);return t._dimensions.push(a),a},e.prototype._buildTrellisDimension=function(t,e,n,i){for(var o=0,r=t._dimensions;o<r.length;o++){var l=r[o];if(l._definition()==e)return l}var a=this._build(e,n,i.length>0?i[0]:null,t._dataSlices);return t._dimensions.push(a),a},e.prototype._build=function(e,n,i,o){var r=new t.financial.models._StockDimensionBuilder,l=r.build(e,n,i,o);return null!=l?l:(r=new t.models._DimensionBuilder).build(e,n,i,o)},e}();t._TrellisDimensionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._slice=function(n,i,o){if(i==t.DetailLevel.Trellis){for(var r=n._getCartesianPlotView(),l=[],a=r._getLayoutView()._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._getPlotDataPoints(r._getDefinition()._plotOption),s=[],u=0,_=a=t.models._CartesianPlotDataFilter._filter(r,a);u<_.length;u++){var p=_[u];p._data()._getSeries()._valueDefinition()._identifier===n._getCartesianGroupDataModel()._valueDefinition()._identifier&&null!=p&&s.push(p)}return s.length>0&&(o&&t.models._CartesianSupport.isRangeValueField(n._getCartesianGroupDataModel()._valueDefinition()._identifier,r)?(l.push(new t._CartesianOverlayDataSlice(s,"upper",null,!1)),l.push(new t._CartesianOverlayDataSlice(s,"lower",null,!0))):l.push(new t._CartesianOverlayDataSlice(s,n._getCartesianGroupDataModel()._valueDefinition()._identifier,null))),l}return e.prototype._slice.call(this,n,i,o)},n}(t._CartesianOverlayDataSlicer);t._TrellisCartesianOverlayDataSlicer=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._getDataSlices=function(e){var n=this._isGroup()?t.DetailLevel.Group:this._referenceLineOverlayDefinition()._option.detailLevel;return(new t._TrellisCartesianOverlayDataSlicer)._slice(e._groupView(),n,!1)},n}(t._CartesianReferenceLineOverlayView);t._TrellisCartesianReferenceLineOverlayView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._canScroll=function(){return!1},e}(t._PlotsView);t._TrellisPlotsView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._canScroll=function(){return!1},e}(t._CartesianPlotsView);t._TrellisCartesianPlotsView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisClusterKeyBuilder",this.type=t._BuildInClusterKeyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildClusterKey=function(e,n){if(e instanceof t._TrellisBarCartesianPlotView){var i=e,o=i._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._getTrellisLayoutDefinition();if(null!=o){var r=i._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),l=i._getDefinition()._plotOption.name+"_"+n._valueDefinition()._identifier+"_"+r;if(null!=n._detailDimension()&&t._isClusterGroupDetailEncodingDefintion(n._detailDimension()._definition())){var a=!1;o._columnHeaderDefinition._fieldDefinitions.forEach((function(t){a=a||t.equalsWith(n._detailDimension()._definition()._dataFieldDefinition)})),o._rowHeaderDefinition._fieldDefinitions.forEach((function(t){a=a||t.equalsWith(n._detailDimension()._definition()._dataFieldDefinition)})),a||(l+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null"))}return l}}return null},e.prototype.queryInterface=function(t){return"IClusterKeyBuilder"===t?this:null},e}();t._TrellisClusterKeyBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getTrellisCellView=function(){return this._ownerView._getTrellisCellView()},n.prototype._getGroupViewPort=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView(),e=this._rectangle();return null==t||t._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n.prototype._resetClusterGroups=function(t){this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells?this._analysisClusterGroups(t):this._trellisAnalysisClusterGroups(t)},n.prototype._trellisAnalysisClusterGroups=function(e){for(var n=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView()._findAllPlotViews(),i=this._definition._plotOption,o=0;o<n.length;o++){var r=n[o];r._getDefinition()._plotOption===i&&t._isBarCartesianPlotView(r)&&r._analysisClusterGroups(e)}},n.prototype._calculateMinDistanceInValues=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView();if(t._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e.prototype._calculateMinDistanceInValues.call(this);for(var n=null,i=[],o=0,r=t._getPlotDataPoints(this._definition._plotOption);o<r.length;o++){var l=r[o]._data(),a=this._getXValue(l);if(null!=a){for(var s=!1,u=0,_=i;u<_.length;u++){var p=_[u];if(p==a){s=!0;break}var c=Math.abs(p-a);(null==n||n>c)&&(n=c)}s||i.push(a)}}return n},n.prototype._createBarPointView=function(e,n){return n instanceof t._RangeValuePointDataModel?new t._RangeBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._XyBarCartesianPointView(e,n,this._pointViewLayouter,null)},n.prototype._createRadialBarPointView=function(e,n){return new t._RadialBarCartesianPointView(e,n,this._pointViewLayouter,null)},n.prototype._createFunnelPointView=function(e,n){return new t._FunnelCartesianPointView(e,n,null)},n}(t._BarCartesianPlotView);t._TrellisBarCartesianPlotView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){return e.call(this,t,n,i)||this}return i(n,e),n.prototype._getGroupViewPort=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsView()._getTrellisLayoutView(),e=this._rectangle();return null==t||t._canScroll()||(e=this._plotAreaView()._getRectangle()),e},n.prototype._createCartesianPointView=function(e,n){return new t._ScatterCartesianPointView(e,n,null)},n}(t._ScatterCartesianPlotView);t._TrellisScatterCartesianPlotView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._TextCartesianSeriesView);t._TrellisTextSeriesView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t.financial._CandlestickPlotView);t._TrellisCandlestickPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t.financial._HlocPlotView);t._TrellisHlocPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._SunburstPlotView);t._TrellisSunburstPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i(e,t),e}(t._TreeMapPlotView);t._TrellisTreemapPlotView=e}(t||(t={})),function(t){var e;(e=t.plugins||(t.plugins={})).PluginCollection.defaultPluginCollection.register(t._TrellisBarPlotPlugin._trellisBarPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisLinePlotPlugin._trellisLinePlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisAreaPlotPlugin._trellisAreaPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisScatterPlotPlugin._trellisScatterPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisSunburstPlotPlugin._trellisSunburstPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisTextPlotPlugin._trellisTextPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisTreeMapPlotPlugin._trellisTreeMapPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisParallelLinePlotPlugin._trellisParallelLinePlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisParallelAreaPlotPlugin._trellisParallelAreaPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisHlocPlotPlugin._trellisHlocPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisCandlestickPlotPlugin._trellisCandlestickPlotPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisLineAxisDefinitionBuilder._defaultTrellisLineAxisDefinitionBuilder),e.PluginCollection.defaultPluginCollection.register(new t.TrellisCellsLayoutPolicyBuilderPlugin),e.PluginCollection.defaultPluginCollection.register(t._TrellisColumnHeaderSelectionInteractionBuilder._trellisColumnHeaderSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._TrellisRowHeaderSelectionInteractionBuilder._trellisRowHeaderSelectionInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._TrellisColumnHeaderHoverInteractionBuilder._trellisColumnHeaderHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(t._TrellisRowHeaderHoverInteractionBuilder._trellisRowHeaderHoverInteractionBuilder),e.PluginCollection.defaultPluginCollection.register(new t._TrellisClusterKeyBuilder)}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(e){function n(n){var i=e.call(this)||this;return i.name="AutoOrdinalAxisScalePolicy",i.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,i.priority=0,i.__maxTickNumber=n,i}return i(n,e),n.prototype.calculateMajorUnit=function(t,e){var n=1,i=e-t+1;return i>this.__maxTickNumber&&this.__maxTickNumber>0&&(n=Math.max(1,Math.floor(i/this.__maxTickNumber))),n},n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Ordinal?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n(40),n}(t._BaseOrdinalAxisScalePolicy),e.AutoOrdinalAxisScalePolicyPlugin=n}(t||(t={})),function(t){var e=function(){function e(){this.name="BorderAdornerRender",this.type=t._BuildInAdornerRenderBuilderCollection._pluginType,this.priority=10}return e.prototype.buildAdornerRender=function(e){return e===t.models._BorderAdornerRender._adornerRenderType?new t.models._BorderAdornerRender:null},e.prototype.queryInterface=function(t){return"IAdornerRenderBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t.BorderAdornerRenderPlugin=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._defaultLineStyle=function(){return null==e.__defaultLineStyle&&(e.__defaultLineStyle=t._StyleUtility._buildStrokeStyle(null,"#838383",1,null,null)),e.__defaultLineStyle},e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"#B3D6F2",null,"#047AD8",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){var o=i.slice();if(!(null==o||o.length<=0)){o.push(o[0]),n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultLineStyle()),n.drawLines(o.map((function(t){return t.x})),o.map((function(t){return t.y})),null),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var r=0,l=i;r<l.length;r++){var a=l[r];n.drawEllipse(a.x,a.y,e.__radius,e.__radius,null)}n.restoreTransform()}},e._adornerRenderType="Border",e.__radius=3,e}(),e._BorderAdornerRender=n}(t||(t={})),function(t){var e=function(){function e(){this.name="BoxAdornerRender",this.type=t._BuildInAdornerRenderBuilderCollection._pluginType,this.priority=10}return e.prototype.buildAdornerRender=function(e){return e===t.models._BoxAdornerRender._adornerRenderType?new t.models._BoxAdornerRender:null},e.prototype.queryInterface=function(t){return"IAdornerRenderBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t._BoxAdornerRenderPlugin=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"none",null,"#80A3BE",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var o=0,r=i;o<r.length;o++){var l=r[o];n.drawRect(l.x-e.__halfSizeLength,l.y-e.__halfSizeLength,2*e.__halfSizeLength,2*e.__halfSizeLength,null)}n.restoreTransform()},e._adornerRenderType="Box",e.__halfSizeLength=3,e}(),e._BoxAdornerRender=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__type=t.AxisType.Y},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],n.prototype,"type",null),n}(e._Option),e._AxesCommonScaleArgumentsOption=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="CommonScale",this.type=t._BuildInAxisAddtionalCollection._pluginType,this.priority=1}return e.prototype.apply=function(e,n,i){var o;if(null!=i&&null!=i.arguments&&new t.options._AxesCommonScaleArgumentsOption(i.arguments.option()).type==e.axisType)for(var r=0,l=n;r<l.length;r++){var a=l[r];a!=e&&(o=e._dimensions()).push.apply(o,a._dimensions())}},e.prototype.queryInterface=function(t){return"IAxisAddtionalPolicy"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e.CartesianAxesCommonScalePlugin=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInDataScaleViewBuilders=function(){return null==n.__buildInDataScaleViewBuilders&&(n.__buildInDataScaleViewBuilders=new n([],n._pluginType)),n.__buildInDataScaleViewBuilders},n.prototype._convert=function(e){return t._isDataScaleViewBuilder(e)?e:null},n.prototype._dataScaleBarView=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildDataScaleBarView(t,e);if(null!=l)return l}return null},n._pluginType="DataScaleViewBuilder",n}(t._BuildInObjectCollection);t._BuildInDataScaleViewBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._XyCartesianCoordinateSystemDefinition._type?new t._XyCartesianCoordinateSystemDefinition(e,i,o,t._DataScaleXyCartesianCoordinateSystemViewBuilder._viewBuilder):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleLineCartesianCoordinateSystemBuilder=new e,e}();t._DataScaleXyCartesianCoordinateSystemBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleLineCartesianCoordinateSystemBuilder,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__dataScaleBarViews=[],i}return i(n,e),n.prototype._layoutData=function(){e.prototype._layoutData.call(this);var n=this._ownerView._getPlotAreaView()._getDefinition()._plotAreaOption.option(),i=null!=n?n.dataScales:null;if(null!=i)for(var o=0,r=t._JsonElementUtility._isArray(i)?t._JsonElementUtility._getAsArray(i):[i];o<r.length;o++){var l=r[o],a=this._createDataScaleBarView(new t.options._DataScaleOption(l));null!=a&&this.__dataScaleBarViews.push(a)}},n.prototype._createDataScaleBarView=function(e){return t._BuildInDataScaleViewBuilderCollection._defaultBuildInDataScaleViewBuilders()._dataScaleBarView(this,e)},n.prototype._layoutContent=function(t,n,i){if(e.prototype._layoutContent.call(this,t,n,i),this.__dataScaleBarViews.length>0)for(var o=this._ownerView._getPlotAreaView()._getOwnerView()._getRectangle(),r=0,l=this.__dataScaleBarViews;r<l.length;r++)l[r]._layout(t,i,o)},n.prototype._drawChildren=function(t,e){for(var n=0,i=this.__dataScaleBarViews;n<i.length;n++)i[n]._render(t,e)},n.prototype._hitTest=function(t,n,i){for(var o=this.__dataScaleBarViews.length-1;o>=0;o--){var r=this.__dataScaleBarViews[o]._hitTest(t,n,i);if(null!=r)return r}return e.prototype._hitTest.call(this,t,n,i)},n}(t._XyCartesianCoordinateSystemView);t._DataScaleXyCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._DataScaleXyCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._DataScaleXyCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="DraggingInteraction",this.type=t._BuildInDraggingInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDraggingInteraction=function(e){return new t.models._DataScaleBarDraggingInteraction(e)},e.prototype.queryInterface=function(t){return"IDraggingInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleBarDraggingInteractionBuilder=new e,e}();t._DataScaleBarDraggingInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleBarDraggingInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isDataScaleBar=function(e){return null!=e&&e.type==t.ElementType.DataScaleBar},e.prototype._isDataScaleThumHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleThumbHandler},e.prototype._isDataScaleStartHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleStartScaleHandler},e.prototype._isDataScaleEndHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleEndScaleHandler},e.prototype._dataScaleBarView=function(e){return e.type==t.ElementType.DataScaleBar?e:e.parent},e.prototype._setHover=function(t,e){null!=t._startView&&(t._startView._hover=e),null!=t._endView&&(t._endView._hover=e),null!=t._thumbView&&(t._thumbView._hover=e)},e.prototype.isModel=function(t,e){return!(null==e||!(this._isDataScaleBar(e)||this._isDataScaleThumHandler(e)||this._isDataScaleStartHandler(e)||this._isDataScaleEndHandler(e))||(this.__model=e,0))},e.prototype.onStart=function(t){var e=this._dataScaleBarView(this.__model);return this.__rangeStart=e._rangeStart,this.__rangeEnd=e._rangeEnd,0},e.prototype.onDragging=function(e,n,i,o){var r=this._dataScaleBarView(this.__model),l=r._orientation==t.Orientation.Horizontal;if(this._isDataScaleThumHandler(this.__model)){this._setHover(r,!0);var a=r._trackRectangle,s=Math.abs(this.__rangeEnd-this.__rangeStart);if(l){var u=this.__rangeStart+i,_=this.__rangeEnd+i;u<a.left?_=(u=a.left)+s:u>a.right&&(_=(u=a.right)-s),_<a.left?u=(_=a.left)+s:_>a.right&&(u=(_=a.right)-s),r._setRange(u,_)}else u=this.__rangeStart+o,_=this.__rangeEnd+o,u<a.top?_=(u=a.top)+s:u>a.bottom&&(_=(u=a.bottom)-s),_<a.top?u=(_=a.top)+s:_>a.bottom&&(u=(_=a.bottom)-s),r._setRange(u,_)}else if(this._isDataScaleStartHandler(this.__model)){this._setHover(r,!0);var p=r._option.scaleHandler.enabled;l?r._setRange(this.__rangeStart+i,p?this.__rangeEnd:this.__rangeEnd+i):r._setRange(this.__rangeStart+o,p?this.__rangeEnd:this.__rangeEnd+o)}else if(this._isDataScaleEndHandler(this.__model))this._setHover(r,!0),p=r._option.scaleHandler.enabled,l?r._setRange(p?this.__rangeStart:this.__rangeStart+i,this.__rangeEnd+i):r._setRange(p?this.__rangeStart:this.__rangeStart+o,this.__rangeEnd+o);else if(a=r._trackRectangle,l){var c=e.x-i,h=Math.min(c,e.x),f=Math.max(c,e.x);r._selectingRectangle=new t.core.Rect(h,a.top,f-h,a.height)}else{var d=e.y-o,y=Math.min(d,e.y),g=Math.max(d,e.y);r._selectingRectangle=new t.core.Rect(a.left,y,a.width,g-y)}return 2},e.prototype.onEnd=function(e,n,i,o){var r=0,l=this._dataScaleBarView(this.__model);if(l._selectingRectangle=null,this._isDataScaleThumHandler(n)||this._isDataScaleStartHandler(n)||this._isDataScaleEndHandler(n)||(this._setHover(l,!1),r=1),this._isDataScaleBar(this.__model)){var a=0==i&&0==o;if(l._orientation==t.Orientation.Horizontal)if(a){var s=l._trackRectangle,u=Math.abs(this.__rangeEnd-this.__rangeStart),_=e.x-u/2;if((c=e.x+u/2)>s.right){var p=c-s.right;c=s.right,_-=p}_<s.left&&(p=s.left-_,_=s.left,c+=p),l._setRange(_,c)}else{_=Math.min(e.x-i,e.x);var c=Math.max(e.x-i,e.x);l._setRange(_,c)}else if(a){s=l._trackRectangle,u=Math.abs(this.__rangeEnd-this.__rangeStart);var h=e.y-u/2;if((y=e.y+u/2)>s.bottom){var f=y-s.bottom;y=s.bottom,h-=f}h<s.top&&(f=s.top-h,h=s.top,y+=f),l._setRange(h,y)}else{var d=Math.min(e.y-o,e.y),y=Math.max(e.y-o,e.y);l._setRange(d,y)}r=2}return r},e.prototype.dispose=function(){},e}(),e._DataScaleBarDraggingInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._DataScaleBarHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleHoverInteractionBuilder=new e,e}();t._DataScaleBarHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isDataScaleBar=function(e){return null!=e&&e.type==t.ElementType.DataScaleBar},e.prototype._isDataScaleThumHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleThumbHandler},e.prototype._isDataScaleStartHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleStartScaleHandler},e.prototype._isDataScaleEndHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleEndScaleHandler},e.prototype._dataScaleBarView=function(e){return e.type==t.ElementType.DataScaleBar?e:e.parent},e.prototype._setHover=function(t,e){null!=t._startView&&(t._startView._hover=e),null!=t._endView&&(t._endView._hover=e),null!=t._thumbView&&(t._thumbView._hover=e)},Object.defineProperty(e.prototype,"name",{get:function(){return"DataScaleBarHover"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!0,configurable:!0}),e.prototype.hover=function(t,e){return!(null==e||!(this._isDataScaleBar(e)||this._isDataScaleThumHandler(e)||this._isDataScaleStartHandler(e)||this._isDataScaleEndHandler(e))||(this.__model=e,0))},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(e){if(this._isDataScaleBar(this.__model))this._control.hostElement.style.cursor="crosshair";else{var n=this._dataScaleBarView(this.__model);this._setHover(n,!0),n._orientation==t.Orientation.Horizontal?this._control.hostElement.style.cursor="ew-resize":this._control.hostElement.style.cursor="ns-resize"}return 1},e.prototype.onLeave=function(t){this._control.hostElement.style.cursor="default";var e=this._dataScaleBarView(this.__model);return this._setHover(e,!1),1},e.prototype.onMove=function(t){return 0},e.prototype.dispose=function(){},e}(),e._DataScaleBarHoverInteraction=n}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;o._option=i,o.__defaultStyle=null,o.__defaultSelectingStyle=null,o.__defaultSelectedStyle=null,o.__trackRectangle=null,o.__selectedRectangle=null,o.__startValueTextView=null,o.__endValueTextView=null,o._zLevel=t._DataScaleConstants._viewZLevel,o.__axisViews=o._getRelativedAxisView(n,i.axisName,i.orientation);var r=o._mainAxisView(o.__axisViews);null!=r?(o._minimum=null!=r.min?r.min:t._DataScaleConstants._minValue,o._maximum=null!=r.max?r.max:t._DataScaleConstants._maxValue):(o._minimum=t._DataScaleConstants._minValue,o._maximum=t._DataScaleConstants._maxValue);var l=o._maximum-o._minimum;return null==i.startValue?o.__startValue=o._minimum:o.__startValue=Math.min(o._maximum,o._minimum+l*i.startValue),null==i.viewSize?o.__endValue=o._maximum:o.__endValue=Math.min(o._maximum,o._startValue+l*i.viewSize),null!=i.orientation?o._orientation=i.orientation:o._orientation=null!=r?r._getDefinition()._orientation:t.Orientation.Horizontal,null!=i.scaleHandler&&(o._startView=new t._DataScaleHandlerView(o,i.scaleHandler),o._endView=new t._DataScaleHandlerView(o,i.scaleHandler)),null!=i.thumbHandler&&(o._thumbView=new t._DataScaleThumbHanlderView(o,i.thumbHandler)),o}return i(n,e),n.prototype._mainAxisView=function(t){return t.length>0?t[0]:null},n.prototype._isAxisViewReversed=function(){var t=this._mainAxisView(this.__axisViews);return null!=t&&t._getDefinition()._option.reversed},n.prototype._getRelativedAxisView=function(e,n,i){var o=[],r=e.horizontalAxisViews,l=e.verticalAxisViews;if(null!=n)for(var a=0,s=n.split(",");a<s.length;a++)for(var u=s[a],_=0,p=r.concat(l);_<p.length;_++){var c=p[_];c._getDefinition()._option.name==u&&o.push(c)}else null!=i?i==t.Orientation.Horizontal?o.push.apply(o,r):o.push.apply(o,l):o.push.apply(o,r);return o},n.prototype._calcValueOptionValue=function(e,n){return null!=e&&e.type==t.ValueOptionType.Percentage?e.value*n:null!=e&&e.type===t.ValueOptionType.Pixel?e.value:0},n.prototype._valueFromDistance=function(t,e,n,i){return t*((i-n)/e)+n},n.prototype._distanceFromValue=function(t,e,n,i){return e/(i-n)*(t-n)},n.prototype._scaleHandlerSize=function(e,n){var i=this._option.scaleHandler;return null!=i?e==t.Orientation.Horizontal?null!=i.height?this._calcValueOptionValue(i.height,n.height):n.height:null!=i.height?this._calcValueOptionValue(i.height,n.width):n.width:0},n.prototype._thumbHandlerSize=function(e){var n=this._option.thumbHandler;return null!=n?null!=n.height?n.height:t._DataScaleConstants._thumbHeight:0},n.prototype._calcHorizontalTrackRectangle=function(e,n){var i=e.width,o=e.height,r=this._ownerView._plotsView._getRectangle(),l=null!=n.width?this._calcValueOptionValue(n.width,i):r.width,a=null!=n.height?this._calcValueOptionValue(n.height,o):t._DataScaleConstants._trackHeight,s=this._thumbHandlerSize(t.Orientation.Horizontal),u=r.left;null!=n.left?u=e.left+this._calcValueOptionValue(n.left,i):null!=n.hAlign&&(u=n.hAlign==t.HAlign.Left?0:n.hAlign==t.HAlign.Center?(i-l)/2:i-l,u=e.left+u);var _=e.bottom-a-s;return null!=n.top?_=e.top+this._calcValueOptionValue(n.top,o):null!=n.vAlign&&(_=n.vAlign==t.VAlign.Top?0:n.vAlign==t.VAlign.Middle?(o-a-s)/2:o-a-s,_=e.top+_),new t.core.Rect(u,_+s,l,a)},n.prototype._calcVerticalTrackRectangle=function(e,n){var i=e.width,o=e.height,r=this._ownerView._plotsView._getRectangle(),l=null!=n.width?this._calcValueOptionValue(n.width,i):t._DataScaleConstants._trackHeight,a=null!=n.height?this._calcValueOptionValue(n.height,o):r.height,s=this._thumbHandlerSize(t.Orientation.Vertical),u=e.right-s-l;null!=n.left?u=e.left+this._calcValueOptionValue(n.left,i):null!=n.hAlign&&(u=n.hAlign==t.HAlign.Left?0:n.hAlign==t.HAlign.Center?(i-l-s)/2:i-l-s,u=e.left+u);var _=r.top;return null!=n.top?_=e.top+this._calcValueOptionValue(n.top,o):null!=n.vAlign&&(_=n.vAlign==t.VAlign.Top?0:n.vAlign==t.VAlign.Middle?(o-a)/2:o-a,_=e.top+_),new t.core.Rect(u,_,l,a)},n.prototype._calcTrackRectangle=function(e,n,i){return e==t.Orientation.Horizontal?this._calcHorizontalTrackRectangle(n,i):this._calcVerticalTrackRectangle(n,i)},n.prototype._calcSelectedRectangle=function(e,n){if(e==t.Orientation.Horizontal){var i=this._distanceFromValue(this.__startValue,n.width,this._minimum,this._maximum),o=this._distanceFromValue(this.__endValue,n.width,this._minimum,this._maximum),r=Math.min(i,o),l=Math.max(i,o);return new t.core.Rect(n.left+r,n.top,l-r,n.height)}i=this._distanceFromValue(this.__startValue,n.height,this._minimum,this._maximum),o=this._distanceFromValue(this.__endValue,n.height,this._minimum,this._maximum);var a=Math.min(i,o),s=Math.max(i,o);return new t.core.Rect(n.left,n.top+a,n.width,s-a)},n.prototype._className=function(){return this._orientation==t.Orientation.Horizontal?"gcdv-scalebar-h":"gcdv-scalebar-v"},n.prototype._layoutInnerContent=function(e,n,i){null==this.__trackRectangle&&(this.__trackRectangle=this._calcTrackRectangle(this._orientation,n,this._option));var o=this.__trackRectangle;if(null==this.__selectedRectangle&&(this.__selectedRectangle=this._calcSelectedRectangle(this._orientation,o)),this.__startValueTextView=this._startValueTextView(),this.__endValueTextView=this._endValueTextView(),this._orientation==t.Orientation.Horizontal){var r=this.__selectedRectangle,l=(f=.2*(d=this._scaleHandlerSize(this._orientation,r)))/2,a=(d-r.height)/2,s=new t.core.Rect(r.left-l,r.top-a,f,d),u=new t.core.Rect(r.right-l,r.top-a,f,d),_=new t.core.Rect(n.left,o.top,s.left-n.left,o.height),p=new t.core.Rect(u.right,o.top,n.right-u.right,o.height);if(this._isAxisViewReversed()){var c=s;s=u,u=c,c=_,_=p,p=c}if(null!=this._startView&&this._startView._layout(e,i,s),null!=this._endView&&this._endView._layout(e,i,u),null!=this._thumbView){var h=this._thumbHandlerSize(this._orientation);this._thumbView._layout(e,i,new t.core.Rect(r.left,r.top-h,r.width,h))}null!=this.__startValueTextView&&(this.__startValueTextView._measure(e,new t.core.Size(_.width,_.height)),this.__startValueTextView._layout(e,i,_)),null!=this.__endValueTextView&&(this.__endValueTextView._measure(e,new t.core.Size(p.width,p.height)),this.__endValueTextView._layout(e,i,p))}else{r=this.__selectedRectangle;var f,d=.2*(f=this._scaleHandlerSize(this._orientation,r));if(l=(f-r.width)/2,a=d/2,s=new t.core.Rect(r.left-l,r.bottom-a,f,d),u=new t.core.Rect(r.left-l,r.top-a,f,d),_=new t.core.Rect(o.left,s.bottom,o.width,n.bottom-s.bottom),p=new t.core.Rect(o.left,n.top,o.width,u.top-n.top),this._isAxisViewReversed()&&(c=s,s=u,u=c,c=_,_=p,p=c),null!=this._startView&&this._startView._layout(e,i,s),null!=this._endView&&this._endView._layout(e,i,u),null!=this._thumbView){var y=this._thumbHandlerSize(this._orientation);this._thumbView._layout(e,i,new t.core.Rect(r.right,r.top,y,r.height))}null!=this.__startValueTextView&&(this.__startValueTextView._measure(e,new t.core.Size(_.width,_.height)),this.__startValueTextView._layout(e,i,_)),null!=this.__endValueTextView&&(this.__endValueTextView._measure(e,new t.core.Size(p.width,p.height)),this.__endValueTextView._layout(e,i,p))}},n.prototype._renderInnerContent=function(e,n,i){if(i._renderLabel)(null!=this._startView&&this._startView._hover||null!=this._endView&&this._endView._hover||null!=this._thumbView&&this._thumbView._hover)&&(null!=this.__startValueTextView&&this.__startValueTextView._render(e,i),null!=this.__endValueTextView&&this.__endValueTextView._render(e,i));else{e.beginTransform(),this._applyStyle(e);var o=this._trackRectangle;e.drawRect(o.left,o.top,o.width,o.height),e.restoreTransform();var r=this.__selectedRectangle;null!=r&&(e.beginTransform(),this._applySelectedStyle(e),e.drawRect(r.left,r.top,r.width,r.height),e.restoreTransform()),null!=this._startView&&this._startView._render(e,i),null!=this._endView&&this._endView._render(e,i),null!=this._thumbView&&this._thumbView._render(e,i);var l=this._selectingRectangle;if(null!=l){e.beginTransform(),this._applySelectingStyle(e);var a=t._DrawingUtility._intersectionOfRectangle(o,l);e.drawRect(a.left,a.top,a.width,a.height),e.restoreTransform()}}},n.prototype._textOverflow=function(){var e=null!=this._option.textAnnotation?this._option.textAnnotation.textStyle:null;return null!=e&&null!=e.overflow?e.overflow:t.TextOverflow.Clip},n.prototype._textAlignment=function(e){var n=null!=this._option.textAnnotation?this._option.textAnnotation.textStyle:null;if(null!=n&&null!=n.alignment)return n.alignment;if(this._orientation==t.Orientation.Horizontal){var i=this._isAxisViewReversed();return e?i?t.HAlign.Left:t.HAlign.Right:i?t.HAlign.Right:t.HAlign.Left}return t.HAlign.Center},n.prototype._textHAlign=function(e){if(this._orientation==t.Orientation.Horizontal){var n=this._isAxisViewReversed();return e?n?t.HAlign.Left:t.HAlign.Right:n?t.HAlign.Right:t.HAlign.Left}return t.HAlign.Center},n.prototype._textVAlign=function(e){if(this._orientation==t.Orientation.Horizontal)return t.VAlign.Middle;var n=this._isAxisViewReversed();return e?n?t.VAlign.Bottom:t.VAlign.Top:n?t.VAlign.Top:t.VAlign.Bottom},n.prototype._textPadding=function(e){var i=new t.options._PaddingOption,o=n.__defaultTextAnnotationPadding,r=this._isAxisViewReversed();return this._orientation==t.Orientation.Horizontal?e&&!r||!e&&r?i.right=o:i.left=o:e&&!r||!e&&r?i.top=o:i.bottom=o,i},n.prototype._startValueTextView=function(){if(null==this._startView)return null;var e=this._startView._tooltipContent();if(null==e)return null;var n=new t._TextView(this,e.text,this._textOverflow(),this._textPadding(!0),this._textHAlign(!0),this._textVAlign(!0),e.style,null,this._textAlignment(!0));return n._zLevel=t._DataScaleConstants._viewZLevel,n},n.prototype._endValueTextView=function(){if(null==this._endView)return null;var e=this._endView._tooltipContent();if(null==e)return null;var n=new t._TextView(this,e.text,this._textOverflow(),this._textPadding(!1),this._textHAlign(!1),this._textVAlign(!1),e.style,null,this._textAlignment(!1));return n._zLevel=t._DataScaleConstants._viewZLevel,n},n.prototype._applyStyle=function(e){t._StyleUtility._applyStyle(e,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.style)},n.prototype._applySelectingStyle=function(e){t._StyleUtility._applyStyle(e,this._defaultSelectingStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.selectedStyle)},n.prototype._applySelectedStyle=function(e){t._StyleUtility._applyStyle(e,this._defaultSelectedStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.selectedStyle)},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.fill=new t._CssColor("#000000"),this.__defaultStyle.fillOpacity=0,this.__defaultStyle.stroke=new t._CssColor("#d2dbee"),this.__defaultStyle.strokeWidth=1),this.__defaultStyle},n.prototype._defaultSelectedStyle=function(){return null==this.__defaultSelectedStyle&&(this.__defaultSelectedStyle=t._StyleUtility._buildStyle(),this.__defaultSelectedStyle.fill=new t._CssColor("#87afff"),this.__defaultSelectedStyle.fillOpacity=.3),this.__defaultSelectedStyle},n.prototype._defaultSelectingStyle=function(){return null==this.__defaultSelectingStyle&&(this.__defaultSelectingStyle=t._StyleUtility._buildStyle(),this.__defaultSelectingStyle.fill=new t._CssColor("#87afff"),this.__defaultSelectingStyle.fillOpacity=.2),this.__defaultSelectingStyle},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(null!=this._startView&&null!=(l=this._startView._hitTest(n,i,o)))return l;if(null!=this._endView&&null!=(l=this._endView._hitTest(n,i,o)))return l;if(null!=this._thumbView&&null!=(l=this._thumbView._hitTest(n,i,o)))return l;var r=this._trackRectangle;if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataScaleBar},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_visibleAmount",{get:function(){return this._endValue-this._startValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_startValue",{get:function(){return this.__startValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_endValue",{get:function(){return this.__endValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_trackRectangle",{get:function(){return this.__trackRectangle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_rangeStart",{get:function(){var e=this.__selectedRectangle;return null==e?0:this._orientation==t.Orientation.Horizontal?this._isAxisViewReversed()?e.right:e.left:this._isAxisViewReversed()?e.top:e.bottom},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_rangeEnd",{get:function(){var e=this.__selectedRectangle;return null==e?0:this._orientation==t.Orientation.Horizontal?this._isAxisViewReversed()?e.left:e.right:this._isAxisViewReversed()?e.bottom:e.top},enumerable:!0,configurable:!0}),n.prototype._setRange=function(e,n){var i=this.__selectedRectangle;if(null!=i){var o=this.__trackRectangle;if(this._orientation==t.Orientation.Horizontal){var r=Math.max(o.left,Math.min(e,n)),l=Math.min(o.right,Math.max(e,n));if(r!=i.left||l!=i.right){i.left=r,i.width=l-r;var a=this.__startValue,s=this.__endValue,u=this._valueFromDistance(r-o.left,o.width,this._minimum,this._maximum),_=this._valueFromDistance(l-o.left,o.width,this._minimum,this._maximum);this._isAxisViewReversed()?(this.__startValue=_,this.__endValue=u):(this.__startValue=u,this.__endValue=_),this._scaleValueChangedCallback&&this._scaleValueChangedCallback(u,_,a,s)}}else r=Math.max(o.top,Math.min(e,n)),l=Math.min(o.bottom,Math.max(e,n)),r==i.top&&l==i.bottom||(i.top=r,i.height=l-r,a=this.__startValue,s=this.__endValue,u=this._valueFromDistance(l-o.top,o.height,this._minimum,this._maximum),_=this._valueFromDistance(r-o.top,o.height,this._minimum,this._maximum),this._isAxisViewReversed()?(this.__startValue=_,this.__endValue=u):(this.__startValue=u,this.__endValue=_),this._scaleValueChangedCallback&&this._scaleValueChangedCallback(u,_,a,s))}},n.prototype.queryInterface=function(t){return"IDataScaleBarView"==t?this:null},n.__defaultTextAnnotationPadding=6,n}(t._RectangleView);t._DataScaleBarView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._minValue=0,t._maxValue=100,t._trackHeight=30,t._thumbHeight=7,t._viewZLevel=1,t._startScope="Start",t._endScope="End",t}();t._DataScaleConstants=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o._option=i,o.__defaultStyle=null,o.__defaultHoverStyle=null,o._zLevel=t._DataScaleConstants._viewZLevel,o}return i(n,e),n.prototype._renderInnerContent=function(e,i,o){e.beginTransform(),this._applyStyle(e);var r=n.__defaultLineLenthPercent;if(this._ownerView._orientation==t.Orientation.Horizontal){var l=i.left+i.width/2,a=i.top+i.height*r,s=i.bottom-i.height*r;e.drawLine(l,i.top,l,a),e.drawLine(l,s,l,i.bottom),e.drawRect(i.left,a,i.width,i.height*(1-2*r))}else{var u=i.top+i.height/2,_=i.left+i.width*r,p=i.right-i.width*r;e.drawLine(i.left,u,_,u),e.drawLine(p,u,i.right,u),e.drawRect(_,i.top,i.width*(1-2*r),i.height)}e.restoreTransform()},n.prototype._applyStyle=function(e){t._StyleUtility._applyStyle(e,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.style),this._hover&&(t._StyleUtility._applyStyle(e,this._defaultHoverStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.hoverStyle))},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.stroke=new t._CssColor("#acb8d1"),this.__defaultStyle.fill=new t._CssColor("#ffffff"),this.__defaultStyle.strokeWidth=1),this.__defaultStyle},n.prototype._defaultHoverStyle=function(){return null==this.__defaultHoverStyle&&(this.__defaultHoverStyle=t._StyleUtility._buildStyle(),this.__defaultHoverStyle.stroke=new t._CssColor("#8fb0f7")),this.__defaultHoverStyle},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},n.prototype._defaultTemplate=function(){return"{value}"},n.prototype._textAnnotationStyle=function(){if(null==this.__textAnnotationStyle){var e=this._ownerView._option.textAnnotation;if(null!=e){var n=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(n,e.textStyle),t._StyleUtility._applyStyleOption(n,e.style),this.__textAnnotationStyle=n}}return this.__textAnnotationStyle},n.prototype._showTooltip=function(e){if(null==e)return!0;var n=e.split(",");return this._ownerView._startView==this?n.indexOf(t._DataScaleConstants._startScope)>=0:n.indexOf(t._DataScaleConstants._endScope)>=0},n.prototype.contains=function(t){return this._getRectangle().contains(t)},n.prototype._tooltipContent=function(){var e=this._ownerView._option.textAnnotation;if(this._showTooltip(null==e?null:e.scope)){var n=null!=e&&null!=e.template?e.template:this._defaultTemplate(),i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=null!=e?e.format:null,l=new t._DataScaleTooltipTextProxy(this,r,null),a=i.evaluate(o,l,null,null);if(null!=a&&a.length>0)return new t.models._TextTooltipContent(a,this._textAnnotationStyle())}return null},Object.defineProperty(n.prototype,"type",{get:function(){return this._ownerView._startView==this?t.ElementType.DataScaleStartScaleHandler:t.ElementType.DataScaleEndScaleHandler},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IDataScaleHandlerView"==t?this:null},n.__defaultLineLenthPercent=.16,n}(t._RectangleView);t._DataScaleHandlerView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){var o=e.call(this,n)||this;return o._option=i,o.__defaultStyle=null,o.__defaultHoverStyle=null,o._zLevel=t._DataScaleConstants._viewZLevel,o}return i(n,e),n.prototype._renderInnerContent=function(e,i,o){e.beginTransform(),e.stroke=new t._CssColor("#ffffff");var r=n.__defaultSpacePercent;if(this._ownerView._orientation==t.Orientation.Horizontal){var l=2*(_=i.height/5),a=i.left+i.width/2,s=i.top+i.height*r,u=i.bottom-i.height*r;e.strokeWidth=_,e.drawLine(a,s,a,u),e.drawLine(a-l,s,a-l,u),e.drawLine(a+l,s,a+l,u)}else{l=2*(_=i.width/5);var _,p=i.top+i.height/2,c=i.left+i.width*r,h=i.right-i.width*r;e.strokeWidth=_,e.drawLine(c,p,h,p),e.drawLine(c,p-l,h,p-l),e.drawLine(c,p+l,h,p+l)}e.restoreTransform()},n.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._StyleUtility._applyStrokeStyle(n,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleBorderOption(n,this._option.style),this._hover&&(t._StyleUtility._applyStrokeStyle(n,this._defaultHoverStyle()),t._DataScaleStyleUtility._applyDataScaleBorderOption(n,this._option.hoverStyle))},n.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._StyleUtility._applyFillStyle(n,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleFillOption(n,this._option.style),this._hover&&(t._StyleUtility._applyFillStyle(n,this._defaultHoverStyle()),t._DataScaleStyleUtility._applyDataScaleFillOption(n,this._option.hoverStyle))},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.fill=new t._CssColor("#d2dbee"),this.__defaultStyle.fillOpacity=.7),this.__defaultStyle},n.prototype._defaultHoverStyle=function(){return null==this.__defaultHoverStyle&&(this.__defaultHoverStyle=t._StyleUtility._buildStyle(),this.__defaultHoverStyle.fill=new t._CssColor("#8fb0f7")),this.__defaultHoverStyle},n.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(n.prototype,"type",{get:function(){return t.ElementType.DataScaleThumbHandler},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._ownerView},enumerable:!0,configurable:!0}),n.prototype.queryInterface=function(t){return"IDataScaleThumbHandlerView"==t?this:null},n.__defaultSpacePercent=.2,n}(t._RectangleView);t._DataScaleThumbHanlderView=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){this.__scaleHandlerView=e,this.__formatOption=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,null)}return e.prototype.getTokenValue=function(e,n,i){if("value"==e){var o=this.__scaleHandlerView,r=o._getOwnerView();return r._startView==o?new t.models._DataValueInfo(r._startValue,this.__stringFormatting):new t.models._DataValueInfo(r._endValue,this.__stringFormatting)}return null},e.prototype._getDefaultFormat=function(t){return null!=this.__formatOption?this.__formatOption.value:null},e.prototype._getDefaultFormatType=function(){return null!=this.__formatOption?this.__formatOption.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t?this:null},e}();t._DataScaleTooltipTextProxy=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="DataScaleViewPlugin",this.type=t._BuildInDataScaleViewBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataScaleBarView=function(e,n){return null!=e&&null!=n?new t._DataScaleBarView(e,n):null},e.prototype.queryInterface=function(t){return"IDataScaleViewBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._DataScaleViewPlugin=n,e.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isDataScaleViewBuilder=function(t){return null!=t._buildDataScaleBarView}}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill!=t&&(this.__fill=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){this.__opacity!=t&&(this.__opacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){this.__strokeOpacity!=t&&(this.__strokeOpacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__fill=null,this.__opacity=null,this.__strokeOpacity=null,this.__stroke=null,this.__strokeWidth=null,this.__strokeDasharray=null},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"fill",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],n.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],n.prototype,"strokeDasharray",null),n}(e._Option),e._DataScaleBarStyleOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"axisName",{get:function(){return this.__axisName},set:function(t){this.__axisName!=t&&(this.__axisName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scaleHandler",{get:function(){return this.__scaleHandler},set:function(t){this.__scaleHandler!=t&&(this.__scaleHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"thumbHandler",{get:function(){return this.__thumbHandler},set:function(t){this.__thumbHandler!=t&&(this.__thumbHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textAnnotation",{get:function(){return this.__textAnnotation},set:function(t){this.__textAnnotation!=t&&(this.__textAnnotation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startValue",{get:function(){return this.__startValue},set:function(t){this.__startValue!=t&&(this.__startValue=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewSize",{get:function(){return this.__viewSize},set:function(t){this.__viewSize!=t&&(this.__viewSize=n.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"enableSelecting",{get:function(){return this.__enableSelecting},set:function(t){this.__enableSelecting!=t&&(this.__enableSelecting=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectingStyle",{get:function(){return this.__selectingStyle},set:function(t){this.__selectingStyle!=t&&(this.__selectingStyle=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__axisName=null,this.__style=null,this.__height=null,this.__width=null,this.__left=null,this.__top=null,this.__hAlign=null,this.__vAlign=null,this.__orientation=null,this.__scaleHandler=new e._ScaleHandlerOption,this.__thumbHandler=new e._ThumbHandlerOption,this.__textAnnotation=new e._TextAnnotationOption,this.__startValue=null,this.__viewSize=null,this.__enableSelecting=!0,this.__selectedStyle=null,this.__selectingStyle=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"axisName",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ScaleHandlerOption")],r.prototype,"scaleHandler",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_ThumbHandlerOption")],r.prototype,"thumbHandler",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextAnnotationOption")],r.prototype,"textAnnotation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1)],r.prototype,"startValue",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1)],r.prototype,"viewSize",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],r.prototype,"enableSelecting",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],r.prototype,"selectingStyle",null),r}(e._Option),e._DataScaleOption=n}(t||(t={})),function(t){var e=function(){function e(){}return e._applyDataScaleOption=function(t,e){this._applyDataScaleFillOption(t,e),this._applyDataScaleBorderOption(t,e)},e._applyDataScaleBorderOption=function(e,n){null!=n&&(null!=n.stroke&&(e.stroke=t._StyleUtility._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(e.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(e.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray))},e._applyDataScaleFillOption=function(e,n){null!=n&&(null!=n.fill&&(e.fill=t._StyleUtility._colorFromOption(n.fill)),null!=n.opacity&&(e.fillOpacity=n.opacity))},e}();t._DataScaleStyleUtility=e}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){this.__enabled!=t&&(this.__enabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__enabled=!0,this.__height=null,this.__style=null,this.__hoverStyle=null},o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],n.prototype,"enabled",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],n.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],n.prototype,"hoverStyle",null),n}(e._Option),e._ScaleHandlerOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__height=null,this.__style=null,this.__hoverStyle=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"height",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],n.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_DataScaleBarStyleOption")],n.prototype,"hoverStyle",null),n}(e._Option),e._ThumbHandlerOption=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="DefaultOrdinalPolicy",this.type=t._BuildInDimensionMergePolicyBuilderCollection._pluginType,this.priority=10}return n.prototype.canMerge=function(t,e){for(var n=!1,i=0,o=e;i<o.length;i++){for(var r=o[i],l=0,a=t;l<a.length&&a[l]._definition().equalsWith(r._definition());l++)n=!0;if(!n)break}return n},n.prototype.merge=function(n,i){for(var o=0,r=i;o<r.length;o++){var l=r[o];null!=l&&n.indexOf(l)<0&&n.push(l)}if(n.length>0&&n.every((function(t){return null!=t.queryInterface("ICategoryDimension")}))){for(var a=null,s=0,u=n;s<u.length;s++){var _=u[s];if(null==a&&(a=new t._CategoryDimension(_._definition())),t._isCategoryDimension(_)){var p=_,c=a._dimensionValueGroups(),h=p._dimensionValueGroups();this._mergeDimensionValueGroups(c,h,null)}}if(null!=a){this._buildCategoryDimensionValuesFromGroups(a);for(var f=0,d=n;f<d.length;f++)for(var y=0,g=(_=d[f])._dimensionValues();y<g.length;y++){for(var m=g[y],v=!1,w=0,b=a._dimensionValues();w<b.length;w++){var S=b[w];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(S.rawValue,m.rawValue)){v=!0,m._updatevalue(S._value());break}}v||((D=a._dimensionValues()).push(m),m._updatevalue(D.length))}n.splice(0,n.length),n.push(a)}}else{a=null;for(var P=0,C=n;P<C.length;P++){_=C[P],null==a&&(a=new e._OrdinalDimension(_._definition()));for(var x=0,V=_._dimensionValues();x<V.length;x++){m=V[x],v=!1;for(var D,A=0,O=a._dimensionValues();A<O.length;A++)if(S=O[A],0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(S.rawValue,m.rawValue)){v=!0,m._updatevalue(S._value());break}v||((D=a._dimensionValues()).push(m),m._updatevalue(D.length))}}n.splice(0,n.length),n.push(a)}return n},n.prototype._mergeDimensionValueGroups=function(e,n,i){for(var o=0,r=n;o<r.length;o++){for(var l=r[o],a=l.key,s=!1,u=0,_=e;u<_.length;u++){var p=_[u];if(this._isSameGroup(l,p)){s=!0,this._mergeDimensionValueGroups(p.children,l.children,p);break}}if(!s){var c=new t._DimensionValueGroup(a,l._dataSlices,i);e.push(c),this._mergeDimensionValueGroups(c.children,l.children,c)}}},n.prototype._isSameGroup=function(e,n){return null!=e.parent&&null!=n.parent?t._DataValueTypeEqualityComparer._comparer._equalsWith(e.key,n.key)&&this._isSameGroup(e.parent,n.parent):null==e.parent&&null==n.parent&&t._DataValueTypeEqualityComparer._comparer._equalsWith(e.key,n.key)},n.prototype._buildCategoryDimensionValuesFromGroups=function(e){var n=this;if(null!=e){var i=e._dimensionValueGroups();t._TreeNodeUtility._traverseDFS(i,(function(i,o){var r;if(0==i.children.length){var l=new t._OrdinalDimensionValue(i.key),a=n._getGroupPath(i);(r=l.path).push.apply(r,a),i._dimensionValues().push(l),e._dimensionValues().push(l),l._updatevalue(e._dimensionValues().length)}}))}},n.prototype._getGroupPath=function(t){var e=[];null!=t.parent&&(e=this._getGroupPath(t.parent));var n=t.key;return e.push(n),e},n.prototype.build=function(t){return t.length>0&&t.every((function(t){return null!=t.queryInterface("IOrdinalDimension")}))?this:null},n.prototype.queryInterface=function(t){return"IDimensionMergePolicy"==t||"IDimensionMergePolicyBuilder"==t||"IPlugin"===t?this:null},n.defaultPlugin=new n,n}(),e._DefaultOrdinalDimensionMergePolicy=n}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(){function t(){this._visualViewOrderComparer=null,this._changeVisualViewOrder=!1}return t._excelHoverBehaviorPolicy=new t,t}(),i=function(){function e(){this.name="ExcelHoverBehaviorPolicy",this.type=t._BuildInHoverBehaviorPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildHoverBehaviorPolicy=function(t){return n._excelHoverBehaviorPolicy},e.prototype.queryInterface=function(t){return"IHoverBehaviorPolicyBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.ExcelHoverBehaviorPolicyPlugin=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(e){function n(){var n=e.call(this)||this;return n.name="ExcelLinearScalePolicy",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return i(n,e),n.prototype.calculateMinMax=function(e,n){null==e&&null==n&&(e=0,n=0);var i=null==e?0:e,o=null==n?0:n,r=o-i;return o>=0&&i>=0?(6*r>o?i=0:i-=.5*r,o+=.05*r):o<=0&&i<=0?(6*r>-i?o=0:o+=.5*r,i-=.05*r):(o+=.05*r,i-=.05*r),new t._DataDomain(i,o)},n.prototype.calculateTicks=function(t,e,n,i){var o=[];if(null!=t&&null!=e&&!isNaN(t)&&!isNaN(e)&&t!=e)for(var r=t;r-e<=i;){o.push(r);var l=r+n;if(l==r)break;r=l}return o},n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Linear?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseLinearAxisScalePolicy),e.ExcelLinearAxisScalePolicyPlugin=n}(t||(t={})),function(t){var e,n,o;e=t.plugins||(t.plugins={}),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._stack=function(e,n,i){var o=e.slice().reverse();t.prototype._stack.call(this,o,n,i)},e}(t._BarPlotLayout),o=function(){function e(){this.name="FunnelReverse",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,i){var o=this;if(null!=i&&i.length>0&&i.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)){var r=e;if(r._isFunnel()&&r._isStack())return new n}return null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.FunnelPlotLayoutPlugin=o}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDataLabelOptionCloneMarker._gcesDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(t){return null},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){if(t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var n=e;if(n._isStack())return new t._GcesBarCartesianClusterDataLabelOverlayView(n,this)}return null},n}(t._BaseDataLabelDefinition);t._GcesBarCartesianClusterDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESClusterLabel",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope==t._Constants.ClusterTextScope&&null!=i){if("Map"==e._getType()||"Candlestick"==e._getType()||"HighLowOpenClose"==e._getType())return null;var o=void 0;if((o=null==i.arguments?new t.options._GCESDataLabelOption(null):new t.options._GCESDataLabelOption(i.arguments.option())).scope==t._Constants.ClusterTextScope)return new t._GcesBarCartesianClusterDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESClusterLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,(function(){return n}),i.connectingLine)||this;return o.option=i,o.__plotView=t,o}return i(n,e),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){null!=t&&t==this.__shape||(this.__shape=t,null==t?this._gcesLabelContent()._setImageShape(null):this._gcesLabelContent()._setImageShape(this.__plotView._getDefinition()._imageProvider.getImageInfo(t)))},enumerable:!0,configurable:!0}),n.prototype._gcesLabelContent=function(){return this._content()},n.prototype._layoutLabel=function(n,i){e.prototype._layoutLabel.call(this,n,i),this.option.connectingLineType===t.ConnectingLineType.Auto&&(this.showConnectingLine=!1)},n}(t.BaseLabelFrame);t._GCESClusterLabelFrame=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__view=t,o.__option=n,o.__shape=i,o}return i(n,e),n.prototype._filter=function(e){return this.__view instanceof t._StackRadialBarCluster},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},n.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},n.prototype._getPointInfo=function(e,n,i,o){var r=e._plotView();if(!e._visible())return null;var l=e._startAngle()+e._sweep()/2,a=(e._radius()+e._innerRadius())/2,s=this._swapped(r),u=t.GCESClusterLabelUtil.xAxisPositionValue(e,n),_=t.GCESClusterLabelUtil.yAxisPositionValue(e,i);0!=u&&(u>0?s?l=e._startAngle()+e._sweep():a=e._radius():s?l=e._startAngle():a=e._innerRadius()),0!=_&&(_>0?s?a=e._radius():l=e._startAngle()+e._sweep():s?a=e._innerRadius():l=e._startAngle()),0==a&&(a=.001);var p=null,c=new t.core.Point(e._center().x+Math.cos(l)*a,e._center().y+Math.sin(l)*a),h=new t.Vector(Math.cos(l),Math.sin(l)),f=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2));if(s){var d=f;f=h,h=d}if(t.GCESClusterLabelUtil.xAxisFarDirection(e)<0&&(h=h.reverse()),t.GCESClusterLabelUtil.yAxisFarDirection(e)<0&&(f=f.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(p=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),h,f)).radialAngle=l;else{var y=new t.Vector(Math.cos(l),Math.sin(l)),g=new t.Vector(Math.cos(l-Math.PI/2),Math.sin(l-Math.PI/2)),m=t.Vector.angle(y,t.Vector.horizon()),v=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&(v+=-Math.PI/2),Math.cos(m+v)<0&&(v+=Math.PI),this.__shape._setAngle(v),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),p=new t._GCESPointAttachmenInfo(c,y,g,h,f)}return p.swapped=s,p.xposition=u,p.yposition=_,p},n}(t._PointAttachmentAgent);t._GCESRadialClusterAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this)||this;return r.__option=i,r.__cluster=n,r.__shape=o,r.__shape._setJunctionLayouter(new t._GCESLabelJunctionLayouter(r.__option,r.__shape)),r}return i(n,e),n.prototype._filter=function(e){return this.__cluster instanceof t._StackBarCluster},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__cluster,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},n.prototype._getPointInfo=function(e,n,i,o){var r=e._plotView(),l=e._rectangle();if(!e._visible())return null;var a=l.center,s=r._swapAxes(),u=t.GCESClusterLabelUtil.xAxisPositionValue(e,n),_=t.GCESClusterLabelUtil.yAxisPositionValue(e,i);0!=u&&(u>0?s?a.y=l.top:a.x=l.right:s?a.y=l.bottom:a.x=l.left),0!=_&&(_>0?s?a.x=l.right:a.y=l.top:s?a.x=l.left:a.y=l.bottom),o!=t.DataLabelAngleType.Horizontal&&t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&this.__shape._setAngle(-Math.PI/2);var p=t.Vector.horizon(),c=t.Vector.vertical();if(s){var h=p;p=c,c=h}t.GCESClusterLabelUtil.xAxisFarDirection(e)<0&&(p=p.reverse()),t.GCESClusterLabelUtil.yAxisFarDirection(e)<0&&(c=c.reverse());var f=new t._GCESPointAttachmenInfo(a,t.Vector.horizon(),t.Vector.vertical(),p,c);return f.swapped=s,f.xposition=u,f.yposition=_,f},n}(t._PointAttachmentAgent);t._GCESRectClusterAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(){}return e.xAxisPositionValue=function(e,n){return t.GCESLabelUtil.xAxisPositionValue(e._top(),n)},e.yAxisPositionValue=function(e,n){if(n==t.DataLabelAxisPlacement.Center)return 0;var i=e._sum()>=0;return e._plotView()._yAxisView()._scaleModel._getReversed()?t.GCESLabelUtil.xor(!i,t.DataLabelAxisPlacement.Far==n)?-1:1:t.GCESLabelUtil.xor(i,t.DataLabelAxisPlacement.Far==n)?-1:1},e.yAxisFarDirection=function(t){var e=t._sum()>=0;return t._plotView()._yAxisView()._scaleModel._getReversed()&&(e=!e),e?1:-1},e.xAxisFarDirection=function(e){return t.GCESLabelUtil.xAxisFarDirection(e._top())},e.extractStackClusterView=function(e){if(e._isStack()&&t._isBarCartesianPlotView(e)){var n=e,i=this._getCluster(n);return null==i?null:n._isRadialBar()?i.map((function(e){return new t._StackRadialBarCluster(n,e)})):i.map((function(e){return new t._StackBarCluster(n,e)}))}return null},e._getCluster=function(e){for(var n=new t._Map,i=[],o=0,r=e._getPointViews();o<r.length;o++){var l=r[o],a=l._data().xDimensionValue._value(),s=n._get(a);null==s&&(s=[],n._set(a,s),i.push(a)),s.push(l)}return i.length>0?i.map((function(t){return n._get(t)})):null},e}();t.GCESClusterLabelUtil=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n){this.__clusterView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._plotView()._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){return null!=this.__clusterView._plotView()._dataPointDataLabelOption().format&&null!=this.__clusterView._plotView()._dataPointDataLabelOption().format.value?this.__clusterView._plotView()._dataPointDataLabelOption().format.value:this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){return null==t?null:"Sum"==t?new e._DataValueInfo(this.__clusterView._sum(),this.__stringFormatting):null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__clusterView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__clusterView?new t._AnyValueBinding(e.substring(8))._getValue(this.__clusterView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._ClusterLabelTextProxy=n}(t||(t={})),function(t){var e=function(){function t(t,e){this.__plotView=t,this.__cluster=e}return t.prototype._visible=function(){return this.__cluster.some((function(t){return t._isVisible()}))},t.prototype._plotView=function(){return this.__plotView},t.prototype._points=function(){return this.__cluster.filter((function(t){return t._isVisible()}))},t.prototype._top=function(){for(var e=this._points(),n=t._getStackChartYValue(e[0]),i=e[0],o=0,r=this._points();o<r.length;o++){var l=r[o],a=t._getStackChartYValue(l);a>=n&&(i=l,n=a)}return i},t.prototype._bottom=function(){for(var e=this._points(),n=t._getStackChartYValue(e[0]),i=e[0],o=0,r=this._points();o<r.length;o++){var l=r[o],a=t._getStackChartYValue(l);a<n&&(i=l,n=a)}return i},t.prototype._sum=function(){for(var e=0,n=0,i=this._points();n<i.length;n++){var o=i[n];e+=t._getStackChartOriginValue(o)}return e},t._getStackChartYValue=function(t){var e=t._data().queryInterface("INumberStackValue");return null!=e?e.value:0},t._getStackChartOriginValue=function(t){var e=t._data().queryInterface("INumberValue");if(null!=e)return e.value;var n=t._data().queryInterface("INumberRangeValue");return null!=n?n.distance:0},t}();t._StackClusterView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype._center=function(){return this._top()._getCenter()},e.prototype._startAngle=function(){return this._plotView()._verticalAxisView()._scaleModel._getReversed()?this._top()._getStartAngle():this._bottom()._getStartAngle()},e.prototype._radius=function(){return this._plotView()._horizontalAxisView()._scaleModel._getReversed()?this._bottom()._getRadius():this._top()._getRadius()},e.prototype._innerRadius=function(){return this._plotView()._horizontalAxisView()._scaleModel._getReversed()?this._top()._getInnerRadius():this._bottom()._getInnerRadius()},e.prototype._sweep=function(){if(this._plotView()._swapAxes())return this._top()._getSweep();for(var t=0,e=0,n=this._points();e<n.length;e++)t+=n[e]._getSweep();return t},e}(t._StackClusterView);t._StackRadialBarCluster=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._rectangle=function(){for(var e=null,n=0,i=this._points();n<i.length;n++){var o=i[n];e=null==e?o._rectangle():t._DrawingUtility._unionOfRectangles(e,o._rectangle())}return e},n}(t._StackClusterView);t._StackBarCluster=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__labelViews=[],i}return i(n,e),n.prototype._gcesClusterLabelOverlayDefinition=function(){return this._definition},n.prototype._labelFrames=function(){return this.__labelViews},n.prototype.createOverlayItemViews=function(){},n.prototype.useData=function(){this.__labelViews=this._createDataLabelViews()},n.prototype._createDataLabelViews=function(){var e=[],n=t.GCESClusterLabelUtil.extractStackClusterView(this._plotView());if(null!=n)for(var i=0,o=n;i<o.length;i++){var r=o[i],l=this._createDataLabelView(r);null!=l&&e.push(l)}return e},n.prototype._createDataLabelView=function(e){var n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._pluginCollection);return this._getDataLabelView(e,n)},n.prototype._getDataLabelView=function(e,n){if(!e._visible())return null;var i=this._gcesClusterLabelOverlayDefinition()._option,o=this._getContentText(e,i,n);if(null==o)return null;var r=this._createShapePrototype(o,i),l=this._createDataLabelFrame(e._plotView(),o,r,i);if(null!=l){var a=new t.AttachmentAgentManager(new t._GCESRadialClusterAttachmentAgent(e,i,r),new t._GCESRectClusterAttachmentAgent(e,i,r));if(null==r||null==a)return null;l._bind(a)}return l},n.prototype._getContentText=function(e,n,i){var o=null==n.template?"{Sum}":n.template,r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t.models._ClusterLabelTextProxy(e,i),s=this._plotView()._getDefinition()._plotConfigOption.plugins,u=this._plotView()._getDefinition()._pluginCollection,_=r.evaluate(l,a,s,u),p=this._toLines(_);return null!=p&&p.length>0?p.join("\n"):null},n.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},n.prototype._createDataLabelFrame=function(e,n,i,o){var r=new t._GCESClusterLabelFrame(e,n,o);r._content(i);var l=t.AnnotationLib._parseCoordinateValue(o.offset);return null!=l&&(r.xOffset=l.x,r.yOffset=l.y),null!=o.shape.content&&(r.shape=o.shape.content),r},n.prototype._createShapePrototype=function(e,n){var i=new t._GCESLabelShape(e);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,null!=n.shape.labelCenter&&i._setShapeLocation(n.shape.labelCenter[0],n.shape.labelCenter[1]),null!=n.shape.shapeScale&&i._setShapeScale(n.shape.shapeScale[0],n.shape.shapeScale[1]),i._position(n.position),i},n.prototype._layoutContent=function(t,e){for(var n=0,i=this.__labelViews;n<i.length;n++)i[n]._layoutLabel(t,e);this._autoPositionLayout(t,this._plotView(),this._labelFrames(),e),this._clippedLayout(t,this._plotView(),this._labelFrames(),e)},n.prototype._drawView=function(e,n){if(n._renderLabel){t._DataLabelOverlapChecker.checkOverlap(n,this.__labelViews,this._plotView()._dataPointDataLabelOption().overlappingLabels);for(var i=0,o=this.__labelViews;i<o.length;i++){var r=o[i];r._getOverlap()||r._render(e,n)}}},n.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this.__labelViews.concat().reverse();i<o.length;i++){var r=o[i];if(null!=r&&!r._getOverlap()){var l=r._hitTest(t,e,n);if(null!=l)return l}}return null},n.prototype.box=function(){for(var e=[],n=0,i=this.__labelViews;n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._DrawingUtility._unionOfRectangles.apply(t._DrawingUtility,e):null},n.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},n.prototype._isCartesianPlot=function(e){if(t._isCartesianPlotView(e)){var n=e;return!t.AnnotationLib._isPlotInRadialCoordinateSystem(n)}return!1},n.prototype._autoPositionLayout=function(e,n,i,o){if(this._isCartesianPlot(n)){var r=o._innerPlotAreaRect;if(null!=r)for(var l=[.5,.5,.5,.5],a=n._swapAxes(),s=0,u=i;s<u.length;s++){var _=u[s];if(_.option.position==t.GCESPosition.Auto){var p=_.box();if(null!=p){var c=!1;a?(r.left-p.left>l[3]||p.right-r.right>l[1])&&(c=!0):(r.top-p.top>l[0]||p.bottom-r.bottom>l[2])&&(c=!0),c&&(_._gcesLabelContent()._position(t.GCESPosition.Inside),_._layoutLabel(e,o),_._gcesLabelContent()._position(t.GCESPosition.Auto))}}}}},n.prototype._clippedLayout=function(t,e,n,i){if(this._isCartesianPlot(e)){var o=e._clipRectangle();if(null!=o)for(var r=0,l=n;r<l.length;r++){var a=l[r],s=a.box();if(null!=s){var u=0,_=0;s.top<o.top?_=o.top-s.top:s.bottom>o.bottom&&(_=o.bottom-s.bottom),s.left<o.left?u=o.left-s.left:s.right>o.right&&(u=o.right-s.right),a.translate(u,_)}}}},n}(t._BaseOverlayView);t._GcesBarCartesianClusterDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDataLabelOptionCloneMarker._gcesDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(t){return null},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return this._option.scope==t._Constants.DataPointTextScope?new t._GCESDataLabelOverlayView(e,this):null},n}(t._BaseDataLabelDefinition);t._GcesCartesianPointDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESDataLabel",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if((t._isCartesianPlotDefinition(e)||t._isHierarchicalPlotDefinition(e))&&n.scope==t._Constants.DataPointTextScope){if("Map"==e._getType()||"Candlestick"==e._getType()||"HighLowOpenClose"==e._getType())return null;var o=void 0;if((o=null==i.arguments?new t.options._GCESDataLabelOption(null):new t.options._GCESDataLabelOption(i.arguments.option())).scope==t._Constants.DataPointTextScope)return new t._GcesCartesianPointDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n.connectingLine)||this;return i.option=n,i}return i(n,e),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){null!=t&&t==this.__shape||(this.__shape=t,null==t?this._gcesLabelContent()._setImageShape(null):this._gcesLabelContent()._setImageShape(this.___pointView._getPlotView()._getDefinition()._imageProvider.getImageInfo(t)))},enumerable:!0,configurable:!0}),n.prototype._gcesLabelContent=function(){return this._content()},n.prototype._layoutLabel=function(n,i){e.prototype._layoutLabel.call(this,n,i),this.option.connectingLineType===t.ConnectingLineType.Auto&&(this.showConnectingLine=!1)},n.prototype._hasConntectLine=function(){if(e.prototype._hasConntectLine.call(this)){var n=this._transformInfo();return!t.GCESLabelUtil.pointContains(this.___pointView,n.connectionPoint)}return!1},n}(t.DatalabelFrame);t._GCESDataLabelFrame=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._createDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(!(t._isCartesianPointView(e)||e instanceof t._SunburstPointView))return null;var i=e.text,o=this._createShapePrototype(n,e,i),r=this._createDataLabelFrame(e,o,i);if(null!=r){var l=new t.AttachmentAgentManager(new t._GCESRadialViewAttachmentAgent(e,i,o),new t._GCESRadialSymbolPointAttachmentAgent(e,i,o),new t._GCESRectViewPointAttachmentAgent(e,i,o));if(null==o||null==l)return null;r._bind(l)}return r},n.prototype._createDataLabelFrame=function(e,n,i){var o=new t._GCESDataLabelFrame(e,i);o._content(n);var r=t.AnnotationLib._parseCoordinateValue(i.offset);return null!=r&&(o.xOffset=r.x,o.yOffset=r.y),null!=i.shape.content&&(o.shape=i.shape.content),o},n.prototype._createShapePrototype=function(e,n,i){var o=new t._GCESLabelShape(e.text);return o.textStyle=i.textStyle,o.backgroundStyle=i.style,null!=i.shape.labelCenter&&o._setShapeLocation(i.shape.labelCenter[0],i.shape.labelCenter[1]),null!=i.shape.shapeScale&&o._setShapeScale(i.shape.shapeScale[0],i.shape.shapeScale[1]),o._position(i.position),o},n.prototype._labelFrames=function(){return this._labelViews()},n.prototype._layoutContent=function(n,i){e.prototype._layoutContent.call(this,n,i),this._autoPositionLayout(n,this._plotView(),this._labelFrames(),i),this._clippedLayout(n,this._plotView(),this._labelFrames(),i),null==this.__smartLayouter&&(this.__smartLayouter=t._GCESSmartLayoutBuilder.build(this._plotView(),this._definition._option)),this.__smartLayouter._init(this._labelFrames(),i)},n.prototype._drawView=function(e,n){var i=this;n._renderLabel&&(this._plotView()._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Smart?this.__smartLayouter._layout((function(){i._draw(e,n)}),n):this._plotView()._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.HideAll||this._plotView()._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Hide?(t._DataLabelOverlapChecker.checkOverlap(n,this._labelViews(),t.OverlappingLabels.HideAll),this._draw(e,n)):this._draw(e,n))},n.prototype._draw=function(t,e){for(var n=0,i=this._labelFrames();n<i.length;n++){var o=i[n];o._getOverlap()||o._render(t,e)}},n.prototype._isCartesianPlot=function(e){if(t._isCartesianPlotView(e)){var n=e;return!t.AnnotationLib._isPlotInRadialCoordinateSystem(n)}return!1},n.prototype._autoPositionLayout=function(e,n,i,o){if(this._isCartesianPlot(n)){var r=o._innerPlotAreaRect;if(null!=r)for(var l=[.5,.5,.5,.5],a=n._swapAxes(),s=0,u=i;s<u.length;s++){var _=u[s];if(_.option.position==t.GCESPosition.Auto){var p=_.box();if(null!=p){var c=!1;a?(r.left-p.left>l[3]||p.right-r.right>l[1])&&(c=!0):(r.top-p.top>l[0]||p.bottom-r.bottom>l[2])&&(c=!0),c&&(_._gcesLabelContent()._position(t.GCESPosition.Inside),_._layoutLabel(e,o),_._gcesLabelContent()._position(t.GCESPosition.Auto))}}}}},n.prototype._clippedLayout=function(t,e,n,i){if(this._isCartesianPlot(e)){var o=e._clipRectangle();if(null!=o)for(var r=0,l=n;r<l.length;r++){var a=l[r],s=a.box();if(null!=s){var u=0,_=0;s.top<o.top?_=o.top-s.top:s.bottom>o.bottom&&(_=o.bottom-s.bottom),s.left<o.left?u=o.left-s.left:s.right>o.right&&(u=o.right-s.right),a.translate(u,_)}}}},n}(t._BaseDataLabelOverlayView);t._GCESDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return i(e,t),e}(t.PointAttachInfo);t._GCESPointAttachmenInfo=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__view=t,o.__option=n,o.__shape=i,o}return i(n,e),n.prototype._view=function(){return this.__view},n.prototype._filter=function(e){var n=this._view();return n instanceof t._RadialBarCartesianPointView||n instanceof t._SunburstPointView},n.prototype.pointAttachmentInfo=function(e){return this.__view instanceof t._RadialBarCartesianPointView?this._getBarRadialPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle):this.__view instanceof t._SunburstPointView?this._getSunburstPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle):null},n.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},n.prototype._getBarRadialPointInfo=function(e,n,i,o){var r=e._getPlotView();if(!e._isVisible())return null;var l=e._getStartAngle()+e._getSweep()/2,a=(e._getRadius()+e._getInnerRadius())/2,s=this._swapped(r),u=t.GCESLabelUtil.xAxisPositionValue(e,n),_=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=u&&(u>0?s?l=e._getStartAngle()+e._getSweep():a=e._getRadius():s?l=e._getStartAngle():a=e._getInnerRadius()),0!=_&&(_>0?s?a=e._getRadius():l=e._getStartAngle()+e._getSweep():s?a=e._getInnerRadius():l=e._getStartAngle()),0==a&&(a=.001);var p=null,c=new t.core.Point(e._getCenter().x+Math.cos(l)*a,e._getCenter().y+Math.sin(l)*a),h=new t.Vector(Math.cos(l),Math.sin(l)),f=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2));if(s){var d=f;f=h,h=d}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(h=h.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(f=f.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(p=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),h,f)).radialAngle=l;else{var y=new t.Vector(Math.cos(l),Math.sin(l)),g=new t.Vector(Math.cos(l-Math.PI/2),Math.sin(l-Math.PI/2)),m=t.Vector.angle(y,t.Vector.horizon()),v=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&(v+=-Math.PI/2),Math.cos(m+v)<0&&(v+=Math.PI),this.__shape._setAngle(v),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),p=new t._GCESPointAttachmenInfo(c,y,g,h,f)}return p.swapped=s,p.xposition=u,p.yposition=_,p},n.prototype._getSunburstPointInfo=function(e,n,i,o){var r=e._getPlotView();if(!e._isVisible())return null;var l=e._getStartAngle()+e._getSweep()/2,a=(e._getRadius()+e._getInnerRadius())/2,s=this._swapped(r),u=t.GCESLabelUtil.xAxisPositionValue(e,n),_=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=u&&(u>0?s?l=e._getStartAngle()+e._getSweep():a=e._getRadius():s?l=e._getStartAngle():a=e._getInnerRadius()),0!=_&&(_>0?s?a=e._getRadius():l=e._getStartAngle()+e._getSweep():s?a=e._getInnerRadius():l=e._getStartAngle()),0==a&&(a=.001);var p=null,c=new t.core.Point(e._getCenter().x+Math.cos(l)*a,e._getCenter().y+Math.sin(l)*a),h=new t.Vector(Math.cos(l),Math.sin(l)),f=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2));if(s){var d=f;f=h,h=d}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(h=h.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(f=f.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(p=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),h,f)).radialAngle=l;else{var y=new t.Vector(Math.cos(l),Math.sin(l)),g=new t.Vector(Math.cos(l-Math.PI/2),Math.sin(l-Math.PI/2)),m=t.Vector.angle(y,t.Vector.horizon()),v=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&(v+=-Math.PI/2),Math.cos(m+v)<0&&(v+=Math.PI),this.__shape._setAngle(v),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),p=new t._GCESPointAttachmenInfo(c,y,g,h,f)}return p.swapped=s,p.xposition=u,p.yposition=_,p},n}(t._PointAttachmentAgent);t._GCESRadialViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this)||this;return r.__view=n,r.__option=i,r.__shape=o,r.__shape._setJunctionLayouter(new t._GCESLabelJunctionLayouter(r.__option,r.__shape)),r}return i(n,e),n.prototype._view=function(){return this.__view},n.prototype._filter=function(t){return!0},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},n.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},n.prototype._getPointInfo=function(e,n,i,o){var r=e._getPlotView(),l=e._boundRectangle();if(null==l)return null;var a=l.center,s=this._swapped(r),u=t.GCESLabelUtil.xAxisPositionValue(e,n),_=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=u&&(u>0?s?a.y=l.top:a.x=l.right:s?a.y=l.bottom:a.x=l.left),0!=_&&(_>0?s?a.x=l.right:a.y=l.top:s?a.x=l.left:a.y=l.bottom),o!=t.DataLabelAngleType.Horizontal&&t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&this.__shape._setAngle(-Math.PI/2);var p=t.Vector.horizon(),c=t.Vector.vertical();if(s){var h=p;p=c,c=h}t.GCESLabelUtil.xAxisFarDirection(e)<0&&(p=p.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(c=c.reverse());var f=new t._GCESPointAttachmenInfo(a,t.Vector.horizon(),t.Vector.vertical(),p,c);return f.swapped=s,f.xposition=u,f.yposition=_,f},n}(t._PointAttachmentAgent);t._GCESRectViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__option=n,o.__shape=i,o}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){var n=this._pointView();return n instanceof t._SymbolCartesianPointView&&t.AnnotationLib._isPlotInRadialCoordinateSystem(n._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView())},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__pointView,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},n.prototype._getAngle=function(e){var n=e._getPlotView(),i=new t.core.Point(n._cx(),n._cy()),o=e._rectangle().center,r=0;if(o.equalsWith(i)){var l=n._verticalAxisView(),a=l._startAngle()+l._sweep/2;r=t.Vector.angle(new t.Vector(Math.cos(a),Math.sin(a)),t.Vector.horizon())}else r=t.Vector.angle(new t.Vector(o.x-i.x,o.y-i.y),t.Vector.horizon());return r},n.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},n.prototype._getPointInfo=function(e,n,i,o){var r=e._getPlotView(),l=e._boundRectangle();if(null==l)return null;var a=this._getAngle(e),s=l,u=this._swapped(r),_=t.GCESLabelUtil.xAxisPositionValue(e,n),p=t.GCESLabelUtil.yAxisPositionValue(e,i),c=s.center;0!=_&&(_>0?u?c.y=s.bottom:c.x=s.right:u?c.y=s.top:c.x=s.left),0!=p&&(p>0?u?c.x=s.right:c.y=s.bottom:u?c.x=s.left:c.y=s.top);var h=new t.Matrix;h.translate(l.center.x-s.center.x,l.center.y-s.center.y),h.rotate(a,s.center),c=t._MatrixUtility._transformPoint(h,c);var f=null,d=new t.Vector(Math.cos(a),Math.sin(a)),y=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2));if(u){var g=y;y=d,d=g}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(d=d.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(y=y.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(f=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),d,y)).radialAngle=a;else{var m=new t.Vector(Math.cos(a),Math.sin(a)),v=new t.Vector(Math.cos(a-Math.PI/2),Math.sin(a-Math.PI/2)),w=t.Vector.angle(m,t.Vector.horizon()),b=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,u)&&(b+=-Math.PI/2),Math.cos(w+b)<0&&(b+=Math.PI),this.__shape._setAngle(b),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),f=new t._GCESPointAttachmenInfo(c,m,v,d,y)}return f.swapped=u,f.xposition=_,f.yposition=p,f},n}(t._PointAttachmentAgent);t._GCESRadialSymbolPointAttachmentAgent=e}(t||(t={})),function(t){!function(t){t[t.Always=0]="Always",t[t.Auto=1]="Auto"}(t.ConnectingLineType||(t.ConnectingLineType={}))}(t||(t={})),function(t){!function(t){t[t.ParallelToY=0]="ParallelToY",t[t.PerpendicularToY=1]="PerpendicularToY",t[t.Horizontal=2]="Horizontal"}(t.DataLabelAngleType||(t.DataLabelAngleType={}))}(t||(t={})),function(t){!function(t){t[t.Near=0]="Near",t[t.Center=1]="Center",t[t.Far=2]="Far"}(t.DataLabelAxisPlacement||(t.DataLabelAxisPlacement={}))}(t||(t={})),function(t){!function(t){t[t.HideAll=0]="HideAll",t[t.ShowAll=1]="ShowAll",t[t.Smart=2]="Smart"}(t.GCESOverlap||(t.GCESOverlap={}))}(t||(t={})),function(t){!function(t){t[t.Outside=0]="Outside",t[t.Inside=1]="Inside",t[t.Auto=2]="Auto"}(t.GCESPosition||(t.GCESPosition={}))}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"connectingLineType",{get:function(){return this.__connectingLineType},set:function(t){this.__connectingLineType!=t&&(this.__connectingLineType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"xPlacement",{get:function(){return this.__xPlacement},set:function(t){this.__xPlacement!=t&&(this.__xPlacement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yPlacement",{get:function(){return this.__yPlacement},set:function(t){this.__yPlacement!=t&&(this.__yPlacement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(null==t&&(t=new e._GCESShapeOption),this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__offset=null,this.__shape=new e._GCESShapeOption(null),this.__yPlacement=t.DataLabelAxisPlacement.Far,this.__xPlacement=t.DataLabelAxisPlacement.Far,this.__position=t.GCESPosition.Outside,this.__angle=t.DataLabelAngleType.PerpendicularToY,this.__connectingLineType=t.ConnectingLineType.Always},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ConnectingLineType,t.ConnectingLineType.Always)],r.prototype,"connectingLineType",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAngleType,t.DataLabelAngleType.PerpendicularToY)],r.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GCESPosition,t.GCESPosition.Outside)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAxisPlacement,t.DataLabelAxisPlacement.Far)],r.prototype,"xPlacement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAxisPlacement,t.DataLabelAxisPlacement.Far)],r.prototype,"yPlacement",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_GCESShapeOption")],r.prototype,"shape",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"offset",null),r}(e._DataLabelOption),e._GCESDataLabelOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.position=e.position,n.shape=null==e.shape?null:t._GCESShapeOptionCloneMarker._gcesShapeOptionCloneMarker._cloneOf(e.shape),n.yPlacement=e.yPlacement,n.xPlacement=e.xPlacement,n.angle=e.angle,n.connectingLineType=e.connectingLineType},e._gcesDataLabelOptionCloneMarker=new e,e}();t._GCESDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"labelCenter",{get:function(){return this.__labelCenter},set:function(t){null!=t&&(this.__labelCenter=t.slice(0,2))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shapeScale",{get:function(){return this.__shapeScale},set:function(t){null!=t&&(this.__shapeScale=t.slice(0,2))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this.__content},set:function(t){this.__content!=t&&(this.__content=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__content=null,this.__shapeScale=null,this.__labelCenter=null},o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],n.prototype,"labelCenter",null),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],n.prototype,"shapeScale",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"content",null),n}(e._Option),e._GCESShapeOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESShapeOption(null);n._setOption(e.option()),n.content=e.content;var i=null;if(null!=e.labelCenter){i=[];for(var o=0,r=e.labelCenter;o<r.length;o++){var l=r[o];i.push(l)}}n.labelCenter=i;var a=null;if(null!=e.shapeScale){a=[];for(var s=0,u=e.shapeScale;s<u.length;s++)l=u[s],a.push(l)}return n.shapeScale=a,n},e._gcesShapeOptionCloneMarker=new e,e}();t._GCESShapeOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.yAxisPositionValue=function(n,i){return i==t.DataLabelAxisPlacement.Center?0:e.xor(e.yAxisFarDirection(n)>0,t.DataLabelAxisPlacement.Far==i)?-1:1},e.xAxisPositionValue=function(n,i){return i==t.DataLabelAxisPlacement.Center?0:e.xor(e.xAxisFarDirection(n)>0,t.DataLabelAxisPlacement.Far==i)?-1:1},e.yAxisFarDirection=function(e){if(t._isCartesianPointView(e)){var n=e,i=n._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView(),o=n._data(),r=null;if(null!=o.queryInterface("INumberRangeValue")){var l=o.queryInterface("INumberStackValue");null!=l&&(r=((null==l.value?0:l.value)+(null==l.previous?0:l.previous))/2)}return i._yAxisDirection(n,r)}return 1},e.xAxisFarDirection=function(e){var n=e._getPlotView();return t._isCartesianPlotView(n)?n._xAxisDirection(e):t._isSunburstPlotView(n)?-1:1},e.xor=function(t,e){return t===!e},e.pointContains=function(t,e){return null!=t._hitTest(e,0,null)},e}();t.GCESLabelUtil=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.xposition,r=n.yposition);var l=this.__shape._box(),a=l.center,s=this.__shape._position()!=t.GCESPosition.Inside;return 0==o?0!=r&&(i?a.x=t.GCESLabelUtil.xor(r>0,s)?l.right:l.left:a.y=t.GCESLabelUtil.xor(r>0,s)?l.top:l.bottom):0==r?i?a.y=t.GCESLabelUtil.xor(o>0,s)?l.top:l.bottom:a.x=t.GCESLabelUtil.xor(o>0,s)?l.right:l.left:i?s?a.y=o>0?l.bottom:l.top:(a.x=r>0?l.right:l.left,a.y=o>0?l.top:l.bottom):s?a.y=r>0?l.bottom:l.top:(a.x=o>0?l.right:l.left,a.y=r>0?l.top:l.bottom),t._MatrixUtility._transformPoint(e,a)},e}();t._GCESLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0,l=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.radialAngle,r=n.xposition,l=n.yposition);var a=this.__shape._box();if(0==r&&0==l)return t._MatrixUtility._transformPoint(e,a.center);var s=i?r:l,u=i?l:r,_=t.Vector.vertical();if(0==s)_=new t.Vector(Math.cos(o),Math.sin(o)),u<0&&(_=_.reverse());else{var p=new t.Vector(Math.cos(o+Math.PI/2),Math.sin(o+Math.PI/2));if(s<0&&(p=p.reverse()),0==u)_=p;else{var c=new t.Vector(Math.cos(o),Math.sin(o));u<0&&(c=c.reverse()),_=new t.Vector(c.x+p.x,c.y+p.y)}}var h=this.__shape._position()!=t.GCESPosition.Inside?_.reverse():_,f=this._availableJunctions(a),d=a.center,y=a.width*a.width+a.height*a.height;h=h.scalar(y);for(var g=new t.core.Point(d.x+h.x,d.y+h.y),m=null,v=0;v<4;++v){var w=(v+1)%4;if(null!=(m=t._ShapeUtil.getSegmentsIntersection(f[v],f[w],g,d)))break}return t._MatrixUtility._transformPoint(e,t._ShapeUtil.nearestPoint(m,f))},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left,e.top),new t.core.Point(e.right,e.top),new t.core.Point(e.right,e.bottom),new t.core.Point(e.left,e.bottom),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2),new t.core.Point(e.left,e.bottom),new t.core.Point(e.left+e.width/2,e.bottom)]},e}();t._GCESRadialHorizontalLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.xposition,r=n.yposition);var l=this.__shape._box(),a=l.center,s=this.__shape._position()!=t.GCESPosition.Inside;return 0==o?0!=r&&(i?a.x=t.GCESLabelUtil.xor(r>0,s)?l.right:l.left:a.y=t.GCESLabelUtil.xor(r>0,s)?l.bottom:l.top):0==r?i?a.y=t.GCESLabelUtil.xor(o>0,s)?l.bottom:l.top:a.x=t.GCESLabelUtil.xor(o>0,s)?l.right:l.left:i?s?a.x=r>0?l.left:l.right:(a.x=r>0?l.right:l.left,a.y=o>0?l.bottom:l.top):s?a.y=r>0?l.top:l.bottom:(a.x=o>0?l.right:l.left,a.y=r>0?l.bottom:l.top),t._MatrixUtility._transformPoint(e,a)},e}();t._GCESRadialLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.__angle=0,i.__shapeLocation=[.5,.5],i.__shapeScale=[1,1],i.__leftTop=[0,0],i.__position=t.GCESPosition.Outside,i}return i(n,e),n.prototype._setImageShape=function(t){this.__image=t},n.prototype._setShapeLocation=function(t,e){this.__shapeLocation=[t,e]},n.prototype._setShapeScale=function(t,e){this.__shapeScale=[t,e]},n.prototype._position=function(t){return null!=t&&(this.__position=t),this.__position},n.prototype._setAngle=function(t){this.__angle=t},n.prototype._setJunctionLayouter=function(t){null!=t&&(this.junctionLayouter=t)},n.prototype._refresh=function(n){e.prototype._refresh.call(this,n),null==this.__matrix?this.__matrix=new t.Matrix:this.__matrix.reset(),this.__matrix.rotate(this.__angle),this._refreshBbox()},n.prototype._box=function(){return this.__bbox.clone()},n.prototype._draw=function(e){var n=this;""!=this._text&&e.drawGroup(null,null,this.__matrix,(function(e){e.beginTransform();var i=n.__leftTop[0],o=n.__leftTop[1];if(null!=n.__image){var r=t._NativeExtension._toNonNullNumber(n.__image.width,0)*n.__shapeScale[0],l=t._NativeExtension._toNonNullNumber(n.__image.height,0)*n.__shapeScale[1];e.drawImage(n.__image,0,0,r,l)}t._StyleUtility._applyAllStyle(e,n._backgroundStyle());var a=t._NativeExtension._toNonNullNumber(e.strokeWidth,0),s=new t.core.Rect(i+a/2,o+a/2,n._size.width-a,n._size.height-a);e.drawRect(s.left,s.top,s.width,s.height),e.restoreTransform(),s=new t.core.Rect(i+a,o+a,n._textSize.width,n._textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,n._textStyle()),e.drawMultiLineString(n._text,s,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}))},n.prototype._contain=function(e){var n=t._MatrixUtility._transformPoint(this.__matrix.invert(),e),i=this._size;return n.x>=this.__leftTop[0]&&n.x<this.__leftTop[0]+i.width&&n.y>=this.__leftTop[1]&&n.y<this.__leftTop[1]+i.height},n.prototype._refreshBbox=function(){var e=this._size.width,n=this._size.height;this.__leftTop[0]=0,this.__leftTop[1]=0,null!=this.__image&&(e=t._NativeExtension._toNonNullNumber(this.__image.width,0)*this.__shapeScale[0],n=t._NativeExtension._toNonNullNumber(this.__image.height,0)*this.__shapeScale[1],this.__leftTop[0]+=e*this.__shapeLocation[0]-this._size.width/2,this.__leftTop[1]+=n*this.__shapeLocation[1]-this._size.height/2);var i=t._MatrixUtility._transformCurve(this.__matrix,[0,e,0,e],[0,0,n,n]),o=Math.min.apply(Math,i.xs),r=Math.min.apply(Math,i.ys),l=Math.max.apply(Math,i.xs)-o,a=Math.max.apply(Math,i.ys)-r;this.__bbox=new t.core.Rect(o,r,l,a)},n}(t._LabelShape);t._GCESLabelShape=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){this.__plotView=t,this.__option=e}return e.prototype._init=function(t,e){this.__labels=t,this.__originPosition=t.map((function(t){return t.position})),this.__layoutRect=e._innerPlotAreaRect},e.prototype._layout=function(e,n){var i=this.__plotView,o=this.__layoutRect;if(null!=this.__lastPlotRect&&this.__lastPlotRect.equalsWith(i._rectangle()))e();else{this.__lastPlotRect=i._rectangle();var r=this.__labels;this._moveAllLabelAwayFromAxis(i,r);var l=this._getSymbolRects(i),a=[],s=n._axisLabels;if(null!=s)for(var u=0,_=s;u<_.length;u++){var p=_[u];a.push(p)}for(var c=this._splitFixedLabels(r,a,l),h=c[0],f=c[1],d=i._swapAxes(),y=r.map((function(t){return t.box()})),g=y.map((function(t){return null!=t?t.clone():null})),m=0,v=h;m<v.length;m++){var w=v[m],b=r[O=w];if(null!=(L=y[O])){var S=b._pointView(),P=t.Vector.vertical();d&&(P=t.Vector.horizon()),t.GCESLabelUtil.yAxisFarDirection(S)<0&&(P=P.reverse());for(var C=!1,x=null,V=null,D=function(){if(A._translate(L,10*P.x,10*P.y),A._outOfboundInDir(L,o,d)){if(A._translate(L,g[O].center.x-L.center.x,g[O].center.y-L.center.y),C)return"break";C=!0,P=P.reverse()}for(var e=!1,n=0,r=f;n<r.length;n++){var s=r[n];if(y[s].intersectsWith(L)){e=!0;break}}if(null!=a&&!e){for(var u=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(L),_=0,p=a;_<p.length;_++)if(p[_].intersectsWith(u)){e=!0;break}if(null!=l&&!e&&!A._isInside(b))for(var c=0,h=l;c<h.length;c++){var m=h[c];if(L.intersectsWith(m)){e=!0;break}}if(e){var v=A._moveLabelAwayFromAxis(i,L);if(null!=v){A._translate(L,v[0],v[1]);var w=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(L);(e=a.some((function(t){return t.intersectsWith(w)})))&&A._translate(L,-v[0],-v[1])}}}if(!e){var S=L.center;if(A._translate(L,g[O].center.x-S.x,g[O].center.y-S.y),C)return V=S,"break";x=S,C=!0,P=P.reverse()}},A=this;"break"!==D(););f.push(O),(null!=x||null!=V)&&((null!=x&&null!=V?t._ShapeUtil.DisPointToPointSquare(x,g[O].center)<=t._ShapeUtil.DisPointToPointSquare(V,g[O].center):null!=x)?this._translate(L,x.x-L.center.x,x.y-L.center.y):this._translate(L,V.x-L.center.x,V.y-L.center.y))}}for(var O=0;O<r.length;++O){var L=y[O],T=g[O];null!=L&&r[O].translate(L.center.x-T.center.x,L.center.y-T.center.y)}this._hideSomeConnectingLine(r),e()}},e.prototype._translate=function(t,e,n){t.left+=e,t.top+=n},e.prototype._outOfboundInDir=function(t,e,n){return n?t.left<e.left||t.right>e.right:t.top<e.top||t.bottom>e.bottom},e.prototype._getSymbolRects=function(e){var n=[];return e._traversePointView((function(e){e._isVisible()&&e instanceof t._SymbolCartesianPointView&&n.push(e._rectangle())})),n},e.prototype._hideSomeConnectingLine=function(e){if(this.__option.connectingLineType===t.ConnectingLineType.Auto)for(var n=0;n<e.length;++n){e[n].showConnectingLine=!1;var i=e[n].position;null==i||i.equalsWith(this.__originPosition[n])||(e[n].showConnectingLine=!0)}},e.prototype._isInside=function(e){return e.option.position===t.GCESPosition.Inside||e.option.xPlacement===t.DataLabelAxisPlacement.Center&&e.option.yPlacement===t.DataLabelAxisPlacement.Center},e.prototype._moveLabelAwayFromAxis=function(e,n){var i=e._horizontalAxisView()._rectangle(),o=e._verticalAxisView()._rectangle(),r=e._rectangle(),l=e._swapAxes();if(null!=n){var a=0,s=0;if(l){var u=e._horizontalAxisView()._getDefinition()._option.position===t.AxisPosition.Far;if(n.intersectsWith(i)){var _=!0;if(u&&this._equalsWith(i.bottom,r.top))_=!0;else if(!u&&this._equalsWith(i.top,r.bottom))_=!1;else{var p=u?i.bottom:i.top;_=n.center.y>p}s=_?i.bottom-n.top:i.top-n.bottom}}else if(u=e._verticalAxisView()._getDefinition()._option.position===t.AxisPosition.Far,n.intersectsWith(o)){var c=!0;u&&this._equalsWith(o.left,r.right)?c=!1:!u&&this._equalsWith(o.right,r.left)?c=!0:(p=u?o.left:o.right,c=n.center.x>=p),a=c?o.right-n.left:o.left-n.right}if(0!=a||0!=s)return[a,s]}return null},e.prototype._moveAllLabelAwayFromAxis=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n],r=o.box(),l=this._moveLabelAwayFromAxis(t,r);null!=l&&o.translate(l[0],l[1])}},e.prototype._equalsWith=function(t,e){return Math.abs(t-e)<.001},e.prototype._splitFixedLabels=function(t,e,n){for(var i=[],o=[],r=0;r<t.length;++r){var l=!1,a=t[r]._rectangleShape();if(null!=a){for(var s=t[r].box(),u=0,_=o;u<_.length;u++)if(t[_[u]]._rectangleShape().intersectsWith(a)){l=!0;break}if(null!=e)for(var p=0,c=e;p<c.length;p++)if(c[p].intersectsWith(a)){l=!0;break}if(!l&&null!=n)for(var h=0,f=n;h<f.length;h++){var d=f[h];if(s.intersectsWith(d)){l=!0;break}}l?i.push(r):o.push(r)}}return[i,o]},e}();t._GCESCartesianSmartLayouter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.build=function(e,n){if(t._isCartesianPlotView(e)){var i=e;if(!t.AnnotationLib._isPlotInRadialCoordinateSystem(i))return new t._GCESCartesianSmartLayouter(i,n)}return new t._GCESLabelSmartLayouter(e,n)},e}();t._GCESSmartLayoutBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.hideSomeLabels=function(n,i){if(!(i.length<20)&&i[0].label.option.position!=t.GCESPosition.Inside)if(t._isBarCartesianPlotView(n)&&e._isDonut(n))for(var o=[],r=0,l=i;r<l.length;r++){var a=(C=l[r]).shape();if(null!=a){for(var s=!1,u=0,_=o;u<_.length;u++)_[u].shape().intersectsWith(a)&&(s=!0);s?C.visible=!1:(o.push(C),C.visible=!0)}}else{for(var p=0,c=0,h=i;c<h.length;c++){var f=(C=h[c]).shape();null!=f&&(p+=(f.size.width+f.size.height)/2)}var d=p/i.length,y=Math.min(n._rectangle().width,n._rectangle().height)/2,g=n._rectangle().center;t._isCartesianPlotView(n)&&t.AnnotationLib._isPlotInRadialCoordinateSystem(n)&&(y=n._xAxisView()._radius);var m=Math.min(2.7*Math.PI*y/d,100);if(t._isCartesianPlotView(n)&&t.AnnotationLib._isPlotInRadialCoordinateSystem(n)||t._isSunburstPlotView(n)){for(var v=m,w=[],b=t._Utility._PI2/v,S=0,P=i;S<P.length;S++){var C,x=(C=P[S]).lineStart();if(null!=x){C.visible=!0;var V=t.Vector.angle(t.Vector.pointSub(g,x),t.Vector.horizon()),D=Math.floor(V/b);if(D<w.length&&null==w[D])w[D]=[];else if(D>=w.length)for(var A=w.length;A<=D;A++)w.push(new Array);w[D].push(C)}}var O=0;for(A=0;A<w.length;++A){var L=w[A];if(null!=L&&L.length>1){var T=1;O>0&&(T+=Math.ceil(.8*O),O=0);for(var M=T;M<L.length;M++)L[M].visible=!1}else null==L&&O++}}}},e._isDonut=function(e){return!(!t.AnnotationLib._isPlotInRadialCoordinateSystem(e)||(e._swapAxes()?!e._isStack()||1!=e._xAxisView()._dimensions().length:e._isStack()&&1==e._xAxisView()._dimensions().length))},e}();t._GCESSmartPreLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__pointShapes=[],this.__count=0,this.__isRunning=!1,this.__isAfterLoop=!1,this.__plotView=t,this.__option=e,this.__debounceTime=200}return e.prototype._init=function(e,n){this.__labels=e.map((function(e){return new t.SmartLabelPack(e)})),this.__originPosition=this.__labels.map((function(t){return t.position()})),this.__layoutRect=n._innerPlotAreaRect,this.__pointShapes=this._getAllPointShape(this.__plotView),this.__count=0,this.__lastPlotRect=null,this.__taskStart=null,this.__isAfterLoop=!1},e.prototype._layout=function(e,n){var i=this.__plotView;if(!(null!=this.__lastPlotRect&&this.__lastPlotRect.equalsWith(i._rectangle())||(null==this.__taskStart&&(this.__taskStart=Date.now()),this.__lastPlotRect=i._rectangle(),this.__isRunning))){this.__isRunning=!0;var o=i._getLayoutView()._getPlotAreaView()._getDvView(),r=t._DvViewUtility._control(o),l=t._SmartTimer._timer(o);null==l||null==r?this._loop():l.requestAnimationFrame(this,r)}var a=!1;this.__isAfterLoop&&(this.__isAfterLoop=!1,a=!0);for(var s=this.__layoutRect,u=0,_=this.__labels;u<_.length;u++)if((v=_[u]).hidden=!1,v.visible){var p=v.shape();if(null!=p){var c=!1,h=v.box();if(h.left<s.left||h.right>s.right||h.top<s.top||h.bottom>s.bottom)c=!0;else if(a){var f=n._axisLabels;if(null!=f)for(var d=0,y=f;d<y.length;d++)if(y[d].intersectsWith(p)){c=!0;break}}v.hidden=c}}else v.hidden=!0;for(var g=0,m=this.__labels;g<m.length;g++){var v;(v=m[g]).update()}e()},e.prototype._afterLoop=function(){this.__isAfterLoop=!0},e.prototype._disableProgressiveRender=function(){return!1},e.prototype._loop=function(){var e=this;if(this.__isRunning){var n=this.__plotView,i=n._getLayoutView()._getPlotAreaView()._getDvView(),o=t._DvViewUtility._control(i),r=t._SmartTimer._timer(i);if(null!=r&&null!=o){var l=Date.now();if(l-(null==this.__taskStart?0:this.__taskStart)<this.__debounceTime)return this.__taskStart=l,void r.setTimeOut(this.__debounceTime-(l-this.__taskStart)+1,(function(){e._loop()}))}var a=this.__labels,s=this.__originPosition,u=this.__pointShapes,_=Math.min(15*a.length,70);0==this.__count&&t._GCESSmartPreLayouter.hideSomeLabels(n,this.__labels);var p=4;for((this._disableProgressiveRender()||null==r||null==o)&&(p=_+1);p>0;){for(var c=0;c<a.length;++c)if(0!=a[c].visible&&!this._isInside(a[c])&&null!=(j=a[c].shape())){j=new t._RectangleShape(j.center.x,j.center.y,j.size.width-1,j.size.height-1,j.angle);for(var h=0,f=u;h<f.length;h++){var d=f[h],y=new t.Vector(0,0);if(d instanceof t._BaseShape)if(d instanceof t._RectangleShape){if(d.intersectsWith(j)&&(G=t._ShapeUtil.DisPointToPoint(j.center,d.center))>0){var g=t._ShapeUtil.DisPointToPoint(j.center,j.leftBottom)+t._ShapeUtil.DisPointToPoint(d.center,d.leftBottom)-G,m=t.Vector.pointSub(d.center,j.center).standard(.1*g);y.x+=m.x,y.y+=m.y}}else if(d instanceof t._DonutShape&&null!=d.center)for(var v=0,w=this._getRectSamplePoints(j);v<w.length;v++){var b=w[v];if(d.contains(b)){var S=t.Vector.angle(t.Vector.pointSub(d.center,b),t.Vector.horizon()),P=(d.radius+d.innerRadius)/2,C=new t.core.Point(d.center.x+Math.cos(S)*P,d.center.y+Math.sin(S)*P);if((G=t._ShapeUtil.DisPointToPoint(b,C))>0){g=d.radius-d.innerRadius-G,m=t.Vector.pointSub(C,j.center).standard(.1*g),y.x+=m.x,y.y+=m.y;break}}}else if(d instanceof t._PolygonShape)for(var x=0,V=this._getRectSamplePoints(j);x<V.length;x++)if(b=V[x],d.contains(b)){var D=d.points,A=t._Util.CenterOfPolygon(D.map((function(t){return t.x})),D.map((function(t){return t.y})));if((G=t._ShapeUtil.DisPointToPoint(b,A))>0){g=Math.max(10-G,1),m=t.Vector.pointSub(A,j.center).standard(.1*g),y.x+=m.x,y.y+=m.y;break}}null!=y&&(a[c].velocity.x+=y.x,a[c].velocity.y+=y.y)}}var O=this.__layoutRect;for(c=0;c<a.length;++c)if(0!=a[c].visible){var L=a[c].box();null!=L&&(y=new t.Vector(0,0),L.left-3<O.left?(m=t.Vector.horizon().scalar(.05*(O.left-L.left+3)),y.x+=m.x,y.y+=m.y):L.right+3>O.right&&(m=new t.Vector(-1,0).scalar(.05*(L.right-O.right+3)),y.x+=m.x,y.y+=m.y),L.top-3<O.top?(m=new t.Vector(0,1).scalar(.05*(O.top-L.top+3)),y.x+=m.x,y.y+=m.y):L.bottom+3>O.bottom&&(m=new t.Vector(0,-1).scalar(.05*(L.bottom-O.bottom+3)),y.x+=m.x,y.y+=m.y),a[c].velocity.x+=y.x,a[c].velocity.y+=y.y)}if(null!=this.__option.connectingLine)for(c=0;c<a.length;++c)if(0!=a[c].visible&&null!=(j=a[c].shape()))for(var T=j.center,M=this._getRectSamplePoints(j),I=0;I<a.length;++I)if(c!=I&&0!=a[I].visible){var E=a[I].lineStart(),B=a[I].position();if(null!=E&&null!=B&&!E.equalsWith(B)){for(var R=t.Vector.pointSub(E,T),k=t.Vector.pointSub(E,B),F=15,N=0,U=M;N<U.length;N++){b=U[N];var z=t._ShapeUtil.DisPointToSegement(b,E,B);F=Math.min(F,z)}F<15&&(m=t.Vector.getPerp(k,!(k.cross(R)>0)).standard(.075*(15-F)),a[c].velocity.x+=m.x,a[c].velocity.y+=m.y)}}for(c=0;c<a.length;++c){var j;if(0!=a[c].visible&&null!=(j=a[c].shape()))for(I=c+1;I<a.length;++I)if(0!=a[I].visible){var G,W=a[I].shape();null!=W&&j.intersectsWith(W)&&(G=t._ShapeUtil.DisPointToPoint(j.center,W.center))>0&&(g=t._ShapeUtil.DisPointToPoint(j.center,j.leftBottom)+t._ShapeUtil.DisPointToPoint(W.center,W.leftBottom)-G,y=t.Vector.pointSub(j.center,W.center).standard(.05*g),a[c].velocity.x-=y.x,a[c].velocity.y-=y.y,a[I].velocity.x+=y.x,a[I].velocity.y+=y.y)}}for(c=0;c<a.length;++c)if(0!=a[c].visible&&null!=(b=a[c].position())){var q=a[c].lineStart(),H=s[c];q.equalsWith(b)||q.equalsWith(H)||(R=t.Vector.pointSub(q,b).standard(),k=t.Vector.pointSub(q,H).standard(),R.dot(k)<.8&&(y=t.Vector.pointSubByVector(R,k).standard(.15*(1-R.dot(k))),a[c].velocity.x+=y.x,a[c].velocity.y+=y.y))}for(var J=!0,X=0,Y=a;X<Y.length;X++){var Z=Y[X];if(0!=Z.visible){var K=Math.min(1.2*Z.velocity.x,15),Q=Math.min(1.2*Z.velocity.y,15);Z.translate(K,Q),Z.velocity=Z.velocity.scalar(.0075),J=J&&this._isStatic(Z)}}if(this._hideSomeConnectingLine(this.__labels),J||this.__count>_){this.__isRunning=!1,this._afterLoop();break}this.__count++,p--}null!=r&&null!=o&&r.requestAnimationFrame(this,o)}},e.prototype._hideSomeConnectingLine=function(e){if(this.__option.connectingLineType===t.ConnectingLineType.Auto)for(var n=0;n<e.length;++n){e[n].label.showConnectingLine=!1;var i=e[n].position();null==i||i.equalsWith(this.__originPosition[n])||(e[n].label.showConnectingLine=!0)}},e.prototype._isStatic=function(t){return t.velocity.moudule()<.001},e.prototype._isInside=function(e){return e.label.option.position===t.GCESPosition.Inside||e.label.option.xPlacement===t.DataLabelAxisPlacement.Center&&e.label.option.yPlacement===t.DataLabelAxisPlacement.Center},e.prototype._getRectSamplePoints=function(e){var n=e.leftTop,i=e.rightTop,o=e.rightBottom,r=e.leftBottom;return[n,new t.core.Point((n.x+i.x)/2,(n.y+i.y)/2),i,new t.core.Point((i.x+o.x)/2,(i.y+o.y)/2),o,new t.core.Point((o.x+r.x)/2,(o.y+r.y)/2),r,new t.core.Point((n.x+r.x)/2,(n.y+r.y)/2)]},e.prototype._getAllPointShape=function(t){var e=[];return t._traversePointView((function(t){if(t._isVisible()){var n=t._shape();null!=n&&e.push(n)}})),e},e}();t._GCESLabelSmartLayouter=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.visible=!0,this.label=t,this.init()}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.label._getOverlap()},set:function(t){this.label._setOverlap(t)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this.label._rectangleShape();this.__shape=null!=e?e.clone():null,this.__box=this.label.box(),this.__d=[0,0],this.velocity=new t.Vector(0,0)},e.prototype.box=function(){return this.__box},e.prototype.shape=function(){return this.__shape},e.prototype.position=function(){return null!=this.__box?this.__box.center:null},e.prototype.lineStart=function(){return this.label._lineStart()},e.prototype.translate=function(t,e){this.__d[0]+=t,this.__d[1]+=e,null!=this.__box&&(this.__box.left+=t,this.__box.top+=e),null!=this.__shape&&this.__shape._translate(t,e)},e.prototype.update=function(){0==this.__d[0]&&0==this.__d[1]||this.label.translate(this.__d[0],this.__d[1]),this.init()},e}();t.SmartLabelPack=e}(t||(t={})),function(t){var e=function(){function e(){}return e._timer=function(e){return null==e.queryInterface("IControlAsOwnerModel")?null:t._RequestAnimationFrame},e}();t._SmartTimer=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e){this.__delay=t,this.__start=Date.now(),this.__callback=e}return t.prototype._loop=function(){Date.now()-this.__start>=this.__delay?this.__callback():n.requestAnimationFrame(this)},t}(),n=function(){function t(){}return t.requestAnimationFrame=function(e,n){void 0===n&&(n=null);var i=t.__frameCallbacks,o=t.__controls;0==i.length&&window.requestAnimationFrame(t.frameCallBack),i.push(e),null!=n&&-1==o.indexOf(n)&&o.push(n)},t.frameCallBack=function(e){var n=t.__frameCallbacks,i=t.__controls;t.__controls=[],t.__frameCallbacks=[];for(var o=0,r=n;o<r.length;o++){var l=r[o];if(null==l)break;l._loop()}for(var a=0,s=i;a<s.length;a++){var u=s[a];u&&u.invalidate()}i.length=0,n.length=0},t.setTimeOut=function(n,i){n>=0&&null!=i&&t.requestAnimationFrame(new e(n,i))},t.__frameCallbacks=[],t.__controls=[],t}();t._RequestAnimationFrame=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESDonutFlippingLabels",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&!e._plotConfigOption.swapAxes&&this._isRadial(e)){var o=void 0;if((o=null==i.arguments?new t.options._GCESDonutFlippingDataLabelOption(null):new t.options._GCESDonutFlippingDataLabelOption(i.arguments.option())).scope==t._Constants.DataPointTextScope)return new t._GcesDonutFlippingDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESDonutFlippingDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,n,i,o,r)||this;return a.xDirIsInside=l,a}return i(e,t),e}(t.PointAttachInfo);t._GCESDonutFlippingPointAttachInfo=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__placement=n,o.__position=i,o}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){var n=this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();return t.AnnotationLib._isPlotInRadialCoordinateSystem(n)&&!n._swapAxes()},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView(),this.__placement,this.__position)},n.prototype._getPointInfo=function(e,n,i){var o,r,l=new t.core.Point(0,0),a=e._getCartesianSeriesView()._getCartesianGroupView(),s=e._getSweep(),u=n===t.Placement.Top;n!=t.Placement.Auto&&n!=t.Placement.Left&&n!=t.Placement.Right||(u=e._isPositive());var _=a._verticalAxisView(),p=!1;!_._scaleModel._getReversed()===u?(s=e._getStartAngle()+e._getSweep(),p=!1):(s=e._getStartAngle(),p=!0);var c=new t.core.Point(Math.cos(s)*e._getInnerRadius(),Math.sin(s)*e._getInnerRadius()),h=new t.core.Point(Math.cos(s)*e._getRadius(),Math.sin(s)*e._getRadius());l=new t.core.Point(_._cx+(c.x+h.x)/2,_._cy+(c.y+h.y)/2);var f=Math.sin(s);r=new t.Vector(Math.cos(s),Math.sin(s)),o=new t.Vector(Math.cos(s+Math.PI/2),Math.sin(s+Math.PI/2)),f>0&&(r=r.reverse(),o=o.reverse(),p=!p),i!=t.AnnotationPosition.Inside&&(p=!p);var d=t.AnnotationLib._getXYDirection(a,s);return new t._GCESDonutFlippingPointAttachInfo(l,o,r,d.xDir,d.yDir,p)},n}(t._PointAttachmentAgent);t._GCESDonutFlippingPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDonutFlippingDataLabelOptionCloneMarker._gCESDonutFlippingDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(e instanceof t._RadialBarCartesianPointView&&!e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i),l=new t.AttachmentAgentManager(new t._GCESDonutFlippingPointAttachmentAgent(e,i.placement,i.position));if(null==r||null==l)return null;o._content(r),o._bind(l)}return o}return null},n.prototype._createDataLabelFrame=function(e,n){var i=new t.DatalabelFrame(e,n.connectingLine);i.rotate=n.angle,i.relativeRotate=n.relativeAngle;var o=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=o&&(i.xOffset=o.x,i.yOffset=o.y),i},n.prototype._createShapePrototype=function(e,n){if(n.shape==t.DataLabelShapeType.Bubble){var i=new t._BubbleLabel(e.text);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=new t._GCESDonutFlippingBubbleJunctionLayouter(n,i),i}var o=new t._LabelShape(e.text);return o.junctionLayouter=new t._GCESDonutFlippingJunctionLayouter(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return new t._GcesDonutFlippingDataLabelOverlayView(e,this)},n}(t._BaseDataLabelDefinition);t._GcesDonutFlippingDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeAngle",{get:function(){return this.__relativeAngle},set:function(t){this.__relativeAngle!=t&&(this.__relativeAngle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__offset=null,this.__placement=t.Placement.Auto,this.__shape=null,this.__relativeAngle=null,this.__angle=null,this.__position=t.AnnotationPosition.Outside},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],n.prototype,"position",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"relativeAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],n.prototype,"shape",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],n.prototype,"placement",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"offset",null),n}(e._DataLabelOption),e._GCESDonutFlippingDataLabelOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESDonutFlippingDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.placement=e.placement,n.shape=e.shape,n.angle=e.angle,n.relativeAngle=e.relativeAngle,n.position=e.position},e._gCESDonutFlippingDataLabelOptionCloneMarker=new e,e}();t._GCESDonutFlippingDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();if(n instanceof t._GCESDonutFlippingPointAttachInfo){var o=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return n.xDirIsInside?this._farthestPoint(o,n.xDir.reverse()).point():this._farthestPoint(o,n.xDir).point()}return this.__shape._setPointerType(t.BubblePointerType.Left),t._MatrixUtility._transformPoint(e,i.center)},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],s=n.dot(new t.Vector(a.x,a.y));s>i&&(r=l,i=s,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r+2),o},e}();t._GCESDonutFlippingBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();if(n instanceof t._GCESDonutFlippingPointAttachInfo){var o=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return n.xDirIsInside?t.Vector.farthestPoint(o,n.xDir.reverse()).point():t.Vector.farthestPoint(o,n.xDir).point()}return t._MatrixUtility._transformPoint(e,i.center)},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2)]},e}();t._GCESDonutFlippingJunctionLayouter=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseDataLabelOverlayView);t._GcesDonutFlippingDataLabelOverlayView=e}(t||(t={})),function(t){var e,n,o;e=t.plugins||(t.plugins={}),n=function(){function e(){}return e.prototype._splitWords=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++)if(e.indexOf(t[o])>=0){for(var r=-1,l=o+1;l<t.length;l++)if(-1==e.indexOf(t[l])){r=l;break}if(-1==r)break;var a=r;n.push(t.substring(i,a)),i=a,o=a}return i<t.length&&n.push(t.substring(i,t.length)),n},e.prototype._measureString=function(e,n){var i=e.measureString(n);return e.textWritingMode==t.TextWritingMode.Vertical?i.height:i.width},e.prototype._ellipsisString=function(t,n,i){var o=n.replace(/\s+$/g,"");if(this._measureString(t,o)>i)for(var r=e.__defaultEllipsisText,l=r.length;l<=o.length;l++){var a=o.substr(0,o.length-l)+r;if(this._measureString(t,a)<=i)return a}return o},e.prototype.buildWrappedStrings=function(n,i,o,r){if(null==n||o<=0||i.length<=0)return new t._StringWrapResult([i],!0);var l=[],a=this._measureString(n,i)/i.length,s=Math.floor(o/a);r=null!=r?r:e.__defaultSeparators;for(var u=this._splitWords(i,r),_=0,p=0,c=0;c<u.length;c++)if((_+=u[c].length)>=s&&this._measureString(n,u.slice(p,c+1).join(""))>o){for(var h=p,f=e.__defaultEllipsisText,d=c-1;d>=p;d--){var y=u.slice(p,d+1).join("")+u[d+1][0]+f;if(Math.ceil(this._measureString(n,y))<=o){h=d+1;break}}var g=u.slice(p,h+1).join("");l.push(this._ellipsisString(n,g,o)),c=h,p=h+1,_=0}return p<u.length&&(g=u.slice(p,u.length).join(""),l.push(this._ellipsisString(n,g,o))),new t._StringWrapResult(l,!0)},e.prototype.queryInterface=function(t){return"IStringWrapPolicy"===t?this:null},e.__defaultEllipsisText="...",e.__defaultSeparators=[" "],e}(),o=function(e){function o(i){var o=e.call(this,null!=i?i:new n)||this;return o.name="GCESMeasureMultiLineString",o.type=t._BuildInRenderApiBuilderCollection._pluginType,o.priority=10,o}return i(o,e),o.prototype.buildRenderApi=function(t,e){return t==this.api&&null!=e&&e.type==this.type&&e.name==this.name?this:null},o.prototype.queryInterface=function(t){return"IRenderApiBuilder"===t||"IPlugin"===t?this:null},o.defaultPlugin=new o,o}(t._MeasureMultiLineStringRenderApi),e.GCESMeasureMultiLineStringRenderApiPlugin=o}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesReferenceLineLabelTextStylePolicyPlugin",this.type=t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();t._StyleUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._plotConfigOption.textStyle);var o=n._getStyle().stroke;return o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color),t._StyleUtility._applyTextStyleOption(i,e),i},e.prototype._buildReferenceLineLabelTextStylePolicy=function(){return this},e.prototype.queryInterface=function(t){return"IReferenceLineLabelTextStylePolicy"==t||"IReferenceLineLabelTextStylePolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesReferenceLineLabelTextStylePolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESSwappedBarAlignment",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&e._plotConfigOption.swapAxes){var o=void 0;if((o=null==i.arguments?new t.options._GCESSwappedBarAlignmentDataLabelOverlayOption(null):new t.options._GCESSwappedBarAlignmentDataLabelOverlayOption(i.arguments.option())).scope==t._Constants.DataPointTextScope)return new t._GcesSwappedBarAlignmentDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESSwappedBarAlignmentDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__hAlign=n,o.__vAlign=i,o}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){var n=this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();return!t.AnnotationLib._isPlotInRadialCoordinateSystem(n)&&n._swapAxes()},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView(),this.__hAlign,this.__vAlign)},n.prototype._getPointInfo=function(e,n,i){var o=e._rectangle(),r=new t.core.Point(0,0);return n===t.SwapBarHAlign.Auto&&(n=e._isPositive()===!e._getCartesianSeriesView()._getCartesianGroupView()._yAxisView()._scaleModel._getReversed()?t.SwapBarHAlign.Right:t.SwapBarHAlign.Left),n==t.SwapBarHAlign.Center?r.x=o.center.x:n==t.SwapBarHAlign.Left?r.x=o.left:r.x=o.right,i===t.VAlign.Middle?r.y=o.center.y:i===t.VAlign.Bottom?r.y=o.bottom:r.y=o.top,new t.PointAttachInfo(r,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical().reverse())},n}(t._PointAttachmentAgent);t._GCESSwappedBarAlignmentPointAttachmentAgent=e}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(t.SwapBarHAlign||(t.SwapBarHAlign={}))}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESSwappedBarAlignmentDataLabelOptionCloneMarker._gCESSwappedBarAlignmentDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(e instanceof t._XyBarCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i),l=new t.AttachmentAgentManager(new t._GCESSwappedBarAlignmentPointAttachmentAgent(e,i.hAlign,i.vAlign));if(null==r||null==l)return null;o._content(r),o._bind(l)}return o}return null},n.prototype._createDataLabelFrame=function(e,n){var i=new t.DatalabelFrame(e,n.connectingLine);i.rotate=n.angle;var o=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=o&&(i.xOffset=o.x,i.yOffset=o.y),i},n.prototype._createShapePrototype=function(e,n){if(n.shape==t.DataLabelShapeType.Bubble){var i=new t._BubbleLabel(e.text);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=new t._GCESSwappedBarAlignmentBubbleJunctionLayouter(n,i),i}var o=new t._LabelShape(e.text);return o.junctionLayouter=new t._GCESSwappedBarAlignmentJunctionLayouter(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return new t._GcesSwappedBarAlignmentOverlayView(e,this)},n}(t._BaseDataLabelDefinition);t._GcesSwappedBarAlignmentDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__offset=null,this.__angle=null,this.__hAlign=t.SwapBarHAlign.Auto,this.__vAlign=t.VAlign.Top,this.__shape=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],n.prototype,"shape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Top)],n.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SwapBarHAlign,t.SwapBarHAlign.Auto)],n.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"offset",null),n}(e._DataLabelOption),e._GCESSwappedBarAlignmentDataLabelOverlayOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESSwappedBarAlignmentDataLabelOverlayOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.hAlign=e.hAlign,n.vAlign=e.vAlign,n.angle=e.angle,n.shape=e.shape},e._gCESSwappedBarAlignmentDataLabelOptionCloneMarker=new e,e}();t._GCESSwappedBarAlignmentDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.vAlign;if(o===t.VAlign.Middle)return this.__shape._setPointerType(t.BubblePointerType.Bottom),t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.VAlign.Bottom?this._farthestPoint(r,n.yDir).point():this._farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left+e.width/2,e.bottom+n),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],s=n.dot(new t.Vector(a.x,a.y));s>i&&(r=l,i=s,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r),o},e}();t._GCESSwappedBarAlignmentBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.vAlign;return o===t.VAlign.Middle?t._MatrixUtility._transformPoint(e,i.center):o===t.VAlign.Bottom?t._MatrixUtility._transformPoint(e,new t.core.Point(i.left+i.width/2,i.top)):t._MatrixUtility._transformPoint(e,new t.core.Point(i.left+i.width/2,i.bottom))},e}();t._GCESSwappedBarAlignmentJunctionLayouter=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseDataLabelOverlayView);t._GcesSwappedBarAlignmentOverlayView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESSwappedBarFloatingLabels",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&e._plotConfigOption.swapAxes&&!this._isRadial(e)){var o=void 0;if((o=null==i.arguments?new t.options._GCESSwappedBarFloatingDataLabelOption(null):new t.options._GCESSwappedBarFloatingDataLabelOption(i.arguments.option())).scope==t._Constants.DataPointTextScope)return new t._GcesSwappedBarFloatingDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESSwappedBarFloatingDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(t){return this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()},n.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView())},n.prototype._getPointInfo=function(e){var n=new t.core.Point(0,0);n.y=e._rectangle().center.y,e._getCartesianSeriesView()._getCartesianGroupView()._yAxisView()._scaleModel._getReversed()?n.x=e._rectangle().left:n.x=e._rectangle().right;var i=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView());return new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),i.xDir,i.yDir)},n}(t._PointAttachmentAgent);t._GCESSwappedBarFloatingPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESSwappedBarFloatingDataLabelOptionCloneMarker._gCESSwappedBarFloatingDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(null!=e&&e instanceof t._XyBarCartesianPointView||e instanceof t._FunnelCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i);if(t._isCartesianPointView(e)){var l=new t.AttachmentAgentManager(new t._GCESSwappedBarFloatingPointAttachmentAgent(e));if(null==r||null==l)return null;o._content(r),o._bind(l)}}return o}return null},n.prototype._createDataLabelFrame=function(e,n){return new t.DatalabelFrame(e,n.connectingLine)},n.prototype._createShapePrototype=function(e,n){var i=new t._LabelShape(e.text);return i.junctionLayouter=new t._GCESSwappedBarFloatingJunctionLayouter(n,i),i.textStyle=n.textStyle,i.backgroundStyle=n.style,i},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return new t._SwappedBarFloatingAxialDataLabelOverlayView(e,this)},n}(t._BaseDataLabelDefinition);t._GcesSwappedBarFloatingDataLabelDefinition=e}(t||(t={})),t||(t={}),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"minPaddingInside",{get:function(){return this.__minPaddingInside},set:function(t){t!=this.__minPaddingInside&&(this.__minPaddingInside=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingOutside",{get:function(){return this.__paddingOutside},set:function(t){t!=this.__paddingOutside&&(this.__paddingOutside=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__minPaddingInside=0,this.__paddingOutside=0},o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"minPaddingInside",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],n.prototype,"paddingOutside",null),n}(e._DataLabelOption),e._GCESSwappedBarFloatingDataLabelOption=n}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESSwappedBarFloatingDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.minPaddingInside=e.minPaddingInside,n.paddingOutside=e.paddingOutside},e._gCESSwappedBarFloatingDataLabelOptionCloneMarker=new e,e}();t._GCESSwappedBarFloatingDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();return t._MatrixUtility._transformPoint(e,new t.core.Point(i.left,i.top+i.height/2))},e}();t._GCESSwappedBarFloatingJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._xRangePadding=function(){return null},n.prototype._yRangePadding=function(){return this.__yRangePadding},n.prototype._createDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(null!=e&&e instanceof t._XyBarCartesianPointView||e instanceof t._FunnelCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i);if(t._isCartesianPointView(e)){var l=new t.AttachmentAgentManager(new t._GCESSwappedBarFloatingPointAttachmentAgent(e));if(null==r||null==l)return null;o._content(r),o._bind(l)}}return o}return null},n.prototype._createDataLabelFrame=function(e,n){return new t.DatalabelFrame(e,n.connectingLine)},n.prototype._createShapePrototype=function(e,n){var i=new t._LabelShape(e.text);return i.junctionLayouter=new t._GCESSwappedBarFloatingJunctionLayouter(n,i),i.textStyle=n.textStyle,i.backgroundStyle=n.style,i},n.prototype._labelFrames=function(){return this._labelViews()},n.prototype._preparePadding=function(t){var e=this._definition._option,n=0;0!=e.paddingOutside&&(n=e.paddingOutside);var i=0;0!=e.minPaddingInside&&(i=e.minPaddingInside);for(var o=0,r=0,l=this._labelFrames();r<l.length;r++){var a=l[r];a._refreshSize(t),o=Math.max(a.width,o)}this.__yRangePadding=[0,i+n+o]},n.prototype._layoutContent=function(t,n){e.prototype._layoutContent.call(this,t,n),this._layoutByGroups()},n.prototype._layoutByGroups=function(){var t=0,e=this._definition._option;if(0!=e.paddingOutside&&(t=e.paddingOutside),this._plotView()._yAxisView()._scaleModel._getReversed())for(var n=this._plotView()._rectangle(),i=0,o=this._labelFrames();i<o.length;i++)null!=(c=(s=o[i])._transformInfo())&&(c.connectionPoint.x=n.left+t);else{for(var r=0,l=0,a=this._labelFrames();l<a.length;l++){var s=a[l];r=Math.max(s.width,r)}for(var u=this._plotView()._getLayoutView()._rectangle(),_=0,p=this._labelFrames();_<p.length;_++){var c;null!=(c=(s=p[_])._transformInfo())&&(c.connectionPoint.x=u.right-t-r)}}},n.prototype.queryInterface=function(t){return"IAxialPaddingConsumer"===t?this:e.prototype.queryInterface.call(this,t)},n}(t._BaseDataLabelOverlayView);t._SwappedBarFloatingAxialDataLabelOverlayView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesTrendlineExpressionTextStylePolicyPlugin",this.type=t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();i.fontFamily="MathJax_Main",i.textFill="#000000",i.fontStyle=t.FontStyle.Italic,i.fontSize="14px";var o=n._getStyle().stroke;return o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color),t._StyleUtility._applyTextStyleOption(i,e),i},e.prototype._buildTrendlineExpressionTextStylePolicy=function(){return this},e.prototype.queryInterface=function(t){return"ITrendlineExpressionTextStylePolicy"==t||"ITrendlineExpressionTextStylePolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesTrendlineExpressionTextStylePolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="KrewRadarReferenceLineLabelLayoutPlugin",this.type=t._BuildInReferenceLineLabelLayoutInjectorCollection._pluginType,this.priority=10}return e.prototype.inject=function(e,n){var i=this;if(null!=n&&n.length>0&&n.filter((function(t){return t.type===i.type&&t.name===i.name})).length>0&&e instanceof t._CartesianRadialReferenceLineOverlayItemView){var o=new t.models._KrewRadarReferenceLineLabelLayout(e);e._injectLabelLayouter(o)}},e.prototype.queryInterface=function(t){return"IReferenceLineLabelLayoutInjector"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.KrewRadarReferenceLineLabelLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return n.prototype.layout=function(n,i){var o=null;o=t.options._isKrewRadarReferenceLineLabelOffsetOption(this.__option)?this.__option:new t.options._KrewRadarReferenceLineLabelOffsetOption(this.__option.option()),new e._CircleReferencelineLabelLayouter(this.__referenceLine).layout(n,i);var r=this.__option.position;if(r==t.OverlayLabelPosition.TopCenter||r==t.OverlayLabelPosition.BottomCenter){var l=this.__referenceLine._labelView(),a=l._getRectangle(),s=l._getTextLocation(),u=this._parseOffset(o.offset),_=0,p=0;null!=u&&(_=u[0],p=u[1]);var c=a.size,h=_+.5*c.width,f=-p;s.x+=h,s.y+=f,l._setTextLocation(s),l._layout(n,i,new t.core.Rect(a.left+h,a.top+f,c.width,c.height))}},n.prototype._parseOffset=function(t){try{if(null!=t){var e=t.split(",");if(2==e.length){var n=parseFloat(e[0]);if(!isNaN(n)){var i=parseFloat(e[1]);if(!isNaN(i))return[n,i]}}}}catch(t){throw new Error("Wrong format of offset.")}return null},n}(),e._KrewRadarReferenceLineLabelLayout=n}(t||(t={})),function(t){!function(t){t._isKrewRadarReferenceLineLabelOffsetOption=function(t){return null!=t&&void 0!==t.offset}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){t!=this.__offset&&(this.__offset=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__offset=null},o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"offset",null),n}(e._Option),e._KrewRadarReferenceLineLabelOffsetOption=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LegendDataPoint",this.type=t._BuildInLegendDataPointsPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataPointsPolicy=function(e){return t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e)?this:null},e.prototype._getPointViews=function(e,n){for(var i=[],o=0,r=n._findRelatedPlotViews(e);o<r.length;o++){var l=r[o];if(t._isHierarchicalPlotView(l)){var a=l._getRootPointView();if(null!=a)for(var s=0,u=a._children;s<u.length;s++){var _=u[s];i.push(_)}}else i.push.apply(i,l._getPointViews())}return i},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t||"IPlugin"==t?this:null},e}(),e.CompatibleLegendDataPointsPolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LegendFilter",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._LegendFilterInteraction(e,n)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e.legendFilterInteractionBuilder=new e,e}(),e.LegendFilterInteractionBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e){this._control=t,this.__option=e}return e.prototype.onClick=function(e,n){if(null==n)return 0;var i=t._ViewModelUtility._legendItemView(n);if(null==i)return 0;var o=this._getLegendType(i);if(o==t.LegendType.BackgroundColor||o==t.LegendType.Overlay)return 0;var r=!i._data._filtered;if(i._data._filtered=r,r){var l=this._getPluginArgumentsOption(this.__option);null!=l&&(i._setFilteredOutLabelStyleByOption(l.filteredOutLabelStyle),i._filteredOutSymbolStyle=this._buildFilteredOutSymbolStyle(l.filteredOutSymbolStyle))}for(var a=[],s=0,u=i.relatedModels();s<u.length;s++)if((d=u[s]).type==t.ElementType.DataPoint){var _=t._PlotViewModelUtility._toPointView(d);if(null!=_){_._data()._legendFiltered=r;var p=d.parent;a.indexOf(p)<0&&a.push(p)}}else d.type==t.ElementType.Series&&null!=(f=t._PlotViewModelUtility._toSeriesView(d))&&(f._getSeriesDataModel()._legendFiltered=r);for(var c=0,h=a;c<h.length;c++){var f,d=h[c];if(null!=(f=t._PlotViewModelUtility._toSeriesView(d))){var y=f._getPointViews().every((function(t){return t._data()._legendFiltered}));f._getSeriesDataModel()._legendFiltered=y}}return 3},e.prototype._getLegendType=function(t){return t._data._legend._getDefinition()._legendType},e.prototype._getPluginArgumentsOption=function(e){if(null!=e){var n=e.arguments;if(null!=n)return t.options._isLegendFilterInteractionPluginArgumentsOption(n)?n:new t.options._LegendFilterInteractionPluginArgumentsOption(n.option())}return null},e.prototype._buildFilteredOutSymbolStyle=function(e){if(null==e)return null;var n=t._StyleUtility._buildStyle();return null!=e.opacity&&(n.fillOpacity=e.opacity,n.strokeOpacity=e.opacity),n},e}(),e._LegendFilterInteraction=n}(t||(t={})),function(t){!function(t){t._isLegendFilterInteractionPluginArgumentsOption=function(t){var e=t;return void 0!==e.filteredOutLabelStyle&&void 0!==e.filteredOutSymbolStyle}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"filteredOutLabelStyle",{get:function(){return this.__filteredOutLabelStyle},set:function(t){this.__filteredOutLabelStyle!=t&&(this.__filteredOutLabelStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteredOutSymbolStyle",{get:function(){return this.__filteredOutSymbolStyle},set:function(t){this.__filteredOutSymbolStyle!=t&&(this.__filteredOutSymbolStyle=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__filteredOutLabelStyle=null,this.__filteredOutSymbolStyle=null},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_TextStyleOption")],n.prototype,"filteredOutLabelStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_LegendItemSymbolStyleOption")],n.prototype,"filteredOutSymbolStyle",null),n}(e._Option),e._LegendFilterInteractionPluginArgumentsOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__opacity=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),n}(e._Option),e._LegendItemSymbolStyleOption=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LightnessLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){return n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Lightness)&&"Lightness"==n._visualType()&&n instanceof t._LightnessLegendDataModel?new t._LightnessLegendView(e,n):null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.LightnessLegendViewPlugin=n}(t||(t={})),function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.__width=0,i.__height=0,i.__rect=new t.core.Rect(0,0,0,0),i}return i(n,e),n.prototype._lightnessLegendView=function(){return this._legendView()},n.prototype._measure=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._getTextStyle());var i=e.measureSingleLineString("A").height;e.restoreTransform();var o=this._orientation();return this.__width=1.2*i,this.__height=5*i,null==o||o==t.Orientation.Vertical?new t._RectangleViewMetricsResult(new t.core.Size(this.__width,this.__height)):new t._RectangleViewMetricsResult(new t.core.Size(this.__height,this.__width))},n.prototype._getTextStyle=function(){var e=t._StyleUtility._buildStyle();return t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),e},n.prototype._layoutInnerContent=function(e,n,i){var o=n.center,r=this._orientation();null==r||r==t.Orientation.Vertical?this.__rect=new t.core.Rect(o.x-this.__width/2,o.y-this.__height/2,this.__width,this.__height):this.__rect=new t.core.Rect(o.x-this.__height/2,o.y-this.__width/2,this.__height,this.__width)},n.prototype._renderInnerContent=function(e,n,i){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._getColor();o.stroke=r,o.fill=this._calculateLinearGradientColor(r),t._StyleUtility._applyStyle(e,o),e.drawRect(this.__rect.left,this.__rect.top,this.__rect.width,this.__rect.height),e.restoreTransform()},n.prototype._getColor=function(){if(null!=this._lightnessLegendView()._iconColor()){var e=this._lightnessLegendView()._iconColor();if(null!=e)return e}return t._CssColor._defaultStyleColor()},n.prototype._colorDegree=function(){return this._orientation()===t.Orientation.Horizontal?90:360},n.prototype._calculateLinearGradientColor=function(e){var n=this._lightnessLegendView()._data();if(t.models._isCssColor(e)){var i=e,o=t._NativeColorBuilder._colorBuilder._build(i.color),r=t._NativeColorUtility._toHsla(o),l=n._minLightness,a=n._maxLightness,s=new t._HslaNativeColor(r._hue,r._saturation,l,r._alpha),u=new t._HslaNativeColor(r._hue,r._saturation,a,r._alpha),_=[new t._ColorStop(t._NativeColorUtility._toRgbaFromHsla(s)._toCss(),0),new t._ColorStop(t._NativeColorUtility._toRgbaFromHsla(u)._toCss(),1)];e=new t._LinearGradientColor(this._colorDegree(),_)}return e},n}(t._LegendContentView);t._LightnessLegendContentView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n._option,n._kind())||this;return i.__data=n,i}return i(n,e),n.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toString(this._option.title,!0):null;return null==e?this._data()._labelBuilder._build():e},n.prototype._data=function(){return this.__data},n.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._StyleUtility._colorFromOption(e):null},n.prototype._createContentView=function(){return new t._LightnessLegendContentView(this)},n.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},n}(t._LegendView);t._LightnessLegendView=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){return!t.AnnotationLib._isPlotInRadialCoordinateSystem(this._pointView()._getPlotView())},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.placement,e.position):null},n.prototype._getPointInfo=function(e,n,i){var o=e._rectangle();e._isVisible()||(o=new t.core.Rect(o.center.x,o.center.y,0,0));var r=t.AnnotationLib._PointAutoDirectionBuilder(e),l=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),a=null,s=null,u=[new t.core.Point(o.left+o.width/2,o.top),new t.core.Point(o.left+o.width/2,o.bottom),new t.core.Point(o.left,o.top+o.height/2),new t.core.Point(o.right,o.top+o.height/2)],_=o.center;if(i!==t.AnnotationPosition.Center){switch(n){case t.Placement.Auto:a=null!=r.xDir?r.xDir:l.xDir,s=null!=r.yDir?r.yDir:l.yDir;break;case t.Placement.Top:s=t.Vector.vertical(),a=t.Vector.horizon();break;case t.Placement.Left:s=new t.Vector(-1,0),a=t.Vector.vertical();break;case t.Placement.Right:s=t.Vector.horizon(),a=new t.Vector(0,1);break;case t.Placement.Bottom:s=new t.Vector(0,1),a=new t.Vector(-1,0)}_=t.Vector.farthestPoint(u,s).point()}else a=null!=r.xDir?r.xDir:l.xDir,s=null!=r.yDir?r.yDir:l.yDir;return new t.PointAttachInfo(_,a,s,l.xDir,l.yDir)},n}(t._PointAttachmentAgent);t._CartesianRectangleViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function t(t){this.__option=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this.__option.position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.__option.placement},enumerable:!0,configurable:!0}),t.prototype.queryInterface=function(t){return"IAnnotationPosition"===t?this:null},t}();t._DataLabelAttachmentAgentProxy=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){var n=this._pointView()._getPlotView();return t.AnnotationLib._isPlotInRadialCoordinateSystem(n)&&!n._swapAxes()},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.placement,e.position):null},n.prototype._getPointInfo=function(e,n,i){if(i==t.AnnotationPosition.Center){var o=void 0,r=void 0,l=e._getStartAngle()+e._getSweep()/2,a=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView();a._scaleModel._getReversed()?(o=new t.Vector(Math.cos(l),Math.sin(l)),r=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)).reverse()):(o=new t.Vector(Math.cos(l),Math.sin(l)).reverse(),r=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)));var s=e._getInnerRadius()+(e._getRadius()-e._getInnerRadius())/2,u=new t.core.Point(a._cx+Math.cos(l)*s,a._cy+Math.sin(l)*s),_=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),l);return new t.PointAttachInfo(u,o,r,_.xDir,_.yDir)}return this._getPointAttachmentInfoby(e,n)},n.prototype._getPointAttachmentInfoby=function(e,n){var i,o,r,l;if(n==t.Placement.Auto||n==t.Placement.Top||n==t.Placement.Bottom){var a=n===t.Placement.Top;n==t.Placement.Auto&&(a=e._isPositive());var s=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView();!s._scaleModel._getReversed()===a?(l=e._getStartAngle()+e._getSweep(),i=new t.Vector(Math.cos(l),Math.sin(l)).reverse(),o=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2))):(l=e._getStartAngle(),i=new t.Vector(Math.cos(l),Math.sin(l)),o=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)).reverse());var u=new t.core.Point(Math.cos(l)*e._getInnerRadius(),Math.sin(l)*e._getInnerRadius()),_=new t.core.Point(Math.cos(l)*e._getRadius(),Math.sin(l)*e._getRadius());r=new t.core.Point(s._cx+(u.x+_.x)/2,s._cy+(u.y+_.y)/2)}else{l=e._getStartAngle()+e._getSweep()/2;var p=n===t.Placement.Right,c=void 0,h=e._getCartesianSeriesView()._getCartesianGroupView()._horizontalAxisView();!h._scaleModel._getReversed()===p?(c=e._getInnerRadius(),i=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)).reverse(),o=new t.Vector(Math.cos(l),Math.sin(l)).reverse()):(c=e._getRadius(),i=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)),o=new t.Vector(Math.cos(l),Math.sin(l))),r=new t.core.Point(h._cx+Math.cos(l)*c,h._cy+Math.sin(l)*c)}var f=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),l);return new t.PointAttachInfo(r,i,o,f.xDir,f.yDir)},n}(t._PointAttachmentAgent);t._DonutPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__pointView=t,n}return i(n,e),n.prototype._pointView=function(){return this.__pointView},n.prototype._filter=function(e){var n=this._pointView()._getPlotView();return t.AnnotationLib._isPlotInRadialCoordinateSystem(n)&&n._swapAxes()},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.position):null},n.prototype._getPointInfo=function(e,n){var i,o=e._getStartAngle()+e._getSweep()/2;i=n==t.AnnotationPosition.Center?e._getInnerRadius()+(e._getRadius()-e._getInnerRadius())/2:n==t.AnnotationPosition.Inside?e._getInnerRadius():e._getRadius();var r=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView(),l=new t.core.Point(r._cx+Math.cos(o)*i,r._cy+Math.sin(o)*i),a=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),o);return new t.PointAttachInfo(l,a.xDir,a.yDir,a.xDir,a.yDir)},n}(t._PointAttachmentAgent);t._PiePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.__view=t,n}return i(n,e),n.prototype._view=function(){return this.__view},n.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._view(),e.position):null},n.prototype._getPointInfo=function(e,n){var i,o=e._getStartAngle()+e._getSweep()/2;i=n==t.AnnotationPosition.Center?e._getInnerRadius()+(e._getRadius()-e._getInnerRadius())/2:n==t.AnnotationPosition.Inside?e._getInnerRadius():e._getRadius();var r=new t.core.Point(e._getCenter().x+Math.cos(o)*i,e._getCenter().y+Math.sin(o)*i),l=new t.Vector(Math.cos(o),Math.sin(o)),a=new t.Vector(Math.cos(o+Math.PI/2),Math.sin(o+Math.PI/2));return new t.PointAttachInfo(r,a,l,a,l)},n}(t._PointAttachmentAgent);t._SunburstPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(){}return e._getBuilder=function(e,n){return new t._MultiFunctionalDataLabelFrameBuilder(e,n)},e}();t._DeafultDataLabelFrameBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){var i=null;return e instanceof t._SymbolCartesianPointView?i=new t.AttachmentAgentManager(new t._CartesianRadialSymbolPointViewPointAttachmentAgent(e),new t._CartesianRectangleViewPointAttachmentAgent(e)):e instanceof t._RadialBarCartesianPointView?i=new t.AttachmentAgentManager(new t._DonutPointAttachmentAgent(e),new t._PiePointAttachmentAgent(e)):t._isCartesianPointView(e)?i=new t.AttachmentAgentManager(new t._CartesianRectangleViewPointAttachmentAgent(e)):e instanceof t._SunburstPointView&&(i=new t.AttachmentAgentManager(new t._SunburstPointAttachmentAgent(e))),null!=i?new t.ProxyAttachmentAgentManager(i,new t._DataLabelAttachmentAgentProxy(n)):null},e}();t._MultiFunctionalDataLabelAttachmentAgentBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__point=t,this.__option=e}return e.prototype._build=function(){var e=this.__option,n=new t.DatalabelFrame(this.__point,this.__option.connectingLine);n.rotate=e.angle,n.relativeRotate=e.relativeAngle;var i=t.AnnotationLib._parseCoordinateValue(this.__option.offset);return null!=i&&(n.xOffset=i.x,n.yOffset=i.y),n},e}();t._MultiFunctionalDataLabelFrameBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){return n instanceof t._LabelShape?new t._MultiFunctionalJunctionLayouter(e,n):n instanceof t._BubbleLabel?new t._MultiFunctionalBubbleJunctionLayouter(e,n):null},e}();t._MultiFunctionalJunctionLayouterBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){var i;if(n.shape==t.DataLabelShapeType.Bubble)return(i=new t._BubbleLabel(e.text)).textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=t._MultiFunctionalJunctionLayouterBuilder._build(n,i),i;if(n.shape==t.DataLabelShapeType.Balloon)return(i=new t._BalloonLabel(e.text)).textStyle=n.textStyle,i.backgroundStyle=n.style,i;var o=new t._LabelShape(e.text);return o.junctionLayouter=t._MultiFunctionalJunctionLayouterBuilder._build(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},e}();t._MultiFunctionalLabelShapeBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.position;if(o===t.AnnotationPosition.Center)return this.__shape._setPointerType(t.BubblePointerType.Bottom),t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.AnnotationPosition.Inside?this._farthestPoint(r,n.yDir).point():this._farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left+e.width/2,e.bottom+n),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],s=n.dot(new t.Vector(a.x,a.y));s>i&&(r=l,i=s,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r),o},e}();t._MultiFunctionalBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.position;if(o===t.AnnotationPosition.Center)return t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.AnnotationPosition.Inside?t.Vector.farthestPoint(r,n.yDir).point():t.Vector.farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2),new t.core.Point(e.left+e.width/2,e.bottom)]},e}();t._MultiFunctionalJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function n(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return i(n,e),Object.defineProperty(n.prototype,"dataLabelCloneMarker",{get:function(){return t.options._MultiFunctionalDataLabelOptionCloneMarker._multiFunctionalDataLabelOptionCloneMarker},enumerable:!0,configurable:!0}),n.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;var i=e.text,o=t._DeafultDataLabelFrameBuilder._getBuilder(e,i)._build();if(null!=o){var r=t._MultiFunctionalLabelShapeBuilder._build(n,i),l=t._MultiFunctionalDataLabelAttachmentAgentBuilder._build(e,i);if(null==r||null==l)return null;o._content(r),o._bind(l)}return o},n.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},n.prototype._buildOverlayView=function(e){return new t._MultiFunctionalDataLabelOverlayView(e,this)},n}(t._BaseDataLabelDefinition);t._MultiFunctionalDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="MultiFunctional",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i){var o=void 0;if((o=null==i.arguments?new t.options._MultiFunctionalDataLabelOverlayOption(null):new t.options._MultiFunctionalDataLabelOverlayOption(i.arguments.option())).scope==t._Constants.DataPointTextScope)return new t._MultiFunctionalDataLabelDefinition(e,o)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.MultiFunctionalDataLabelPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._MultiFunctionalDataLabelOverlayOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.position=e.position,n.placement=e.placement,n.angle=e.angle,n.relativeAngle=e.relativeAngle,n.shape=e.shape},e._multiFunctionalDataLabelOptionCloneMarker=new e,e}();t._MultiFunctionalDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeAngle",{get:function(){return this.__relativeAngle},set:function(t){this.__relativeAngle!=t&&(this.__relativeAngle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__offset=null,this.__angle=null,this.__relativeAngle=null,this.__placement=t.Placement.Auto,this.__position=t.AnnotationPosition.Outside,this.__shape=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],n.prototype,"shape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"relativeAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],n.prototype,"placement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],n.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],n.prototype,"offset",null),n}(e._DataLabelOption),e._MultiFunctionalDataLabelOverlayOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(t._BaseDataLabelOverlayView);t._MultiFunctionalDataLabelOverlayView=e}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(){function e(t){this.__value=t}return e.prototype._convertDataValue=function(e,n,i,o){var r=e;return null==r&&(r=this.__value),null!=o?(null==n&&(t._AnyTypeUtility._isNumber(r)?n=o.defaultFormat(t.core.DataType.Number,!1):t._AnyTypeUtility._isDate(r)&&(n=o.defaultFormat(t.core.DataType.Date,!1))),o.format(n,r,i)):null!=r?r.toString():""},e.prototype._convertValueInfo=function(e,n,i,o){var r=e;return null==r&&(r=new t.models._DataValueInfo(this.__value,o)),r._toString(n,i)},e}(),i=function(){function e(){this.name="NullValueTextInfoPolicyPlugin",this.type=t._BuildInTextInfoConverterBuilderCollection._pluginType,this.priority=10}return e.prototype._build=function(e){if(null!=e){var i=e.arguments;if(null==i)return new n(null);if(t.options._isNullValueTextInfoPolicyPluginArgumentsOption(i))return new n((o=i).value);var o=new t.options._NullValueTextInfoPolicyPluginArgumentsOption(i.option());return new n(o.value)}return null},e.prototype.queryInterface=function(t){return"ITextInfoConverterBuilder"==t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.NullValueTextInfoPolicyPlugin=i}(t||(t={})),function(t){!function(t){t._isNullValueTextInfoPolicyPluginArgumentsOption=function(t){return null!=t&&void 0!==t.value}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__value=null},o([t.JsonConverterAttribute(t._DataValueTypeConverter,!0)],n.prototype,"value",null),n}(e._Option),e._NullValueTextInfoPolicyPluginArgumentsOption=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="OverlayDetailKey",this.type=t._BuildInOverlayDetailKeyPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDetailKeyPolicy=function(){return this},e.prototype._containsDetailKey=function(e,n){if(null==e)return!0;if(null==n)return!1;for(var i=0,o=e;i<o.length;i++){var r=o[i];if(n._keyEquals(r))return!0;var l=n._key();if(null==r&&"null"==l)return!0;if(null!=l&&t._Util.sameValue(r,l+""))return!0}return!1},e.prototype.queryInterface=function(t){return"IOverlayDetailKeyPolicyBuilder"==t||"IOverlayDetailKeyPolicy"==t||"IPlugin"==t?this:null},e}(),e.CompatibleOverlayDetailKeyPlugin=n}(t||(t={})),function(t){var e,n,o;e=t.plugins||(t.plugins={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._stack=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,s=l[r]._filterPoints();a<s.length;a++){var u=s[a],_=u.xDimensionValue._value(),p=o._get(_),c=u._value(),h=u.queryInterface("INumberValue");null!=h&&(c=h.value);var f=u.queryInterface("INumberRangeValue");if(null!=f&&(null==p&&(p=0),c=(null==f.upper?0:f.upper)-(null===f.lower?0:f.lower)),u._setDimValue(i,p),null==o._get(_))o._set(_,Math.abs(c));else{var d=o._get(_);o._set(_,(null==d?0:d)+Math.abs(c))}u._setDimValue(n,o._get(_))}},n}(t._BarPlotLayout),o=function(){function e(){this.name="ExcelPie",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,i){var o=this;return null!=i&&i.length>0&&i.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)&&e._isPie()?new n:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.PieExcelPlotLayoutPlugin=o}(t||(t={})),function(t){var e,n,o;e=t.plugins||(t.plugins={}),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._layout=function(e){this._filter(e),t.prototype._layout.call(this,e)},e.prototype._filter=function(t){for(var e=0,n=t._groups();e<n.length;e++)for(var i=0,o=n[e]._seriesList();i<o.length;i++)for(var r=0,l=o[i].points();r<l.length;r++){var a=l[r];null!=a._value()&&a._value()<0&&(a._filtered=!0)}},e}(t._BarPlotLayout),o=function(){function e(){this.name="Pie",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,i){var o=this;return null!=i&&i.length>0&&i.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)&&e._isPie()?new n:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.PiePlotLayoutPlugin=o}(t||(t={})),function(t){var e,n,o;e=t.plugins||(t.plugins={}),n=function(e){function n(){var n=e.call(this)||this;return n.name="OldRadial",n.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,n.priority=0,n}return i(n,e),n.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?this:null},n.prototype._layoutCoordinateSystem=function(e,n,i,o){var r=o._horizontalViewSize,l=o._verticalViewSize,a=o.horizontalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),s=o.verticalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),u=n.width/r,_=n.height/l,p=n.left+u/2,c=n.top+_/2,h=Math.min(u/2,_/2),f=s[0],d=a[0],y=[],g=[],m=0;s.forEach((function(n,i){var o=new t.core.Size(u,_);if(!t._isOrdinalAxisScale(n._scaleModel._scale)){var r=n._measureMaxLabelSize(e);n._scaleModel._setTickNumber(n._getAnnoNumber(!0,o.height,r))}var l=n._measure(e,o)._size;m=l.height,n._getDefinition()._option.position!=t.AxisPosition.Far&&(h-=m),n._radius=h,n._axisSize=m})),a.forEach((function(n,i){var o=new t.core.Size(u,_-m);if(!t._isOrdinalAxisScale(n._scaleModel._scale)){var r=n._measureMaxLabelSize(e),l=2*(m+h);n._scaleModel._setTickNumber(n._getAnnoNumber(!1,l,r))}n._measure(e,o),n._radius=h,n._axisSize=m})),s.forEach((function(t,e){var n=t._startAngle(),i=n+t._sweep;t._scaleModel._setRange([n,i])})),a.forEach((function(t,e){t._scaleModel._setRange([t._innerRadius*t._radius,t._radius])}));var v=null==f._scaleModel._minimum?0:f._scaleModel._minimum,w=null==f._scaleModel._maximum?0:f._scaleModel._maximum;s.forEach((function(t,e){var n=t._getAcutalOrigin();y[e]=null!=n&&v<=n&&n<=w}));var b=null==d._scaleModel._minimum?0:d._scaleModel._minimum,S=null==d._scaleModel._maximum?0:d._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();g[e]=null!=n&&b<=n&&n<=S}));var P=new t.core.Rect(p-h,c-h,2*h,2*h),C=0;s.forEach((function(n,o){n._cx=p,n._cy=c;var r=n._getAcutalOrigin();if(y[o]){var l=d,a=d._scaleModel._value(r+(null!=l?l._getRadiusOffset():0));n._radius=a}var s=new t.core.Rect(p-(n._axisSize+n._radius),c-(n._axisSize+n._radius),2*(n._axisSize+n._radius),2*(n._axisSize+n._radius));i._lineCartesianCoordinateSystemContent=P.clone(),n._layout(e,s,i),s.height-=C,n._titleView()._layout(e,s,i),C+=n._titleView()._rectangle().height,i._lineCartesianCoordinateSystemContent=null})),a.forEach((function(n,o){n._cx=p,n._cy=c;var r=n._getAcutalOrigin();if(g[o]){var l=180*(f._scaleModel._value(r)-3*Math.PI/2)/Math.PI;n._setStartAngleDegree(l)}var a=new t.core.Rect(p-(n._axisSize+n._radius),c-(n._axisSize+n._radius),2*(n._axisSize+n._radius),2*(n._axisSize+n._radius));i._lineCartesianCoordinateSystemContent=P.clone(),n._layout(e,a,i),n._titleView()._layout(e,a,i),i._lineCartesianCoordinateSystemContent=null}));var x=new t._CartesianCoordinateSystemLayoutResult;return x.plotLogicRect=new t.core.Rect(p-h,c-h,2*h,2*h),x},n}(t._CoordinateSystemLayoutBuilder),o=function(){function e(){this.name="OldRadial",this.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?new n:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e._RadialCartesianCoordinateSystemOldLayoutPlugin=o}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.name="ShowZeroValueDataPointViewLayout",n.type=t._BuildInViewLayoutBuilderCollection._pluginType,n.priority=10,n}return i(n,e),n.prototype.layout=function(e,n){var i=e;return n||0!=e.sweepAngle||(i=new t._DonutShape(e.center,e.radius,e.innerRadius,e.startAngle,Math.PI/180)),i},n.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return null!=n&&t._isBarCartesianPlotView(n)&&n._isRadialBar()?this:null},n.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseBarDonutDataPointViewLayout);t._ShowZeroValueBarDonutDataPointViewLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.name="ShowZeroValueDataPointViewLayout",n.type=t._BuildInViewLayoutBuilderCollection._pluginType,n.priority=10,n}return i(n,e),n.prototype.layout=function(t,e){var n=t.clone();return n.height<=0&&!e?n.height=1:n.width<=0&&e&&(n.width=1),n},n.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return null!=n&&t._isBarCartesianPlotView(n)&&n._isRectangleBar()?this:null},n.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseBarRectangleDataPointViewLayout);t._ShowZeroValueBarRectangleDataPointViewLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsGridLineDisplayPolicyPlugin",this.type=t._BuildInGridLineDisplayPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._shouldDisplay=function(t,e){return!e._renderLabel},e.prototype._buildGridLineDisplayPolicy=function(){return this},e.prototype.queryInterface=function(t){return"IPlugin"==t?this:null},e}(),e.SjsGridLineDisplayPolicyPlugin=n}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None",t[t.TopRight=5]="TopRight"}(t.SjsLegendPosition||(t.SjsLegendPosition={}))}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._layoutedLegendItemViews=function(){return this.__layoutedItemsView},n.prototype._createItemView=function(e){return new t.SjsLegendItemView(this,e)},n.prototype._orientation=function(){var t=this._legendView()._option.orientation;return null!=t||null!=(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.orientation)||null!=(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.orientation)?t:this._legendView()._legendListView()._suggestedOrientation()},n.prototype._init=function(t){this.__visibleItemRects=null,this.__contentSize=null},n.prototype.calcInnerContentSize=function(){return this.__contentSize},n.prototype._defaultItemSpace=function(){return 10},n.prototype._measure=function(e,n){if(n.width<=0||n.height<=0)return this.__contentSize=new t.core.Size(0,0),this.__visibleItemRects=[],new t._RectangleViewMetricsResult(new t.core.Size(0,0));for(var i=[],o=[],r=0,l=this._legendItemViews();r<l.length;r++){var a=l[r];if(a._isVisible()){o.push(a);var s=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE),u=a._measure(e,s);i.push(u._size)}}this.__layoutedItemsView=o;for(var _=0,p=0,c=0,h=0,f=i;h<f.length;h++){var d=f[h];_=Math.max(_,d.width),p=Math.max(p,d.height),c+=d.width}if(!isFinite(n.width)||!isFinite(n.height))if(this._orientation()==t.Orientation.Horizontal){var y=n.width;if(y>=c)n=new t.core.Size(Math.min(c+i.length*this._defaultItemSpace(),y),p+this._defaultItemSpace());else{var g=Math.min(Math.floor(y/_),i.length),m=Math.ceil(i.length/g);g=Math.ceil(i.length/m),n=new t.core.Size(g*_,p*m)}}else{var v=n.height;m=Math.min(Math.floor(v/p),i.length),g=Math.ceil(i.length/m),m=Math.ceil(i.length/g),n=new t.core.Size(g*_,p*m),1==g&&m==i.length&&(n.height=Math.min(n.height+i.length*this._defaultItemSpace(),v),n.width+=this._defaultItemSpace())}return this.__contentSize=n.clone(),this.__visibleItemRects=this._preLayout(o,i,n),new t._RectangleViewMetricsResult(n)},n.prototype._preLayoutSingleRow=function(t,e,n){for(var i=e.height,o=(e.width-n)/t.length,r=o/2,l=0;l<t.length;++l){var a=t[l];this._layoutItemRect(a,r,0,a.width,i),r+=a.width+o}return t},n.prototype._preLayout=function(e,n,i){for(var o=n.map((function(e){return new t.core.Rect(0,0,e.width,e.height)})),r=0,l=0,a=0,s=0,u=n;s<u.length;s++){var _=u[s];r=Math.max(r,_.width),l=Math.max(l,_.height),a+=_.width}if(i.width>=a)return this._preLayoutSingleRow(o,i,a);var p=Math.floor(i.width/r);0==p&&i.width>0&&(p=1,r=i.width);var c=Math.floor(i.height/l);0==c&&i.height>0&&(c=1,l=i.height),p=Math.min(p,e.length),c=Math.min(c,Math.ceil(e.length/p)),p=Math.min(Math.ceil(e.length/c),p);for(var h=(i.width-p*r)/p,f=(i.height-c*l)/c,d=f/2,y=0;y<c;++y){for(var g=h/2,m=0;m<p&&!(y*p+m>=e.length);++m){var v=o[y*p+m];this._layoutItemRect(v,g,d,r,l),g+=r+h}d+=l+f}return o.length=Math.min(c*p,e.length),o},n.prototype._layoutItemRect=function(t,e,n,i,o){t.left=e,t.top=n+(o-t.height)/2,t.width>i&&(t.width=i),t.height>o&&(t.height=o)},n.prototype._layoutInnerContent=function(t,e,n){if(null!=this.__visibleItemRects){var i=e.left,o=e.top;this.__layoutedItemsView.length=this.__visibleItemRects.length;for(var r=this.__layoutedItemsView,l=0;l<r.length;++l){var a=r[l],s=this.__visibleItemRects[l];s.left+=i,s.top+=o,a._layout(t,s,n)}}},n.prototype._renderInnerContent=function(t,n,i){null!=this.__visibleItemRects&&e.prototype._renderInnerContent.call(this,t,n,i)},n}(t._ItemizedLegendContentView);t.SjsItemizedLegendContendView=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__sjsOption=i,o}return i(n,e),n.prototype._scrollable=function(){return!1},n.prototype._createContentView=function(){return new t.SjsItemizedLegendContendView(this,this._data())},n.prototype._titleSpace=function(){return 10},n.prototype._itemSpace=function(){return.2*this._getFontSize()},n.prototype._getFontSize=function(){var e=t._StyleUtility._buildStyle();return t._StyleUtility._applyTextStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._StyleUtility._applyTextStyleOption(e,this._option.textStyle),null==e.fontSize?12:parseFloat(e.fontSize)},n.prototype._margin=function(){if(this.__sjsOption.showLegendWithoutOverlappingChart){var e=this.__sjsOption.excelPosition;return e==t.SjsLegendPosition.Top||e==t.SjsLegendPosition.Bottom?t._MarginUtility._buildMargin(0,10,0,10):t._MarginUtility._buildMargin(10,0,10,0)}return t._MarginUtility._buildMargin(0,0,0,0)},n.prototype._paddings=function(){var e=this._option.padding;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.padding)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.padding)?e:t._PaddingUtility._buildPadding()},n.prototype._measure=function(n,i){var o=new t.core.Size(1/0,1/0);this._contentView()._orientation()==t.Orientation.Horizontal?o.width=this._getPlotAreaView()._getRectangle().width:o.height=this._getPlotAreaView()._getRectangle().height;var r=e.prototype._measure.call(this,n,o);this.__legendSize=r._size.clone();var l=this._getLegendFixedSize(this._getPlotAreaView()._getRectangle().size);return null!=l&&(this.__legendSize=e.prototype._measure.call(this,n,l)._size),r},n.prototype._getLegendFixedSize=function(e){var n=this._option;if(null!=n.width&&null!=n.height){var i=new t.core.Size(0,0);return n.width.type===t.ValueOptionType.Percentage?i.width=e.width*n.width.value:i.width=n.width.value,n.height.type===t.ValueOptionType.Percentage?i.height=e.height*n.height.value:i.height=n.height.value,i}return null},n.prototype._layout=function(n,i,o){if(null!=this.__legendSize){var r=this._getPlotAreaView()._getRectangle(),l=this._getPlotAreaView()._getDvView()._getRectangle(),a=this._legendsOption(),s=new t.core.Rect(o.left,o.top,this.__legendSize.width,this.__legendSize.height);null!=a.left&&(s.left=Math.max(l.left+l.width*a.left,r.left)),null!=a.top&&(s.top=Math.max(l.top+l.height*a.top,r.top)),s.right>r.right&&(s.left-=s.right-r.right),s.bottom>r.bottom&&(s.top-=s.bottom-r.bottom),i._originalLegendSize=new t.core.Size(s.width,s.height),e.prototype._layout.call(this,n,i,s)}},n}(t._ItemizedLegendView);t.SjsItemizedLegendView=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._itemSpace=function(){return this._legendView()._itemSpace()},n.prototype._calculateSymbolSize=function(e,n){var i=n.height;isNaN(i)&&(i=12);var o=this._data._getSymbol();return null!=this._data._size&&o._showSymbol()?o._measureSymbolSize(e,this._data._size):o instanceof t._CartesianLineLegendSymbolView||o instanceof t._LineLegendSymbolView||o instanceof t._OverlayLineSymbol?new t.core.Size(28,.5*i):new t.core.Size(.5*i,.5*i)},n}(t._LegendItemView);t.SjsLegendItemView=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l,a,s,u){void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=null);var _=e.call(this,n,o,null==r?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Left):r,null==l?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Right):l,null==a?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Top):a,null==s?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Bottom):s)||this;return _.__option=i,u=null==u?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.TopRight):u,_.__topRightLegendListView=u._buildLegendListView(_,o),_}return i(n,e),n.prototype._option=function(){return this.__option},n.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__topRightLegendListView&&this.__topRightLegendListView.dispose()},n.prototype._legendViews=function(){var t=e.prototype._legendViews.call(this);return null!=this.__topRightLegendListView&&t.push.apply(t,this.__topRightLegendListView._legendViews()),t},n.prototype._render=function(t,n){e.prototype._render.call(this,t,n),null!=this.__topRightLegendListView&&this.__topRightLegendListView._render(t,n)},n.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=null;return null!=this.__topRightLegendListView&&null!=(o=this.__topRightLegendListView._hitTest(t,n,i))?o:e.prototype._hitTest.call(this,t,n,i)},n.prototype._layout=function(t,n,i){var o=e.prototype._layout.call(this,t,n,i),r=this.__topRightLegendListView;return null!=r&&(r._layout(t,i,o),r._getRectangle().height/n.height<.3&&(o.top+=r._getRectangle().height,o.height-=r._getRectangle().height),o.width-=r._getRectangle().width),this._option().showLegendWithoutOverlappingChart?o:n},n}(t._FixedLegendLayerView);t._SjsFixedLegendLayerView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__option=t}return e.prototype._buildLegendLayerView=function(e,n){return new t._SjsFixedLegendLayerView(e,this.__option,n)},e}();t._SjsFixedLegendLayerViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.__position=n;var i=t._NativeExtension._toNonNullEnum(e.excelPosition,t.SjsLegendPosition.Right);this.__containsLegendViews=n==i}return e.prototype._buildLegendListView=function(e,n){return this.__containsLegendViews&&n.length>0?new t.SjsLegendListView(e,n,this.__position):null},e}();t._SjsFixedLegendListViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(e){this.__option=new t.options._SjsLegendViewManagerOption(e._plotAreaOption.legend.option()),this._frontLegendLayerViewBuilder=new t._SjsFixedLegendLayerViewBuilder(this.__option),this._backLegendLayerViewBuilder=null}return e.prototype._getLegendViewBuilder=function(){return new t.models._SjsLegendViewBuilder(this.__option)},e}();t._SjsLegendLayerDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__position=i,o}return i(n,e),n.prototype._isVertical=function(){var e=this.__position;return e===t.SjsLegendPosition.Left||e===t.SjsLegendPosition.Right||e===t.SjsLegendPosition.TopRight},n.prototype._suggestedOrientation=function(){return this._isVertical()?t.Orientation.Vertical:t.Orientation.Horizontal},n.prototype._layoutRectangle=function(e,n,i,o,r){for(var l,a=r,s=0,u=i.length,_=0;_<u;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;s=Math.max(f,s)}else{a+=c.width;var d=c.height+h.top+h.bottom;s=Math.max(d,s)}}l=this._isVertical()?new t.core.Size(s,Math.min(a,o.height)):new t.core.Size(Math.min(a,o.width),s);var y=this.__position,g=o.clone();switch(y){case t.SjsLegendPosition.Left:g.width=l.width;break;case t.SjsLegendPosition.Right:g.left=o.right-l.width,g.width=l.width;break;case t.SjsLegendPosition.Top:g.height=l.height;break;case t.SjsLegendPosition.Bottom:g.height=l.height,g.top=o.bottom-l.height;break;case t.SjsLegendPosition.TopRight:g.left=o.right-l.width,g.width=l.width,g.height=l.height}this._updateRectangle(g)},n.prototype._inflateLegendSize=function(t,e){return t.clone()},n.prototype._hitTest=function(e,n,i){return this._zLevel!=n?null:this._hitTestContent(new t.core.Point(this._scrollX+e.x,this._scrollY+e.y),n,i)},n}(t._BaseLegendListView);t.SjsLegendListView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(e){function n(t){var n=e.call(this)||this;return n.__option=t,n}return i(n,e),n.prototype._createItemizedLegendView=function(e,n){return t._LegendUtility._isType(n,t.LegendType.Size)?null:new t.SjsItemizedLegendView(e,n,this.__option)},n}(t._DefaultLegendViewBuilder),e._SjsLegendViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"excelPosition",{get:function(){return this.__excelPosition},set:function(t){this.__excelPosition!=t&&(this.__excelPosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showLegendWithoutOverlappingChart",{get:function(){return this.__showLegendWithoutOverlappingChart},set:function(t){this.__showLegendWithoutOverlappingChart!=t&&(this.__showLegendWithoutOverlappingChart=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__showLegendWithoutOverlappingChart=!0,this.__excelPosition=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SjsLegendPosition)],n.prototype,"excelPosition",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],n.prototype,"showLegendWithoutOverlappingChart",null),n}(e._Option),e._SjsLegendViewManagerOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsLegendViewManagerPlugin",this.type=t._BuildInLegendLayerDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildLegendLayerDefinition=function(e,n){var i=this;return null!=n&&n.length>0&&n.filter((function(t){return t.type===i.type&&t.name===i.name})).length>0?new t._SjsLegendLayerDefinition(e):null},e.prototype.queryInterface=function(t){return"ILegendLayerDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.SjsLegendViewManagerPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsStackBarOverlapPolicyPlugin",this.type=t._BuildInClusterKeyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildClusterKey=function(e,n){var i=e._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),o=e._getDefinition()._plotOption.name+"_"+n._valueDefinition()._identifier+"_"+i,r=n._group();if(t._isCartesianMirrorGroupDataModel(r)){var l=r;e._axisMode()!=t.AxisMode.Cartesian&&e._swapAxes()&&(o+="_"+(null!=l._mirrorDimension()._key()?l._mirrorDimension()._key().toString():"null"))}return null!=n._detailDimension()&&t._isStackGroupDetailEncodingDefintion(n._detailDimension()._definition())?o+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null"):null},e.prototype.queryInterface=function(t){return"IPlugin"==t?this:null},e}(),e.SjsStackBarOverlapPolicyPlugin=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ShowAll",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._shouldVisible=function(e){return t._SunburstPointView,e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isSunburstPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t._SunburstShowAllPointVisibilityPolicy=e}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(){function e(){}return e.prototype._getRadialRectangle=function(e,n,i){var o=[];e.forEach((function(e){for(var r=e._startAngle(),l=t._Utility._toFixed(r+e._sweep,16,!0),a=[],s=Math.ceil(r/(Math.PI/2))*(Math.PI/2);s<l;s+=Math.PI/2)a.push(t._Utility._toFixed(s,16,!0));a.indexOf(r)<0&&a.push(r),a.indexOf(l)<0&&a.push(l);for(var u=e._innerRadius*i,_=0,p=a;_<p.length;_++){s=p[_];var c=Math.cos(s),h=Math.sin(s),f=n.clone();f.x+=i*c,f.y+=i*h,o.push(f);var d=n.clone();d.x+=u*c,d.y+=u*h,o.push(d)}}));var r=NaN,l=NaN,a=NaN,s=NaN;return o.forEach((function(t){r=isNaN(r)?t.x:Math.min(t.x,r),a=isNaN(a)?t.x:Math.max(t.x,a),l=isNaN(l)?t.y:Math.min(t.y,l),s=isNaN(s)?t.y:Math.max(t.y,s)})),new t.core.Rect(r,l,a-r,s-l)},e.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,s,u){var _=a[0],p=l[0];if(a.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),l.forEach((function(t){t._scaleModel._setRange([t._innerRadius*r,r])})),null!=p){var c=null==p._scaleModel._minimum?0:p._scaleModel._minimum,h=null==p._scaleModel._maximum?0:p._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=c&&n<=h){var i=p._scaleModel._value(n+(null!=p?p._getRadiusOffset():0));t._setOriginRadius(i)}}))}if(null!=_){var f=null==_._scaleModel._minimum?0:_._scaleModel._minimum,d=null==_._scaleModel._maximum?0:_._scaleModel._maximum;l.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=f&&n<=d){var i=_._scaleModel._value(n);t._setOriginAngle(i)}}))}u._plotViews.forEach((function(n){t._isCartesianPlotView(n)&&n._initAxisScale(e)}));var y=[],g=this._getRadialRectangle(a,o,r);a.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y})),l.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y})),s.forEach((function(t){t._setCenter(o.clone())})),u._layout(e,i,n),s.forEach((function(e){i._fTextOverlay?e._overlayViews().forEach((function(e){if(e instanceof t._CartesianCoordinateTextAnnotationOverlayView){var n=e.queryInterface("IBoxBounded");if(null!=n){var i=n.box();y.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(i))}}})):y.push.apply(y,e._getLayoutShapes())}));var m=null;return m=i._fTextOverlay?null:g.clone(),[].forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);m=null==m?new t.core.Rect(n,o,i-n,r-o):t._DrawingUtility._unionOfRectangles(m,new t.core.Rect(n,o,i-n,r-o))})),y.forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);m=null==m?new t.core.Rect(n,o,i-n,r-o):t._DrawingUtility._unionOfRectangles(m,new t.core.Rect(n,o,i-n,r-o))})),m},e.prototype._getBestRadius=function(t,e,n,i,o,r,l,a,s){var u=o,_=this._layoutShapesRect(t,e,n,i,u,r,l,a,s);if(_.width>e.width||_.height>e.height){n._fTextOverlay=!0;var p=this._layoutShapesRect(t,e,n,i,u,r,l,a,s);n._fTextOverlay=!1;var c=Math.max(_.width/e.width,_.height/e.height);null!=p&&e.width>p.width&&e.height>p.height&&(c=Math.max((_.width-p.width)/(e.width-p.width),(_.height-p.height)/(e.height-p.height))),u/=c,_=this._layoutShapesRect(t,e,n,i,u,r,l,a,s)}return{radius:u,shape:_}},e.prototype._makeCenter=function(t,e,n,i,o){if(e>=0&&n<=0){var r=Math.abs(e)>Math.abs(n)?-Math.abs(e+n):Math.abs(e+n);t.x+=.5*r}else e<=0&&n>=0?(r=Math.abs(e)>Math.abs(n)?Math.abs(e+n):-Math.abs(e+n),t.x+=.5*r):e>=0&&n>=0?(r=Math.abs(e+n),t.x-=.5*r):e<=0&&n<=0&&(r=Math.abs(e+n),t.x+=.5*r);return i>=0&&o<=0?(r=Math.abs(i)>Math.abs(o)?-Math.abs(i+o):Math.abs(i+o),t.y+=.5*r):i<=0&&o>=0?(r=Math.abs(i)>Math.abs(o)?Math.abs(i+o):-Math.abs(i+o),t.y+=.5*r):i>=0&&o>=0?(r=Math.abs(i+o),t.y-=.5*r):i<=0&&o<=0&&(r=Math.abs(i+o),t.y+=.5*r),t},e.prototype._layoutCoordinateSystem=function(e,n,i,o){var r=o._horizontalViewSize,l=o._verticalViewSize,a=o.horizontalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),s=o.verticalAxisViews.filter((function(t){return t._scaleModel._hasScale()})),u=o._plotsView,_=o._getPlotViews(),p=new t.core.Rect(n.left,n.top,n.width/r,n.height/l),c=p.clone();c.height-=0;var h=new t.core.Point(n.left+n.width/2,n.top+n.height/2),f=1e3,d=this._getRadialRectangle(s,h,f),y=Math.min(c.width/d.width,c.height/d.height)*f,g=this._getBestRadius(e,c,i,h,y,a,s,_,u);if(f=g.radius,null!=g.shape){var m=g.shape;if(null!=m){var v=m.left-c.left,w=m.right-c.right,b=m.top-c.top,S=m.bottom-c.bottom;h=this._makeCenter(h,v,w,b,S)}}f>=1&&(f-=.5);var P=p.clone();s.forEach((function(t){f-=0,t._radius=f,t._cx=h.x,t._cy=h.y,t._layout(e,P,i)})),a.forEach((function(t){t._scaleModel._setRange([t._innerRadius*f,f]),t._radius=f,t._cx=h.x,t._cy=h.y,t._layout(e,P,i)}));var C=new t._CartesianCoordinateSystemLayoutResult;return C.plotLogicRect=new t.core.Rect(h.x-f,h.y-f,2*f,2*f),C},e}(),i=function(){function e(){this.name="Gauge",this.type=t._BuildInCoordinateSystemLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemLayout=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?new n:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.TrellisRadialCartesianCoordinateSystemLayoutPlugin=i}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,null!=o.equationText?o.equationText.split("\n").map((function(e){return new t.Expression(e)})):i,o)||this;return r.__left=o.left,r.__top=o.top,r.__style=o.style,r}return i(n,e),n.prototype._layout=function(n,i,o,r){if(null==this.__left||null==this.__top)e.prototype._layout.call(this,n,i,o,r);else{null==this._rectangle&&(this._rectangle=this._calculateRectangle(n,this._expressions)),this.translate(this.__left,this.__top);var l=this._ownerView._overlayGroupView()._groupView();t._DefaultLabelAdjustmentPolicy._defaultLabelAdjustmentPolicy().adjustLabel(this,this._rectangle,l._getCartesianPlotView()._getLayoutView()._getPlotAreaView()._getRectangle())}},n.prototype._drawView=function(n,i){n.beginTransform(),t._StyleUtility._applyStyleOption(n,this.__style),n.drawRect(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height),n.restoreTransform(),e.prototype._drawView.call(this,n,i)},n}(t._ExpressionsLabelView);t._EquationLabelView=e}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"equationText",{get:function(){return this.__equationText},set:function(t){this.__equationText!=t&&(this.__equationText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__equationText=null,this.__style=new e._StyleOption(null),this.__left=null,this.__top=null},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"equationText",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"top",null),r}(e._TrendlineTextOption),e._TrendlineEquationOption=n}(t||(t={})),function(t){!function(t){t._isTrendlineEquationOption=function(t){var e=t;return void 0!==e.equationText&&void 0!==e.style&&void 0!==e.left&&void 0!==e.top}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="CustomTrendlineExpression",this.type=t._BuildInOverlayTrendlineExpressionPluginCollection._pluginType,this.priority=10}return e.prototype.buildTrendlineExpression=function(e,n,i){if(t.options._isTrendlineEquationOption(i))return new t._EquationLabelView(e,n,i);if(t.options._isJsonOption(i)){var o=new t.options._TrendlineEquationOption(i.json);if(null!=o.equationText||null!=o.style&&null!=o.style.option()||null!=o.left||null!=o.top)return new t._EquationLabelView(e,n,o)}return null},e.prototype.queryInterface=function(t){return"IOverlayTrendlineExpressionPlugin"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.TrendlineExpressionPlugin=n}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.name="XLogAxisScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return i(n,e),n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Logarithmic&&e.axisType==t.AxisType.X?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseLogAxisScalePolicy);t._XLogAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.name="YLinearScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return i(n,e),n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Linear&&e.axisType==t.AxisType.Y?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseLinearAxisScalePolicy);t._YLinearAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.name="YLogAxisScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return i(n,e),n.prototype.calculateMinMax=function(e,n){return null==e&&null==n&&(e=1,n=1),e==n&&(e=Math.min(1,e),n=Math.max(1,n)),null!=e&&e>1?e=1:(null==n||n<1)&&(n=1),new t._DataDomain(e,n)},n.prototype.buildAxisScalePolicy=function(e,n){return n.scaleType==t.ValueScaleType.Logarithmic&&e.axisType==t.AxisType.Y?this:null},n.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},n.defaultPlugin=new n,n}(t._BaseLogAxisScalePolicy);t._YLogAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(){function e(e){this.__animator=new t._Animator(e,t.AnimationController.default.timeline),this.__firstLayout=!0,this.loaded=new t.core.DvEvent,this.layouted=new t.core.DvEvent,this.hitTested=new t.core.DvEvent,this.resized=new t.core.DvEvent,this.disposed=new t.core.DvEvent,t.AnimationController.default.animators.push(this.__animator),this.loaded.addHandler(this._loaded,this),this.layouted.addHandler(this._layouted,this),this.hitTested.addHandler(this._hitTested,this),this.resized.addHandler(this._resized,this),this.disposed.addHandler(this._disposed,this)}return e.prototype._loaded=function(t,e){this.__animator.interrupt(null)},e.prototype._layouted=function(e,n){this.__animator.interrupt(t.AnimationType.Loading),this.__firstLayout?(this.__animator.run(t.AnimationType.Loading,new t.ActuatorEventArgs(null)),this.__firstLayout=!1):(this.__animator.interrupt(t.AnimationType.Update),this.__animator.interrupt(t.AnimationType.Hover),this.__animator.interrupt(t.AnimationType.Highlight),this.__animator.run(t.AnimationType.Update,new t.ActuatorEventArgs(null))),t.AnimationController.default.refresh()},e.prototype._hitTested=function(e,n){this.__animator.interrupt(t.AnimationType.Highlight),this.__animator.run(t.AnimationType.Hover,new t.ActuatorEventArgs(n)),t.AnimationController.default.refresh()},e.prototype._resized=function(t,e){},e.prototype._disposed=function(e,n){this.loaded.removeHandler(this._loaded,this),this.layouted.removeHandler(this._layouted,this),this.hitTested.removeHandler(this._hitTested,this),this.resized.removeHandler(this._resized,this),this.disposed.removeHandler(this._disposed,this),this.__animator.dispose();var i=t.AnimationController.default.animators.indexOf(this.__animator);i>=0&&t.AnimationController.default.animators.splice(i,1)},e}();t._AnimationEventActuator=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AnimationEventActuator",this.type=t._BuildInEventActuatorBuilderCollection._pluginType,this.priority=1}return e.prototype.buildEventActuator=function(e){return new t._AnimationEventActuator(e)},e.prototype.queryInterface=function(t){return"IEventActuatorBuilder"==t||"IPlugin"==t?this:null},e}();t._AnimationEventActuatorBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e)}(t||(t={})),function(t){var e=function(){function e(e){this._startTime=0,this._active=0,this.timing=e,this.phase=t.AnimationActionPhase.PhasePending,this.id=t.guid()}return e.prototype._scale=function(t){return this.timing.ease((t-this.timing.startDelay)/this.timing.duration)},e.prototype.flushables=function(){return[null]},e.prototype.updateFrame=function(e){if(null!=this.timing){if(this._active=e,this.phase==t.AnimationActionPhase.PhasePending){if(!this._isReady())return;this._onPending(),this.phase=t.AnimationActionPhase.PhaseBefore}this.phase==t.AnimationActionPhase.PhaseBefore&&e>=this.timing.startDelay&&(this._onStart(),this._applyTransformation(0),this.phase=t.AnimationActionPhase.PhaseActive),this.phase==t.AnimationActionPhase.PhaseActive&&(e<this.timing.startDelay+this.timing.duration?this._applyTransformation(this._scale(e)):(this._applyTransformation(1),this.phase=t.AnimationActionPhase.PhaseAfter)),this.phase==t.AnimationActionPhase.PhaseAfter&&e>=this.timing.startDelay+this.timing.duration+this.timing.endDelay&&this._onEnd()}},e.prototype._interrupt=function(){this._onEnd(),this.timing=null},e.prototype._restart=function(){this.phase=t.AnimationActionPhase.PhasePending},e.prototype._onPending=function(){},e.prototype._onStart=function(){this._startTime=this._active},e.prototype._onEnd=function(){},e.prototype._applyTransformation=function(t){},e.prototype._isReady=function(){return!0},e}();t._AnimationAction=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__effectDefinition=t,this.__x=null,this.__y=null,this.__rotation=null}return e.prototype._buildSymbolPath=function(e){var n=e.split(":");if(null!=n&&2==n.length){var i=n[0],o=n[1];return"path"===i?t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o):null}return null},e.prototype._createSymbol=function(e,n,i,o,r){var l=this._buildSymbolPath(n);if(null!=l){var a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l),s=o.width/a.width,u=o.height/a.height,_=new t.Matrix;return _.translate(o.center.x,o.center.y),null!=i&&_.rotate(i),_.translate(.5*-o.width,.5*-o.height),_.scale(s,u),new t.models.PathSymbol(l,r,_,o)}var p=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithName(e,n);if(null!=p){var c=p.createSymbol(o,r);return null==c.matrix&&(c.matrix=new t.Matrix),null!=i&&c.matrix.rotate(i,o.center),c}return null},e.prototype._applyTransformation=function(t,e){if(0!=e.length){if(e.length>0&&e.length<=1)return this.__x=e[0].x,void(this.__y=e[0].y);var n=(e.length-1)*t,i=Math.floor(n);if(i<e.length){var o=e[i].x,r=e[i].y;if(i<e.length-1){var l=e[i+1].x,a=e[i+1].y,s=n%1;if(this.__x=(l-o)*s+o,this.__y=(a-r)*s+r,this.__effectDefinition.autoRotate){var u=l-o,_=a-r;this.__rotation=Math.atan2(_,u)+Math.PI/2}}else this.__x=o,this.__y=r}else o=e[e.length-1].x,r=e[e.length-1].y,this.__x=o,this.__y=r}},e.prototype._getSymbol=function(e){if(null!=this.__effectDefinition.symbol&&null!=this.__x&&null!=this.__y){var n=t._StyleUtility._buildStyle();t._StyleUtility._applyStyleOption(n,this.__effectDefinition.style);var i=new t.core.Rect(this.__x-.5*this.__effectDefinition.symbolWidth,this.__y-.5*this.__effectDefinition.symbolHeight,this.__effectDefinition.symbolWidth,this.__effectDefinition.symbolHeight);return this._createSymbol(e,this.__effectDefinition.symbol,this.__rotation,i,n)}return null},e}();t._PathAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.__isVisibleChanged=!1,i._isHiddenPhaseBefore=!0,i.view=e,i}return i(e,t),e.prototype._isReady=function(){return!!this.view._isVisible()&&t.prototype._isReady.call(this)},e.prototype._onPending=function(){t.prototype._onPending.call(this),this._isHiddenPhaseBefore&&this.view._isVisible()&&(this.__isVisibleChanged=!0,this.__viewVisible=this.view._visible,this.view._visible=!1)},e.prototype._onStart=function(){t.prototype._onStart.call(this),this.__isVisibleChanged&&(this.view._visible=!0)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.__isVisibleChanged&&(this.view._visible=this.__viewVisible,this.__isVisibleChanged=!1)},e}(t._AnimationAction);t._ViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=1);var r=t.call(this,e,n)||this;return r._from=i,r._to=o,r}return i(e,t),e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this._applyScale(this._from+(this._to-this._from)*e)},e.prototype._applyScale=function(t){},e}(t._ViewAnimationAction);t._TransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.actions=i,o}return i(e,t),e.prototype.updateFrame=function(t){for(var e=0,n=this.actions;e<n.length;e++)n[e].updateFrame(t)},e.prototype._interrupt=function(){for(var t=0,e=this.actions;t<e.length;t++)e[t]._interrupt();this.actions.length=0},e}(t._ViewAnimationAction);t._ViewGroupAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o.from=e,o.view=n,o}return i(e,t),e}(t._AnimationAction);t._ViewTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o._isHiddenPhaseBefore=!1,o._effectDefinition=i,o}return i(n,e),n.prototype.flushables=function(){var t=this.view._getPlotView().queryInterface("IFlushable");return null!=t?[t]:e.prototype.flushables.call(this)},n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__style=this.view._calculateStyle(new t._RenderContext)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._externalStyle=null,this._restart()},n.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this._effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n);var i,o=null!=this._effectDefinition.from.opacity?this._effectDefinition.from.opacity:1,r=o+((null!=this._effectDefinition.to.opacity?this._effectDefinition.to.opacity:0)-o)*n;i=r<0?0:r>1?1:r;var l=this.__style.fill;null!=this._effectDefinition.style&&null!=this._effectDefinition.style.fill&&(l=t._StyleUtility._colorFromOption(this._effectDefinition.style.fill));var a=this.__style.stroke;null!=this._effectDefinition.style&&null!=this._effectDefinition.style.stroke&&(a=t._StyleUtility._colorFromOption(this._effectDefinition.style.stroke));var s=t._StyleUtility._buildStyle();s.fill=l,s.fillOpacity=i,s.stroke=a,s.strokeOpacity=i,this.view._externalStyle=s},n}(t._TransitionViewAnimationAction);t._FlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this);var e=this.view._getPlotView()._plotsView().queryInterface("IDisplayablePipeLine");null!=e&&e._push(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this);var e=this.view._getPlotView()._plotsView().queryInterface("IDisplayablePipeLine");null!=e&&e._delete(this),this._restart()},e.prototype._contains=function(t){return!1},e.prototype._cutOff=function(){return!1},e}(t._ViewAnimationAction);t._EffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__effectDefinition=i,o}return i(n,e),n.prototype._rippleEffectDefinition=function(){return this.__effectDefinition},n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__opacityFrom=null!=this.__effectDefinition.from.opacity?this.__effectDefinition.from.opacity:1,this.__opacityTo=null!=this.__effectDefinition.to.opacity?this.__effectDefinition.to.opacity:0,this.__opacity=this.__opacityFrom},n.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t);var n=t*(this.__opacityTo-this.__opacityFrom)+this.__opacityFrom;this.__opacity=n<0?0:n>1?1:n},n.prototype._defaultStyle=function(){var e=this.view._calculateStyle(new t._RenderContext);return e.strokeOpacity=this.__opacity,e.fillOpacity=this.__opacity,e.scalingStroke=!1,e},n}(t._EffectViewAnimationAction);t._RippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(e,t),e.prototype.flushables=function(){var e=this.view._getPlotView()._plotsView().queryInterface("IFlushable");return null!=e?[e]:t.prototype.flushables.call(this)},e}(t._ViewGroupAnimationAction);t._EffectViewGroupAnimationAction=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return null!=i&&(r._fromInfo=i.clone()),r._toInfo=o,r._endInfo=o.clone(),r._isHiddenPhaseBefore=!1,r}return i(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this._toInfo.assign(this._endInfo)},e.prototype._onPending=function(){t.prototype._onPending.call(this),this._lerpInfo(this._toInfo,this._fromInfo,this._endInfo,0)},e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this._lerpInfo(this._toInfo,this._fromInfo,this._endInfo,e)},e.prototype._lerpInfo=function(t,e,n,i){t.lerp(e,n,i)},e}(t._ViewAnimationAction);t._AnnotationAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r,l){void 0===r&&(r=0),void 0===l&&(l=r);var a=e.call(this,t,n,i,o)||this;return null==a._fromInfo&&(a._fromInfo=a._createInitialValue(o,l)),a._rotateHandler(a._fromInfo,a._endInfo,a._regualrAngle(r)),a}return i(n,e),n.prototype._createInitialValue=function(e,n){void 0===n&&(n=0);var i=e,o=i.clone(),r=Math.sqrt(this._dis2(i.start,i.end));return o.end=new t.core.Point(i.start.x+r*Math.cos(n),i.start.y+r*Math.sin(n)),o},n.prototype._rotateHandler=function(e,n,i){var o=e,r=n,l=this._dis2(o.start,o.end);if(this._equalsWith(l,this._dis2(r.start,r.end),1)&&(this.__isStartCenter=this._equalsWith(o.start.x,r.start.x,.5)&&this._equalsWith(o.start.y,r.start.y,.5),this.__isEndCenter=this._equalsWith(o.end.x,r.end.x,.5)&&this._equalsWith(o.end.y,r.end.y,.5),this._xor(this.__isStartCenter,this.__isEndCenter))){this.__isRotate=!0,this.__radius=Math.sqrt(l);var a=void 0,s=void 0;this.__isStartCenter?(a=t.Vector.pointSub(o.start,o.end),s=t.Vector.pointSub(r.start,r.end)):(a=t.Vector.pointSub(o.end,o.start),s=t.Vector.pointSub(r.end,r.start));var u=new t.Vector(Math.cos(i),Math.sin(i));this.__startAngle=t.Vector.angle(a,u)+i;var _=t.Vector.angle(s,u)+i;this.__sweep=_-this.__startAngle}},n.prototype._xor=function(t,e){return(!t||!e)&&(t||e)},n.prototype._regualrAngle=function(e){return(e%=t._Utility._PI2)<0&&(e=t._Utility._PI2+e),e},n.prototype._equalsWith=function(t,e,n){return Math.abs(t-e)<n},n.prototype._dis2=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},n.prototype._lerpInfo=function(t,e,n,i){if(this.__isRotate){var o=t,r=e;this.__isStartCenter?o.end=this._radLerp(r.start,this.__radius,this.__startAngle,this.__sweep,i):this.__isEndCenter&&(o.start=this._radLerp(r.end,this.__radius,this.__startAngle,this.__sweep,i))}else t.lerp(e,n,i)},n.prototype._radLerp=function(e,n,i,o,r){var l=i+o*r;return new t.core.Point(e.x+n*Math.cos(l),e.y+n*Math.sin(l))},n}(t._AnnotationAnimationAction);t._LineAnnotationAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){var a=e.call(this,n,i)||this;return a.__reversed=o,a.__scale=r,a._cache=l,a._type=a.__scale.type==t.ValueOptionType.Percentage?t.AnimationKeyFramesType.Percentage:t.AnimationKeyFramesType.Pixel,a._isHiddenPhaseBefore=!1,a}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__reversed||(this.view._floated=!0)},n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=n&&(n.addReference(),this._from=n.currentScale),this._to=this.__reversed?this._type==t.AnimationKeyFramesType.Percentage?1:0:this.__scale.value},n.prototype._applyScale=function(t){e.prototype._applyScale.call(this,t);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=n&&(n.currentScale=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=t&&0==t.delReference()&&this.__reversed&&this._cache.set([this.view._getPlotView()._id(),this.view._id()],null),this.__reversed&&(this.view._floated=!1)},n}(t._TransitionViewAnimationAction);t._PointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r._fromInfo=t._annotation().transformInfo.clone(),r._toInfo=n._annotation().transformInfo.clone(),r._tranformInfo=r._toInfo.clone(),r._fromInfo.equalsWith(r._toInfo)&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this._lerpInfo(this._tranformInfo,this._fromInfo,this._toInfo,0),this.view._annotation().transformInfo.assign(this._tranformInfo)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache instanceof t._AnnotationOverlayItemView&&this.__cache._annotation().transformInfo.assign(this._tranformInfo)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._lerpInfo(this._tranformInfo,this._fromInfo,this._toInfo,t),this.view._annotation().transformInfo.assign(this._tranformInfo)},n.prototype._lerpInfo=function(t,e,n,i){t.lerp(e,n,i)},n}(t._ViewTransitionViewAnimationAction);t._AnnotationUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,i,o,r)||this,a=0;if(i instanceof t._AnnotationOverlayItemView){var s=i._getOverlayView()._plotView();t._isCartesianPlotView(s)&&t.AnnotationLib._isPlotInRadialCoordinateSystem(s)&&t._isCartesianOverlayItemView(i)&&(a=i._overlayGroupView()._groupView()._horizontalAxisView()._startAngle())}return l._rotateHandler(l._fromInfo,l._toInfo,l._regualrAngle(a)),l}return i(n,e),n.prototype._rotateHandler=function(e,n,i){var o=e,r=n,l=this._dis2(o.start,o.end);if(this._equalsWith(l,this._dis2(r.start,r.end),1)&&(this.__isStartCenter=this._equalsWith(o.start.x,r.start.x,.5)&&this._equalsWith(o.start.y,r.start.y,.5),this.__isEndCenter=this._equalsWith(o.end.x,r.end.x,.5)&&this._equalsWith(o.end.y,r.end.y,.5),this._xor(this.__isStartCenter,this.__isEndCenter))){this.__isRotate=!0,this.__radius=Math.sqrt(l);var a=void 0,s=void 0;this.__isStartCenter?(a=t.Vector.pointSub(o.start,o.end),s=t.Vector.pointSub(r.start,r.end)):(a=t.Vector.pointSub(o.end,o.start),s=t.Vector.pointSub(r.end,r.start));var u=new t.Vector(Math.cos(i),Math.sin(i));this.__startAngle=t.Vector.angle(a,u)+i;var _=t.Vector.angle(s,u)+i;this.__sweep=_-this.__startAngle}},n.prototype._xor=function(t,e){return(!t||!e)&&(t||e)},n.prototype._regualrAngle=function(e){return(e%=t._Utility._PI2)<0&&(e=t._Utility._PI2+e),e},n.prototype._equalsWith=function(t,e,n){return Math.abs(t-e)<n},n.prototype._dis2=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},n.prototype._lerpInfo=function(t,n,i,o){if(this.__isRotate){var r=t,l=n;this.__isStartCenter?r.end=this._radLerp(l.start,this.__radius,this.__startAngle,this.__sweep,o):this.__isEndCenter&&(r.start=this._radLerp(l.end,this.__radius,this.__startAngle,this.__sweep,o))}else e.prototype._lerpInfo.call(this,t,n,i,o)},n.prototype._radLerp=function(e,n,i,o,r){var l=i+o*r;return new t.core.Point(e.x+n*Math.cos(l),e.y+n*Math.sin(l))},n}(t._AnnotationUpdateViewAnimationAction);t._LineAnnotationUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__fromXs=[].concat(t._getXs()),r.__fromYs=[].concat(t._getYs()),r.__toXs=[].concat(n._getXs()),r.__toYs=[].concat(n._getYs()),r._xs=r.__fromXs.slice(),r._ys=r.__fromYs.slice(),r.__fromXs.length==r.__toXs.length&&r.__fromXs.every((function(t,e){return t==r.__toXs[e]}))&&r.__fromYs.length==r.__toYs.length&&r.__fromYs.every((function(t,e){return t==r.__toYs[e]}))&&(r.timing=null),r}return i(n,e),n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._setXs(this._xs.slice()),this.__cache._setYs(this._ys.slice()),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._draw=function(e,n){if(this._xs&&this._ys&&this.view){var i=this.view._calculateStyle(n);t._StyleUtility._applyStyle(e,i),e.drawPolygon(this._xs,this._ys)}},n.prototype._contains=function(e){return!!(this._xs&&this._ys&&t._Util.IsPointInPolygon2(e,this._xs,this._ys))},n.prototype._cutOff=function(){return!0},n.prototype._calcShape=function(t){var e=this.__toXs,n=this.__toYs;if(this._xs.length=this.__toXs.length,this._ys.length=this.__toYs.length,null!=e&&null!=n)for(var i=Math.min(e.length,n.length,this.__fromXs.length,this.__fromYs.length),o=Math.min(e.length,n.length)/i,r=Math.min(this.__fromXs.length,this.__fromYs.length)/i,l=0;l<i;++l){var a=Math.floor(l*o),s=Math.floor(l*r),u=(e[a]-this.__fromXs[s])*t,_=(n[a]-this.__fromYs[s])*t;this._xs[a]=u+this.__fromXs[s],this._ys[a]=_+this.__fromYs[s];for(var p=a+1;p<Math.floor((l+1)*o);++p)this._xs[p]=this._xs[a],this._ys[p]=this._ys[a]}},n}(t._ViewTransitionViewAnimationAction);t._DisplayablePointViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this.ease=t,this.startDelay=e,this.endDelay=n,this.duration=i}return t._createTiming=function(e,n,i,o,r){if(r){var l=o/(i+1);return new t(e,n*l,0,2*l)}var a=o/i;return new t(e,n*a,0,a)},t}();t._ActionTiming=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n,i){this.__startTime=0,this.__currentTime=0,this._active=-1,this.played=new t.core.DvEvent,this.paused=new t.core.DvEvent,this.canceled=new t.core.DvEvent,this.finished=new t.core.DvEvent,this.id=t.guid(),this.definition=e,this.timeline=i,this.playState=t.AnimationPlayState.Idle,this.playbackRate=1,this.actions=n}return e.prototype.flushables=function(){return[]},e.prototype.update=function(e){var n=!0;return this.playState==t.AnimationPlayState.Idle?this._internalPlay(e):this.playState==t.AnimationPlayState.Running?this._internalRunning(e):(this.playState==t.AnimationPlayState.Finish||this.playState==t.AnimationPlayState.Paused)&&(n=!1),n},e.prototype.play=function(){var e=this.timeline.currentTime;this.playState==t.AnimationPlayState.Idle?this._internalPlay(e):this.playState==t.AnimationPlayState.Paused&&this._internalResume(e)},e.prototype.pause=function(){this.playState==t.AnimationPlayState.Running&&(this.playState=t.AnimationPlayState.Paused,this.paused.raise(this))},e.prototype.cancel=function(){this.playState=t.AnimationPlayState.Finish,this._internalFinish(),this.canceled.raise(this)},e.prototype.finish=function(){this.playState=t.AnimationPlayState.Finish,this._internalFinish(),this.finished.raise(this)},e.prototype._internalPlay=function(e){this.playState=t.AnimationPlayState.Running,this.__startTime=e,this.__currentTime=e,this._active=(this.__currentTime-this.__startTime)*this.playbackRate,this.played.raise(this)},e.prototype._internalResume=function(e){this.playState=t.AnimationPlayState.Running;var n=this.__currentTime-this.__startTime;this.__startTime=e-n,this.__currentTime=e,this._active=(this.__currentTime-this.__startTime)*this.playbackRate,this.played.raise(this)},e.prototype._internalRunning=function(t){this.__currentTime=t,this._active=(this.__currentTime-this.__startTime)*this.playbackRate},e.prototype._internalFinish=function(){for(var t=0,e=this.actions;t<e.length;t++)e[t]._interrupt()},e}();t._Animation=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=0,l=e._overlayViews();r<l.length;r++){var a=l[r];if(t._isAnnotationOverlayView(a))for(var s=0,u=a._itemViews();s<u.length;s++){var _=u[s],p=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),c=this._createAnimationAction(_,p);null!=c&&o.push(c)}}return new t._FrameAnimation(n,o,i)},e.prototype._createAnimationAction=function(e,n){if(e instanceof t._AnnotationOverlayItemView){var i=e._annotation();if(null!=i){var o=i.transformInfo;if(i instanceof t._LineGaugeAnnotation&&null!=o){var r=e._getOverlayView()._plotView();if(t._isCartesianPlotView(r)&&t.AnnotationLib._isPlotInRadialCoordinateSystem(r)&&t._isCartesianOverlayItemView(e)){var l=e._overlayGroupView()._groupView(),a=l._horizontalAxisView();return new t._LineAnnotationAnimationAction(e,n,null,o,a._startAngle(),t.AnnotationLib.getRadialOriginAngle(l))}return new t._LineAnnotationAnimationAction(e,n,null,o)}if(null!=o)return new t._AnnotationAnimationAction(e,n,this._createInitialValue(o),o)}}return null},e.prototype._createInitialValue=function(e){var n;return e instanceof t._BoxTextSymbolTransformInfo||e instanceof t._TextTransformInfo?((n=e.clone()).text="0",n):e instanceof t._AnchoredTransformInfo?((n=e.clone()).scale=[0,0],n):e instanceof t._LineTransformInfo?((n=e.clone()).start=new t.core.Point((e.start.x+e.end.x)/2,(e.start.y+e.end.y)/2),n.end=n.start.clone(),n):e.clone()},e}();t._PlotViewAnnotationOverlayLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=[];if(this.__cache.before.get([e._id()])){for(var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l={},a=0,s=this._getAnimatableViews(e);a<s.length;a++){var u=s[a];t._isIdentityModel(u)&&u._isVisible()&&(l[u._id()]=u)}for(var _=0,p=t._NativeExtension.properties(l,!0);_<p.length;_++){var c=p[_],h=this.__cache.before.get([e._id(),c]),f=l[c],d=this.__cache.current.get([e._id(),c]),y=this._createAnimationAction(h,f,d,r);null!=y&&null!=y.timing&&o.push(y)}}return o.length>0?new t._FrameAnimation(n,o,i):null},e.prototype.saveCache=function(e){var n=this,i=this._getAnimatableViews(e);i.length>0&&(this.__cache.current.set([e._id()],e),i.map((function(t){return n._cloneAnimatableView(t)})).forEach((function(i){t._isIdentityModel(i)&&n.__cache.current.set([e._id(),i._id()],i)})))},e.prototype._createAnimationAction=function(t,e,n,i){return null!=t&&null!=e?this._createUpdateAnimationAction(t,e,n,i):null!=t?this._createDisappearAnimationAction(t,i):null!=e?this._createAppearAnimationAction(e,i):null},e.prototype._createDisappearAnimationAction=function(t,e){return null},e.prototype._createAppearAnimationAction=function(t,e){return null},e}();t._PlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createUpdateAnimationAction=function(e,n,i,o){if(e instanceof t._AnnotationOverlayItemView&&n instanceof t._AnnotationOverlayItemView&&i instanceof t._AnnotationOverlayItemView&&null!=e._annotation()&&null!=n._annotation()){var r=this._createLineAnnotationAnimationAction(e,n,i,o);if(null!=r)return r;var l=this._createAnnotationAnimationAction(e,n,i,o);if(null!=l)return l}return null},n.prototype._getAnimatableViews=function(e){for(var n=[],i=0,o=e._overlayViews();i<o.length;i++){var r=o[i];t._isAnnotationOverlayView(r)&&n.push.apply(n,r._itemViews())}return n},n.prototype._cloneAnimatableView=function(e){return e instanceof t._AnnotationOverlayItemView?t._AnnotationOverlayItemView._clone(e):e},n.prototype._createLineAnnotationAnimationAction=function(e,n,i,o){var r=e._annotation(),l=n._annotation();if(r instanceof t._LineAnnotation&&l instanceof t._LineAnnotation&&null!=r.transformInfo&&null!=l.transformInfo){var a=n._getOverlayView()._plotView();return t._isCartesianPlotView(a)&&t.AnnotationLib._isPlotInRadialCoordinateSystem(a)&&t._isCartesianOverlayItemView(n),new t._LineAnnotationUpdateViewAnimationAction(e,n,i,o)}return null},n.prototype._createAnnotationAnimationAction=function(e,n,i,o){var r=e._annotation(),l=n._annotation();return null!=e&&null!=n&&null!=r.transformInfo&&null!=l.transformInfo?new t._AnnotationUpdateViewAnimationAction(e,n,i,o):null},n}(t._PlotViewUpdateAnimationBuilder);t._PlotViewAnnotationOverlayUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=[],l=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),a=this._createAnimationAction(e,l,o);return r.push(a),new t._FrameAnimation(n,r,i,o.iterations)}return null},e.prototype._createAnimationAction=function(e,n,i){return new t._FlickerEffectViewAnimationAction(e,n,i)},e}();t._PointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){for(var r=[],l=o.count,a=0;a<l;a++){var s=a/l*n.duration+n.startDelay,u=new t._ActionTiming(n.easing,s,n.endDelay,n.duration),_=this._createAnimationAction(e,u,o);null!=_&&r.push(_)}var p=[];return p.push(new t._EffectViewGroupAnimationAction(e,null,r)),new t._FrameAnimation(n,p,i,o.iterations)}return null},e}();t._PointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l=this._createAnimationAction(e,r,!1,o.scale),a=new t._ActionTiming(n.easing,n.startDelay+n.duration+o.stay,n.endDelay,n.duration),s=this._createAnimationAction(e,a,!0,o.scale);return new t._FrameAnimation(n,[new t._ViewGroupAnimationAction(e,null,[l,s])],i,1,n.startDelay+2*n.duration+o.stay+n.endDelay)}return null},e.prototype.saveCache=function(e){var n=[e._getPlotView()._id(),e._id()];null==this._cache.get(n)&&this._cache.set(n,new t._HighlightAnimationState(this._clonePointView(e)))},e}();t._HighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);if(null!=this._cache.get([e._getPlotView()._id(),e._id()])){var l=this._createAnimationAction(e,r,o.scale);return new t._FrameAnimation(n,[l],i)}}return null},e.prototype.saveCache=function(e,n){var i=[e._getPlotView()._id(),e._id()],o=this._cache.get(i);n&&null==o&&(o=new t._HighlightAnimationState(this._clonePointView(e)),this._cache.set(i,o)),null!=o&&(o.reversed=!n)},e}();t._HoverAnimationBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.id=t,this.item=e,this.children=[]},n=function(){function t(){this.__rootGroup=new e}return t.prototype.get=function(t){var e=this._findGroup(t,!1);return null==e?null:e.item},t.prototype.set=function(t,e){this._findGroup(t,!0).item=e},t.prototype.flush=function(){this.__rootGroup=new e},t.prototype.dispose=function(){this.__rootGroup=null},t.prototype._findGroup=function(t,n){for(var i=this.__rootGroup,o=function(t){var o=i.children.find((function(e){return e.id==t}));if(null==o){if(!n)return{value:null};o=new e(t),i.children.push(o)}i=o},r=0,l=t;r<l.length;r++){var a=o(l[r]);if("object"==typeof a)return a.value}return i},t}();t.AnimationCache=n}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.pointView=t,this.currentScale=1,this.reversed=!1,this.__referenceCount=0}return t.prototype.addReference=function(){return++this.__referenceCount},t.prototype.delReference=function(){return--this.__referenceCount},t}();t._HighlightAnimationState=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){this.__before=new t.AnimationCache,this.__current=new t.AnimationCache}return Object.defineProperty(e.prototype,"before",{get:function(){return this.__before},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.__current},enumerable:!0,configurable:!0}),e.prototype.flush=function(){this.__before.dispose(),this.__before=this.__current,this.__current=new t.AnimationCache},e.prototype.dispose=function(){this.__before=null,this.__current=null},e}();t._UpdateAnimationCache=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){void 0===o&&(o=1),void 0===r&&(r=e.startDelay+e.duration+e.endDelay);var l=t.call(this,e,n,i)||this;return l._iterations=o,l._duration=r,l}return i(e,t),e.prototype.flushables=function(){for(var e=t.prototype.flushables.call(this),n=0,i=this.actions;n<i.length;n++){var o=i[n];e.push.apply(e,o.flushables())}return e},e.prototype._internalPlay=function(e){t.prototype._internalPlay.call(this,e),this._internalActionsUpdateFrame(this._active)},e.prototype._internalRunning=function(e){t.prototype._internalRunning.call(this,e),this._internalActionsUpdateFrame(this._active),this._internalCheckFinish()},e.prototype._internalActionsUpdateFrame=function(t){if(!(t<0))for(var e=0,n=this.actions;e<n.length;e++)n[e].updateFrame(t)},e.prototype._internalCheckFinish=function(){this._iterations<=0||this._active>=this._iterations*this._duration&&this.finish()},e}(t._Animation);t._FrameAnimation=e}(t||(t={})),function(t){var e=1024;t.guid=function(){return e++}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.__timeline=null,this.__request=null,this.__running=!1,this.__frames=0,this.__lastFPSUpdate=0,this.FPS=0,this.animators=[]}return Object.defineProperty(e.prototype,"timeline",{get:function(){return null==this.__timeline&&(this.__timeline=t._BuildInAnimationTimelineBuilderCollection._defaultBuildInAnimationTimelineBuilderCollection()._animationTimeline()),this.__timeline},enumerable:!0,configurable:!0}),e.prototype.onAnimationFrame=function(t){t>this.__lastFPSUpdate+1e3&&(this.FPS=this.__frames,this.__lastFPSUpdate=t,this.__frames=0),this.__frames++;var e=!1;if(this.timeline.active){var n=this.timeline.currentTime;e=this._update(n)}else e=!0;this.__running||e?this.__request=requestAnimationFrame(this.onAnimationFrame.bind(this)):this.__request=null,this.__running=!1},e.prototype.refresh=function(){null==this.__request?this.__request=requestAnimationFrame(this.onAnimationFrame.bind(this)):this.__running=!0},e.prototype._update=function(t){for(var e=!1,n=0,i=this.animators;n<i.length;n++)i[n].update(t)&&(e=!0);return e},e.default=new e,e}();t.AnimationController=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.control=e,this.timeline=n,this.animations=[],this.__deferRemoves=[],this.binding=new t.core.DvEvent,this.__updateAnimationCache=new t._UpdateAnimationCache,this.highlightAnimationCache=new t.AnimationCache,this.__hoverAnimationInteraction=new t._HoverAnimationInteraction(this,this.highlightAnimationCache)}return e.prototype.dispose=function(){this.control=null,this.animations.length=0,this.binding.removeAllHandlers(),this.__updateAnimationCache.dispose(),this.highlightAnimationCache.dispose(),this.__hoverAnimationInteraction=null},e.prototype.bind=function(e){null!=e&&(e.played.addHandler(this._onPlay,this),e.finished.addHandler(this._onFinish,this),e.canceled.addHandler(this._onCancle,this),e.update(this.timeline.currentTime),this.animations.push(e),this.binding.raise(this,new t.AnimatorEventArgs(e)))},e.prototype.interrupt=function(t){for(var e=0,n=this.animations.slice();e<n.length;e++){var i=n[e];null!=t&&i.definition.type!=t||i.cancel()}},e.prototype.run=function(e,n){var i=this.control.model;if(null!=i){var o=t._DvViewModelUtility._toDvView(i);if(null!=o){var r=this._getAllPlotViews(o);if(!(r.length<=0))if(e===t.AnimationType.Loading)for(var l=0,a=r;l<a.length;l++){if(null!=(v=a[l])&&v._getDefinition()._plotConfigOption.loadAnimation)for(var s=[],u=0,_=t._BuildInLoadingAnimationDefinitionBuilderCollection._defaultBuildInLoadingAnimationDefinitionBuilders()._loadingAnimationDefinitions(v._getDefinition(),v._getDefinition()._plotConfigOption.loadAnimation,s,v._getDefinition()._pluginCollection);u<_.length;u++)null!=(P=(S=_[u]).builder.buildAnimation(v,S,t.AnimationController.default.timeline))&&this.bind(P);if(null!=v&&v._getDefinition()._plotConfigOption.updateAnimation){s=[];for(var p=0,c=t._BuildInUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(v._getDefinition(),v._getDefinition()._plotConfigOption.updateAnimation,s,this.__updateAnimationCache,v._getDefinition()._pluginCollection);p<c.length;p++)(S=c[p]).cached.saveCache(v)}}else if(e===t.AnimationType.Update){this.__updateAnimationCache.flush(),this.highlightAnimationCache.flush();for(var h=0,f=r;h<f.length;h++)if(null!=(v=f[h])&&v._getDefinition()._plotConfigOption.updateAnimation){s=[];for(var d=0,y=t._BuildInUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(v._getDefinition(),v._getDefinition()._plotConfigOption.updateAnimation,s,this.__updateAnimationCache,v._getDefinition()._pluginCollection);d<y.length;d++)(S=y[d]).cached.saveCache(v)}for(var g=0,m=r;g<m.length;g++){var v;if(null!=(v=m[g])&&v._getDefinition()._plotConfigOption.updateAnimation){s=[];for(var w=0,b=t._BuildInUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(v._getDefinition(),v._getDefinition()._plotConfigOption.updateAnimation,s,this.__updateAnimationCache,v._getDefinition()._pluginCollection);w<b.length;w++){var S,P;null!=(P=(S=b[w]).builder.buildAnimation(v,S,t.AnimationController.default.timeline))&&this.bind(P)}}}}else e===t.AnimationType.Hover&&this.__hoverAnimationInteraction.process(n.hittestEventArgs)}}},e.prototype._getAllPlotViews=function(t){var e=[];return t._traversePlotView((function(t){e.push(t)})),e},e.prototype._onPlay=function(t,e){},e.prototype._onFinish=function(t,e){var n=this.animations.indexOf(t);n>-1&&(this.animations.splice(n,1),this.__deferRemoves.push(t))},e.prototype._onCancle=function(t,e){var n=this.animations.indexOf(t);n>-1&&(this.animations.splice(n,1),this.__deferRemoves.push(t))},e.prototype.update=function(t){var e=!1;if(0==this.animations.length&&0==this.__deferRemoves.length)return e;for(var n=0,i=this.animations.slice();n<i.length;n++)(a=i[n]).update(t)&&(e=!0);for(var o=[],r=0,l=this.animations;r<l.length;r++){var a=l[r];o.push.apply(o,a.flushables())}for(var s=0,u=this.__deferRemoves;s<u.length;s++){var _=u[s];o.push.apply(o,_.flushables())}return this.__deferRemoves.length=0,o.indexOf(null)>=0?this.control.invalidate():this._flushables(o),e},e.prototype._flushables=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.indexOf(o)<0&&e.push(o)}for(var r=0,l=e;r<l.length;r++)(o=l[r]).flush()},e}();t._Animator=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.hittestEventArgs=e,n}return i(e,t),e}(t.DvEventArgs);t.ActuatorEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.animation=e,n}return i(e,t),e}(t.DvEventArgs);t.AnimatorEventArgs=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){this.__animator=t,this.__animationCache=e}return e.prototype.process=function(e){if(e.event.action==t.MotionEvent.ACTION_MOUSE_MOVE||e.event.action==t.MotionEvent.ACTION_MOUSE_OVER||e.event.action==t.MotionEvent.ACTION_WHEEL||e.event.action==t.MotionEvent.ACTION_MOVE){var n=null;n=e.model instanceof t._BasePointView?e.model:this._hitTestDataPoint(e.event,e.model),this.__model!=n&&(this._onLeave(),this.__model=null,null!=n&&(this.__model=n,this._onEnter()))}else e.event.action==t.MotionEvent.ACTION_MOUSE_LEAVE&&(this._onLeave(),this.__model=null)},e.prototype._onEnter=function(){if(null!=this.__model){var e=t._PlotViewModelUtility._toPointView(this.__model);null!=e&&this._buildAnimation(e,!0)}},e.prototype._onLeave=function(){if(null!=this.__model){var e=t._PlotViewModelUtility._toPointView(this.__model);null!=e&&this._buildAnimation(e,!1)}},e.prototype._hitTestDataPoint=function(e,n){if(n instanceof t._PointDataLabelView){var i=t._ViewModelUtility._dvModel(n);if(null!=i){var o=new t.core.Point(e.x,e.y),r=i.control.hitTest(o,new t.models.ExcludingModelPrediction(["DataPointLabel"]));if(null!=r&&r.model instanceof t._BasePointView)return r.model}}return null},e.prototype._buildAnimation=function(e,n){if(e._getPlotView()._getDefinition()._plotConfigOption.hoverAnimation){for(var i=0,o=this.__animator.animations;i<o.length;i++)for(var r=0,l=(_=o[i]).actions;r<l.length;r++){var a=l[r];a instanceof t._PointViewScaleAnimationAction&&a.view==e&&a._interrupt()}for(var s=0,u=t._BuildInHoverAnimationDefinitionBuilderCollection._defaultBuildInHoverAnimationDefinitionBuilders()._hoverAnimationDefinitions(e,e._getPlotView()._getDefinition()._plotConfigOption.hoverAnimation,[],this.__animationCache);s<u.length;s++){var _,p=u[s],c=p;c.cached.saveCache(e,n),null!=(_=c.builder.buildAnimation(e,p,t.AnimationController.default.timeline))&&this.__animator.bind(_)}}},e}();t._HoverAnimationInteraction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.runAnimation=function(e,n,i){if(null!=e){var o=[],r=t._AnyTypeUtility._toEnumValueOrNull(n,t.AnimationType);if(null!=r)if(r===t.AnimationType.Loading){var l=t._PlotViewModelUtility._toPlotView(e);if(null!=l)for(var a=t._DvViewUtility._control(l._getLayoutView()._getPlotAreaView()._getDvView()),s=0,u=t.AnimationController.default.animators;s<u.length;s++)if((C=u[s]).control==a){for(var _=0,p=t._BuildInLoadingAnimationDefinitionBuilderCollection._defaultBuildInLoadingAnimationDefinitionBuilders()._loadingAnimationDefinitions(l._getDefinition(),i,o,l._getDefinition()._pluginCollection);_<p.length;_++)null!=(I=(M=p[_]).builder.buildAnimation(l,M,t.AnimationController.default.timeline))&&C.bind(I);t.AnimationController.default.refresh();break}}else if(r===t.AnimationType.Effect){if(null!=(b=t._PlotViewModelUtility._toPointView(e))){a=t._DvViewUtility._control(b._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView());for(var c=0,h=t.AnimationController.default.animators;c<h.length;c++)if((C=h[c]).control==a){for(var f=0,d=t._BuildInEffectAnimationDefinitionBuilderCollection._defaultBuildInEffectAnimationDefinitionBuilders()._effectAnimationDefinitions(b,i,o);f<d.length;f++)null!=(I=(M=d[f]).builder.buildAnimation(b,M,t.AnimationController.default.timeline))&&C.bind(I);t.AnimationController.default.refresh();break}}else if(t._isCartesianSeriesView(e))for(var y=e,g=(a=t._DvViewUtility._control(y._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView()),0),m=t.AnimationController.default.animators;g<m.length;g++)if((C=m[g]).control==a){for(var v=0,w=t._BuildInSeriesEffectAnimationDefinitionBuilderCollection._defaultBuildInEffectAnimationDefinitionBuilders()._effectAnimationDefinitions(y,i,o);v<w.length;v++)null!=(I=(M=w[v]).builder.buildAnimation(y,M,t.AnimationController.default.timeline))&&C.bind(I);t.AnimationController.default.refresh();break}}else if(r===t.AnimationType.Highlight){var b;if(null!=(b=t._PlotViewModelUtility._toPointView(e))){null==i&&(i=new t.options._HighlightAnimationOption),a=t._DvViewUtility._control(b._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView());for(var S=0,P=t.AnimationController.default.animators;S<P.length;S++){var C;if((C=P[S]).control==a){for(var x=0,V=C.animations;x<V.length;x++)for(var D=0,A=(I=V[x]).actions;D<A.length;D++){var O=A[D];O instanceof t._PointViewScaleAnimationAction&&O.view==b&&O._interrupt()}for(var L=0,T=t._BuildInHighlightAnimationDefinitionBuilderCollection._defaultBuildInHighlightAnimationDefinitionBuilders()._highlightAnimationDefinitions(b,i,o,C.highlightAnimationCache);L<T.length;L++){var M,I,E=M=T[L];E.cached.saveCache(b),null!=(I=E.builder.buildAnimation(b,M,t.AnimationController.default.timeline))&&C.bind(I)}t.AnimationController.default.refresh();break}}}}}},e}();t.runAnimation=e.runAnimation}(t||(t={})),function(t){var e=function(){function e(t,e){this._option=e,this.type=t,this.mode=e.mode,this.duration=e.duration,this.easing=this._buildAnimationEaseCallback(e.easing),this.startDelay=e.startDelay,this.endDelay=e.endDelay,this.staggering=e.staggering}return e.prototype._buildAnimationEaseCallback=function(e){var n=null;if("number"==typeof e){var i=t.AnimationEasing[e];"string"==typeof i&&(n=t._AnimationEase[i])}return n},e}();t._AnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function n(n){var i=e.call(this,t.AnimationType.Effect,n)||this;return i.effect=n.effect,i.iterations=n.iterations,i.style=n.style,i.symbol=n.symbol,i.symbolWidth=n.symbolWidth,i.symbolHeight=n.symbolHeight,i.symbolTrail=n.symbolTrail,i.autoRotate=n.autoRotate,i}return i(n,e),n}(t._AnimationDefinition);t._FlowEffectAnimationDefinition=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInLoadingAnimationDefinitionBuilders=function(){return null==n.__buildInLoadingAnimationDefinitionBuilders&&(n.__buildInLoadingAnimationDefinitionBuilders=new n([new t._PlotViewAnnotationOverlayLoadingAnimationDefinitionBuilder],n._pluginType)),n.__buildInLoadingAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isPlotAnimationDefinitionBuilder(e)?e:null},n.prototype._loadingAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},n._pluginType="LoadingAnimation",n}(t._BuildInObjectCollection);t._BuildInLoadingAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInUpdateAnimationDefinitionBuilders=function(){return null==n.__buildInUpdateAnimationDefinitionBuilders&&(n.__buildInUpdateAnimationDefinitionBuilders=new n([new t._PlotViewAnnotationOverlayUpdateAnimationDefinitionBuilder],n._pluginType)),n.__buildInUpdateAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isPlotUpdateAnimationDefinitionBuilder(e)?e:null},n.prototype._updateAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var s=a[l].item.buildDefinition(t,e,i);null!=s&&r.push(s)}return r},n._pluginType="UpdateAnimation",n}(t._BuildInObjectCollection);t._BuildInUpdateAnimationDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isPlotAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){t._isPlotUpdateAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n,i)||this;return o.plotDefinition=e,o}return i(e,t),e}(t._AnimationDefinition);t._PlotAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);return new t._PlotViewLoadingAnimationDefinition(e,i,new t._PlotViewAnnotationOverlayLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return null},e}();t._PlotViewAnnotationOverlayLoadingAnimationDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,t.AnimationType.Loading,i)||this;return r.builder=o,r}return i(n,e),n}(t._PlotAnimationDefinition);t._PlotViewLoadingAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n),r=new t._PlotViewAnnotationOverlayUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return null},e}();t._PlotViewAnnotationOverlayUpdateAnimationDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,t.AnimationType.Update,i)||this;return l.builder=o,l.cached=r,l}return i(n,e),n}(t._PlotAnimationDefinition);t._PlotViewUpdateAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInEffectAnimationDefinitionBuilders=function(){return null==n.__buildInEffectAnimationDefinitionBuilders&&(n.__buildInEffectAnimationDefinitionBuilders=new n([],n._pluginType)),n.__buildInEffectAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isPointViewAnimationDefinitionBuilder(e)?e:null},n.prototype._effectAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},n._pluginType="EffectAnimation",n}(t._BuildInObjectCollection);t._BuildInEffectAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInHighlightAnimationDefinitionBuilders=function(){return null==n.__buildInHighlightAnimationDefinitionBuilders&&(n.__buildInHighlightAnimationDefinitionBuilders=new n([],n._pluginType)),n.__buildInHighlightAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isPointViewHighlightAnimationDefinitionBuilder(e)?e:null},n.prototype._highlightAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var s=a[l].item.buildDefinition(t,e,i);null!=s&&r.push(s)}return r},n._pluginType="HighlightAnimation",n}(t._BuildInObjectCollection);t._BuildInHighlightAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInHoverAnimationDefinitionBuilders=function(){return null==n.__buildInHoverAnimationDefinitionBuilders&&(n.__buildInHoverAnimationDefinitionBuilders=new n([],n._pluginType)),n.__buildInHoverAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isPointViewHoverAnimationDefinitionBuilder(e)?e:null},n.prototype._hoverAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var s=a[l].item.buildDefinition(t,e,i);null!=s&&r.push(s)}return r},n._pluginType="HoverAnimation",n}(t._BuildInObjectCollection);t._BuildInHoverAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i)||this;return r.view=e,r.builder=o,r}return i(e,t),e}(t._AnimationDefinition);t._PointViewAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewHighlightAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,t.AnimationType.Highlight,i,o)||this;return l.cached=r,l.scale=i.scale,l.stay=i.stay,l}return i(n,e),n}(t._PointViewAnimationDefinition);t._PointViewHighlightAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewHoverAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r){var l=e.call(this,n,t.AnimationType.Hover,i,o)||this;return l.cached=r,l.scale=i.scale,l}return i(n,e),n}(t._PointViewAnimationDefinition);t._PointViewHoverAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,t.AnimationType.Effect,i,o)||this;return r.effect=i.effect,r.iterations=i.iterations,r}return i(n,e),n}(t._PointViewAnimationDefinition);t.PointViewEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.style=n.style,o.from=n.from,o.to=n.to,o}return i(e,t),e}(t.PointViewEffectAnimationDefinition);t._PointViewFlickerEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.style=n.style,o.count=n.count,o.scale=n.scale,o.from=n.from,o.to=n.to,o}return i(e,t),e}(t.PointViewEffectAnimationDefinition);t._PointViewRippleEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n._defaultBuildInEffectAnimationDefinitionBuilders=function(){return null==n.__buildInEffectAnimationDefinitionBuilders&&(n.__buildInEffectAnimationDefinitionBuilders=new n([],n._pluginType)),n.__buildInEffectAnimationDefinitionBuilders},n.prototype._convert=function(e){return t._isSeriesViewAnimationDefinitionBuilder(e)?e:null},n.prototype._effectAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},n._pluginType="SeriesEffectAnimation",n}(t._BuildInObjectCollection);t._BuildInSeriesEffectAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n)||this;return o.builder=i,o.view=e,o}return i(e,t),e}(t._FlowEffectAnimationDefinition);t._SeriesViewFlowEffectAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isSeriesViewAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){!function(t){t[t.PhasePending=0]="PhasePending",t[t.PhaseBefore=1]="PhaseBefore",t[t.PhaseActive=2]="PhaseActive",t[t.PhaseAfter=3]="PhaseAfter"}(t.AnimationActionPhase||(t.AnimationActionPhase={}))}(t||(t={})),function(t){!function(t){t[t.Ripple=0]="Ripple",t[t.Flicker=1]="Flicker",t[t.Flow=2]="Flow"}(t.AnimationEffectType||(t.AnimationEffectType={}))}(t||(t={})),function(t){!function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Finish=3]="Finish"}(t.AnimationPlayState||(t.AnimationPlayState={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"effect",{get:function(){return this.__effect},set:function(t){null!=t&&this.__effect==t||(this.__effect=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iterations",{get:function(){return this.__iterations},set:function(t){null!=t&&this.__iterations==t||(this.__iterations=t)},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__effect=t.AnimationEffectType.Ripple,this.__iterations=null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationEffectType,t.AnimationEffectType.Ripple)],n.prototype,"effect",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],n.prototype,"iterations",null),n}(e._AnimationOption),e._EffectAnimationOption=n}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"from",{get:function(){return this.__from},set:function(t){this.__from!=t&&(null==t&&(t=new e._KeyFrameOption),this.__from=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"to",{get:function(){return this.__to},set:function(t){this.__to!=t&&(null==t&&(t=new e._KeyFrameOption),this.__to=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__style=new e._StyleOption(null),this.__from=new e._KeyFrameOption(null),this.__to=new e._KeyFrameOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_KeyFrameOption")],r.prototype,"from",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_KeyFrameOption")],r.prototype,"to",null),r}(e._EffectAnimationOption),e._FlickerEffectAnimationOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbol",{get:function(){return this.__symbol},set:function(t){null!=this.__symbol&&this.__symbol==t||(this.__symbol=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbolHeight",{get:function(){return this.__symbolHeight},set:function(t){null!=this.__symbolHeight&&this.__symbolHeight==t||(this.__symbolHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbolWidth",{get:function(){return this.__symbolWidth},set:function(t){null!=this.__symbolWidth&&this.__symbolWidth==t||(this.__symbolWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"symbolTrail",{get:function(){return this.__symbolTrail},set:function(t){null!=this.__symbolTrail&&this.__symbolTrail==t||(this.__symbolTrail=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoRotate",{get:function(){return this.__autoRotate},set:function(t){this.__autoRotate!=t&&(this.__autoRotate=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__style=new e._StyleOption(null),this.__symbol=null,this.__symbolWidth=10,this.__symbolHeight=10,this.__symbolTrail=0,this.__autoRotate=!1},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"symbol",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],r.prototype,"symbolHeight",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],r.prototype,"symbolWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],r.prototype,"symbolTrail",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"autoRotate",null),r}(e._EffectAnimationOption),e._FlowEffectAnimationOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){null!=this.__opacity&&this.__opacity==t||(this.__opacity=e.prototype.validate.call(this,t))},enumerable:!0,configurable:!0}),n.prototype.init=function(){e.prototype.init.call(this),this.__opacity=null},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],n.prototype,"opacity",null),n}(e._Option),e._KeyFrameOption=n}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this.__count},set:function(t){null!=this.__count&&this.__count==t||(this.__count=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(t){this.__scale!=t&&(this.__scale=this.validate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"from",{get:function(){return this.__from},set:function(t){this.__from!=t&&(null==t&&(t=new e._KeyFrameOption),this.__from=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"to",{get:function(){return this.__to},set:function(t){this.__to!=t&&(null==t&&(t=new e._KeyFrameOption),this.__to=t)},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this),this.__style=new e._StyleOption(null),this.__count=1,this.__scale=new e._ValueOption({type:t.ValueOptionType.Pixel,value:10}),this.__from=new e._KeyFrameOption(null),this.__to=new e._KeyFrameOption(null)},o([t.JsonConverterAttribute(t._OptionConverter,!0,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1)],r.prototype,"count",null),o([t.JsonConverterAttribute(t._RippleScaleConverter,!1),t.ValidatorAttribute(t._RippleScaleValidator,!1)],r.prototype,"scale",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_KeyFrameOption")],r.prototype,"from",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_KeyFrameOption")],r.prototype,"to",null),r}(e._EffectAnimationOption),e._RippleEffectAnimationOption=n}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n._defaultBuildInAnimationTimelineBuilderCollection=function(){return null==n.__buildInAnimationTimelineBuilderCollection&&(n.__buildInAnimationTimelineBuilderCollection=new n([new t._DefaultAnimationTimelineBuilder],n._pluginType)),n.__buildInAnimationTimelineBuilderCollection},n.prototype._convert=function(e){return t._isAnimationTimelineBuilder(e)?e:null},n.prototype._animationTimeline=function(){for(var e=0,n=this._objects(null,null);e<n.length;e++)return n[e].item.buildTimeline();throw new t.RuntimeError(t.ErrorCode.Unknown)},n._pluginType="AnimationTimeline",n}(t._BuildInObjectCollection);t._BuildInAnimationTimelineBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){this.active=!0}return Object.defineProperty(t.prototype,"currentTime",{get:function(){return Date.now()},enumerable:!0,configurable:!0}),t}();t._DefaultAnimationTimeline=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildTimeline=function(){return new t._DefaultAnimationTimeline},e.prototype.queryInterface=function(t){return"IAnimationTimelineBuilder"==t?this:null},e}();t._DefaultAnimationTimelineBuilder=e}(t||(t={})),t||(t={}),function(t){t._isAnimationTimelineBuilder=function(t){return null!=t&&"function"==typeof t.buildTimeline}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e._buildRectangleRingWithBorderRadius=function(e,n,i){var o=this._buildRectangleWithBorderRadius(n.left,n.top,n.width,n.height,i),r=this._buildRectangleWithBorderRadius(e.left,e.top,e.width,e.height,i);return t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o.expression+r.expression)},e._buildRectangleWithBorderRadius=function(e,n,i,o,r){var l=t._PathBuilder._defaultPathBuilder._buildPath();if(null==r||t.shapes._BorderRadiusExtension._isValueEmpty(r.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(r.verticalRadius))l.moveto(parseFloat(e.toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),l.lineto(parseFloat((e+i).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),l.lineto(parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),l.lineto(parseFloat(e.toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),l.close();else{var a=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(r,i,o),s=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topLeft,i,a),u=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topLeft,o,a),_=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topRight,i,a),p=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topRight,o,a),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomRight,i,a),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomRight,o,a),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomLeft,i,a),d=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomLeft,o,a);l.moveto(parseFloat((e+s).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),l.lineto(parseFloat((e+i-_).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),l.quadraticBezierCurve(parseFloat((e+i).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision)),parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+p).toFixed(this.__precision))),l.lineto(parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+o-h).toFixed(this.__precision))),l.quadraticBezierCurve(parseFloat((e+i).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision)),parseFloat((e+i-c).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),l.lineto(parseFloat((e+f).toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision))),l.quadraticBezierCurve(parseFloat(e.toFixed(this.__precision)),parseFloat((n+o).toFixed(this.__precision)),parseFloat(e.toFixed(this.__precision)),parseFloat((n+o-d).toFixed(this.__precision))),l.lineto(parseFloat(e.toFixed(this.__precision)),parseFloat((n+u).toFixed(this.__precision))),l.quadraticBezierCurve(parseFloat(e.toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision)),parseFloat((e+s).toFixed(this.__precision)),parseFloat(n.toFixed(this.__precision))),l.close()}return l},e._buildDonutSegmentRingWithBorderRadius=function(e,n,i,o,r,l,a,s,u){var _=this._buildDonutSegmentWithBorderRadius(e,n,i,o,a,s,u),p=this._buildDonutSegmentWithBorderRadius(e,n,r,l,a,s,u);return t._PathBuilder._defaultPathBuilder._buildPathFromExpression(_.expression+p.expression)},e._buildDonutSegmentWithBorderRadius=function(e,n,i,o,r,l,a){var s=t._PathBuilder._defaultPathBuilder._buildPath();if(null==a||t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius)){var u=r+l;(c=new t.core.Point(e,n)).x+=o*Math.cos(u),c.y+=o*Math.sin(u),s.moveto(parseFloat(c.x.toFixed(this.__precision)),parseFloat(c.y.toFixed(this.__precision))),(h=new t.core.Point(e,n)).x+=i*Math.cos(u),h.y+=i*Math.sin(u),s.lineto(parseFloat(h.x.toFixed(this.__precision)),parseFloat(h.y.toFixed(this.__precision))),(f=new t.core.Point(e,n)).x+=i*Math.cos(r),f.y+=i*Math.sin(r);var _=parseFloat(i.toFixed(this.__precision));Math.abs(u-r)>Math.PI?s.arcTo(_,_,0,1,0,parseFloat(f.x.toFixed(this.__precision)),parseFloat(f.y.toFixed(this.__precision))):s.arcTo(_,_,0,0,0,parseFloat(f.x.toFixed(this.__precision)),parseFloat(f.y.toFixed(this.__precision))),(d=new t.core.Point(e,n)).x+=o*Math.cos(r),d.y+=o*Math.sin(r),s.lineto(parseFloat(d.x.toFixed(this.__precision)),parseFloat(d.y.toFixed(this.__precision)));var p=parseFloat(o.toFixed(this.__precision));Math.abs(u-r)>Math.PI?s.arcTo(p,p,0,1,1,parseFloat(c.x.toFixed(this.__precision)),parseFloat(c.y.toFixed(this.__precision))):s.arcTo(p,p,0,0,1,parseFloat(c.x.toFixed(this.__precision)),parseFloat(c.y.toFixed(this.__precision))),s.close()}else{var c,h,f,d,y=.5*(i+o),g=y*l,m=i-o,v=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(a,m,g),w=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topLeft,m,v),b=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topLeft,g,v),S=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topRight,m,v),P=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topRight,g,v),C=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomRight,m,v),x=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomRight,g,v),V=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomLeft,m,v),D=(u=r+l,r+(g-b)/y),A=r+(g-P)/y,O=r+t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomLeft,g,v)/y,L=r+x/y;(c=new t.core.Point(e,n)).x+=(i-w)*Math.cos(u),c.y+=(i-w)*Math.sin(u),s.moveto(parseFloat(c.x.toFixed(this.__precision)),parseFloat(c.y.toFixed(this.__precision))),(h=new t.core.Point(e,n)).x+=(o+S)*Math.cos(u),h.y+=(o+S)*Math.sin(u),s.lineto(parseFloat(h.x.toFixed(this.__precision)),parseFloat(h.y.toFixed(this.__precision))),(f=new t.core.Point(e,n)).x+=o*Math.cos(u),f.y+=o*Math.sin(u),(d=new t.core.Point(e,n)).x+=o*Math.cos(A),d.y+=o*Math.sin(A),s.quadraticBezierCurve(parseFloat(f.x.toFixed(this.__precision)),parseFloat(f.y.toFixed(this.__precision)),parseFloat(d.x.toFixed(this.__precision)),parseFloat(d.y.toFixed(this.__precision)));var T=new t.core.Point(e,n);T.x+=o*Math.cos(L),T.y+=o*Math.sin(L),_=parseFloat(o.toFixed(this.__precision)),Math.abs(L-A)>Math.PI?s.arcTo(_,_,0,1,0,parseFloat(T.x.toFixed(this.__precision)),parseFloat(T.y.toFixed(this.__precision))):s.arcTo(_,_,0,0,0,parseFloat(T.x.toFixed(this.__precision)),parseFloat(T.y.toFixed(this.__precision)));var M=new t.core.Point(e,n);M.x+=o*Math.cos(r),M.y+=o*Math.sin(r);var I=new t.core.Point(e,n);I.x+=(o+C)*Math.cos(r),I.y+=(o+C)*Math.sin(r),s.quadraticBezierCurve(parseFloat(M.x.toFixed(this.__precision)),parseFloat(M.y.toFixed(this.__precision)),parseFloat(I.x.toFixed(this.__precision)),parseFloat(I.y.toFixed(this.__precision)));var E=new t.core.Point(e,n);E.x+=(i-V)*Math.cos(r),E.y+=(i-V)*Math.sin(r),s.lineto(parseFloat(E.x.toFixed(this.__precision)),parseFloat(E.y.toFixed(this.__precision)));var B=new t.core.Point(e,n);B.x+=i*Math.cos(r),B.y+=i*Math.sin(r);var R=new t.core.Point(e,n);R.x+=i*Math.cos(O),R.y+=i*Math.sin(O),s.quadraticBezierCurve(parseFloat(B.x.toFixed(this.__precision)),parseFloat(B.y.toFixed(this.__precision)),parseFloat(R.x.toFixed(this.__precision)),parseFloat(R.y.toFixed(this.__precision)));var k=new t.core.Point(e,n);k.x+=i*Math.cos(D),k.y+=i*Math.sin(D),p=parseFloat(i.toFixed(this.__precision)),Math.abs(O-D)>Math.PI?s.arcTo(p,p,0,1,1,parseFloat(k.x.toFixed(this.__precision)),parseFloat(k.y.toFixed(this.__precision))):s.arcTo(p,p,0,0,1,parseFloat(k.x.toFixed(this.__precision)),parseFloat(k.y.toFixed(this.__precision)));var F=new t.core.Point(e,n);F.x+=i*Math.cos(u),F.y+=i*Math.sin(u),s.quadraticBezierCurve(parseFloat(F.x.toFixed(this.__precision)),parseFloat(F.y.toFixed(this.__precision)),parseFloat(c.x.toFixed(this.__precision)),parseFloat(c.y.toFixed(this.__precision))),s.close()}return s},e._buildFunnelRingWithBorderRadius=function(e,n){var i=t._PathBuilder._defaultPathBuilder._buildPath();return i.moveto(parseFloat(n.leftTop.x.toFixed(this.__precision)),parseFloat(n.leftTop.y.toFixed(this.__precision))),i.lineto(parseFloat(n.rightTop.x.toFixed(this.__precision)),parseFloat(n.rightTop.y.toFixed(this.__precision))),i.lineto(parseFloat(n.rightNeck.x.toFixed(this.__precision)),parseFloat(n.rightNeck.y.toFixed(this.__precision))),i.lineto(parseFloat(n.rightBottom.x.toFixed(this.__precision)),parseFloat(n.rightBottom.y.toFixed(this.__precision))),i.lineto(parseFloat(n.leftBottom.x.toFixed(this.__precision)),parseFloat(n.leftBottom.y.toFixed(this.__precision))),i.lineto(parseFloat(n.leftNeck.x.toFixed(this.__precision)),parseFloat(n.leftNeck.y.toFixed(this.__precision))),i.lineto(parseFloat(n.leftTop.x.toFixed(this.__precision)),parseFloat(n.leftTop.y.toFixed(this.__precision))),i.close(),i.moveto(parseFloat(e.leftTop.x.toFixed(this.__precision)),parseFloat(e.leftTop.y.toFixed(this.__precision))),i.lineto(parseFloat(e.rightTop.x.toFixed(this.__precision)),parseFloat(e.rightTop.y.toFixed(this.__precision))),i.lineto(parseFloat(e.rightNeck.x.toFixed(this.__precision)),parseFloat(e.rightNeck.y.toFixed(this.__precision))),i.lineto(parseFloat(e.rightBottom.x.toFixed(this.__precision)),parseFloat(e.rightBottom.y.toFixed(this.__precision))),i.lineto(parseFloat(e.leftBottom.x.toFixed(this.__precision)),parseFloat(e.leftBottom.y.toFixed(this.__precision))),i.lineto(parseFloat(e.leftNeck.x.toFixed(this.__precision)),parseFloat(e.leftNeck.y.toFixed(this.__precision))),i.lineto(parseFloat(e.leftTop.x.toFixed(this.__precision)),parseFloat(e.leftTop.y.toFixed(this.__precision))),i.close(),i},e.__precision=3,e}();t._AnimationPathUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildSymbolRingSymbol=function(e,n){if(t.models._isBoxSymbol(e)&&t.models._isBoxSymbol(n)){var i=e,o=n;return new t.models.PathSymbol(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._PathUtility._buildRectangleShape(o.box).expression+t._PathUtility._buildRectangleShape(i.box).expression),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDashSymbol(e)&&t.models._isDashSymbol(n)){for(var r=e,l=n,a=[],s=0;s<r.dash.points.length&&s<l.dash.points.length;s++)a.push(new t._PolylineShape([r.dash.points[s],l.dash.points[s]]));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(a),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDiamondSymbol(e)&&t.models._isDiamondSymbol(n)){var u=e,_=n;return new t.models.PathSymbol(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._PathUtility._buildPolygonShape(_.diamond).expression+t._PathUtility._buildPolygonShape(u.diamond).expression),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDotSymbol(e)&&t.models._isDotSymbol(n)){var p=e,c=n;return new t.models.PathSymbol(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._PathUtility._buildArcShape(c.dot).expression+t._PathUtility._buildArcShape(p.dot).expression),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isPlusSymbol(e)&&t.models._isPlusSymbol(n)){var h=e,f=n;for(a=[],s=0;s<h.plusLine1.points.length&&s<f.plusLine1.points.length;s++)a.push(new t._PolylineShape([h.plusLine1.points[s],f.plusLine1.points[s]]));for(s=0;s<h.plusLine2.points.length&&s<f.plusLine2.points.length;s++)a.push(new t._PolylineShape([h.plusLine2.points[s],f.plusLine2.points[s]]));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(a),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isTriangleSymbol(e)&&t.models._isTriangleSymbol(n)){var d=e,y=n;return new t.models.PathSymbol(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._PathUtility._buildPolygonShape(y.triangle).expression+t._PathUtility._buildPolygonShape(d.triangle).expression),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isXSymbol(e)&&t.models._isXSymbol(n)){var g=e,m=n;for(a=[],s=0;s<g.xLine1.points.length&&s<m.xLine1.points.length;s++)a.push(new t._PolylineShape([g.xLine1.points[s],m.xLine1.points[s]]));for(s=0;s<g.xLine2.points.length&&s<m.xLine2.points.length;s++)a.push(new t._PolylineShape([g.xLine2.points[s],m.xLine2.points[s]]));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(a),n.style,n.matrix,null,t.PathFillType.Evenodd)}return t.models._isPathSymbol(e)&&t.models._isPathSymbol(n)?n:null},e}();t._AnimationSymbolUtility=e}(t||(t={})),function(t){var e=function(e){function n(n,i,o,r,l){var a=e.call(this,n,i,o,r,l)||this,s=n._getPlotView();return t._isBarCartesianPlotView(s)&&(a.__swapAxes=s._swapAxes()),a.__originRect=null,a}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._XyBarCartesianPointView&&(this.__originRect=i._rectangle().clone())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?this.__swapAxes?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height):(this.view._rectangle().left=this.__originRect.left-(n-1)*this.__originRect.width/2,this.view._rectangle().width=n*this.__originRect.width):this.__swapAxes?(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n):(this.view._rectangle().left=this.__originRect.left-n/2,this.view._rectangle().width=this.__originRect.width+n))},n}(t._PointViewScaleAnimationAction);t._BarPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;(i instanceof t._RadialBarCartesianPointView||i instanceof t._SunburstPointView)&&(this.__originRadius=i._getRadius())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this._type==t.AnimationKeyFramesType.Percentage?this.view._setRadius((this.__originRadius-this.view._getInnerRadius())*n+this.view._getInnerRadius()):this.view._setRadius(this.__originRadius+n)},n}(t._PointViewScaleAnimationAction);t._BarRadialPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._FunnelCartesianPointView&&(this.__originFunnel=i._getFunnelPolygon())}},n.prototype._applyScale=function(n){if(e.prototype._applyScale.call(this,n),this._type==t.AnimationKeyFramesType.Percentage)this.view._setFunnelPolygon(this.__originFunnel.scale(n,1));else{var i=this.__originFunnel.topWidth(),o=this.__originFunnel.bottomWidth(),r=void 0;r=0!=i?i:0!=o?o:.7,this.view._setFunnelPolygon(this.__originFunnel.scale((r+n)/r,1))}this.view._refresh()},n}(t._PointViewScaleAnimationAction);t._FunnelPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n,0,1)||this;return i._reversed=e._reversed(),i._isNegative=!e._isPositive(),i}return i(e,t),e.prototype._xor=function(t,e){return t!=e},e}(t._TransitionViewAnimationAction);t._BarPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.__swapAxes=i,o.__rect=o.view._rectangle().clone(),o}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this.__rect.clone(),i=this._isNegative;this.__swapAxes?this._xor(i,this._reversed)?(n.left=this.__rect.left+(this.__rect.width-this.__rect.width*e),n.width=this.__rect.width*e):n.width=this.__rect.width*e:(this._xor(i,this._reversed)||(n.top=this.__rect.top+this.__rect.height-this.__rect.height*e),n.height=this.__rect.height*e),this.view._updateRectangle(n)},e}(t._BarPointTransitionViewAnimationAction);t._BarPointRectangleTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.__swapAxes=i,o.__xs=o.view._getXs(),o.__ys=o.view._getYs(),o.__swapAxes?(o.__min=Math.min.apply(Math,o.__xs),o.__max=Math.max.apply(Math,o.__xs)):(o.__min=Math.min.apply(Math,o.__ys),o.__max=Math.max.apply(Math,o.__ys)),o}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.view._setXs([].concat(this.__xs)),this.view._setYs([].concat(this.__ys))},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this._isNegative,i=this.__max,o=this.__min;this.__swapAxes?this._xor(n,this._reversed)?this.view._setXs(this.__xs.map((function(t){return i-(i-t)*e}))):this.view._setXs(this.__xs.map((function(t){return(t-o)*e+o}))):this._xor(n,this._reversed)?this.view._setYs(this.__ys.map((function(t){return(t-o)*e+o}))):this.view._setYs(this.__ys.map((function(t){return i-(i-t)*e})))},e}(t._BarPointTransitionViewAnimationAction);t._FunnelBarPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__innerRadius=i.view._getInnerRadius(),i.__radius=i.view._getRadius(),i}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){if(t.prototype._applyScale.call(this,e),this._xor(this._isNegative,this._reversed)){var n=this.__radius-(this.__radius-this.__innerRadius)*e;this.view._setInnerRadius(n)}else{var i=(this.__radius-this.__innerRadius)*e+this.__innerRadius;this.view._setRadius(i)}},e}(t._BarPointTransitionViewAnimationAction);t._RadialBarPointRadiusTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__sweep=i.view._getSweep(),i.__startAngle=i.view._getStartAngle(),i}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this.__sweep*e;if(this._xor(this._isNegative,this._reversed)){var i=this.__startAngle+this.__sweep;this.view._setStartAngle(i-n)}this.view._setSweep(n)},e}(t._BarPointTransitionViewAnimationAction);t._RadialBarPointSweepTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=[];e._traverseCartesianGroupView((function(t){for(var e=0,n=t._getCartesianSeriesViews();e<n.length;e++){var i=n[e];o.push.apply(o,i._filterPointViews())}})),o.sort(this._pointSort);for(var r=[],l=o.length,a=0;a<l;a++){var s=o[a],u=null;if(n.mode===t.AnimationMode.Group){var _=s._data(),p=_._getSeries().plot()._seriesList(),c=p.indexOf(_._getSeries());(u=t._ActionTiming._createTiming(n.easing,c,p.length,n.duration,n.staggering)).startDelay+=n.startDelay}else n.mode===t.AnimationMode.Point?(u=t._ActionTiming._createTiming(n.easing,a,o.length,n.duration,n.staggering)).startDelay+=n.startDelay:u=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var h=this._createAnimationAction(s,u);null!=h&&r.push(h)}return new t._FrameAnimation(n,r,i)},e.prototype._pointSort=function(t,e){var n=t._getCartesianSeriesView()._getCartesianGroupView(),i=n._getXValue(t._data()),o=n._getXValue(e._data());return(null==i?0:i)-(null==o?0:o)},e}();t._CartesianPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createUpdateAnimationAction=function(t,e,n,i){if(!t._isVisible()&&!e._isVisible())return null;var o=this._createSeriesUpdateAnimationAction(t,e,n,i);if(null!=o)return o;var r=this._createPointUpdateAnimationAction(t,e,n,i);return null!=r?r:null},n.prototype._createSeriesUpdateAnimationAction=function(t,e,n,i){return null},n.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return t._isPointView(e)&&t._isCartesianPointView(n)&&t._isCartesianPointView(i)?new t._DisplayablePointViewAnimationAction(e,n,i,o):null},n.prototype._createAppearAnimationAction=function(t,n){if(!t._isVisible())return null;var i=this._createSeriesAppearAnimationAction(t,n);if(null!=i)return i;var o=this._createPointAppearAnimationAction(t,n);return null!=o?o:e.prototype._createAppearAnimationAction.call(this,t,n)},n.prototype._createSeriesAppearAnimationAction=function(t,e){return null},n.prototype._createPointAppearAnimationAction=function(t,e){return null},n.prototype._getAnimatableViews=function(t){return t._visualViews},n.prototype._cloneAnimatableView=function(e){return e instanceof t._CartesianSeriesView?this._cloneSeriesView(e):t._isCartesianPointView(e)?this._clonePointView(e):e},n.prototype._cloneSeriesView=function(t){return t},n.prototype._clonePointView=function(e){var n=new t._CartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n},n}(t._PlotViewUpdateAnimationBuilder);t._CartesianPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createPointUpdateAnimationAction=function(n,i,o,r){if(n instanceof t._SymbolCartesianPointView&&i instanceof t._SymbolCartesianPointView&&o instanceof t._SymbolCartesianPointView){if(n.shape==i.shape)return new t._SymbolCartesianPointUpdateViewAnimationAction(n,i,o,r)}else if(n instanceof t._TextCartesianPointView)return null;return e.prototype._createPointUpdateAnimationAction.call(this,n,i,o,r)},n.prototype._clonePointView=function(n){if(n instanceof t._SymbolCartesianPointView){var i=new t._SymbolCartesianPointView(n._getCartesianSeriesView(),n._data(),null);return i._updateRectangle(n._rectangle().clone()),i._updateLegendSize(n.size),i._updateLegendColor(n.color),i._updateLegendShape(n.shape),i._updateLegendBackgroundColor(n.backgroundColor),t.CartesianPointViewClone.cloneVertex(i,n),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._clonePointView.call(this,n)},n}(t._CartesianPlotViewUpdateAnimationBuilder);t._SymbolCartesianPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__rect=this.view._rectangle().clone();var n=this._defaultStyle();t._StyleUtility._applyStyleOption(n,this._rippleEffectDefinition().style),this.__symbol=t._AnimationSymbolUtility._buildSymbolRingSymbol(this.view._symbol(),this.view._symbolDefinition().createSymbol(this.__rect,n))},n.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle();if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var o=n*this._rippleEffectDefinition().scale.value;this.__rect=new t.core.Rect(i.left-.5*o,i.top-.5*o,i.width+o,i.height+o)}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var r=n*(this._rippleEffectDefinition().scale.value-1),l=.5*i.width,a=.5*i.height;this.__rect=new t.core.Rect(i.left-l*r,i.top-a*r,i.width+2*l*r,i.height+2*a*r)}var s=this._defaultStyle();t._StyleUtility._applyStyleOption(s,this._rippleEffectDefinition().style),this.__symbol=t._AnimationSymbolUtility._buildSymbolRingSymbol(this.view._symbol(),this.view._symbolDefinition().createSymbol(this.__rect,s))},n.prototype._draw=function(t,e){var n=this.view;null!=n&&n._isVisible()&&null!=this.__symbol&&n._getPlotView()._rectangle().width>0&&n._getPlotView()._rectangle().height>0&&this.__symbol.render(t,e)},n}(t._RippleEffectViewAnimationAction);t._SymbolPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__originRect=null,l}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._SymbolCartesianPointView&&(this.__originRect=i._rectangle().clone())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height,this.view._rectangle().left=this.__originRect.left-(n-1)*this.__originRect.width/2,this.view._rectangle().width=n*this.__originRect.width):(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n,this.view._rectangle().left=this.__originRect.left-n/2,this.view._rectangle().width=this.__originRect.width+n))},n}(t._PointViewScaleAnimationAction);t._SymbolPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__rect=r.__fromRectangle=t._rectangle().clone(),r.__toRectangle=n._rectangle().clone(),r.__fromRectangle.equalsWith(r.__toRectangle)&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._updateRectangle(this.__rect),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){var n=(this.__toRectangle.left-this.__fromRectangle.left)*e,i=(this.__toRectangle.top-this.__fromRectangle.top)*e,o=this.__fromRectangle.left+n,r=this.__fromRectangle.top+i,l=this.__toRectangle.width,a=this.__toRectangle.height;this.__rect=new t.core.Rect(o,r,l,a)},n.prototype._draw=function(t,e){this.view.showSymbol()&&this.view._renderSymbol(t,this.__rect,e)},n.prototype._contains=function(t){var e=this.__rect;return null!=e&&e.contains(t)},n.prototype._cutOff=function(){return!0},n}(t._ViewTransitionViewAnimationAction);t._SymbolCartesianPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AreaLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._AreaCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._AreaPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o){this.shape=t,this.__points=e,this.__centers=n,this.__indexs=i,this.__hasSymbol=o,this._onCreate()}return t.prototype._onCreate=function(){if(this.__hasSymbol)for(var t=0,e=this.__points;t<e.length;t++)e[t]._visible=!1},t.prototype._onStart=function(){if(this.__hasSymbol)for(var t=0,e=this.__points;t<e.length;t++){var n=e[t];n._visible=!0,n._scale=0}},t.prototype._onEnd=function(){if(this.__hasSymbol)for(var t=0;t<this.__points.length;++t){var e=this.__points[t];this._translateTo(e._rectangle(),this.__centers[t]),e._scale=1,e._visible=!0}},t.prototype._translateTo=function(t,e){t.left=e.x-t.width/2,t.top=e.y-t.height/2},t.prototype._getAnimationShape=function(t,e){var n=this.shape.clone();if(0==n._upperLine().length)return n;if(0==n._lowerLine().length){var i=n._upperLine()[0];n._upperLine().forEach((function(e,n){e.x=(e.x-i.x)*t+i.x,e.y=(e.y-i.y)*t+i.y}))}else n._upperLine().forEach((function(i,o){e?n._lowerLine().length==n._upperLine().length?i.x=(i.x-n._lowerLine()[o].x)*t+n._lowerLine()[o].x:i.x=(i.x-n._lowerLine()[0].x)*t+n._lowerLine()[0].x:n._lowerLine().length==n._upperLine().length?i.y=(i.y-n._lowerLine()[o].y)*t+n._lowerLine()[o].y:i.y=(i.y-n._lowerLine()[0].y)*t+n._lowerLine()[0].y}));if(this.__hasSymbol){var o=n._upperLine(),r=this.__points.length;t<0&&(t=0);for(var l=0;l<r;++l){var a=this.__points[l];this._translateTo(a._rectangle(),o[this.__indexs[l]]),a._scale=t}}return n},t._equal=function(t,e){return Math.abs(t-e)<.001},t._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},t._build=function(t,e,n){return this._from(t,e,n)},t._from=function(e,n,i){if(null==e||null==n)return null;for(var o=[],r=[],l=e._upperLine(),a=0,s=l.length,u=[],_=0,p=n;_<p.length;_++){var c=p[_];if(c)for(var h=c._rectangle().center;a<s;){if(this._equalsWith(h,l[a])){r.push(a),u.push(c),o.push(h),++a;break}++a}}return u.length==r.length&&u.length>0?new t(e,u,o,r,i):null},t}();t._AreaLoadingAnimationGroupClip=e}(t||(t={})),function(t){var e=function(){function t(t,e){this.start=0,this.shape=t.clone(),this.total=e.length,this._calcViewsIndex(t,e)}return t.makeChain=function(t){for(var e=0,n=0,i=t;n<i.length;n++)(l=i[n]).start=e,e+=l.views.length;for(var o=0,r=t;o<r.length;o++){var l;(l=r[o]).total=e}},t.prototype._calcViewsIndex=function(t,e){this.indexs=[];for(var n=0,i=t._upperLine(),o=i.length,r=[],l=0,a=e;l<a.length;l++){var s=a[l];if(null!=s)for(var u=s._rectangle().center;n<o;){if(this._equalsWith(u,i[n])){this.indexs.push(n),r.push(s),++n;break}++n}}this.views=r},t.prototype.animateShape=function(t,e,n){for(var i,o,r=this.shape.clone(),l=r._upperLine().length,a=r._lowerLine().length,s=t*(this.views.length-1),u=!0,_=0;_<this.views.length;++_)_<s?(i=_,n&&(this.views[_]._visible=!0)):(u&&(o=_,u=!1),n&&(this.views[_]._visible=!1));if(null==i)r._upperLine().splice(1),r._lowerLine().splice(1);else if(!u){var p=(s-i)/(o-i),c=this._lerpPointWithIndex(r._upperLine(),this.indexs[i],this.indexs[o],p),h=Math.floor((this.indexs[o]-this.indexs[i])*p)+this.indexs[i]+1;if(r._upperLine().splice(h),r._upperLine().push(c),0==r._lowerLine().length)return r;var f=Math.floor((a-1)*t);f=f<1?1:f;var d=r._lowerLine()[f];if(r._lowerLine().splice(f),e){var y=c.clone();if(a==l){var g=r._lowerLine()[f-1];y.x=g.x+p*(d.x-g.x)}else y.x=r._lowerLine()[0].x;r._lowerLine().push(y)}else y=c.clone(),a==l?(g=r._lowerLine()[f-1],y.y=g.y+p*(d.y-g.y)):y.y=r._lowerLine()[0].y,r._lowerLine().push(y)}return r},t.prototype._lerpPointWithIndex=function(t,e,n,i){var o=e+(n-e)*i;return this._lerpPoint(t[Math.floor(o)],t[Math.ceil(o)],i)},t.prototype._lerpPoint=function(t,e,n){var i=t.clone();return i.x+=(e.x-t.x)*n,i.y+=(e.y-t.y)*n,i},t.prototype.animateViews=function(t){for(var e=0;e<this.views.length;++e){var n=this.views[e];t>=1||this.indexs[e]<t*this.shape._upperLine().length-1?n._visible=!0:n._visible=!1}},t.prototype._equal=function(t,e){return Math.abs(t-e)<.001},t.prototype._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},t}();t._AreaLoadingAnimationPointClip=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=e._calculateSeriesViewCount(),l=0,a=0,s=e._getCartesianGroupViews();a<s.length;a++)for(var u=0,_=s[a]._getCartesianSeriesViews();u<_.length;u++){var p=_[u];if(p instanceof t._AreaCartesianSeriesView){if(null==p._getSeriesShapes())continue;var c=null;if(n.mode===t.AnimationMode.All){c=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var h=new t._AreaSeriesShapeGroupClipTransitionViewAnimationAction(p,c,e._swapAxes());o.push(h)}else n.mode===t.AnimationMode.Group?((c=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay,h=new t._AreaSeriesShapeGroupClipTransitionViewAnimationAction(p,c,e._swapAxes()),o.push(h)):(c=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),h=new t._AreaSeriesShapePointClipTransitionViewAnimationAction(p,c),o.push(h))}l++}return new t._FrameAnimation(n,o,i)},e}();t._AreaPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__swapAxes=i,o.__hasSymbol=o.view._getCartesianSeriesDataModel()._symbols(),o}return i(n,e),n.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this._getRelativePointViews(this.view);this.__clips=this.view._getSeriesShapes().map((function(e,o){return t._AreaLoadingAnimationGroupClip._build(e.clone(),i[o],n.__hasSymbol)})).filter((function(t){return null!=t}))},n.prototype._onStart=function(){if(e.prototype._onStart.call(this),this.__clips)for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onStart()},n.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)(l=n[t])._onEnd();for(var i=[],o=0,r=this.__clips;o<r.length;o++){var l=r[o];i.push(l.shape)}this.view._setSeriesShapes(i),this.__clips=null}},n.prototype._applyScale=function(t){var e=this;this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(n){return n._getAnimationShape(t,e.__swapAxes)})))},n.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},n}(t._TransitionViewAnimationAction);t._AreaSeriesShapeGroupClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.__hasSymbol=i.view._getCartesianSeriesDataModel()._symbols(),i}return i(n,e),n.prototype._onPending=function(){if(e.prototype._onPending.call(this),this.__hasSymbol)for(var n=0,i=this.view._getPointViews();n<i.length;n++)i[n]._visible=!1;var o=this._getRelativePointViews(this.view);this.__clips=[];for(var r=0;r<this.view._getSeriesShapes().length&&r<o.length;++r){var l=this.view._getSeriesShapes()[r];0==l._lowerLine().length&&0==l._upperLine().length||0==o[r].length||this.__clips.push(new t._AreaLoadingAnimationPointClip(l.clone(),o[r]))}t._AreaLoadingAnimationPointClip.makeChain(this.__clips)},n.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__hasSymbol)for(var t=0,n=this.view._getPointViews();t<n.length;t++)n[t]._visible=!0;if(this.__clips){for(var i=[],o=0,r=this.__clips;o<r.length;o++){var l=r[o];i.push(l.shape)}this.view._setSeriesShapes(i)}this.__clips=null},n.prototype._applyScale=function(t){for(var e=[],n=0;n<this.__clips.length;++n){var i=this.__clips[n],o=(i.total*t-i.start)/i.views.length;e.push(i.animateShape(o,this.view._swapAxes(),this.view._getCartesianSeriesDataModel()._symbols()))}this.view._setSeriesShapes(e)},n.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},n}(t._TransitionViewAnimationAction);t._AreaSeriesShapePointClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AreaUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._AreaCartesianPlotDefinition){var r=new t._AreaPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesUpdateAnimationAction=function(n,i,o,r){if(n instanceof t._AreaCartesianSeriesView&&i instanceof t._AreaCartesianSeriesView&&o instanceof t._AreaCartesianSeriesView){var l=t._AreaSeriesAnimationShapeBuilder.createAnimationShapeBuilders(n,i);if(l.length>0)return new t._AreaSeriesUpdateViewAnimationAction(n,i,o,r,l)}return e.prototype._createSeriesUpdateAnimationAction.call(this,n,i,o,r)},n.prototype._cloneSeriesView=function(n){if(n instanceof t._AreaCartesianSeriesView){var i=new t._AreaCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._cloneSeriesView.call(this,n)},n}(t._SymbolCartesianPlotViewUpdateAnimationBuilder);t._AreaPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){void 0===i&&(i=null),this.__shape=new t._AreaShape(e,n),this.__data=i}return e.prototype._data=function(){return this.__data},e.prototype._shape=function(){return this.__shape},e}(),n=function(){function n(t,e,n,i){this.__lowerFromPoints=t,this.__lowerToPoints=e,this.__upperFromPoints=n,this.__upperToPoints=i}return n.prototype.getAreaShape=function(e){var n=this,i=this.__lowerToPoints.map((function(t){return null!=t?t.clone():null})),o=this.__upperToPoints.map((function(t){return null!=t?t.clone():null}));return new t._AreaShape(i.map((function(t,i){if(i<n.__lowerFromPoints.length){var o=(t.x-n.__lowerFromPoints[i].x)*e,r=(t.y-n.__lowerFromPoints[i].y)*e;t.x=n.__lowerFromPoints[i].x+o,t.y=n.__lowerFromPoints[i].y+r}return t})),o.map((function(t,i){if(i<n.__upperFromPoints.length){var o=(t.x-n.__upperFromPoints[i].x)*e,r=(t.y-n.__upperFromPoints[i].y)*e;t.x=n.__upperFromPoints[i].x+o,t.y=n.__upperFromPoints[i].y+r}return t})))},n._createAnimationShapeBuildersWithAnimationInfo=function(e,i){var o=[],r=function(e,n){return e instanceof t._RangeValuePointDataModel&&n instanceof t._RangeValuePointDataModel?null!=e&&null!=n&&e._displayLower()==n._displayLower()&&e._displayUpper()==n._displayUpper()&&e.dimension==n.dimension:null!=e&&null!=n&&e.value==n.value&&e.dimension==n.dimension};return i.forEach((function(i){for(var l=null,a=0;a<e.length;a++){var s=e[a],u=t._Util.findMaxSameArrayOf(s._data(),i._data(),r);if(null!=u){for(var _=[],p=[],c=[],h=[],f=s._shape()._lowerLine().length==s._shape()._upperLine().length&&i._shape()._lowerLine().length==i._shape()._upperLine().length,d=0;d<s._shape()._upperLine().length;d++)d<u.arrayStart&&(_.push(s._shape()._upperLine()[d]),p.push(i._shape()._upperLine()[u.otherStart]));if(f)for(d=0;d<s._shape()._lowerLine().length;d++)d<u.arrayStart&&(c.push(s._shape()._lowerLine()[d]),h.push(i._shape()._lowerLine()[u.otherStart]));for(d=0;d<i._shape()._upperLine().length;d++)d<u.otherStart&&(_.push(s._shape()._upperLine()[u.arrayStart]),p.push(i._shape()._upperLine()[d]));if(f)for(d=0;d<s._shape()._lowerLine().length;d++)d<u.otherStart&&(c.push(s._shape()._lowerLine()[u.arrayStart]),h.push(i._shape()._lowerLine()[d]));for(d=0;d<s._shape()._upperLine().length;d++)d>=u.arrayStart&&d<=u.arrayEnd&&_.push(s._shape()._upperLine()[d]);if(f)for(d=0;d<s._shape()._lowerLine().length;d++)d>=u.arrayStart&&d<=u.arrayEnd&&c.push(s._shape()._lowerLine()[d]);for(d=0;d<i._shape()._upperLine().length;d++)d>=u.otherStart&&d<=u.otherEnd&&p.push(i._shape()._upperLine()[d]);if(f)for(d=0;d<i._shape()._lowerLine().length;d++)d>=u.otherStart&&d<=u.otherEnd&&h.push(i._shape()._lowerLine()[d]);for(d=0;d<i._shape()._upperLine().length;d++)d>u.otherEnd&&(_.push(s._shape()._upperLine()[u.arrayEnd]),p.push(i._shape()._upperLine()[d]));if(f)for(d=0;d<i._shape()._lowerLine().length;d++)d>u.otherEnd&&(c.push(s._shape()._lowerLine()[u.arrayEnd]),h.push(i._shape()._lowerLine()[d]));for(d=0;d<s._shape()._upperLine().length;d++)d>u.arrayEnd&&(_.push(s._shape()._upperLine()[d]),p.push(i._shape()._upperLine()[u.otherEnd]));if(f)for(d=0;d<s._shape()._lowerLine().length;d++)d>u.arrayEnd&&(c.push(s._shape()._lowerLine()[d]),h.push(i._shape()._lowerLine()[u.otherEnd]));f||(c=s._shape()._lowerLine(),h=i._shape()._lowerLine()),l=new n(c,h,_,p),o.push(l);break}}null==l&&(l=new n([],i._shape()._lowerLine(),[],i._shape()._upperLine()),o.push(l))})),o},n._createAreaSeriesShapeAnimationInfos=function(t){if(null==t||t._getSeriesShapes().length<=0)return[];for(var n=t._getShapePointViews(),i=[],o=t._getSeriesShapes(),r=0;r<o.length;r++)null!=n[r]&&i.push(new e(o[r]._lowerLine(),o[r]._upperLine(),n[r]));return i},n.createAnimationShapeBuilders=function(t,e){var n=this._createAreaSeriesShapeAnimationInfos(t),i=this._createAreaSeriesShapeAnimationInfos(e),o=!1;if(n.length==i.length){o=!0;for(var r=0;r<n.length;r++){var l=n[r],a=i[r];if(!l._shape().equalsWith(a._shape())){o=!1;break}}}var s=[];return o||(s=this._createAnimationShapeBuildersWithAnimationInfo(n,i)),s},n}();t._AreaSeriesAnimationShapeBuilder=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,e,n,o)||this;return l.__cache=i,l.__animationShapeBuilders=r,l.__shapes=e._getSeriesShapes().map((function(t){return t.clone()})),l}return i(e,t),e.prototype._onPending=function(){t.prototype._onPending.call(this);var e=this.view.queryInterface("IDisplayablePipeLine");null!=e&&(e._unshift(this),this.__pipeline=e)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.__cache._setSeriesShapes(this.__shapes),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this.__shapes=e>=1?this.view._getSeriesShapes().map((function(t){return t.clone()})):this.__animationShapeBuilders.map((function(t){return t.getAreaShape(e)}))},e.prototype._draw=function(t,e){this.view._renderAreaShapes(t,e,this.__shapes)},e.prototype._contains=function(t){var e=!0;return this.__shapes.forEach((function(n){n.contains(t)||(e=!1)})),e},e.prototype._cutOff=function(){return!0},e}(t._ViewTransitionViewAnimationAction);t._AreaSeriesUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="BarLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._BarCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._BarPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n){var i=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();return e instanceof t._XyBarCartesianPointView?new t._BarPointRectangleTransitionViewAnimationAction(e,n,i._swapAxes()):e instanceof t._FunnelCartesianPointView?new t._FunnelBarPointTransitionViewAnimationAction(e,n,i._swapAxes()):e instanceof t._RadialBarCartesianPointView?i._swapAxes()?new t._RadialBarPointRadiusTransitionViewAnimationAction(e,n):new t._RadialBarPointSweepTransitionViewAnimationAction(e,n):null},n}(t._CartesianPlotViewLoadingAnimationBuilder);t._BarPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="BarUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._BarCartesianPlotDefinition){var r=new t._BarPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildAnimation=function(n,i,o){var r=e.prototype.buildAnimation.call(this,n,i,o);if(null!=r){for(var l=!1,a=0,s=r.actions;a<s.length;a++)if((h=s[a])instanceof t._BarPointRectangleTransitionViewAnimationAction){l=!0;break}if(l)for(var u=new t._ActionTiming(i.easing,i.startDelay+i.duration/3,i.endDelay,2*i.duration/3),_=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,2*i.duration/3),p=0,c=r.actions;p<c.length;p++){var h;(h=c[p])instanceof t._BarPointRectangleTransitionViewAnimationAction?h.timing=u:h.timing=_}}return r},n.prototype._createAppearAnimationAction=function(n,i){if(n instanceof t._XyBarCartesianPointView){var o=n._getPlotView();return new t._BarPointRectangleTransitionViewAnimationAction(n,i,o._swapAxes())}return n instanceof t._RadialBarCartesianPointView?(o=n._getPlotView())._swapAxes()?new t._RadialBarPointRadiusTransitionViewAnimationAction(n,i):new t._RadialBarPointSweepTransitionViewAnimationAction(n,i):e.prototype._createAppearAnimationAction.call(this,n,i)},n.prototype._createPointUpdateAnimationAction=function(n,i,o,r){return n instanceof t._RadialBarCartesianPointView&&i instanceof t._RadialBarCartesianPointView&&o instanceof t._RadialBarCartesianPointView&&this._borderRadiusEquals(n,i)?new t._RadialPointUpdateViewAnimationAction(n,i,o,r):n instanceof t._TextCartesianPointView?null:e.prototype._createPointUpdateAnimationAction.call(this,n,i,o,r)},n.prototype._borderRadiusEquals=function(t,e){return!0},n.prototype._clonePointView=function(n){if(n instanceof t._RadialBarCartesianPointView){var i=new t._RadialBarCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return i._setCenter(n._getCenter().clone()),i._setRadius(n._getRadius()),i._setInnerRadius(n._getInnerRadius()),i._setStartAngle(n._getStartAngle()),i._setSweep(n._getSweep()),i._scale=n._scale,t.CartesianPointViewClone.cloneVertex(i,n),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._clonePointView.call(this,n)},n}(t._CartesianPlotViewUpdateAnimationBuilder);t._BarPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__center=r.__fromCenter=t._getCenter().clone(),r.__radius=r.__fromRadius=t._getRadius(),r.__innerRadius=r.__fromInnerRadius=t._getInnerRadius(),r.__startAngle=r.__fromStartAngle=t._getStartAngle(),r.__sweep=r.__fromSweep=t._getSweep(),r.__toCenter=n._getCenter().clone(),r.__toRadius=n._getRadius(),r.__toInnerRadius=n._getInnerRadius(),r.__toStartAngle=n._getStartAngle(),r.__toSweep=n._getSweep(),r.__borderRadius=n._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r.__pointScale=n._scale,r.__gradientFillDirection=n._getPlotView()._getDefinition()._plotConfigOption.gradientFillDirection,r.__fromCenter.equalsWith(r.__toCenter)&&r.__fromRadius==r.__toRadius&&r.__fromInnerRadius==r.__toInnerRadius&&r.__fromStartAngle==r.__toStartAngle&&r.__fromSweep==r.__toSweep&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._setCenter(this.__center),this.__cache._setStartAngle(this.__toStartAngle),this.__cache._setSweep(this.__toSweep),this.__cache._setInnerRadius(this.__toInnerRadius),this.__cache._setRadius(this.__toRadius),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){var n=(this.__toCenter.x-this.__fromCenter.x)*e,i=(this.__toCenter.y-this.__fromCenter.y)*e,o=(this.__toStartAngle-this.__fromStartAngle)*e,r=(this.__toSweep-this.__fromSweep)*e,l=(this.__toRadius-this.__fromRadius)*e,a=(this.__toInnerRadius-this.__fromInnerRadius)*e;this.__center=new t.core.Point(this.__fromCenter.x+n,this.__fromCenter.y+i),this.__startAngle=this.__fromStartAngle+o,this.__sweep=this.__fromSweep+r,this.__innerRadius=this.__fromInnerRadius+a,this.__radius=this.__fromRadius+l},n.prototype._draw=function(e,n){var i=this.__center.x,o=this.__center.y,r=this.__radius*((this.__pointScale-1)/2+1),l=this.__innerRadius*(1-(this.__pointScale-1)/2),a=this.__startAngle,s=this.__sweep,u=this.__borderRadius,_=t._PathUtility._buildDonutSegmentWithBorderRadius(i,o,r,l,a,s,u),p=this.__gradientFillDirection;if(null!=p&&p!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){e.beginTransform();var c=t._ColorStopUtility._calcColorStopWithRadius(e.fill.colorStops,p==t.GradientFillDirection.InnerRadius?l:0,r),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,r==l&&s>=t._Utility._PI2)e.drawDonut(i,o,r,l,a,s,null);else{var y=null;if(null!=_)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(_);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i,o,r,l,a,s);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i,o,r,r,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i,o,r,l,a,s,null)}e.restoreTransform()}else null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(this.__center.x,this.__center.y,this.__radius*((this.__pointScale-1)/2+1),this.__innerRadius*(1-(this.__pointScale-1)/2),this.__startAngle,this.__sweep,null)},n.prototype._contains=function(t){var e=t.x-this.__center.x,n=t.y-this.__center.y,i=e*e+n*n,o=this.__innerRadius*this.__innerRadius,r=this.__radius*this.__radius;if(i>=o&&i<=r){var l=90*this.__sweep/Math.PI,a=this._clampAngle(180*this.__startAngle/Math.PI+l),s=180*Math.atan2(n,e)/Math.PI,u=this._clampAngle(a-s);if(Math.abs(u)<=l)return!0}return!1},n.prototype._cutOff=function(){return!0},n.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},n}(t._ViewTransitionViewAnimationAction);t._RadialPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&t._isCartesianPointView(e))return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._XyBarCartesianPointView){var r=new t._BarPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}if(e instanceof t._RadialBarCartesianPointView)return r=new t._BarRadialPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r);if(t._isFunnelCartesianPointView(e))return r=new t._FunnelPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r);if(e instanceof t._SymbolCartesianPointView)return r=new t._SymbolPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.CartesianHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._BarPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._XyBarCartesianPointView){var n=new t._XyBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},n}(t._HighlightAnimationBuilder);t._BarPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._BarRadialPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._RadialBarCartesianPointView){var n=new t._RadialBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return n._setCenter(e._getCenter().clone()),n._setRadius(e._getRadius()),n._setInnerRadius(e._getInnerRadius()),n._setStartAngle(e._getStartAngle()),n._setSweep(e._getSweep()),n._scale=e._scale,t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},n}(t._HighlightAnimationBuilder);t._BarRadialPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._FunnelPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._FunnelCartesianPointView){var n=new t._FunnelCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._setFunnelPolygon(e._getFunnelPolygon().clone()),n.cloneId(e),n}return null},n}(t._HighlightAnimationBuilder);t._FunnelPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._SymbolPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._SymbolCartesianPointView){var n=new t._SymbolCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},n}(t._HighlightAnimationBuilder);t._SymbolPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._XyBarCartesianPointView){var r=new t._BarPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}if(e instanceof t._RadialBarCartesianPointView)return r=new t._BarRadialPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r);if(t._isFunnelCartesianPointView(e))return r=new t._FunnelPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r);if(e instanceof t._SymbolCartesianPointView)return r=new t._SymbolPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.CartesianHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._BarPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._XyBarCartesianPointView){var n=new t._XyBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},n}(t._HoverAnimationBuilder);t._BarPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._BarRadialPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._RadialBarCartesianPointView){var n=new t._RadialBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return n._setCenter(e._getCenter().clone()),n._setRadius(e._getRadius()),n._setInnerRadius(e._getInnerRadius()),n._setStartAngle(e._getStartAngle()),n._setSweep(e._getSweep()),n._scale=e._scale,t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},n}(t._HoverAnimationBuilder);t._BarRadialPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._FunnelPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._FunnelCartesianPointView){var n=new t._FunnelCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._setFunnelPolygon(e._getFunnelPolygon().clone()),n.cloneId(e),n}return null},n}(t._HoverAnimationBuilder);t._FunnelPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._SymbolPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._SymbolCartesianPointView){var n=new t._SymbolCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},n}(t._HoverAnimationBuilder);t._SymbolPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple){if(e instanceof t._XyBarCartesianPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._BarPointViewRippleEffectAnimationBuilder);if(e instanceof t._RadialBarCartesianPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._BarRadialPointViewRippleEffectAnimationBuilder);if(t._isFunnelCartesianPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._FunnelPointViewRippleEffectAnimationBuilder);if(t._isSymbolCartesianPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._SymbolPointViewRippleEffectAnimationBuilder)}}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__rect=this.view._rectangle().clone();var n=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius;this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(this.__rect,this.__rect,n)},n.prototype._xor=function(t,e){return t!=e},n.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle(),o=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r=n*this._rippleEffectDefinition().scale.value,l=n*(this._rippleEffectDefinition().scale.value-1),a=!this.view._isPositive(),s=this.view._isBaseLinePoint();if(this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()){var u=.5*i.height;this._xor(a,this.view._reversed())?this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=s?new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+.5*r,i.height+r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=s?new t.core.Rect(i.left-u*l,i.top-u*l,i.width+u*l,i.height+2*u*l):new t.core.Rect(i.left-u*l,i.top-u*l,i.width+2*u*l,i.height+2*u*l)):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=s?new t.core.Rect(i.left,i.top-.5*r,i.width+.5*r,i.height+r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=s?new t.core.Rect(i.left,i.top-u*l,i.width+u*l,i.height+2*u*l):new t.core.Rect(i.left-u*l,i.top-u*l,i.width+2*u*l,i.height+2*u*l))}else u=.5*i.width,this._xor(a,this.view._reversed())?this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=s?new t.core.Rect(i.left-.5*r,i.top,i.width+r,i.height+.5*r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=s?new t.core.Rect(i.left-u*l,i.top,i.width+2*u*l,i.height+u*l):new t.core.Rect(i.left-u*l,i.top-u*l,i.width+2*u*l,i.height+2*u*l)):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=s?new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+.5*r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=s?new t.core.Rect(i.left-u*l,i.top-u*l,i.width+2*u*l,i.height+u*l):new t.core.Rect(i.left-u*l,i.top-u*l,i.width+2*u*l,i.height+2*u*l));this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(this.view._rectangle(),this.__rect,o)},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._StyleUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},n}(t._RippleEffectViewAnimationAction);t._BarPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._BarPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._BarPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._applyTransformation=function(n){if(e.prototype._applyTransformation.call(this,n),this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var i=n*this._rippleEffectDefinition().scale.value;this.__radius=this.view._getRadius()+.5*i,this.__innerRadius=this.view._getInnerRadius()-.5*i}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var o=n*(this._rippleEffectDefinition().scale.value-1),r=.5*(this.view._getRadius()-this.view._getInnerRadius());this.__radius=this.view._getRadius()+r*o,this.__innerRadius=this.view._getInnerRadius()-r*o}this.__startAngle=this.view._getStartAngle(),this.__sweepAngle=this.view._getSweep(),this.__innerRadius<0&&(this.__innerRadius=0);var l=this.view._getCenter().x,a=this.view._getCenter().y,s=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius;this.__path=t._AnimationPathUtility._buildDonutSegmentRingWithBorderRadius(l,a,this.view._getRadius(),this.view._getInnerRadius(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweepAngle,s)},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._StyleUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},n}(t._RippleEffectViewAnimationAction);t._BarRadialPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._BarRadialPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._BarRadialPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__funnelPolygon=this.view._getFunnelPolygon().clone(),this.__path=t._AnimationPathUtility._buildFunnelRingWithBorderRadius(this.view._getFunnelPolygon(),this.__funnelPolygon)},n.prototype._xor=function(t,e){return t!=e},n.prototype._updateFunnelPolygon=function(t,e,n,i,o,r,l,a,s,u,_,p,c){return t.leftTop.x+=e,t.leftNeck.x+=i,t.leftBottom.x+=r,t.leftTop.y+=n,t.leftNeck.y+=o,t.leftBottom.y+=l,t.rightTop.x+=a,t.rightNeck.x+=u,t.rightBottom.x+=p,t.rightTop.y+=s,t.rightNeck.y+=_,t.rightBottom.y+=c,t},n.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._getFunnelPolygon().clone(),o=!this.view._isPositive(),r=this.view._isBaseLinePoint(),l=Math.max(i.bottomWidth(),i.topWidth()),a=0;this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?a=.5*n*this._rippleEffectDefinition().scale.value:this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(a=.5*l*n*(this._rippleEffectDefinition().scale.value-1)),0==i.bottomWidth()?this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,r?a:0,-a,-a,-a,-a,r?0:a,r?-a:0):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,a,-a,-a,-a,-a,r?0:a,-a):i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,r?a:0,a,-a,a,-a,r?0:-a,r?-a:0):this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,a,a,-a,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?i.leftNeck.y==i.leftBottom.y?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,r?-a:0,r?0:-a,r?-a:0,r?0:-a,a,a,r?a:0,r?0:a,r?a:0,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,-a,r?0:-a,a,a,a,a,a,r?0:-a):i.leftNeck.y==i.leftBottom.y?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,r?-a:0,r?0:a,r?-a:0,r?0:a,a,-a,r?a:0,r?0:a,r?a:0,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,-a,-a,-a,r?0:a,a,-a,a,-a,a,r?0:a):0==i.topWidth()?this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,0,-a,0,r?0:a,a,-a,0,-a,0,r?0:a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,0,-a,a,r?0:a,a,-a,0,-a,-a,r?0:a,-a):i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,a,0,a,0,r?0:-a,a,a,0,a,0,r?0:-a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,a,0,a,a,r?0:-a,a,a,0,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?i.leftNeck.y==i.leftTop.y?this.__funnelPolygon=this._updateFunnelPolygon(i,0,a,0,a,-a,r?0:-a,0,a,0,a,a,r?0:-a):this.__funnelPolygon=this._updateFunnelPolygon(i,0,a,-a,a,-a,r?0:-a,0,a,a,a,a,r?0:-a):i.leftNeck.y==i.leftTop.y?this.__funnelPolygon=this._updateFunnelPolygon(i,0,-a,0,-a,-a,r?0:a,0,-a,0,-a,a,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,0,-a,-a,-a,-a,r?0:a,0,-a,a,-a,a,r?0:a):this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,a,-a,-a,-a,-a,r?0:a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,a,a,-a,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,-a,r?0:-a,a,a,a,a,a,r?0:-a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,-a,-a,-a,r?0:a,a,-a,a,-a,a,r?0:a),this.__path=t._AnimationPathUtility._buildFunnelRingWithBorderRadius(this.view._getFunnelPolygon(),this.__funnelPolygon)},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._StyleUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},n}(t._RippleEffectViewAnimationAction);t._FunnelPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._FunnelPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._FunnelPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return e.showSymbol()?new t._SymbolPointRippleEffectViewAnimationAction(e,n,i):null},n}(t._PointViewRippleEffectAnimationBuilder);t._SymbolPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineFlow",this.type=t._BuildInSeriesEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlowEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flow&&e instanceof t._LineCartesianSeriesView)return new t._SeriesViewFlowEffectAnimationDefinition(e,i,new t._LineSeriesViewFlowEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineFlowAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(n,i,o){var r=e.call(this,n,i)||this;return r.__effectDefinition=o,r.__pathAnimationAction=new t._PathAnimationAction(r.__effectDefinition),r.__trailSymbols=[],r.__currentSymbol=null,r}return i(n,e),n.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1,this.__currentSymbol=null},n.prototype._onStart=function(){e.prototype._onStart.call(this);var t=this.view._getCartesianGroupView()._getCartesianPlotView()._plotsView().queryInterface("IDisplayablePipeLine");null!=t&&t._push(this)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this.view._getCartesianGroupView()._getCartesianPlotView()._plotsView().queryInterface("IDisplayablePipeLine");null!=t&&t._delete(this),this._restart()},n.prototype.flushables=function(){var t=this.view._getCartesianGroupView()._getCartesianPlotView()._plotsView().queryInterface("IFlushable");return null!=t?[t]:e.prototype.flushables.call(this)},n.prototype._contains=function(t){return!1},n.prototype._cutOff=function(){return!1},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t);var n=this.view._getCartesianGroupView()._getCartesianPlotView()._getDefinition();null!=this.__currentSymbol&&(this.__trailSymbols.length>this.__effectDefinition.symbolTrail&&this.__trailSymbols.shift(),null==this.__currentSymbol.style.fillOpacity&&(this.__currentSymbol.style.fillOpacity=1),null==this.__currentSymbol.style.strokeOpacity&&(this.__currentSymbol.style.strokeOpacity=1),this.__trailSymbols.push(this.__currentSymbol));for(var i=[],o=0,r=this.view._getSeriesShapes().map((function(t){return t.clone()}));o<r.length;o++){var l=r[o];i.push.apply(i,l._points())}this.__pathAnimationAction._applyTransformation(t,i),this.__currentSymbol=this.__pathAnimationAction._getSymbol(n._symbolDefinitionProviders())},n.prototype._draw=function(t,e){var n=this.view;if(null!=n&&n._isVisible()){t.beginTransform();for(var i=0;i<this.__trailSymbols.length;i++){var o=this.__trailSymbols[i],r=Math.min(i/this.__trailSymbols.length/2+.1,1);o.style.fillOpacity=r,o.style.strokeOpacity=r,o.render(t,e)}null!=this.__currentSymbol&&this.__currentSymbol.render(t,e),t.restoreTransform()}},n}(t._ViewAnimationAction);t._LineSeriesViewFlowEffectAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l=this._createAnimationAction(e,r,o);return new t._FrameAnimation(n,[l],i,o.iterations,n.startDelay+n.duration+n.endDelay)}return null},e.prototype._createAnimationAction=function(e,n,i){return new t._LineSeriesViewFlowEffectAnimationAction(e,n,i)},e}();t._LineSeriesViewFlowEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._LineCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._LinePlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t,e,n,i,o){this.shape=t,this.points=e,this.centers=n,this.indexs=i,this.swapAxes=o}return e.prototype._onCreate=function(){for(var t=0,e=this.points;t<e.length;t++)e[t]._visible=!1},e.prototype._onStart=function(){for(var t=0,e=this.points;t<e.length;t++){var n=e[t];n._visible=!0,n._scale=0}},e.prototype._onEnd=function(){for(var t=0;t<this.points.length;++t){var e=this.points[t];this._translateTo(e._rectangle(),this.centers[t]),e._scale=1,e._visible=!0}},e.prototype._copyPointsInLine=function(t){return t._points().map((function(t){return t.clone()}))},e.prototype._translateTo=function(t,e){t.left=e.x-t.width/2,t.top=e.y-t.height/2},e.prototype._getAnimationShape=function(e,n){var i,o=this._copyPointsInLine(this.shape);i=this.swapAxes?n?Math.max.apply(Math,o.map((function(t){return t.x}))):Math.min.apply(Math,o.map((function(t){return t.x}))):n?Math.min.apply(Math,o.map((function(t){return t.y}))):Math.max.apply(Math,o.map((function(t){return t.y})));for(var r=0,l=o;r<l.length;r++){var a=l[r];this.swapAxes?a.x=(i-a.x)*(1-e)+a.x:a.y=(i-a.y)*(1-e)+a.y}var s=this.points.length;e<0&&(e=0);for(var u=0;u<s;++u){var _=this.points[u];this._translateTo(_._rectangle(),o[this.indexs[u]]),_._scale=e}return new t._PolylineShape(o)},e._equal=function(t,e){return Math.abs(t-e)<.001},e._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},e._build=function(t,e){if(null==t)return null;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=this._from(r.shape,r.views,e);null!=l&&(n.push(l),l._onCreate())}return n},e._from=function(t,n,i){if(null==t||null==n)return null;for(var o=[],r=[],l=t._points(),a=0,s=l.length,u=[],_=0,p=n;_<p.length;_++){var c=p[_];if(c)for(var h=c._rectangle().center;a<s;){if(this._equalsWith(h,l[a])){r.push(a),u.push(c),o.push(h),++a;break}++a}}return u.length==r.length&&u.length>0?new e(t,u,o,r,i):null},e}();t._LineLoadingAnimationGroupClip=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){this.shape=t,this.points=e,this.indexs=n,this.staggering=i}return e.prototype._onCreate=function(t,e){this.staggering?this.duration=2/(e+1):this.duration=1/e,this.startTimes=[];for(var n=0,i=this.points.length;n<i;++n){this.points[n]._visible=!1;var o=t+n;this.staggering?this.startTimes.push(o/(e+1)):this.startTimes.push(o/e)}},e.prototype._onEnd=function(){for(var t=0,e=this.points;t<e.length;t++){var n=e[t];n._visible=!0,n._scale=1}},e.prototype._copyPointsInLine=function(t){return t._points().map((function(t){return t.clone()}))},e.prototype._getAnimationShape=function(e){for(var n=this._copyPointsInLine(this.shape),i=!0,o=this.points.length,r=0;r<o;++r){var l=this.points[r],a=this.startTimes[r];if(e<a){if(i){if(0==r)n=[];else{var s=this.startTimes[r-1],u=this.indexs[r-1],_=this.indexs[r],p=(e-s)/(a-s),c=this._lerpPointWithIndex(n,u,_,p),h=Math.floor((_-u)*p)+u+1;n.splice(h),n.push(c)}i=!1}l._visible=!1}else{l._visible=!0;var f=(e-a)/this.duration;(f=.9*f+.1)>1&&(f=1),l._scale=f}}return new t._PolylineShape(n)},e.prototype._lerpPointWithIndex=function(t,e,n,i){var o=e+(n-e)*i;return this._lerpPoint(t[Math.floor(o)],t[Math.ceil(o)],i)},e.prototype._lerpPoint=function(t,e,n){var i=t.clone();return i.x+=(e.x-t.x)*n,i.y+=(e.y-t.y)*n,i},e._equal=function(t,e){return Math.abs(t-e)<.001},e._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},e._build=function(t,e){if(null==t)return null;for(var n=[],i=0,o=0,r=t;o<r.length;o++){var l=r[o];null!=(_=this._from(l.shape,l.views,e))&&(n.push(_),i+=_.points.length)}for(var a=0,s=0,u=n;s<u.length;s++){var _;(_=u[s])._onCreate(a,i),a+=_.points.length}return n},e._from=function(t,n,i){if(null==t||null==n)return null;for(var o=[],r=t._points(),l=0,a=r.length,s=[],u=0,_=n;u<_.length;u++){var p=_[u];if(p)for(var c=p._rectangle().center;l<a;){if(this._equalsWith(c,r[l])){o.push(l),s.push(p),++l;break}++l}}return s.length==o.length&&s.length>0?new e(t,s,o,i):null},e}();t._LineLoadingAnimationPointClip=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=e._calculateSeriesViewCount(),l=0,a=0,s=e._getCartesianGroupViews();a<s.length;a++)for(var u=0,_=s[a]._getCartesianSeriesViews();u<_.length;u++){var p=_[u];if(p instanceof t._LineCartesianSeriesView){if(null==p._getSeriesShapes())continue;var c=p._getCartesianSeriesDataModel()._symbols(),h=p._getCartesianGroupView()._yAxisView()._scaleModel._getReversed(),f=null;if(c)n.mode===t.AnimationMode.Point?(f=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),y=new t._LineSeriesShapePointClipTransitionViewAnimationAction(p,f,n.staggering),o.push(y)):n.mode===t.AnimationMode.Group?((f=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay,y=new t._LineSeriesShapeGroupClipTransitionViewAnimationAction(p,f,e._swapAxes(),h),o.push(y)):(f=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),y=new t._LineSeriesShapeGroupClipTransitionViewAnimationAction(p,f,e._swapAxes(),h),o.push(y));else{var d=null;n.mode===t.AnimationMode.Group?(d=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay:d=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var y=new t._LineSeriesShapeTransitionViewAnimationAction(p,d,e._swapAxes(),n.mode);o.push(y)}}l++}return new t._FrameAnimation(n,o,i)},e}();t._LinePlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n)||this;return r.__shapes=t._getSeriesShapes().map((function(t){return t.clone()})),r.__swapAxes=i,r.__yReversed=o,r}return i(n,e),n.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this.__shapes.length,o=this._getRelativePointViews(this.view);if(o.length==i){var r=o.map((function(t,e){return{shape:n.__shapes[e],views:t}})),l=t._LineLoadingAnimationGroupClip._build(r,this.__swapAxes).filter((function(t){return null!=t}));this.__clips=l}},n.prototype._onStart=function(){if(e.prototype._onStart.call(this),this.__clips)for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onStart()},n.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onEnd();this.view._setSeriesShapes(this.__shapes),this.__clips=null}},n.prototype._applyScale=function(t){var e=this;this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(n){return n._getAnimationShape(t,e.__yReversed)})))},n.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},n}(t._TransitionViewAnimationAction);t._LineSeriesShapeGroupClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__staggering=i,o.__shapes=t._getSeriesShapes().map((function(t){return t.clone()})),o}return i(n,e),n.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this.__shapes.length,o=this._getRelativePointViews(this.view);if(o.length==i){var r=o.map((function(t,e){return{shape:n.__shapes[e],views:t}})),l=t._LineLoadingAnimationPointClip._build(r,this.__staggering);this.__clips=l}},n.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onEnd();this.view._setSeriesShapes(this.__shapes),this.__clips=null}},n.prototype._applyScale=function(t){this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(e){return e._getAnimationShape(t)})))},n.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},n}(t._TransitionViewAnimationAction);t._LineSeriesShapePointClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n)||this;return r.__shapes=r.view._getSeriesShapes().map((function(t){return t.clone()})),r.__swapAxes=i,r.__mode=o,r}return i(n,e),n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setSeriesShapes(this.__shapes)},n.prototype._applyScale=function(e){var n=this,i=this.__shapes.map((function(t){return t.clone()}));i.forEach((function(i){if(n.__mode===t.AnimationMode.All||n.__mode===t.AnimationMode.Group){var o=n.__swapAxes?Math.min.apply(Math,i._points().map((function(t){return t.x}))):Math.max.apply(Math,i._points().map((function(t){return t.y})));i._points().forEach((function(t){n.__swapAxes?t.x=(o-t.x)*(1-e)+t.x:t.y=(o-t.y)*(1-e)+t.y}))}else{var r=Math.floor(e*i._points().length);if(r>0&&r<i._points().length){var l=e*i._points().length-r,a=i._points()[r-1],s=i._points()[r];s.x=a.x+l*(s.x-a.x),s.y=a.y+l*(s.y-a.y),i._points().splice(r),i._points().push(s)}else i._points().splice(r)}})),this.view._setSeriesShapes(i)},n}(t._TransitionViewAnimationAction);t._LineSeriesShapeTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._LineCartesianPlotDefinition){var r=new t._LinePlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createSeriesUpdateAnimationAction=function(n,i,o,r){if(n instanceof t._LineCartesianSeriesView&&i instanceof t._LineCartesianSeriesView&&o instanceof t._LineCartesianSeriesView){var l=t._LineSeriesAnimationShapeBuilder.createAnimationShapeBuilders(n,i);if(l.length>0)return new t._LineSeriesUpdateViewAnimationAction(n,i,o,r,l)}return e.prototype._createSeriesUpdateAnimationAction.call(this,n,i,o,r)},n.prototype._cloneSeriesView=function(n){if(n instanceof t._LineCartesianSeriesView){var i=new t._LineCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._cloneSeriesView.call(this,n)},n}(t._SymbolCartesianPlotViewUpdateAnimationBuilder);t._LinePlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===n&&(n=null),this.__shape=new t._PolylineShape(e),this.__data=n}return e.prototype._data=function(){return this.__data},e.prototype._shape=function(){return this.__shape},e}(),n=function(){function n(t,e){this.__fromPoints=t,this.__toPoints=e}return n.prototype.getLineShape=function(e){var n=this,i=this.__toPoints.map((function(t){return null!=t?t.clone():null}));return new t._PolylineShape(i.map((function(t,i){if(i<n.__fromPoints.length){var o=(t.x-n.__fromPoints[i].x)*e,r=(t.y-n.__fromPoints[i].y)*e;t.x=n.__fromPoints[i].x+o,t.y=n.__fromPoints[i].y+r}return t})))},n._createAnimationShapeBuildersWithAnimationInfo=function(e,i){var o=[],r=function(t,e){return null!=t&&null!=e&&t.value==e.value&&t.dimension==e.dimension};return i.forEach((function(i){for(var l=null,a=0;a<e.length;a++){var s=e[a],u=t._Util.findMaxSameArrayOf(s._data(),i._data(),r);if(null!=u){for(var _=[],p=[],c=0;c<s._shape()._points().length;c++)c<u.arrayStart&&(_.push(s._shape()._points()[c]),p.push(i._shape()._points()[u.otherStart]));for(c=0;c<i._shape()._points().length;c++)c<u.otherStart&&(_.push(s._shape()._points()[u.arrayStart]),p.push(i._shape()._points()[c]));for(c=0;c<s._shape()._points().length;c++)c>=u.arrayStart&&c<=u.arrayEnd&&_.push(s._shape()._points()[c]);for(c=0;c<i._shape()._points().length;c++)c>=u.otherStart&&c<=u.otherEnd&&p.push(i._shape()._points()[c]);for(c=0;c<i._shape()._points().length;c++)c>u.otherEnd&&(_.push(s._shape()._points()[u.arrayEnd]),p.push(i._shape()._points()[c]));for(c=0;c<s._shape()._points().length;c++)c>u.arrayEnd&&(_.push(s._shape()._points()[c]),p.push(i._shape()._points()[u.otherEnd]));l=new n(_,p),o.push(l);break}}null==l&&(l=new n([],i._shape().points),o.push(l))})),o},n._createLineSeriesShapeAnimationInfos=function(t){if(null==t||t._getSeriesShapes().length<=0)return[];for(var n=t._getShapePointViews(),i=[],o=t._getSeriesShapes(),r=0;r<o.length;r++)null!=n[r]&&i.push(new e(o[r]._points(),n[r]));return i},n.createAnimationShapeBuilders=function(t,e){var n=this._createLineSeriesShapeAnimationInfos(t),i=this._createLineSeriesShapeAnimationInfos(e),o=!1;if(n.length==i.length){o=!0;for(var r=0;r<n.length;r++){var l=n[r],a=i[r];if(!l._shape().equalsWith(a._shape())){o=!1;break}}}var s=[];return o||(s=this._createAnimationShapeBuildersWithAnimationInfo(n,i)),s},n}();t._LineSeriesAnimationShapeBuilder=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,e,n,o)||this;return l.__cache=i,l.__animationShapeBuilders=r,l.__shapes=e._getSeriesShapes().map((function(t){return t.clone()})),l}return i(e,t),e.prototype._onPending=function(){t.prototype._onPending.call(this);var e=this.view.queryInterface("IDisplayablePipeLine");null!=e&&(e._unshift(this),this.__pipeline=e)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.__cache._setSeriesShapes(this.__shapes),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this.__shapes=e>=1?this.view._getSeriesShapes().map((function(t){return t.clone()})):this.__animationShapeBuilders.map((function(t){return t.getLineShape(e)}))},e.prototype._draw=function(t,e){this.view._renderLineShapes(t,e,this.__shapes)},e.prototype._contains=function(t){var e=!0;return this.__shapes.forEach((function(n){n.contains(t)||(e=!1)})),e},e.prototype._cutOff=function(){return!0},e}(t._ViewTransitionViewAnimationAction);t._LineSeriesUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n){return new t._SymbolPointScaleTransitionViewAnimationAction(e,n,0,1,!1)},n}(t._CartesianPlotViewLoadingAnimationBuilder);t._ScatterPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){void 0===i&&(i=0),void 0===o&&(o=1),void 0===r&&(r=!0);var l=e.call(this,t,n,i,o)||this;return l.__rect=t._rectangle().clone(),l.__fillAfter=r,l}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this),this.__currentTo=this._from},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__fillAfter||(this.view._scale=this._to,null!=this.__rect&&t._isRectangleViewUpdater(this.view)&&this.view._update(this.__rect.clone()))},n.prototype._applyScale=function(t){e.prototype._applyScale.call(this,t),this.__currentTo=t,this.view._scale=t},n.prototype.reverse=function(){var e=new t._ActionTiming(this.timing.ease,0,0,this.timing.duration);return new n(this.view,e,this.__currentTo,this._from,!1)},n}(t._TransitionViewAnimationAction);t._SymbolPointScaleTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._ScatterCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._ScatterPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t._SymbolCartesianPlotViewUpdateAnimationBuilder);t._ScatterPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._ScatterCartesianPlotDefinition){var r=new t._ScatterPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=0,l=e._getPointViews();r<l.length;r++){var a=l[r],s=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),u=this._createAnimationAction(a,s);o.push(u)}return new t._FrameAnimation(n,o,i)},e.prototype._createAnimationAction=function(e,n){return new t._TextPointContentTransitionViewAnimationAction(e,n)},e}();t._TextPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i){void 0===i&&(i=0);var o=e.call(this,t,n)||this;return o.__fromNumber=i,o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.__textNumber=this.view._textContent().number,this._applyTransformation(0)},n.prototype._onStart=function(){e.prototype._onStart.call(this),this.view._textContent().number=this.__fromNumber},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._textContent().number=this.__textNumber},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this.view._textContent().number=t._LerpUtil.lerpNumber(this.__fromNumber,this.__textNumber,n)},n}(t._TransitionViewAnimationAction);t._TextPointContentTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._TextCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._TextPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createUpdateAnimationAction=function(e,n,i,o){if(e instanceof t._TextCartesianPointView&&n instanceof t._TextCartesianPointView&&i instanceof t._TextCartesianPointView){var r=e._textContent(),l=n._textContent();if(r instanceof t._TextNumbericContent&&l instanceof t._TextNumbericContent)return new t._TextPointContentUpdateViewAnimationAction(e,n,i,o)}return null},n.prototype._getAnimatableViews=function(t){return t._visualViews},n.prototype._cloneAnimatableView=function(t){return t._clone()},n}(t._PlotViewUpdateAnimationBuilder);t._TextPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__fromNumber=t._textContent().number,r.__toNumber=r.view._textContent().number,r.__fromNumber==r.__toNumber&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this),this.view._textContent().number=this.__fromNumber},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._textContent().number=this.__toNumber},n.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n),this.view._textContent().number=t._LerpUtil.lerpNumber(this.__fromNumber,this.__toNumber,n)},n}(t._ViewTransitionViewAnimationAction);t._TextPointContentUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._TextCartesianPlotDefinition){var r=new t._TextPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__originRect=null,l}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._StockPointView&&(this.__originRect=i._rectangle().clone())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height):(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n))},n}(t._PointViewScaleAnimationAction);t._StockPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__fromTopLineStart=null!=t._getTopLineStart()?t._getTopLineStart().clone():null,r.__fromTopLineEnd=null!=t._getTopLineEnd()?t._getTopLineEnd().clone():null,r.__fromBottomLineStart=null!=t._getBottomLineStart()?t._getBottomLineStart().clone():null,r.__fromBottomLineEnd=null!=t._getBottomLineEnd()?t._getBottomLineEnd().clone():null,r.__fromRect=t._rectangle().clone(),r.__topLineStart=null!=t._getTopLineStart()?t._getTopLineStart().clone():null,r.__topLineEnd=null!=t._getTopLineEnd()?t._getTopLineEnd().clone():null,r.__bottomLineStart=null!=t._getBottomLineStart()?t._getBottomLineStart().clone():null,r.__bottomLineEnd=null!=t._getBottomLineEnd()?t._getBottomLineEnd().clone():null,r.__rect=t._rectangle().clone(),r.__toTopLineStart=null!=n._getTopLineStart()?n._getTopLineStart().clone():null,r.__toTopLineEnd=null!=n._getTopLineEnd()?n._getTopLineEnd().clone():null,r.__toBottomLineStart=null!=n._getBottomLineStart()?n._getBottomLineStart().clone():null,r.__toBottomLineEnd=null!=n._getBottomLineEnd()?n._getBottomLineEnd().clone():null,r.__toRect=n._rectangle().clone(),r.__fromTopLineStart&&r.__fromTopLineStart.equalsWith(r.__toTopLineStart)&&r.__fromTopLineEnd&&r.__fromTopLineEnd.equalsWith(r.__toTopLineEnd)&&r.__fromBottomLineStart&&r.__fromBottomLineStart.equalsWith(r.__toBottomLineStart)&&r.__fromBottomLineEnd&&r.__fromBottomLineEnd.equalsWith(r.__toBottomLineEnd)&&r.__fromRect.equalsWith(r.__toRect)&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache instanceof t._CandlestickPointView&&(this.__cache._setTopLineStart(this.__topLineStart),this.__cache._setTopLineEnd(this.__topLineEnd),this.__cache._setBottomLineStart(this.__bottomLineStart),this.__cache._setBottomLineEnd(this.__bottomLineEnd),this.__cache._updateRectangle(this.__rect.clone())),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){if(null!=this.__topLineStart&&null!=this.__topLineEnd){var n=(this.__toTopLineStart.x-this.__fromTopLineStart.x)*e,i=(this.__toTopLineStart.y-this.__fromTopLineStart.y)*e,o=(this.__toTopLineEnd.x-this.__fromTopLineEnd.x)*e,r=(this.__toTopLineEnd.y-this.__fromTopLineEnd.y)*e;this.__topLineStart=new t.core.Point(this.__fromTopLineStart.x+n,this.__fromTopLineStart.y+i),this.__topLineEnd=new t.core.Point(this.__fromTopLineEnd.x+o,this.__fromTopLineEnd.y+r)}if(null!=this.__bottomLineStart&&null!=this.__bottomLineEnd){var l=(this.__toBottomLineStart.x-this.__fromBottomLineStart.x)*e,a=(this.__toBottomLineStart.y-this.__fromBottomLineStart.y)*e,s=(this.__toBottomLineEnd.x-this.__fromBottomLineEnd.x)*e,u=(this.__toBottomLineEnd.y-this.__fromBottomLineEnd.y)*e;this.__bottomLineStart=new t.core.Point(this.__fromBottomLineStart.x+l,this.__fromBottomLineStart.y+a),this.__bottomLineEnd=new t.core.Point(this.__fromBottomLineEnd.x+s,this.__fromBottomLineEnd.y+u)}var _=(this.__toRect.left-this.__fromRect.left)*e,p=(this.__toRect.top-this.__fromRect.top)*e,c=(this.__toRect.width-this.__fromRect.width)*e,h=(this.__toRect.height-this.__fromRect.height)*e;this.__rect=new t.core.Rect(this.__fromRect.left+_,this.__fromRect.top+p,this.__fromRect.width+c,this.__fromRect.height+h)},n.prototype._draw=function(t,e){null!=this.__topLineStart&&null!=this.__topLineEnd&&(this.__topLineStart.equalsWith(this.__topLineEnd)?this.__topLineStart.y!=this.__rect.top&&t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEnd.x,this.__topLineEnd.y+1):t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEnd.x,this.__topLineEnd.y)),null!=this.__bottomLineStart&&null!=this.__bottomLineEnd&&(this.__bottomLineStart.equalsWith(this.__bottomLineEnd)?this.__bottomLineStart.y!=this.__rect.bottom&&t.drawLine(this.__bottomLineStart.x,this.__bottomLineStart.y,this.__bottomLineEnd.x,this.__bottomLineEnd.y+1):t.drawLine(this.__bottomLineStart.x,this.__bottomLineStart.y,this.__bottomLineEnd.x,this.__bottomLineEnd.y)),0!=this.__rect.height?t.drawRect(this.__rect.left,this.__rect.top,this.__rect.width,this.__rect.height):t.drawLine(this.__rect.left,this.__rect.top,this.__rect.left+this.__rect.width,this.__rect.top)},n.prototype._contains=function(e){var n=[],i=[];null!=this.__topLineStart&&null!=this.__topLineEnd&&(n.push(this.__topLineStart.y,this.__topLineEnd.y),i.push(this.__topLineStart.y,this.__topLineEnd.y)),null!=this.__bottomLineStart&&null!=this.__bottomLineEnd&&(n.push(this.__bottomLineStart.y,this.__bottomLineEnd.y),i.push(this.__bottomLineStart.y,this.__bottomLineEnd.y)),0!=this.__rect.left&&0!=this.__rect.top&&0!=this.__rect.width&&0!=this.__rect.height&&(n.push(this.__rect.top),i.push(this.__rect.bottom));var o=Math.min.apply(Math,n)-t._CandlestickPointView.__padding,r=Math.max.apply(Math,i)+t._CandlestickPointView.__padding;return 0==this.__rect.left&&0==this.__rect.top&&0==this.__rect.width&&0==this.__rect.height?new t.core.Rect(this.__topLineStart.x-t._CandlestickPointView.__padding,o,2*t._CandlestickPointView.__padding,r-o).contains(e):new t.core.Rect(this.__rect.left,o,this.__rect.width,r-o).contains(e)},n.prototype._cutOff=function(){return!0},n}(t._ViewTransitionViewAnimationAction);t._CandlestickUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__fromHighLowStart=null!=t._highLowStart()?t._highLowStart().clone():null,r.__fromHighLowEnd=null!=t._highLowEnd()?t._highLowEnd().clone():null,r.__fromOpenStart=null!=t._openStart()?t._openStart().clone():null,r.__fromOpenEnd=null!=t._openEnd()?t._openEnd().clone():null,r.__fromCloseStart=null!=t._closeStart()?t._closeStart().clone():null,r.__fromCloseEnd=null!=t._closeEnd()?t._closeEnd().clone():null,r.__highLowStart=null!=t._highLowStart()?t._highLowStart().clone():null,r.__highLowEnd=null!=t._highLowEnd()?t._highLowEnd().clone():null,r.__openStart=null!=t._openStart()?t._openStart().clone():null,r.__openEnd=null!=t._openEnd()?t._openEnd().clone():null,r.__closeStart=null!=t._closeStart()?t._closeStart().clone():null,r.__closeEnd=null!=t._closeEnd()?t._closeEnd().clone():null,r.__toHighLowStart=null!=n._highLowStart()?n._highLowStart().clone():null,r.__toHighLowEnd=null!=n._highLowEnd()?n._highLowEnd().clone():null,r.__toOpenStart=null!=n._openStart()?n._openStart().clone():null,r.__toOpenEnd=null!=n._openEnd()?n._openEnd().clone():null,r.__toCloseStart=null!=n._closeStart()?n._closeStart().clone():null,r.__toCloseEnd=null!=n._closeEnd()?n._closeEnd().clone():null,r.__fromHighLowStart&&r.__fromHighLowStart.equalsWith(r.__toHighLowStart)&&r.__fromHighLowEnd&&r.__fromHighLowEnd.equalsWith(r.__toHighLowEnd)&&r.__fromOpenStart&&r.__fromOpenStart.equalsWith(r.__toOpenStart)&&r.__fromOpenEnd&&r.__fromOpenEnd.equalsWith(r.__toOpenEnd)&&r.__fromCloseStart&&r.__fromCloseStart.equalsWith(r.__toCloseStart)&&r.__fromCloseEnd&&r.__fromCloseEnd.equalsWith(r.__toCloseEnd)&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache instanceof t._HlocPointView&&(this.__cache._setHighLowStart(this.__highLowStart),this.__cache._setHighLowEnd(this.__highLowEnd),this.__cache._setOpenStart(this.__openStart),this.__cache._setOpenEnd(this.__openEnd),this.__cache._setCloseStart(this.__closeStart),this.__cache._setCloseEnd(this.__closeEnd)),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){if(null!=this.__fromHighLowStart&&null!=this.__fromHighLowEnd&&null!=this.__toHighLowStart&&null!=this.__toHighLowEnd){var n=(this.__toHighLowStart.x-this.__fromHighLowStart.x)*e,i=(this.__toHighLowStart.y-this.__fromHighLowStart.y)*e,o=(this.__toHighLowEnd.x-this.__fromHighLowEnd.x)*e,r=(this.__toHighLowEnd.y-this.__fromHighLowEnd.y)*e;this.__highLowStart=new t.core.Point(this.__fromHighLowStart.x+n,this.__fromHighLowStart.y+i),this.__highLowEnd=new t.core.Point(this.__fromHighLowEnd.x+o,this.__fromHighLowEnd.y+r)}if(null!=this.__fromOpenStart&&null!=this.__fromOpenEnd&&null!=this.__toOpenStart&&null!=this.__toOpenEnd){var l=(this.__toOpenStart.x-this.__fromOpenStart.x)*e,a=(this.__toOpenStart.y-this.__fromOpenStart.y)*e,s=(this.__toOpenEnd.x-this.__fromOpenEnd.x)*e,u=(this.__toOpenEnd.y-this.__fromOpenEnd.y)*e;this.__openStart=new t.core.Point(this.__fromOpenStart.x+l,this.__fromOpenStart.y+a),this.__openEnd=new t.core.Point(this.__fromOpenEnd.x+s,this.__fromOpenEnd.y+u)}if(null!=this.__fromCloseStart&&null!=this.__fromCloseEnd&&null!=this.__toCloseStart&&null!=this.__toCloseEnd){var _=(this.__toCloseStart.x-this.__fromCloseStart.x)*e,p=(this.__toCloseStart.y-this.__fromCloseStart.y)*e,c=(this.__toCloseEnd.x-this.__fromCloseEnd.x)*e,h=(this.__toCloseEnd.y-this.__fromCloseEnd.y)*e;this.__closeStart=new t.core.Point(this.__fromCloseStart.x+_,this.__fromCloseStart.y+p),this.__closeEnd=new t.core.Point(this.__fromCloseEnd.x+c,this.__fromCloseEnd.y+h)}},n.prototype._draw=function(t,e){null!=this.__highLowStart&&null!=this.__highLowEnd&&t.drawLine(this.__highLowStart.x,this.__highLowStart.y,this.__highLowEnd.x,this.__highLowEnd.y),null!=this.__openStart&&null!=this.__openEnd&&(this.__openStart.equalsWith(this.__openEnd)||t.drawLine(this.__openStart.x,this.__openStart.y,this.__openEnd.x,this.__openEnd.y)),null!=this.__closeStart&&null!=this.__closeEnd&&(this.__closeStart.equalsWith(this.__closeEnd)||t.drawLine(this.__closeStart.x,this.__closeStart.y,this.__closeEnd.x,this.__closeEnd.y))},n.prototype._contains=function(e){var n=[],i=[];if(null!=this.__highLowStart&&(n.push(this.__highLowStart.x),i.push(this.__highLowStart.y)),null!=this.__highLowEnd&&(n.push(this.__highLowEnd.x),i.push(this.__highLowEnd.y)),null!=this.__openStart&&(n.push(this.__openStart.x),i.push(this.__openStart.y)),null!=this.__openEnd&&(n.push(this.__openEnd.x),i.push(this.__openEnd.y)),null!=this.__closeStart&&(n.push(this.__closeStart.x),i.push(this.__closeStart.y)),null!=this.__closeEnd&&(n.push(this.__closeEnd.x),i.push(this.__closeEnd.y)),n.length>0&&i.length>0)for(var o=new t.core.Rect(Math.min.apply(Math,n),Math.min.apply(Math,i),Math.max.apply(Math,n)-Math.min.apply(Math,n),Math.max.apply(Math,i)-Math.min.apply(Math,i)),r=0,l=[new t.core.Rect(this.__openStart.x,this.__openStart.y-t._HlocPointView.__padding,o.width/2,2*t._HlocPointView.__padding),new t.core.Rect(this.__closeStart.x,this.__closeStart.y-t._HlocPointView.__padding,o.width/2,2*t._HlocPointView.__padding),new t.core.Rect(this.__highLowStart.x-t._HlocPointView.__padding,this.__highLowStart.y-t._HlocPointView.__padding,2*t._HlocPointView.__padding,this.__highLowEnd.y-this.__highLowStart.y+2*t._HlocPointView.__padding)];r<l.length;r++)if(l[r].contains(e))return!0;return!1},n.prototype._cutOff=function(){return!0},n}(t._ViewTransitionViewAnimationAction);t._HlocUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._StockPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._StockPointView){var n=new t._StockPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},n}(t._HighlightAnimationBuilder);t._StockPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._StockPointView){var r=new t._StockPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._StockPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){if(e instanceof t._StockPointView){var n=new t._StockPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},n}(t._HoverAnimationBuilder);t._StockPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._StockPointView){var r=new t._StockPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin)}(t||(t={})),function(t){var e=function(){function e(t){this._plotView=t}return e.prototype._compare=function(t,e){var n=this._rectangle(t),i=this._rectangle(e);return this._plotView._swapAxes()?this._plotView._reversed()?n.bottom<i.bottom?1:n.bottom>i.bottom?-1:n.left<i.left?1:-1:n.top>i.top?1:n.top<i.top?-1:n.left>i.left?1:-1:n.left>i.left?1:n.left<i.left?-1:this._plotView._reversed()?n.bottom>i.bottom?1:-1:n.bottom<i.bottom?1:-1},e.prototype._rectangle=function(e){if(t._isCartesianPointView(e))return e._rectangle();if(e instanceof t._CartesianSeriesView)return e._rectangle();throw new t.RuntimeError(t.ErrorCode.Unknown)},e}(),n=function(){function n(){}return n.prototype.buildAnimation=function(n,i,o){var r=[],l=n._visualViews.filter((function(e){return e instanceof t._BasePointView||e instanceof t._CartesianSeriesView}));if(i.mode===t.AnimationMode.Point){var a=new e(n);l.sort((function(t,e){return a._compare(t,e)}))}var s=l.filter((function(e){return e instanceof t._StockPointView}));n instanceof t.financial._BaseStockPlotView&&n._xAxisView()._scaleModel._getReversed()&&s.reverse();var u=s.length;return s.forEach((function(e,n){if(0!=e._isVisible()&&e instanceof t._StockPointView){var o=null;i.mode===t.AnimationMode.All||i.mode===t.AnimationMode.Group?o=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,i.duration):(o=t._ActionTiming._createTiming(i.easing,n,u,i.duration,i.staggering)).startDelay+=i.startDelay;var l=new t._StockTransitionViewAnimationAction(e,o,e._rectangle());r.push(l)}})),new t._FrameAnimation(i,r,o)},n}();t._StockPlotViewLoadingAnimationBuilder=n}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n)||this;return o.__rect=i.clone(),o}return i(n,e),n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._scale=this._to},n.prototype._applyScale=function(e){var n=this.__rect.clone();t._isRectangleViewUpdater(this.view)&&this.view._update(new t.core.Rect(n.left+(1-e)*n.width/2,n.top+(1-e)*n.height/2,e*n.width,e*n.height))},n}(t._TransitionViewAnimationAction);t._StockTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n&&e instanceof t.financial.models._BaseStockPlotDefinition){var i=t._CastExtension.toAnimationOption(n);return new t._PlotViewLoadingAnimationDefinition(e,i,new t._StockPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildAnimation=function(n,i,o){var r=e.prototype.buildAnimation.call(this,n,i,o);if(null!=r){for(var l=!1,a=0,s=r.actions;a<s.length;a++)if((h=s[a])instanceof t._StockTransitionViewAnimationAction){l=!0;break}if(l)for(var u=new t._ActionTiming(i.easing,i.startDelay+i.duration/3,i.endDelay,2*i.duration/3),_=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,2*i.duration/3),p=0,c=r.actions;p<c.length;p++){var h;(h=c[p])instanceof t._StockTransitionViewAnimationAction?h.timing=u:h.timing=_}}return r},n.prototype._createAppearAnimationAction=function(n,i){return n instanceof t._StockPointView?new t._StockTransitionViewAnimationAction(n,i,n._rectangle()):e.prototype._createAppearAnimationAction.call(this,n,i)},n}(t._CartesianPlotViewUpdateAnimationBuilder);t._StockPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return e instanceof t._CandlestickPointView&&n instanceof t._CandlestickPointView&&i instanceof t._CandlestickPointView?new t._CandlestickUpdateViewAnimationAction(e,n,i,o):null},n.prototype._clonePointView=function(e){var n=new t._CandlestickPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n._setTopLineStart(e._getTopLineStart()),n._setTopLineEnd(e._getTopLineEnd()),n._setBottomLineStart(e._getBottomLineStart()),n._setBottomLineEnd(e._getBottomLineEnd()),n._updateRectangle(e._rectangle().clone()),n},n}(t._StockPlotViewUpdateAnimationBuilder);t._CandlestickPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return e instanceof t._HlocPointView&&n instanceof t._HlocPointView&&i instanceof t._HlocPointView?new t._HlocUpdateViewAnimationAction(e,n,i,o):null},n.prototype._clonePointView=function(e){var n=new t._HlocPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n._setHighLowStart(e._highLowStart()),n._setHighLowEnd(e._highLowEnd()),n._setOpenStart(e._openStart()),n._setOpenEnd(e._openEnd()),n._setCloseStart(e._closeStart()),n._setCloseEnd(e._closeEnd()),n},n}(t._StockPlotViewUpdateAnimationBuilder);t._HlocPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.financial.models._CandlestickPlotDefinition){var r=new t._CandlestickPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}if(e instanceof t.financial.models._HlocPlotDefinition)return r=new t._HlocPlotViewUpdateAnimationBuilder(i),new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this._type===t.AnimationKeyFramesType.Percentage&&(this.view._scale=n)},n}(t._PointViewScaleAnimationAction);t._GraphPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._GraphPointView){var r=new t._GraphPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._GraphPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(t){return t},n}(t._HighlightAnimationBuilder);t._GraphPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._GraphPointView){var r=new t._GraphPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._GraphPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(t){return t},n}(t._HoverAnimationBuilder);t._GraphPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&e instanceof t._GraphPointView)return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._GraphPointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphPointViewFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e)},e}(t._FlickerEffectViewAnimationAction);t._GraphPointFlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._GraphPointFlickerEffectViewAnimationAction(e,n,i)},n}(t._PointViewFlickerEffectAnimationBuilder);t._GraphPointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;(i instanceof t._RadialBarCartesianPointView||i instanceof t._SunburstPointView)&&(this.__originRadius=i._getRadius())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this._type==t.AnimationKeyFramesType.Percentage?this.view._setRadius((this.__originRadius-this.view._getInnerRadius())*n+this.view._getInnerRadius()):this.view._setRadius(this.__originRadius+n)},n}(t._PointViewScaleAnimationAction);t._SunburstPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._onPending=function(){if(e.prototype._onPending.call(this),this.view instanceof t._TreeMapPointView){var i=this.view.queryInterface("IDisplayablePipeLine");if(null!=i){for(var o=0,r=i._filter((function(t){return t instanceof n}));o<r.length;o++){var l=r[o];i._delete(l)}i._unshift(this),this.__pipeline=i}}},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null);var t=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=t&&t.reversed&&1==t.currentScale&&this._cache.set([this.view._getPlotView()._id(),this.view._id()],null)},n.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._TreeMapPointView&&(this.__originRectShape=i._internalShape.clone())}},n.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n);var i=this.view._internalShape.clone();i=this._type==t.AnimationKeyFramesType.Percentage?new t._RectangleShape(i.center.x,i.center.y,this.__originRectShape.size.width*n,this.__originRectShape.size.height*n,i.angle):new t._RectangleShape(i.center.x,i.center.y,this.__originRectShape.size.width+n,this.__originRectShape.size.height+n,i.angle),this.view._internalShape=i},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i instanceof t._TreeMapPointView&&(i.hover||n._hovered&&(this._interrupt(),i._calcShape()),i._drawInternal(e,n,i._rectangle(),!1))},n.prototype._contains=function(t){return null!=this.view&&null!=this.view._internalShape&&this.view._internalShape.contains(t)},n.prototype._cutOff=function(){return!0},n}(t._PointViewScaleAnimationAction);t._TreeMapPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=e._children,r=[],l=o.length,a=0;a<l;a++){var s=o[a];if(0!=s._isVisible()){var u=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),_=this._createAnimationAction(s,u);null!=_&&r.push(_)}}return new t._FrameAnimation(n,r,i)},e}();t._HierarchicalPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HierarchicalFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&t._isHierarchicalPointView(e))return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HierarchicalFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._SunburstPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){return e instanceof t._SunburstPointView?e._clone():null},n}(t._HighlightAnimationBuilder);t._SunburstPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._SunburstPointView){var r=new t._SunburstPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._SunburstPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){return e instanceof t._SunburstPointView?e._clone():null},n}(t._HoverAnimationBuilder);t._SunburstPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._SunburstPointView){var r=new t._SunburstPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n){return new t._SunburstPointTransitionViewAnimationAction(e,n)},n}(t._HierarchicalPlotViewLoadingAnimationBuilder);t._SunburstPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__sweep=i.view._getSweep(),i.__radius=i.view._getRadius(),i}return i(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.view._setSweep(this.__sweep),this.view._setRadius(this.__radius)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this.view._getInnerRadius();this.view._setRadius((this.__radius-n)*e+n),this.view._setSweep(this.__sweep*e)},e}(t._TransitionViewAnimationAction);t._SunburstPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._SunburstPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._SunburstPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._applyTransformation=function(n){if(e.prototype._applyTransformation.call(this,n),this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var i=n*this._rippleEffectDefinition().scale.value;this.__radius=this.view._getRadius()+.5*i,this.__innerRadius=this.view._getInnerRadius()-.5*i}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var o=n*(this._rippleEffectDefinition().scale.value-1),r=.5*(this.view._getRadius()-this.view._getInnerRadius());this.__radius=this.view._getRadius()+r*o,this.__innerRadius=this.view._getInnerRadius()-r*o}this.__startAngle=this.view._getStartAngle(),this.__sweepAngle=this.view._getSweep(),this.__innerRadius<0&&(this.__innerRadius=0);var l=this.view._getCenter().x,a=this.view._getCenter().y,s=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius;this.__path=t._AnimationPathUtility._buildDonutSegmentRingWithBorderRadius(l,a,this.view._getRadius(),this.view._getInnerRadius(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweepAngle,s)},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._StyleUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},n}(t._RippleEffectViewAnimationAction);t._SunburstPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._SunburstPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._SunburstPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&e instanceof t._SunburstPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._SunburstPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createUpdateAnimationAction=function(e,n,i,o){return e instanceof t._SunburstPointView&&n instanceof t._SunburstPointView&&i instanceof t._SunburstPointView?new t._SunburstPointUpdateViewAnimationAction(e,n,i,o):t._isPointView(e)&&n instanceof t._SunburstPointView&&i instanceof t._SunburstPointView?new t._DisplayablePointViewAnimationAction(e,n,i,o):null},n.prototype._getAnimatableViews=function(t){return t._children},n.prototype._cloneAnimatableView=function(t){return t._clone()},n}(t._PlotViewUpdateAnimationBuilder);t._SunburstPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__center=r.__fromCenter=t._getCenter().clone(),r.__radius=r.__fromRadius=t._getRadius(),r.__innerRadius=r.__fromInnerRadius=t._getInnerRadius(),r.__startAngle=r.__fromStartAngle=t._getStartAngle(),r.__sweep=r.__fromSweep=t._getSweep(),r.__toCenter=n._getCenter().clone(),r.__toRadius=n._getRadius(),r.__toInnerRadius=n._getInnerRadius(),r.__toStartAngle=n._getStartAngle(),r.__toSweep=n._getSweep(),r.__borderRadius=n._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r.__pointScale=n._scale,r.__gradientFillDirection=n._getPlotView()._getDefinition()._plotConfigOption.gradientFillDirection,r.__fromCenter.equalsWith(r.__toCenter)&&r.__fromRadius==r.__toRadius&&r.__fromInnerRadius==r.__toInnerRadius&&r.__fromStartAngle==r.__toStartAngle&&r.__fromSweep==r.__toSweep&&(r.timing=null),r}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._setCenter(this.__center),this.__cache._setStartAngle(this.__toStartAngle),this.__cache._setSweep(this.__toSweep),this.__cache._setInnerRadius(this.__toInnerRadius),this.__cache._setRadius(this.__toRadius),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){var n=(this.__toCenter.x-this.__fromCenter.x)*e,i=(this.__toCenter.y-this.__fromCenter.y)*e,o=(this.__toStartAngle-this.__fromStartAngle)*e,r=(this.__toSweep-this.__fromSweep)*e,l=(this.__toRadius-this.__fromRadius)*e,a=(this.__toInnerRadius-this.__fromInnerRadius)*e;this.__center=new t.core.Point(this.__fromCenter.x+n,this.__fromCenter.y+i),this.__startAngle=this.__fromStartAngle+o,this.__sweep=this.__fromSweep+r,this.__innerRadius=this.__fromInnerRadius+a,this.__radius=this.__fromRadius+l},n.prototype._draw=function(e,n){var i=this.__center.x,o=this.__center.y,r=this.__radius*((this.__pointScale-1)/2+1),l=this.__innerRadius*(1-(this.__pointScale-1)/2),a=this.__startAngle,s=this.__sweep,u=this.__borderRadius,_=t._PathUtility._buildDonutSegmentWithBorderRadius(i,o,r,l,a,s,u),p=this.__gradientFillDirection;if(null!=p&&p!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){e.beginTransform();var c=t._ColorStopUtility._calcColorStopWithRadius(e.fill.colorStops,p==t.GradientFillDirection.InnerRadius?l:0,r),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,r==l&&s>=t._Utility._PI2)e.drawDonut(i,o,r,l,a,s,null);else{var y=null;if(null!=_)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(_);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i,o,r,l,a,s);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i,o,r,r,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i,o,r,l,a,s,null)}e.restoreTransform()}else null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(this.__center.x,this.__center.y,this.__radius*((this.__pointScale-1)/2+1),this.__innerRadius*(1-(this.__pointScale-1)/2),this.__startAngle,this.__sweep,null)},n.prototype._contains=function(t){var e=t.x-this.__center.x,n=t.y-this.__center.y,i=e*e+n*n,o=this.__innerRadius*this.__innerRadius,r=this.__radius*this.__radius;if(i>=o&&i<=r){var l=90*this.__sweep/Math.PI,a=this._clampAngle(180*this.__startAngle/Math.PI+l),s=180*Math.atan2(n,e)/Math.PI,u=this._clampAngle(a-s);if(Math.abs(u)<=l)return!0}return!1},n.prototype._cutOff=function(){return!0},n.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},n}(t._ViewTransitionViewAnimationAction);t._SunburstPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._SunburstPlotDefinition){var r=new t._SunburstPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i,o){return new t._TreeMapPointViewScaleAnimationAction(e,n,i,o,this._cache)},n.prototype._clonePointView=function(e){return e instanceof t._TreeMapPointView?e._clone():null},n}(t._HighlightAnimationBuilder);t._TreeMapPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),t._isTreeMapPointView(e)){var r=new t._TreeMapPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._TreeMapPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},n.prototype._clonePointView=function(e){return e instanceof t._TreeMapPointView?e._clone():null},n}(t._HoverAnimationBuilder);t._TreeMapPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),t._isTreeMapPointView(e)){var r=new t._TreeMapPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.buildAnimation=function(e,n,i){var o=e._getRootPointView(),r=[];if(o)if(n.mode===t.AnimationMode.All){var l=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),a=this._createAnimationAction(o,l);null!=a&&r.push(a)}else r.push.apply(r,this._createAnimationActions(e,o,n));return new t._FrameAnimation(n,r,i)},n.prototype._createAnimationAction=function(e,n){return new t._TreeMapPointTransitionViewAnimationAction(e,n)},n.prototype._createAnimationActions=function(e,n,i){for(var o=this._getAnimateDepth(e._getHierarchicalPlotDataModel()),r=this._traverseCreateAnimationActions(n,o),l=1==i.staggering,a=0,s=r.length;a<s;++a){var u=r[a],_=t._ActionTiming._createTiming(i.easing,a,s,i.duration,l);_.startDelay+=i.startDelay,u.timing=_}return r},n.prototype._traverseCreateAnimationActions=function(t,e){var n=[],i=t._data();if(!t||i._depth()>e)return n;if(t._haveHeader()&&!t._hiddenHeader||i._depth()===e)n.push(this._createAnimationAction(t,null));else for(var o=0,r=t._children;o<r.length;o++){var l=r[o];n.push.apply(n,this._traverseCreateAnimationActions(l,e))}return n},n.prototype._getAnimateDepth=function(e){var n=e._hierarchicalPlotDefinition()._detailDefinition()._dataFieldDefinitions.map((function(t){return t._dataField._name})),i=e._hierarchicalPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(null!=i&&t._isHierarchicalLegendEncodingDefinition(i))for(var o=i._dataFieldDefinitions.map((function(t){return t._dataField._name})),r=0;r<o.length;){var l=o[r],a=n.indexOf(l);if(a>=0)return a+1;r++}return 1},n}(t._HierarchicalPlotViewLoadingAnimationBuilder);t._TreeMapPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n){return e.call(this,t,n)||this}return i(n,e),n.prototype._onStart=function(){e.prototype._onStart.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__shape=this.view._internalShape.clone())},n.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._delete(this),this.view._internalShape=this.__shape.clone())},n.prototype._applyScale=function(e){var n=new t.core.Rect(this.__shape.center.x-.5*this.__shape.size.width,this.__shape.center.y-.5*this.__shape.size.height,this.__shape.size.width,this.__shape.size.height);null!=(n=this._scaleRectangle(e,e,n))&&(this.view._internalShape=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(n))},n.prototype._scaleRectangle=function(t,e,n){if(isNaN(t)||isNaN(e))return null;var i=n;return i.top=i.top+(1-e)*i.height/2,i.height=e*i.height,i.left=i.left+(1-t)*i.width/2,i.width=t*i.width,i},n.prototype._draw=function(t,e){var n=this.view;null!=n&&n._isVisible()&&(n._hover?this._interrupt():e._hovered&&(this._interrupt(),n._calcShape()),n._drawInternal(t,e,n._rectangle()))},n.prototype._contains=function(t){return!1},n.prototype._cutOff=function(){return!0},n}(t._TransitionViewAnimationAction);t._TreeMapPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapLoading",this.type=t._BuildInLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._TreeMapPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._TreeMapPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(n,e),n.prototype._onPending=function(){e.prototype._onPending.call(this);var n=this.view._rectangle().clone();this.__rect=n,this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(n,this.__rect,null)},n.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle().clone(),o=.5*i.width,r=.5*i.height;if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var l=n*this._rippleEffectDefinition().scale.value;this.__rect=new t.core.Rect(i.left-.5*l,i.top-.5*l,i.width+l,i.height+l)}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var a=n*(this._rippleEffectDefinition().scale.value-1);this.__rect=new t.core.Rect(i.left-o*a,i.top-r*a,i.width+2*o*a,i.height+2*r*a)}this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(i,this.__rect,null)},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._StyleUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},n}(t._RippleEffectViewAnimationAction);t._TreeMapPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._TreeMapPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._TreeMapPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&t._isTreeMapPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._TreeMapPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createUpdateAnimationAction=function(e,n,i,o){return e instanceof t._TreeMapPointView&&n instanceof t._TreeMapPointView&&i instanceof t._TreeMapPointView?new t._TreeMapPointUpdateViewAnimationAction(e,n,i,o):null},n.prototype._getAnimatableViews=function(t){return t._children},n.prototype._cloneAnimatableView=function(t){return t._clone()},n}(t._PlotViewUpdateAnimationBuilder);t._TreeMapPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function n(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__cache=i,r.__rect=r.__fromRectangle=t._rectangle().clone(),r.__toRectangle=n._rectangle().clone(),r.__fromRectangle.equalsWith(r.__toRectangle)&&(r.timing=null),r}return i(n,e),n.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._internalShape=this._rectToShape(this.__rect),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},n.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},n.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},n.prototype._calcShape=function(e){var n=this.__fromRectangle.left+(this.__toRectangle.left-this.__fromRectangle.left)*e,i=this.__fromRectangle.top+(this.__toRectangle.top-this.__fromRectangle.top)*e,o=this.__fromRectangle.right+(this.__toRectangle.right-this.__fromRectangle.right)*e,r=this.__fromRectangle.bottom+(this.__toRectangle.bottom-this.__fromRectangle.bottom)*e;this.__rect=new t.core.Rect(n,i,o-n,r-i)},n.prototype._rectToShape=function(e){var n=e.left+.5*e.width,i=e.top+.5*e.height;return new t._RectangleShape(n,i,e.width,e.height,0)},n.prototype._contains=function(t){return!1},n.prototype._cutOff=function(){return!0},n.prototype._draw=function(e,n){var i=this.view;null!=i&&i instanceof t._TreeMapPointView&&i._drawInternal(e,n,this.__rect,!1)},n}(t._ViewTransitionViewAnimationAction);t._TreeMapPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapUpdate",this.type=t._BuildInUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._TreeMapPlotDefinition){var r=new t._TreeMapPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="MapFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker){if(e instanceof t.map._MapPointView)return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._MapPointViewFlickerEffectAnimationBuilder);if(e instanceof t.map._ScatterMapPointView)return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.MapFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this),null!=this.view._shapeView()&&(this.view._shapeView()._externalStyle=null)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e),null!=this.view._shapeView()&&(this.view._shapeView()._externalStyle=this.view._externalStyle)},e}(t._FlickerEffectViewAnimationAction);t._MapPointFlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._MapPointFlickerEffectViewAnimationAction(e,n,i)},n}(t._PointViewFlickerEffectAnimationBuilder);t._MapPointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MapRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&e instanceof t.map._SymbolMapPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._MapSymbolPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.MapRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return i(e,t),e}(t._SymbolPointRippleEffectViewAnimationAction);t._MapSymbolPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype._createAnimationAction=function(e,n,i){return new t._MapSymbolPointRippleEffectViewAnimationAction(e,n,i)},n}(t._PointViewRippleEffectAnimationBuilder);t._MapSymbolPointViewRippleEffectAnimationBuilder=e}(t||(t={})),t})?n.apply(e,i):n)||(t.exports=o)},36960:()=>{}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(91522),e=n.n(t);n(36960);window.GrapeCity||(window.GrapeCity={}),window.GrapeCity.ActiveReports||(window.GrapeCity.ActiveReports={}),window.GrapeCity.ActiveReports.DvChart=e()})()})();